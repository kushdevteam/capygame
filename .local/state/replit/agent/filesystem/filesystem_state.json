{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Save the Capybara Game\n\n## Overview\n\nSave the Capybara is a browser-based tower defense game built with Phaser 3 and React. Players draw protective barriers to shield a capybara from incoming bees across 12 handcrafted levels. The game features a drawing phase where players have limited time and ink to create barriers, followed by a survival phase where they must protect the capybara for 5 seconds. The application integrates Solana wallet connectivity for future reward distribution, allowing players to link their wallet addresses with their game scores.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Game Engine**: Phaser 3 with TypeScript for core game mechanics, physics, and rendering\n- **UI Framework**: React with TypeScript for user interface components and state management\n- **Styling**: TailwindCSS with custom design system using CSS variables and Radix UI components\n- **State Management**: Zustand stores for game state, audio controls, and wallet connectivity\n- **Build Tool**: Vite with custom configuration supporting GLSL shaders and large asset files\n\n### Game Structure\n- **Scene Management**: Three main Phaser scenes (MenuScene, GameScene, GameOverScene) with React overlay components\n- **Level System**: JSON-based level configuration with customizable capybara positions, bee spawn patterns, and ink limits\n- **Drawing Mechanics**: Real-time barrier drawing with ink consumption tracking and collision detection\n- **Physics**: Arcade physics system for bee movement, collision detection, and barrier interactions\n\n### Backend Architecture\n- **Server Framework**: Express.js with TypeScript serving both API endpoints and static assets\n- **Development Setup**: Vite middleware integration for hot module replacement and development serving\n- **API Design**: RESTful endpoints for score submission and leaderboard functionality\n- **Storage**: In-memory storage implementation with interface for future database integration\n\n### Database Design\n- **ORM**: Drizzle ORM configured for PostgreSQL with migration support\n- **Schema**: User table structure defined with Zod validation schemas\n- **Current State**: Database configuration present but not actively used in game logic\n\n### Authentication & User Management\n- **Wallet Integration**: Solana wallet adapter supporting Phantom, Solflare, and Backpack wallets\n- **Session Management**: LocalStorage-based persistence for wallet addresses and game progress\n- **Connection Handling**: React context providers managing wallet state and connectivity\n\n## External Dependencies\n\n### Blockchain Integration\n- **Solana Wallet Adapter**: Complete wallet connectivity suite with React components and hooks\n- **Network Configuration**: Mainnet connection for production wallet linking (no actual transactions)\n- **Supported Wallets**: Phantom, Solflare, and Backpack wallet adapters\n\n### Database & Storage\n- **Database**: PostgreSQL configured through Neon serverless driver\n- **ORM**: Drizzle with TypeScript support and automatic schema validation\n- **Migration System**: Drizzle Kit for database schema management and version control\n\n### UI & Styling\n- **Component Library**: Extensive Radix UI component collection for accessible UI elements\n- **Styling System**: TailwindCSS with custom theme configuration and dark mode support\n- **Icons**: Lucide React for consistent iconography throughout the application\n\n### Game & Media\n- **3D Graphics**: React Three Fiber and Drei for potential 3D elements and post-processing\n- **Asset Handling**: Vite configuration supporting GLTF, GLB, and audio file formats\n- **Audio Support**: MP3, OGG, and WAV format support with muted-by-default audio controls\n\n### Development Tools\n- **Build System**: Vite with custom plugins for runtime error handling and GLSL shader support\n- **Type Safety**: TypeScript configuration with strict mode and comprehensive type checking\n- **Query Management**: TanStack React Query for API state management and caching\n- **Development Server**: Express middleware integration with Vite for seamless development experience","size_bytes":4157},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1))\",\n          \"2\": \"hsl(var(--chart-2))\",\n          \"3\": \"hsl(var(--chart-3))\",\n          \"4\": \"hsl(var(--chart-4))\",\n          \"5\": \"hsl(var(--chart-5))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2787},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path, { dirname } from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { fileURLToPath } from \"url\";\nimport glsl from \"vite-plugin-glsl\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    glsl(), // Add GLSL shader support\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(__dirname, \"shared\"),\n    },\n  },\n  root: path.resolve(__dirname, \"client\"),\n  build: {\n    outDir: path.resolve(__dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  // Add support for large models and audio files\n  assetsInclude: [\"**/*.gltf\", \"**/*.glb\", \"**/*.mp3\", \"**/*.ogg\", \"**/*.wav\"],\n});\n","size_bytes":896},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n// Configure Unity WebGL compression support\napp.use((req, res, next) => {\n  const url = req.url;\n  \n  // Handle Unity WebGL compressed files (both .br and .unityweb)\n  if (url.endsWith('.data.br') || url.endsWith('.data.unityweb')) {\n    res.set('Content-Type', 'application/octet-stream');\n    if (url.endsWith('.br')) {\n      res.set('Content-Encoding', 'br');\n    }\n  } else if (url.endsWith('.js.br') || url.endsWith('.js.unityweb')) {\n    res.set('Content-Type', 'application/javascript');\n    if (url.endsWith('.br')) {\n      res.set('Content-Encoding', 'br');\n    }\n  } else if (url.endsWith('.wasm.br') || url.endsWith('.wasm.unityweb')) {\n    res.set('Content-Type', 'application/wasm');\n    if (url.endsWith('.br')) {\n      res.set('Content-Encoding', 'br');\n    }\n  }\n  \n  // Ensure .unityweb files get proper content types even if not matched above\n  if (url.includes('.unityweb')) {\n    if (url.includes('.data.')) {\n      res.set('Content-Type', 'application/octet-stream');\n    } else if (url.includes('.framework.js.') || url.includes('.js.')) {\n      res.set('Content-Type', 'application/javascript');\n    } else if (url.includes('.wasm.')) {\n      res.set('Content-Type', 'application/wasm');\n    }\n  }\n  \n  next();\n});\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  // Try to start the Telegram bot (will be disabled if token is missing)\n  try {\n    await import(\"./telegram-bot\");\n  } catch (error) {\n    console.log(\"Telegram bot not started - this is normal if no token is provided\");\n  }\n\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5000\n  // this serves both the API and the client\n  const port = 5000;\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":3340},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport crypto from \"crypto\";\nimport { PublicKey } from '@solana/web3.js';\n\nfunction hashPin(pin: string): string {\n  return crypto.createHash('sha256').update(pin).digest('hex');\n}\n\nfunction isValidSolanaAddress(address: string): boolean {\n  // Allow any non-empty string as wallet address for maximum compatibility during development\n  if (!address || typeof address !== 'string') {\n    return false;\n  }\n  \n  // Trim whitespace\n  const trimmedAddress = address.trim();\n  \n  // Just check it's not empty and has reasonable length\n  if (trimmedAddress.length < 1 || trimmedAddress.length > 100) {\n    return false;\n  }\n  \n  // For development: accept any alphanumeric string for maximum compatibility\n  // In production, you might want to restore strict validation: new PublicKey(address)\n  return true;\n}\n\n// Helper function to check achievement criteria\nasync function checkAndAwardAchievements(userId: number): Promise<void> {\n  try {\n    const user = await storage.getUser(userId);\n    if (!user) return;\n\n    const existingAchievements = await storage.getUserAchievements(userId);\n    const achievedTypes = existingAchievements.map(a => a.achievementType);\n\n    // Define achievement criteria\n    const achievements = [\n      {\n        type: \"FIRST_GAME\",\n        name: \"Getting Started\",\n        points: 10,\n        criteria: () => (user.gamesPlayed || 0) >= 1\n      },\n      {\n        type: \"COMPLETE_5_LEVELS\", \n        name: \"Level Master\",\n        points: 50,\n        criteria: () => (user.levelsCompleted || 0) >= 5\n      },\n      {\n        type: \"SCORE_10K\",\n        name: \"High Scorer\", \n        points: 100,\n        criteria: () => (user.totalScore || 0) >= 10000\n      },\n      {\n        type: \"PLAY_10_GAMES\",\n        name: \"Regular Player\",\n        points: 75,\n        criteria: () => (user.gamesPlayed || 0) >= 10\n      },\n      {\n        type: \"REACH_LEVEL_5\",\n        name: \"Progress Master\",\n        points: 50,\n        criteria: () => (user.highestLevel || 1) >= 5\n      }\n    ];\n\n    // Award new achievements\n    for (const achievement of achievements) {\n      if (!achievedTypes.includes(achievement.type) && achievement.criteria()) {\n        await storage.addAchievement({\n          userId,\n          achievementType: achievement.type,\n          achievementName: achievement.name,\n          pointsAwarded: achievement.points\n        });\n      }\n    }\n  } catch (error) {\n    console.error(\"Error checking achievements:\", error);\n  }\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Enhanced user registration with wallet verification\n  app.post(\"/api/register\", async (req, res) => {\n    try {\n      const { walletAddress, username, password, seedPhrase } = req.body;\n      \n      // Accept either 'password' or 'seedPhrase' for compatibility\n      const userPassword = password || seedPhrase;\n      \n      if (!walletAddress || !username || !userPassword) {\n        return res.status(400).json({ error: \"Missing required fields\" });\n      }\n      \n      // Validate password length\n      if (userPassword.length < 6) {\n        return res.status(400).json({ error: \"Password must be at least 6 characters\" });\n      }\n\n      // Enhanced validation for Solana wallet address\n      if (!isValidSolanaAddress(walletAddress)) {\n        return res.status(400).json({ error: \"Invalid Solana wallet address. Please provide a valid SOL wallet.\" });\n      }\n      \n      // Check if wallet address already exists (prevent duplicates)\n      const existingUserByWallet = await storage.getUserByWallet(walletAddress);\n      if (existingUserByWallet) {\n        return res.status(409).json({ error: \"Wallet address already registered. Only one account per wallet address is allowed.\" });\n      }\n      \n      // Check if username already exists\n      const existingUserByUsername = await storage.getUserByUsername(username);\n      if (existingUserByUsername) {\n        return res.status(409).json({ error: \"Username already taken\" });\n      }\n      \n      const hashedPassword = hashPin(userPassword.trim());\n      \n      const user = await storage.createUser({\n        walletAddress,\n        username,\n        pin: hashedPassword\n      });\n      \n      // Award first achievement\n      await checkAndAwardAchievements(user.id);\n      \n      // Return user data (without PIN)\n      const safeUser = {\n        id: user.id,\n        walletAddress: user.walletAddress,\n        username: user.username,\n        totalScore: user.totalScore,\n        levelsCompleted: user.levelsCompleted,\n        achievementPoints: user.achievementPoints\n      };\n      \n      res.json({ success: true, user: safeUser });\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Enhanced user login\n  app.post(\"/api/login\", async (req, res) => {\n    try {\n      const { walletAddress, password } = req.body;\n      \n      if (!walletAddress || !password) {\n        return res.status(400).json({ error: \"Missing wallet address or password\" });\n      }\n      \n      if (!isValidSolanaAddress(walletAddress)) {\n        return res.status(400).json({ error: \"Invalid Solana wallet address\" });\n      }\n      \n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n      \n      const hashedPassword = hashPin(password.trim());\n      if (user.pin !== hashedPassword) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n      \n      // Update last login time\n      await storage.updateUserStats(user.id, { lastLoginAt: new Date() });\n      \n      // Return enhanced user data\n      const safeUser = {\n        id: user.id,\n        walletAddress: user.walletAddress,\n        username: user.username,\n        totalScore: user.totalScore,\n        levelsCompleted: user.levelsCompleted,\n        highestLevel: user.highestLevel,\n        gamesPlayed: user.gamesPlayed,\n        achievementPoints: user.achievementPoints,\n        consecutiveDays: user.consecutiveDays,\n        averageScorePerLevel: user.averageScorePerLevel,\n        isEligibleForRewards: user.isEligibleForRewards\n      };\n      \n      res.json({ success: true, user: safeUser });\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Enhanced score submission with achievement checking\n  app.post(\"/api/submit-score\", async (req, res) => {\n    try {\n      const { walletAddress, level, score, completed, playTimeSeconds } = req.body;\n      \n      if (!walletAddress || typeof level !== 'number' || typeof score !== 'number') {\n        return res.status(400).json({ error: \"Invalid input data\" });\n      }\n      \n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(401).json({ error: \"User not found\" });\n      }\n      \n      const gameScore = await storage.submitScore({\n        userId: user.id,\n        level,\n        score,\n        completed: !!completed,\n        playTimeSeconds: playTimeSeconds || 0\n      });\n      \n      // Check for new achievements\n      await checkAndAwardAchievements(user.id);\n      \n      // Update leaderboards\n      await storage.updateLeaderboards();\n      \n      console.log(\"Score submitted for user:\", user.username, \"Score:\", score, \"Level:\", level);\n      \n      res.json({ success: true, message: \"Score submitted successfully\" });\n    } catch (error) {\n      console.error(\"Score submission error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Enhanced leaderboard with multiple types - now using REAL data!\n  app.get(\"/api/leaderboard\", async (req, res) => {\n    try {\n      // Get real user data sorted by totalScore\n      const allUsers = await storage.getAllUsers();\n      const topUsers = allUsers\n        .filter(user => user.totalScore > 0) // Only users with scores\n        .sort((a, b) => b.totalScore - a.totalScore)\n        .slice(0, 50); // Top 50 users\n      \n      // Format real leaderboard data with actual user scores\n      const formatLeaderboard = (users: any[]) => {\n        return users.map((user, index) => ({\n          username: user.username,\n          score: user.totalScore,\n          walletAddress: user.walletAddress.slice(0, 3) + '...' + user.walletAddress.slice(-3),\n          position: index + 1\n        }));\n      };\n      \n      const realLeaderboard = {\n        daily: formatLeaderboard(topUsers), // In a real app, filter by day\n        weekly: formatLeaderboard(topUsers), // In a real app, filter by week  \n        all_time: formatLeaderboard(topUsers)\n      };\n      \n      res.json(realLeaderboard);\n    } catch (error) {\n      console.error(\"Leaderboard error:\", error);\n      // Return empty leaderboard as fallback\n      res.json({ daily: [], weekly: [], all_time: [] });\n    }\n  });\n\n  // User profile endpoint\n  app.get(\"/api/profile/:walletAddress\", async (req, res) => {\n    try {\n      const { walletAddress } = req.params;\n      \n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      const achievements = await storage.getUserAchievements(user.id);\n      const recentScores = await storage.getUserScores(user.id);\n      \n      const profile = {\n        username: user.username,\n        walletAddress: user.walletAddress,\n        totalScore: user.totalScore,\n        levelsCompleted: user.levelsCompleted,\n        highestLevel: user.highestLevel,\n        gamesPlayed: user.gamesPlayed,\n        achievementPoints: user.achievementPoints,\n        averageScorePerLevel: user.averageScorePerLevel,\n        totalPlayTimeMinutes: user.totalPlayTimeMinutes,\n        consecutiveDays: user.consecutiveDays,\n        isEligibleForRewards: user.isEligibleForRewards,\n        joinedAt: user.createdAt,\n        lastActiveAt: user.lastLoginAt,\n        achievements: achievements.slice(0, 5), // Recent 5 achievements\n        recentScores: recentScores.slice(0, 10) // Recent 10 scores\n      };\n      \n      res.json(profile);\n    } catch (error) {\n      console.error(\"Profile error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Admin endpoint for airdrop data export\n  app.get(\"/api/admin/airdrop-data\", async (req, res) => {\n    try {\n      // In production, add authentication middleware here\n      const airdropData = await storage.getAirdropData();\n      \n      res.setHeader('Content-Type', 'application/json');\n      res.setHeader('Content-Disposition', 'attachment; filename=\"airdrop-eligible-users.json\"');\n      res.json({\n        exportedAt: new Date().toISOString(),\n        totalEligibleUsers: airdropData.length,\n        users: airdropData\n      });\n    } catch (error) {\n      console.error(\"Airdrop data export error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // User achievements endpoint  \n  app.get(\"/api/achievements/:walletAddress\", async (req, res) => {\n    try {\n      const { walletAddress } = req.params;\n      \n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      const achievements = await storage.getUserAchievements(user.id);\n      res.json(achievements);\n    } catch (error) {\n      console.error(\"Achievements error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Session tracking endpoints\n  app.post(\"/api/session/start\", async (req, res) => {\n    try {\n      const { walletAddress } = req.body;\n      \n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      const session = await storage.createSession({\n        userId: user.id,\n        totalPlayTimeMinutes: 0,\n        levelsPlayed: 0\n      });\n      \n      res.json({ success: true, sessionId: session.id });\n    } catch (error) {\n      console.error(\"Session start error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}","size_bytes":12497},"server/storage.ts":{"content":"import { neon } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-http';\nimport { eq, desc, sql, and } from 'drizzle-orm';\nimport { \n  users, \n  gameScores, \n  gameSessions, \n  userAchievements, \n  leaderboards,\n  type User, \n  type InsertUser,\n  type GameScore,\n  type InsertScore,\n  type GameSession,\n  type InsertSession,\n  type UserAchievement,\n  type InsertAchievement\n} from \"../shared/schema\";\n\n// Use in-memory storage for better compatibility\nlet neonClient: any = null;\nlet db: any = null;\n\nif (process.env.DATABASE_URL) {\n  try {\n    neonClient = neon(process.env.DATABASE_URL);\n    db = drizzle(neonClient);\n  } catch (error) {\n    console.warn('Database connection failed, using memory storage:', error);\n  }\n}\n\nexport interface IStorage {\n  // User management\n  getUser(id: number): Promise<User | undefined>;\n  getUserByWallet(walletAddress: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: number, updates: Partial<User>): Promise<User | undefined>;\n  updateUserStats(userId: number, stats: Partial<User>): Promise<void>;\n  \n  // Score management\n  submitScore(score: InsertScore): Promise<GameScore>;\n  getUserScores(userId: number): Promise<GameScore[]>;\n  getTopScores(limit?: number): Promise<any[]>;\n  \n  // Session tracking\n  createSession(session: InsertSession): Promise<GameSession>;\n  endSession(sessionId: number, endTime: Date): Promise<void>;\n  getUserSessions(userId: number): Promise<GameSession[]>;\n  \n  // Achievement system\n  addAchievement(achievement: InsertAchievement): Promise<UserAchievement>;\n  getUserAchievements(userId: number): Promise<UserAchievement[]>;\n  \n  // Leaderboards\n  updateLeaderboards(): Promise<void>;\n  getLeaderboard(type: 'daily' | 'weekly' | 'all_time', limit?: number): Promise<any[]>;\n  \n  // Admin data export\n  getAirdropData(): Promise<any[]>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  async getUser(id: number): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getUserByWallet(walletAddress: string): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);\n    return result[0];\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.username, username)).limit(1);\n    return result[0];\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const result = await db.insert(users).values({\n      ...insertUser,\n      lastLoginAt: new Date(),\n      totalScore: 0,\n      levelsCompleted: 0,\n      highestLevel: 1,\n      gamesPlayed: 0,\n      consecutiveDays: 1,\n      totalPlayTimeMinutes: 0,\n      averageScorePerLevel: 0,\n      achievementPoints: 0,\n      isEligibleForRewards: true\n    }).returning();\n    return result[0];\n  }\n\n  async updateUser(id: number, updates: Partial<User>): Promise<User | undefined> {\n    const result = await db.update(users).set(updates).where(eq(users.id, id)).returning();\n    return result[0];\n  }\n\n  async updateUserStats(userId: number, stats: Partial<User>): Promise<void> {\n    await db.update(users).set({\n      ...stats,\n      lastLoginAt: new Date()\n    }).where(eq(users.id, userId));\n  }\n\n  async submitScore(score: InsertScore): Promise<GameScore> {\n    const result = await db.insert(gameScores).values({\n      ...score,\n      timestamp: new Date()\n    }).returning();\n    \n    // Update user statistics\n    await this.recalculateUserStats(score.userId!);\n    \n    return result[0];\n  }\n\n  private async recalculateUserStats(userId: number): Promise<void> {\n    const userScores = await db.select().from(gameScores).where(eq(gameScores.userId, userId));\n    const completedLevels = userScores.filter(s => s.completed).length;\n    const totalScore = userScores.reduce((sum, s) => sum + s.score, 0);\n    const highestLevel = Math.max(...userScores.map(s => s.level), 1);\n    const averageScore = userScores.length > 0 ? totalScore / userScores.length : 0;\n    \n    await db.update(users).set({\n      totalScore,\n      levelsCompleted: completedLevels,\n      highestLevel,\n      gamesPlayed: userScores.length,\n      averageScorePerLevel: averageScore\n    }).where(eq(users.id, userId));\n  }\n\n  async getUserScores(userId: number): Promise<GameScore[]> {\n    return await db.select().from(gameScores).where(eq(gameScores.userId, userId)).orderBy(desc(gameScores.timestamp));\n  }\n\n  async getTopScores(limit = 100): Promise<any[]> {\n    const topScores = await db\n      .select({\n        score: gameScores.score,\n        level: gameScores.level,\n        completed: gameScores.completed,\n        timestamp: gameScores.timestamp,\n        username: users.username,\n        walletAddress: users.walletAddress\n      })\n      .from(gameScores)\n      .innerJoin(users, eq(gameScores.userId, users.id))\n      .orderBy(desc(gameScores.score))\n      .limit(limit);\n    \n    return topScores.map((score, index) => ({\n      rank: index + 1,\n      username: score.username,\n      walletAddress: `${score.walletAddress.slice(0, 4)}...${score.walletAddress.slice(-4)}`,\n      score: score.score,\n      level: score.level,\n      completed: score.completed\n    }));\n  }\n\n  async createSession(session: InsertSession): Promise<GameSession> {\n    const result = await db.insert(gameSessions).values({\n      ...session,\n      startTime: new Date()\n    }).returning();\n    return result[0];\n  }\n\n  async endSession(sessionId: number, endTime: Date): Promise<void> {\n    await db.update(gameSessions).set({ endTime }).where(eq(gameSessions.id, sessionId));\n  }\n\n  async getUserSessions(userId: number): Promise<GameSession[]> {\n    return await db.select().from(gameSessions).where(eq(gameSessions.userId, userId)).orderBy(desc(gameSessions.startTime));\n  }\n\n  async addAchievement(achievement: InsertAchievement): Promise<UserAchievement> {\n    const result = await db.insert(userAchievements).values({\n      ...achievement,\n      unlockedAt: new Date()\n    }).returning();\n    \n    // Update user achievement points\n    await db.update(users).set({\n      achievementPoints: sql`${users.achievementPoints} + ${achievement.pointsAwarded}`\n    }).where(eq(users.id, achievement.userId!));\n    \n    return result[0];\n  }\n\n  async getUserAchievements(userId: number): Promise<UserAchievement[]> {\n    return await db.select().from(userAchievements).where(eq(userAchievements.userId, userId)).orderBy(desc(userAchievements.unlockedAt));\n  }\n\n  async updateLeaderboards(): Promise<void> {\n    const today = new Date();\n    const weekStart = new Date(today.getFullYear(), today.getMonth(), today.getDate() - today.getDay());\n    \n    // Update daily leaderboard\n    const dailyScores = await db\n      .select({\n        userId: gameScores.userId,\n        score: sql<number>`MAX(${gameScores.score})`.as('max_score'),\n        level: sql<number>`MAX(${gameScores.level})`.as('max_level')\n      })\n      .from(gameScores)\n      .where(sql`DATE(${gameScores.timestamp}) = CURRENT_DATE`)\n      .groupBy(gameScores.userId)\n      .orderBy(desc(sql`MAX(${gameScores.score})`));\n    \n    // Clear existing daily leaderboard for today\n    await db.delete(leaderboards).where(and(\n      eq(leaderboards.leaderboardType, 'daily'),\n      sql`DATE(${leaderboards.periodDate}) = CURRENT_DATE`\n    ));\n    \n    // Insert new daily rankings\n    for (let i = 0; i < dailyScores.length; i++) {\n      await db.insert(leaderboards).values({\n        userId: dailyScores[i].userId,\n        leaderboardType: 'daily',\n        score: dailyScores[i].score,\n        level: dailyScores[i].level,\n        rank: i + 1,\n        periodDate: today.toISOString().split('T')[0]\n      });\n    }\n  }\n\n  async getLeaderboard(type: 'daily' | 'weekly' | 'all_time', limit = 50): Promise<any[]> {\n    if (type === 'all_time') {\n      return await this.getTopScores(limit);\n    }\n    \n    const result = await db\n      .select({\n        rank: leaderboards.rank,\n        score: leaderboards.score,\n        level: leaderboards.level,\n        username: users.username,\n        walletAddress: users.walletAddress\n      })\n      .from(leaderboards)\n      .innerJoin(users, eq(leaderboards.userId, users.id))\n      .where(eq(leaderboards.leaderboardType, type))\n      .orderBy(leaderboards.rank)\n      .limit(limit);\n    \n    return result.map(entry => ({\n      rank: entry.rank,\n      username: entry.username,\n      walletAddress: `${entry.walletAddress.slice(0, 4)}...${entry.walletAddress.slice(-4)}`,\n      score: entry.score,\n      level: entry.level\n    }));\n  }\n\n  async getAirdropData(): Promise<any[]> {\n    const result = await db\n      .select({\n        username: users.username,\n        walletAddress: users.walletAddress,\n        totalScore: users.totalScore,\n        levelsCompleted: users.levelsCompleted,\n        highestLevel: users.highestLevel,\n        gamesPlayed: users.gamesPlayed,\n        consecutiveDays: users.consecutiveDays,\n        totalPlayTimeMinutes: users.totalPlayTimeMinutes,\n        achievementPoints: users.achievementPoints,\n        averageScorePerLevel: users.averageScorePerLevel,\n        isEligibleForRewards: users.isEligibleForRewards,\n        createdAt: users.createdAt,\n        lastLoginAt: users.lastLoginAt\n      })\n      .from(users)\n      .where(eq(users.isEligibleForRewards, true))\n      .orderBy(desc(users.totalScore));\n    \n    return result;\n  }\n}\n\nexport const storage = new DatabaseStorage();","size_bytes":9610},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path, { dirname } from \"path\";\nimport { fileURLToPath } from \"url\";\nimport { createServer as createViteServer, createLogger, type ServerOptions } from \"vite\";\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions: ServerOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        __dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2409},"shared/schema.ts":{"content":"import { pgTable, text, serial, integer, boolean, timestamp, date, real } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  walletAddress: text(\"wallet_address\").notNull().unique(),\n  username: text(\"username\").notNull(),\n  pin: text(\"pin\").notNull(), // Store hashed PIN\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  lastLoginAt: timestamp(\"last_login_at\").defaultNow(),\n  // User statistics for airdrop decisions\n  totalScore: integer(\"total_score\").default(0),\n  levelsCompleted: integer(\"levels_completed\").default(0),\n  highestLevel: integer(\"highest_level\").default(1),\n  gamesPlayed: integer(\"games_played\").default(0),\n  consecutiveDays: integer(\"consecutive_days\").default(1),\n  totalPlayTimeMinutes: integer(\"total_play_time_minutes\").default(0),\n  averageScorePerLevel: real(\"average_score_per_level\").default(0),\n  achievementPoints: integer(\"achievement_points\").default(0),\n  isEligibleForRewards: boolean(\"is_eligible_for_rewards\").default(true),\n});\n\nexport const gameScores = pgTable(\"game_scores\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  level: integer(\"level\").notNull(),\n  score: integer(\"score\").notNull(),\n  completed: boolean(\"completed\").default(false),\n  playTimeSeconds: integer(\"play_time_seconds\").default(0),\n  timestamp: timestamp(\"timestamp\").defaultNow(),\n});\n\nexport const gameSessions = pgTable(\"game_sessions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  startTime: timestamp(\"start_time\").defaultNow(),\n  endTime: timestamp(\"end_time\"),\n  totalPlayTimeMinutes: integer(\"total_play_time_minutes\").default(0),\n  levelsPlayed: integer(\"levels_played\").default(0),\n  date: date(\"date\").defaultNow(),\n});\n\nexport const userAchievements = pgTable(\"user_achievements\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  achievementType: text(\"achievement_type\").notNull(), // e.g., \"COMPLETE_5_LEVELS\", \"SCORE_10K\", \"PLAY_7_DAYS\"\n  achievementName: text(\"achievement_name\").notNull(),\n  pointsAwarded: integer(\"points_awarded\").default(0),\n  unlockedAt: timestamp(\"unlocked_at\").defaultNow(),\n});\n\nexport const leaderboards = pgTable(\"leaderboards\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  leaderboardType: text(\"leaderboard_type\").notNull(), // \"daily\", \"weekly\", \"all_time\"\n  score: integer(\"score\").notNull(),\n  level: integer(\"level\").notNull(),\n  rank: integer(\"rank\"),\n  periodDate: date(\"period_date\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  walletAddress: true,\n  username: true,\n  pin: true,\n});\n\nexport const insertScoreSchema = createInsertSchema(gameScores).pick({\n  userId: true,\n  level: true,\n  score: true,\n  completed: true,\n  playTimeSeconds: true,\n});\n\nexport const insertSessionSchema = createInsertSchema(gameSessions).pick({\n  userId: true,\n  totalPlayTimeMinutes: true,\n  levelsPlayed: true,\n});\n\nexport const insertAchievementSchema = createInsertSchema(userAchievements).pick({\n  userId: true,\n  achievementType: true,\n  achievementName: true,\n  pointsAwarded: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\nexport type InsertScore = z.infer<typeof insertScoreSchema>;\nexport type GameScore = typeof gameScores.$inferSelect;\nexport type InsertSession = z.infer<typeof insertSessionSchema>;\nexport type GameSession = typeof gameSessions.$inferSelect;\nexport type InsertAchievement = z.infer<typeof insertAchievementSchema>;\nexport type UserAchievement = typeof userAchievements.$inferSelect;\nexport type Leaderboard = typeof leaderboards.$inferSelect;\n","size_bytes":3908},"client/src/App.tsx":{"content":"import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { WalletProvider } from './components/WalletProvider';\nimport { WorkingCapiRush } from './components/WorkingCapiRush';\nimport { LandingPage } from './pages/LandingPage';\nimport { Whitepaper } from './pages/Whitepaper';\nimport { GamePage } from './pages/Game';\nimport './index.css';\n\nfunction App() {\n  const [currentGame, setCurrentGame] = useState<'none' | 'capirush'>('none');\n\n  const handleEnterGame = () => {\n    setCurrentGame('capirush');\n  };\n\n  const handleBackToLanding = () => {\n    setCurrentGame('none');\n  };\n\n  return (\n    <Router>\n      <Routes>\n        {/* Whitepaper route - opens in new window */}\n        <Route path=\"/whitepaper\" element={<Whitepaper />} />\n        \n        \n        {/* Game route - New CAPYBARA COIN Infinite Runner */}\n        <Route path=\"/game\" element={\n          <WalletProvider>\n            <WorkingCapiRush onBackToMenu={() => window.location.href = '/'} />\n          </WalletProvider>\n        } />\n        \n        {/* Main application route */}\n        <Route path=\"/*\" element={\n          <WalletProvider>\n            <div className=\"w-full h-full\">\n              {currentGame === 'none' ? (\n                <LandingPage \n                  onEnterGame={handleEnterGame}\n                  onEnterAdventure={handleEnterGame}\n                />\n              ) : currentGame === 'capirush' ? (\n                <WorkingCapiRush onBackToMenu={handleBackToLanding} />\n              ) : null}\n            </div>\n          </WalletProvider>\n        } />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;","size_bytes":1677},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    width: 100vw;\n    height: 100vh;\n  }\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n}\n\ncanvas {\n  width: 100% !important;\n  height: 100% !important;\n  touch-action: none;\n}","size_bytes":427},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\n// Initialize the React app\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":185},"client/src/components/AuthModal.tsx":{"content":"import React, { useState } from 'react';\nimport { useAuthStore } from '../lib/stores/useWallet';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from './ui/dialog';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Label } from './ui/label';\nimport { isValidSolanaAddress, formatSolanaAddress } from '../utils/solanaValidator';\n\ninterface AuthModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nexport const AuthModal: React.FC<AuthModalProps> = ({ isOpen, onClose }) => {\n    const { login, register } = useAuthStore();\n    const [activeTab, setActiveTab] = useState<'login' | 'register'>('login');\n    \n    // Login form state\n    const [loginWallet, setLoginWallet] = useState('');\n    const [loginPassword, setLoginPassword] = useState('');\n    \n    // Register form state\n    const [registerWallet, setRegisterWallet] = useState('');\n    const [registerUsername, setRegisterUsername] = useState('');\n    const [registerPassword, setRegisterPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    \n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleLogin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!loginWallet || !loginPassword) {\n            setError('Please fill in all fields');\n            return;\n        }\n        \n        if (!isValidSolanaAddress(loginWallet)) {\n            setError('Please enter a valid Solana wallet address');\n            return;\n        }\n        \n        setLoading(true);\n        setError('');\n        \n        const success = await login(loginWallet, loginPassword);\n        if (success) {\n            onClose();\n            resetForms();\n        } else {\n            setError('Invalid wallet address or password.');\n        }\n        \n        setLoading(false);\n    };\n\n    const handleRegister = async (e: React.FormEvent) => {\n        e.preventDefault();\n        \n        // Trim whitespace from inputs\n        const trimmedWallet = registerWallet?.trim();\n        const trimmedUsername = registerUsername?.trim();\n        const trimmedPassword = registerPassword?.trim();\n        \n        if (!trimmedWallet || !trimmedUsername || !trimmedPassword || !confirmPassword) {\n            setError('Please fill in all fields');\n            return;\n        }\n        \n        if (trimmedPassword !== confirmPassword) {\n            setError('Passwords do not match');\n            return;\n        }\n        \n        if (!isValidSolanaAddress(trimmedWallet)) {\n            setError('Please enter a wallet address');\n            return;\n        }\n        \n        if (trimmedPassword.length < 6) {\n            setError('Password must be at least 6 characters');\n            return;\n        }\n        \n        setLoading(true);\n        setError('');\n        \n        const result = await register(registerWallet, registerUsername, trimmedPassword);\n        if (result.success) {\n            onClose();\n            resetForms();\n        } else {\n            setError(result.error || 'Registration failed. Please try again.');\n        }\n        \n        setLoading(false);\n    };\n\n    const resetForms = () => {\n        setLoginWallet('');\n        setLoginPassword('');\n        setRegisterWallet('');\n        setRegisterUsername('');\n        setRegisterPassword('');\n        setConfirmPassword('');\n        setError('');\n        setActiveTab('login');\n    };\n    \n\n    const formatWalletAddress = (address: string) => {\n        return address.replace(/[^a-zA-Z0-9]/g, '').toUpperCase();\n    };\n\n    return (\n        <Dialog open={isOpen} onOpenChange={onClose}>\n            <DialogContent className=\"sm:max-w-lg bg-amber-900/30 backdrop-blur-md border-amber-500/30 shadow-2xl\" aria-describedby=\"auth-modal-description\">\n                <DialogHeader className=\"text-center pb-6\">\n                    <DialogTitle className=\"text-2xl font-bold text-white\">Welcome</DialogTitle>\n                    <div id=\"auth-modal-description\" className=\"text-sm text-amber-200 mt-2\">\n                        Connect with your Solana wallet address, username, and secure password\n                    </div>\n                </DialogHeader>\n                \n                <Tabs value={activeTab} onValueChange={(value) => setActiveTab(value as 'login' | 'register')}>\n                    <TabsList className=\"grid w-full grid-cols-2 bg-amber-800/30 rounded-lg p-1\">\n                        <TabsTrigger value=\"login\" className=\"rounded-md font-medium\">Sign In</TabsTrigger>\n                        <TabsTrigger value=\"register\" className=\"rounded-md font-medium\">Create Account</TabsTrigger>\n                    </TabsList>\n                    \n                    <TabsContent value=\"login\" className=\"space-y-6 mt-6\">\n                        <form onSubmit={handleLogin} className=\"space-y-5\">\n                            <div className=\"space-y-2\">\n                                <Label htmlFor=\"loginWallet\" className=\"text-sm font-medium text-amber-100\">\n                                    Wallet Address\n                                </Label>\n                                <Input\n                                    id=\"loginWallet\"\n                                    placeholder=\"Enter your wallet address\"\n                                    value={loginWallet}\n                                    onChange={(e) => setLoginWallet(formatWalletAddress(e.target.value))}\n                                    className=\"h-12 font-mono text-sm bg-amber-900/20 border-amber-400/30 text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:ring-amber-400\"\n                                    maxLength={44}\n                                />\n                            </div>\n                            \n                            <div className=\"space-y-2\">\n                                <Label htmlFor=\"loginPassword\" className=\"text-sm font-medium text-amber-100\">\n                                    Password\n                                </Label>\n                                <Input\n                                    id=\"loginPassword\"\n                                    type=\"password\"\n                                    placeholder=\"Enter your password\"\n                                    value={loginPassword}\n                                    onChange={(e) => setLoginPassword(e.target.value)}\n                                    className=\"h-12 bg-amber-900/20 border-amber-400/30 text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:ring-amber-400\"\n                                />\n                            </div>\n                            \n                            {error && (\n                                <div className=\"bg-red-900/20 border border-red-400/30 text-red-300 px-4 py-3 rounded-lg text-sm\">\n                                    {error}\n                                </div>\n                            )}\n                            \n                            <Button \n                                type=\"submit\" \n                                className=\"w-full h-12 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded-lg transition-colors\"\n                                disabled={loading}\n                            >\n                                {loading ? 'Signing in...' : 'Sign In'}\n                            </Button>\n                        </form>\n                    </TabsContent>\n                    \n                    <TabsContent value=\"register\" className=\"space-y-6 mt-6\">\n                        <form onSubmit={handleRegister} className=\"space-y-5\">\n                            <div className=\"space-y-2\">\n                                <Label htmlFor=\"registerWallet\" className=\"text-sm font-medium text-amber-100\">\n                                    Wallet Address\n                                </Label>\n                                <Input\n                                    id=\"registerWallet\"\n                                    placeholder=\"Enter your wallet address\"\n                                    value={registerWallet}\n                                    onChange={(e) => setRegisterWallet(formatWalletAddress(e.target.value))}\n                                    className=\"h-12 font-mono text-sm bg-amber-900/20 border-amber-400/30 text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:ring-amber-400\"\n                                    maxLength={44}\n                                />\n                            </div>\n                            <div className=\"space-y-2\">\n                                <Label htmlFor=\"registerUsername\" className=\"text-sm font-medium text-amber-100\">\n                                    Username\n                                </Label>\n                                <Input\n                                    id=\"registerUsername\"\n                                    placeholder=\"Choose a username\"\n                                    value={registerUsername}\n                                    onChange={(e) => setRegisterUsername(e.target.value)}\n                                    className=\"h-12 bg-amber-900/20 border-amber-400/30 text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:ring-amber-400\"\n                                    maxLength={20}\n                                />\n                            </div>\n                            \n                            <div className=\"space-y-2\">\n                                <Label htmlFor=\"registerPassword\" className=\"text-sm font-medium text-amber-100\">\n                                    Password\n                                </Label>\n                                <Input\n                                    id=\"registerPassword\"\n                                    type=\"password\"\n                                    placeholder=\"Enter a secure password\"\n                                    value={registerPassword}\n                                    onChange={(e) => setRegisterPassword(e.target.value)}\n                                    className=\"h-12 bg-amber-900/20 border-amber-400/30 text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:ring-amber-400\"\n                                />\n                            </div>\n                            \n                            <div className=\"space-y-2\">\n                                <Label htmlFor=\"confirmPassword\" className=\"text-sm font-medium text-amber-100\">\n                                    Confirm Password\n                                </Label>\n                                <Input\n                                    id=\"confirmPassword\"\n                                    type=\"password\"\n                                    placeholder=\"Confirm your password\"\n                                    value={confirmPassword}\n                                    onChange={(e) => setConfirmPassword(e.target.value)}\n                                    className=\"h-12 bg-amber-900/20 border-amber-400/30 text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:ring-amber-400\"\n                                />\n                            </div>\n                            \n                            {error && (\n                                <div className=\"bg-red-900/20 border border-red-400/30 text-red-300 px-4 py-3 rounded-lg text-sm\">\n                                    {error}\n                                </div>\n                            )}\n                            \n                            <Button \n                                type=\"submit\" \n                                className=\"w-full h-12 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded-lg transition-colors\"\n                                disabled={loading}\n                            >\n                                {loading ? 'Creating Account...' : 'Create Account'}\n                            </Button>\n                        </form>\n                    </TabsContent>\n                </Tabs>\n            </DialogContent>\n        </Dialog>\n    );\n};","size_bytes":12260},"client/src/components/Game.tsx":{"content":"import React, { useState } from 'react';\nimport { LoadingScreen } from './LoadingScreen';\nimport { CapybaraDefense } from './CapybaraDefense';\nimport { BackgroundMusic } from './BackgroundMusic';\nimport { useGameState } from '../lib/stores/useGameState';\n\nexport const Game: React.FC = () => {\n    const { currentScene } = useGameState();\n    const [showLoading, setShowLoading] = useState(true);\n\n    const handleLoadingComplete = () => {\n        setShowLoading(false);\n    };\n\n    return (\n        <div className=\"relative w-full h-full\">\n            {showLoading ? (\n                <LoadingScreen onLoadingComplete={handleLoadingComplete} />\n            ) : (\n                <CapybaraDefense />\n            )}\n            <BackgroundMusic isPlaying={currentScene === 'game'} />\n        </div>\n    );\n};","size_bytes":807},"client/src/components/GameOverOverlay.tsx":{"content":"import React from 'react';\nimport { Button } from './ui/button';\nimport { Card, CardContent } from './ui/card';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useGameState } from '../lib/stores/useGameState';\nimport { getNextLevel } from '../lib/levels';\n\ninterface GameOverOverlayProps {\n    won: boolean;\n    onNextLevel: () => void;\n    onRetry: () => void;\n    onBackToMenu: () => void;\n}\n\nexport const GameOverOverlay: React.FC<GameOverOverlayProps> = ({ \n    won, \n    onNextLevel, \n    onRetry, \n    onBackToMenu \n}) => {\n    const { level, score } = useGameState();\n    const hasNextLevel = getNextLevel(level) !== null;\n\n    return (\n        <AnimatePresence>\n            <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-20\">\n                <motion.div\n                    initial={{ scale: 0.8, opacity: 0, y: 50 }}\n                    animate={{ scale: 1, opacity: 1, y: 0 }}\n                    exit={{ scale: 0.8, opacity: 0, y: 50 }}\n                    transition={{ duration: 0.5, ease: \"easeOut\" }}\n                    className=\"flex flex-col items-center max-w-lg mx-4\"\n                >\n                    <Card className={`backdrop-blur-md shadow-2xl border-2 ${\n                        won \n                            ? 'bg-gradient-to-br from-green-500/90 to-emerald-600/90 border-green-400/50' \n                            : 'bg-gradient-to-br from-red-500/90 to-red-600/90 border-red-400/50'\n                    }`}>\n                        <CardContent className=\"p-10 text-center text-white\">\n                            {/* Result Icon & Title */}\n                            <motion.div\n                                initial={{ scale: 0 }}\n                                animate={{ scale: 1 }}\n                                transition={{ delay: 0.2, duration: 0.5, ease: \"backOut\" }}\n                                className=\"mb-6\"\n                            >\n                                <div className={`text-8xl mb-4 ${won ? 'ðŸŽ‰' : 'ðŸ’”'}`}>\n                                    {won ? 'ðŸŽ‰' : 'ðŸ’”'}\n                                </div>\n                                <h1 className=\"text-4xl md:text-5xl font-bold mb-2\">\n                                    {won ? 'Victory!' : 'Defeat!'}\n                                </h1>\n                                <p className={`text-xl ${won ? 'text-green-100' : 'text-red-100'}`}>\n                                    {won ? 'The capybara is safe!' : 'The bees got through!'}\n                                </p>\n                            </motion.div>\n\n                            {/* Stats */}\n                            <motion.div\n                                initial={{ y: 20, opacity: 0 }}\n                                animate={{ y: 0, opacity: 1 }}\n                                transition={{ delay: 0.4, duration: 0.5 }}\n                                className=\"mb-8 grid grid-cols-2 gap-4 text-center\"\n                            >\n                                <div className=\"bg-white/20 backdrop-blur rounded-xl p-4\">\n                                    <div className=\"text-2xl font-bold\">{score.toLocaleString()}</div>\n                                    <div className=\"text-sm opacity-80\">Final Score</div>\n                                </div>\n                                <div className=\"bg-white/20 backdrop-blur rounded-xl p-4\">\n                                    <div className=\"text-2xl font-bold\">{level}</div>\n                                    <div className=\"text-sm opacity-80\">Level Reached</div>\n                                </div>\n                            </motion.div>\n\n                            {/* Action Buttons */}\n                            <motion.div\n                                initial={{ y: 30, opacity: 0 }}\n                                animate={{ y: 0, opacity: 1 }}\n                                transition={{ delay: 0.6, duration: 0.5 }}\n                                className=\"flex flex-col sm:flex-row gap-4 justify-center\"\n                            >\n                                {won && hasNextLevel && (\n                                    <Button\n                                        onClick={onNextLevel}\n                                        size=\"lg\"\n                                        className=\"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold px-8 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200\"\n                                    >\n                                        ðŸš€ Next Level\n                                    </Button>\n                                )}\n                                \n                                {!won && (\n                                    <Button\n                                        onClick={onRetry}\n                                        size=\"lg\"\n                                        className=\"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold px-8 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200\"\n                                    >\n                                        ðŸ”„ Try Again\n                                    </Button>\n                                )}\n                                \n                                <Button\n                                    onClick={onBackToMenu}\n                                    size=\"lg\"\n                                    variant=\"outline\"\n                                    className=\"bg-white/20 hover:bg-white/30 text-white border-white/30 hover:border-white/50 font-semibold px-8 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200\"\n                                >\n                                    ðŸ  Main Menu\n                                </Button>\n                            </motion.div>\n\n                            {/* Special message for completing all levels */}\n                            {won && !hasNextLevel && (\n                                <motion.div\n                                    initial={{ opacity: 0 }}\n                                    animate={{ opacity: 1 }}\n                                    transition={{ delay: 0.8, duration: 0.5 }}\n                                    className=\"mt-6 p-4 bg-gradient-to-r from-yellow-400/20 to-yellow-500/20 rounded-xl border border-yellow-300/30\"\n                                >\n                                    <div className=\"text-2xl font-bold text-yellow-200 mb-2\">\n                                        ðŸ† Congratulations!\n                                    </div>\n                                    <div className=\"text-yellow-100\">\n                                        You've completed all levels and mastered the art of capybara protection!\n                                    </div>\n                                </motion.div>\n                            )}\n                        </CardContent>\n                    </Card>\n                </motion.div>\n            </div>\n        </AnimatePresence>\n    );\n};","size_bytes":7308},"client/src/components/GameUI.tsx":{"content":"import React, { useEffect, useState } from 'react';\nimport { useGameState } from '../lib/stores/useGameState';\nimport { useAuthStore } from '../lib/stores/useWallet';\nimport { AuthModal } from './AuthModal';\nimport { MenuOverlay } from './MenuOverlay';\nimport { GameOverOverlay } from './GameOverOverlay';\nimport { Button } from './ui/button';\n\ninterface GameUIProps {\n    game: Phaser.Game;\n    onModeSelect?: (mode: 'drawing' | 'tower-defense') => void;\n}\n\nexport const GameUI: React.FC<GameUIProps> = ({ game, onModeSelect }) => {\n    const { currentScene, level, score, timeLeft, ink } = useGameState();\n    const { user, isLoggedIn, logout } = useAuthStore();\n    const [showAuthModal, setShowAuthModal] = useState(false);\n    const [showSignInWarning, setShowSignInWarning] = useState(true);\n\n    // Hide sign-in warning after 5 seconds\n    useEffect(() => {\n        if (!isLoggedIn && currentScene === 'game') {\n            const timer = setTimeout(() => {\n                setShowSignInWarning(false);\n            }, 5000);\n            return () => clearTimeout(timer);\n        }\n    }, [isLoggedIn, currentScene]);\n\n    // Reset warning when scene changes\n    useEffect(() => {\n        if (currentScene === 'game') {\n            setShowSignInWarning(true);\n        }\n    }, [currentScene]);\n    \n    const handleStartGame = () => {\n        if (game && game.scene) {\n            game.scene.start('GameScene');\n        }\n    };\n    \n    const handleNextLevel = () => {\n        const gameState = useGameState.getState();\n        gameState.setLevel(gameState.level + 1);\n        if (game && game.scene) {\n            game.scene.start('GameScene');\n        }\n    };\n    \n    const handleRetry = () => {\n        const gameState = useGameState.getState();\n        gameState.setScore(Math.max(0, gameState.score - 50)); // Small penalty\n        gameState.setCapybaraAlive(true); // Reset capybara state\n        gameState.setScene('game'); // Ensure scene state is properly set\n        if (game && game.scene) {\n            game.scene.start('GameScene');\n        }\n    };\n    \n    const handleBackToMenu = () => {\n        useGameState.getState().resetGame();\n        if (game && game.scene) {\n            game.scene.start('MenuScene');\n        }\n    };\n\n    const formatWalletAddress = (address: string) => {\n        return `${address.slice(0, 4)}...${address.slice(-4)}`;\n    };\n\n    return (\n        <>\n            {/* Menu Overlay */}\n            {currentScene === 'menu' && (\n                <MenuOverlay onModeSelect={onModeSelect || (() => {})} />\n            )}\n            \n            {/* Game Over Overlay */}\n            {currentScene === 'gameover' && (\n                <GameOverOverlay \n                    won={useGameState.getState().capybaraAlive}\n                    onNextLevel={handleNextLevel}\n                    onRetry={handleRetry}\n                    onBackToMenu={handleBackToMenu}\n                />\n            )}\n            \n            <div className=\"absolute inset-0 pointer-events-none\">\n                {/* Account Button - Always visible */}\n                <div className=\"absolute top-6 right-6 pointer-events-auto z-50\">\n                    {isLoggedIn ? (\n                        <div className=\"flex gap-3 items-center\">\n                            <div className=\"bg-white/95 backdrop-blur text-gray-900 px-4 py-2 rounded-lg shadow-xl border border-gray-200\">\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                                    <span className=\"font-medium\">{user?.username}</span>\n                                </div>\n                                <div className=\"text-xs text-gray-500 font-mono\">{formatWalletAddress(user?.walletAddress || '')}</div>\n                            </div>\n                            <Button \n                                variant=\"outline\" \n                                size=\"sm\" \n                                onClick={logout}\n                                className=\"bg-white/95 hover:bg-red-50 text-red-600 border-red-200 hover:border-red-300 shadow-xl\"\n                            >\n                                Sign Out\n                            </Button>\n                        </div>\n                    ) : (\n                        <Button \n                            onClick={() => setShowAuthModal(true)}\n                            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg shadow-xl transition-all duration-200 font-semibold border-2 border-blue-400 hover:border-blue-300 transform hover:scale-105 active:scale-95\"\n                        >\n                            ðŸ” Sign In\n                        </Button>\n                    )}\n                </div>\n\n                {/* Enhanced Game HUD - Only during drawing game mode */}\n                {currentScene === 'game' && (\n                    <div className=\"absolute top-6 left-1/2 transform -translate-x-1/2 flex gap-4\">\n                        <div className=\"bg-gradient-to-br from-blue-600/90 to-blue-800/90 backdrop-blur text-white px-4 py-3 rounded-2xl shadow-2xl border border-blue-400/30\">\n                            <div className=\"text-xs text-blue-200 font-medium mb-1\">Level</div>\n                            <div className=\"font-bold text-2xl text-center\">{level === 0 ? \"Tutorial\" : level}</div>\n                        </div>\n                        <div className=\"bg-gradient-to-br from-emerald-600/90 to-emerald-800/90 backdrop-blur text-white px-4 py-3 rounded-2xl shadow-2xl border border-emerald-400/30\">\n                            <div className=\"text-xs text-emerald-200 font-medium mb-1\">Score</div>\n                            <div className=\"font-bold text-2xl text-center\">{score.toLocaleString()}</div>\n                        </div>\n                        <div className=\"bg-gradient-to-br from-amber-600/90 to-amber-800/90 backdrop-blur text-white px-4 py-3 rounded-2xl shadow-2xl border border-amber-400/30\">\n                            <div className=\"text-xs text-amber-200 font-medium mb-1\">Time</div>\n                            <div className=\"font-bold text-2xl text-center\">{Math.round(timeLeft)}s</div>\n                        </div>\n                        \n                        {/* Beautiful Ink Progress Bar */}\n                        <div className=\"bg-gradient-to-br from-purple-600/90 to-purple-800/90 backdrop-blur text-white px-4 py-3 rounded-2xl shadow-2xl border border-purple-400/30 min-w-[120px]\">\n                            <div className=\"text-xs text-purple-200 font-medium mb-2\">Magical Ink</div>\n                            <div className=\"relative\">\n                                {/* Background bar */}\n                                <div className=\"w-full h-3 bg-purple-900/50 rounded-full overflow-hidden\">\n                                    {/* Progress bar with color transitions */}\n                                    <div \n                                        className={`h-full rounded-full transition-all duration-300 ${\n                                            ink > 60 ? 'bg-gradient-to-r from-green-400 to-emerald-500' :\n                                            ink > 30 ? 'bg-gradient-to-r from-yellow-400 to-amber-500' :\n                                            'bg-gradient-to-r from-red-400 to-red-600'\n                                        }`}\n                                        style={{ width: `${Math.max(0, ink)}%` }}\n                                    />\n                                    {/* Shine effect */}\n                                    <div className=\"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse\" />\n                                </div>\n                                {/* Percentage text */}\n                                <div className=\"text-center mt-1 font-bold text-sm\">{Math.round(ink)}%</div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Enhanced Instructions - Only during drawing phase */}\n                {currentScene === 'game' && timeLeft > 5 && (\n                    <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-gradient-to-br from-indigo-600/95 to-purple-600/95 backdrop-blur text-white px-8 py-6 rounded-2xl text-center shadow-2xl border border-indigo-400/30 max-w-md\">\n                        <div className=\"text-xl font-bold mb-3 text-yellow-300\">âœ¨ Draw Phase Active âœ¨</div>\n                        <div className=\"text-lg font-semibold mb-2\">Protect the Capybara!</div>\n                        <div className=\"text-sm text-indigo-100\">Drag to draw magical barriers and use your ink wisely</div>\n                        <div className=\"mt-2 text-xs text-indigo-200\">ðŸ–±ï¸ Mouse â€¢ ðŸ‘† Touch â€¢ ðŸŽ¯ Strategic placement</div>\n                        {level === 0 && (\n                            <div className=\"mt-3 text-sm text-yellow-200 border-t border-indigo-400/30 pt-3\">\n                                ðŸŽ“ Tutorial: Press SPACE to change barrier types!<br/>\n                                Draw near power-ups to collect them!\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Enhanced Survival phase indicator */}\n                {currentScene === 'game' && timeLeft <= 5 && timeLeft > 0 && (\n                    <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-gradient-to-br from-red-500 to-red-700 text-white px-8 py-6 rounded-2xl text-center shadow-2xl border-2 border-red-300 animate-pulse\">\n                        <div className=\"text-2xl font-bold mb-2 text-yellow-300\">ðŸ›¡ï¸ SURVIVE! ðŸ›¡ï¸</div>\n                        <div className=\"text-xl font-bold\">{Math.round(timeLeft)} seconds left</div>\n                        <div className=\"text-sm text-red-100 mt-2\">Your barriers are protecting the capybara!</div>\n                    </div>\n                )}\n\n                {/* Not logged in warning during game - temporary */}\n                {currentScene === 'game' && !isLoggedIn && showSignInWarning && (\n                    <div className=\"absolute top-24 left-1/2 transform -translate-x-1/2 bg-amber-100 text-amber-800 px-4 py-3 rounded-lg text-center text-sm border border-amber-200 shadow-lg animate-pulse\">\n                        <div className=\"flex items-center gap-2\">\n                            <span>ðŸ’¾</span>\n                            <span>Sign in to save your scores</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            <AuthModal \n                isOpen={showAuthModal} \n                onClose={() => setShowAuthModal(false)} \n            />\n        </>\n    );\n};\n","size_bytes":10953},"client/src/components/MenuOverlay.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Button } from './ui/button';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Settings } from 'lucide-react';\nimport { SettingsModal } from './SettingsModal';\nconst backgroundImage = '/images/AAA_capybara_wetland_background_ab88ce49.png';\nconst heroImage = '/images/custom_capybara.png';\nconst barrierImage = '/images/AAA_magical_barrier_UI_b6d0d11f.png';\n\ninterface MenuOverlayProps {\n    onModeSelect: (mode: 'drawing' | 'tower-defense') => void;\n}\n\nconst FloatingParticle: React.FC<{ delay: number }> = ({ delay }) => (\n    <motion.div\n        className=\"absolute w-1 h-1 bg-green-300 rounded-full opacity-60\"\n        initial={{ \n            x: Math.random() * window.innerWidth, \n            y: window.innerHeight + 10,\n            opacity: 0 \n        }}\n        animate={{ \n            y: -10,\n            opacity: [0, 0.6, 0],\n            scale: [0.5, 1, 0.5]\n        }}\n        transition={{ \n            duration: 8,\n            delay,\n            repeat: Infinity,\n            repeatDelay: Math.random() * 5,\n            ease: \"linear\"\n        }}\n    />\n);\n\nconst GlowingText: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = \"\" }) => (\n    <div className={`relative ${className}`}>\n        <div className=\"absolute inset-0 text-transparent bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text blur-sm\">\n            {children}\n        </div>\n        <div className=\"relative\">{children}</div>\n    </div>\n);\n\nexport const MenuOverlay: React.FC<MenuOverlayProps> = ({ onModeSelect }) => {\n    const [isHovered, setIsHovered] = useState(false);\n    const [particles, setParticles] = useState<number[]>([]);\n    const [showSettings, setShowSettings] = useState(false);\n\n    useEffect(() => {\n        // Generate floating particles\n        const particleArray = Array.from({ length: 20 }, (_, i) => i);\n        setParticles(particleArray);\n    }, []);\n\n    return (\n        <>\n            {/* Background with parallax effect */}\n            <div \n                className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n                style={{ \n                    backgroundImage: `url(${backgroundImage})`,\n                    filter: 'brightness(0.8) contrast(1.1)'\n                }}\n            />\n            \n            {/* Atmospheric overlay */}\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-black/20\" />\n            \n            {/* Floating particles */}\n            <AnimatePresence>\n                {particles.map(particle => (\n                    <FloatingParticle key={particle} delay={particle * 0.4} />\n                ))}\n            </AnimatePresence>\n            \n            {/* Magical barrier effect */}\n            <div \n                className=\"absolute inset-0 opacity-30 mix-blend-screen\"\n                style={{ \n                    backgroundImage: `url(${barrierImage})`,\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                    animation: 'pulse 4s infinite ease-in-out'\n                }}\n            />\n\n            {/* Main content */}\n            <div className=\"absolute inset-0 flex items-center justify-center z-10\">\n                <motion.div\n                    initial={{ scale: 0.5, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    transition={{ \n                        duration: 1.2, \n                        ease: [0.25, 0.46, 0.45, 0.94],\n                        staggerChildren: 0.2\n                    }}\n                    className=\"flex flex-col items-center max-w-4xl mx-8 text-center\"\n                >\n                    {/* Hero character */}\n                    <motion.div\n                        initial={{ y: -100, opacity: 0, rotate: -10 }}\n                        animate={{ y: 0, opacity: 1, rotate: 0 }}\n                        transition={{ \n                            duration: 1.5, \n                            delay: 0.3,\n                            type: \"spring\",\n                            stiffness: 100,\n                            damping: 10\n                        }}\n                        whileHover={{ \n                            scale: 1.05,\n                            rotate: 2,\n                            transition: { duration: 0.3 }\n                        }}\n                        className=\"mb-8 relative\"\n                    >\n                        <div className=\"absolute inset-0 bg-gradient-to-br from-yellow-300/30 to-green-300/30 rounded-full blur-2xl scale-150\" />\n                        <img \n                            src={heroImage} \n                            alt=\"Capybara Hero\" \n                            className=\"w-32 h-32 object-contain drop-shadow-2xl relative z-10\"\n                        />\n                        \n                        {/* Floating crown effect */}\n                        <motion.div\n                            className=\"absolute -top-6 left-1/2 transform -translate-x-1/2 text-4xl\"\n                            animate={{ \n                                y: [0, -10, 0],\n                                rotate: [0, 5, -5, 0]\n                            }}\n                            transition={{ \n                                duration: 3,\n                                repeat: Infinity,\n                                ease: \"easeInOut\"\n                            }}\n                        >\n                            âœ¨\n                        </motion.div>\n                    </motion.div>\n                    \n                    {/* Title */}\n                    <motion.div\n                        initial={{ y: 50, opacity: 0 }}\n                        animate={{ y: 0, opacity: 1 }}\n                        transition={{ delay: 0.5, duration: 0.8 }}\n                        className=\"mb-6\"\n                    >\n                        <GlowingText className=\"text-4xl md:text-5xl font-bold text-white mb-2 leading-tight font-serif\" style={{\n                            textRendering: 'optimizeLegibility',\n                            WebkitFontSmoothing: 'antialiased',\n                            MozOsxFontSmoothing: 'grayscale'\n                        }}>\n                            SAVE THE\n                        </GlowingText>\n                        <GlowingText className=\"text-4xl md:text-6xl font-bold bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text text-transparent leading-tight font-serif\" style={{\n                            textRendering: 'optimizeLegibility',\n                            WebkitFontSmoothing: 'antialiased',\n                            MozOsxFontSmoothing: 'grayscale'\n                        }}>\n                            CAPYBARA\n                        </GlowingText>\n                        \n                        {/* Subtitle */}\n                        <motion.p \n                            className=\"text-lg md:text-xl text-amber-100 mt-4 font-light tracking-wide\"\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            transition={{ delay: 0.8, duration: 0.6 }}\n                        >\n                            Master the Ancient Art of Protective Drawing\n                        </motion.p>\n                    </motion.div>\n\n                    {/* Game mechanics display */}\n                    <motion.div\n                        initial={{ y: 30, opacity: 0 }}\n                        animate={{ y: 0, opacity: 1 }}\n                        transition={{ delay: 0.9, duration: 0.6 }}\n                        className=\"mb-10 flex gap-8 text-center\"\n                    >\n                        <div className=\"backdrop-blur-md bg-blue-600/30 border-2 border-blue-400/50 rounded-xl p-4 transform hover:scale-105 transition-transform\">\n                            <div className=\"text-2xl mb-1\">âš¡</div>\n                            <div className=\"font-bold text-blue-200 text-sm\">DRAW PHASE</div>\n                            <div className=\"text-blue-100 text-xs\">2.5 Seconds</div>\n                        </div>\n                        \n                        <div className=\"backdrop-blur-md bg-red-600/30 border-2 border-red-400/50 rounded-xl p-4 transform hover:scale-105 transition-transform\">\n                            <div className=\"text-2xl mb-1\">ðŸ›¡ï¸</div>\n                            <div className=\"font-bold text-red-200 text-sm\">SURVIVE PHASE</div>\n                            <div className=\"text-red-100 text-xs\">5 Seconds</div>\n                        </div>\n                    </motion.div>\n\n                    {/* Game mode buttons */}\n                    <motion.div\n                        initial={{ scale: 0, rotate: -180 }}\n                        animate={{ scale: 1, rotate: 0 }}\n                        transition={{ \n                            delay: 1.2, \n                            duration: 0.8,\n                            type: \"spring\",\n                            stiffness: 200,\n                            damping: 15\n                        }}\n                        className=\"flex flex-col gap-4\"\n                    >\n                        <Button\n                            onClick={() => onModeSelect('drawing')}\n                            onMouseEnter={() => setIsHovered(true)}\n                            onMouseLeave={() => setIsHovered(false)}\n                            className=\"relative group bg-gradient-to-r from-emerald-500 via-green-600 to-emerald-500 hover:from-emerald-400 hover:via-green-500 hover:to-emerald-400 text-white font-bold px-10 py-4 text-xl rounded-2xl shadow-2xl hover:shadow-emerald-500/50 border-2 border-emerald-400 transition-all duration-300 transform hover:scale-110 active:scale-95 overflow-hidden\"\n                        >\n                            {/* Button glow effect */}\n                            <div className=\"absolute inset-0 bg-gradient-to-r from-emerald-400 to-green-400 opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-xl\" />\n                            \n                            {/* Animated background */}\n                            <motion.div\n                                className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                                animate={isHovered ? {\n                                    x: ['-100%', '200%'],\n                                    transition: { duration: 0.8, ease: \"easeInOut\" }\n                                } : {}}\n                            />\n                            \n                            <span className=\"relative z-10 flex items-center gap-3\">\n                                <span className=\"text-3xl\">âš”ï¸</span>\n                                <span>DRAWING MODE</span>\n                                <span className=\"text-3xl\">âœ¨</span>\n                            </span>\n                        </Button>\n\n                        <Button\n                            onClick={() => onModeSelect('tower-defense')}\n                            className=\"relative group bg-gradient-to-r from-blue-500 via-purple-600 to-blue-500 hover:from-blue-400 hover:via-purple-500 hover:to-blue-400 text-white font-bold px-10 py-4 text-xl rounded-2xl shadow-2xl hover:shadow-blue-500/50 border-2 border-blue-400 transition-all duration-300 transform hover:scale-110 active:scale-95 overflow-hidden\"\n                        >\n                            <span className=\"relative z-10 flex items-center gap-3\">\n                                <span className=\"text-3xl\">ðŸ°</span>\n                                <span>TOWER DEFENSE</span>\n                                <span className=\"text-3xl\">ðŸ›¡ï¸</span>\n                            </span>\n                        </Button>\n                    </motion.div>\n\n                    {/* Instructions */}\n                    <motion.div\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        transition={{ delay: 1.5, duration: 0.6 }}\n                        className=\"mt-8 text-center text-amber-100/80 text-lg\"\n                    >\n                        <p className=\"font-light tracking-wide\">\n                            Draw magical barriers with your cursor or finger\n                        </p>\n                        <p className=\"text-sm mt-2 text-amber-200/60\">\n                            Wisdom lies in strategic ink usage\n                        </p>\n                    </motion.div>\n                </motion.div>\n            </div>\n\n            {/* Settings button */}\n            <motion.button\n                initial={{ opacity: 0, scale: 0.5 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 1.8, duration: 0.5 }}\n                onClick={() => setShowSettings(true)}\n                className=\"absolute top-6 right-6 z-20 p-3 bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm rounded-full text-white hover:text-amber-300 transition-all duration-300 shadow-lg hover:shadow-xl border border-slate-600/50\"\n            >\n                <Settings className=\"w-6 h-6\" />\n            </motion.button>\n\n            {/* Settings Modal */}\n            <SettingsModal \n                isOpen={showSettings} \n                onClose={() => setShowSettings(false)} \n            />\n\n            <style>{`\n                @keyframes pulse {\n                    0%, 100% { opacity: 0.2; transform: scale(1); }\n                    50% { opacity: 0.4; transform: scale(1.02); }\n                }\n            `}</style>\n        </>\n    );\n};","size_bytes":13788},"client/src/components/WalletProvider.tsx":{"content":"import React, { FC, ReactNode } from 'react';\n\ninterface WalletProviderProps {\n    children: ReactNode;\n}\n\nexport const WalletProvider: FC<WalletProviderProps> = ({ children }) => {\n    return (\n        <>\n            {children}\n        </>\n    );\n};\n","size_bytes":251},"client/src/hooks/use-is-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/lib/gameConfig.ts":{"content":"export const GAME_CONFIG = {\n    // Drawing settings\n    DRAWING_TIME: 4.5, // seconds\n    SURVIVAL_TIME: 5, // seconds\n    INITIAL_INK: 100,\n    \n    // Drawing mechanics\n    BRUSH_SIZE: 8,\n    INK_CONSUMPTION_RATE: 0.1, // ink consumed per pixel drawn (reduced from 0.5)\n    MIN_DRAW_DISTANCE: 2, // minimum distance between draw points (reduced from 5)\n    \n    // Capybara settings\n    CAPYBARA_SIZE: 40,\n    CAPYBARA_COLOR: 0x8B4513, // Brown color\n    \n    // Bee settings\n    BEE_SIZE: 15,\n    BEE_COLOR: 0xFFD700, // Gold color\n    BEE_DETECTION_RADIUS: 20,\n    \n    // Barrier settings\n    BARRIER_COLOR: 0x654321, // Dark brown\n    BARRIER_THICKNESS: 8,\n    \n    // Physics\n    BEE_TURN_SPEED: 2, // radians per second\n    WALL_BOUNCE_FORCE: 50,\n    \n    // Scoring\n    SCORE_PER_LEVEL: 100,\n    SCORE_PER_SECOND_SURVIVED: 10,\n    SCORE_BONUS_MULTIPLIER: 2, // for completing levels with ink remaining\n    \n    // Screen bounds\n    SCREEN_PADDING: 50\n};\n","size_bytes":964},"client/src/lib/levels.ts":{"content":"export interface LevelConfig {\n    id: number;\n    name: string;\n    capybaraPosition: { x: number; y: number };\n    beeSpawns: Array<{\n        x: number;\n        y: number;\n        delay: number; // seconds before spawning\n        speed: number;\n    }>;\n    timeLimit: number; // seconds for survival phase\n    inkLimit: number; // percentage of ink available\n}\n\nexport const levels: LevelConfig[] = [\n    {\n        id: 0,\n        name: \"Tutorial: Learn to Draw\",\n        capybaraPosition: { x: 400, y: 300 },\n        beeSpawns: [\n            { x: 100, y: 300, delay: 2, speed: 30 }\n        ],\n        timeLimit: 5,\n        inkLimit: 100\n    },\n    {\n        id: 1,\n        name: \"First Contact\",\n        capybaraPosition: { x: 400, y: 300 },\n        beeSpawns: [\n            { x: 100, y: 100, delay: 0, speed: 50 },\n            { x: 700, y: 100, delay: 1, speed: 50 }\n        ],\n        timeLimit: 5,\n        inkLimit: 100\n    },\n    {\n        id: 2,\n        name: \"Buzzing Trouble\",\n        capybaraPosition: { x: 400, y: 350 },\n        beeSpawns: [\n            { x: 50, y: 150, delay: 0, speed: 60 },\n            { x: 750, y: 150, delay: 0.5, speed: 60 },\n            { x: 400, y: 50, delay: 1.5, speed: 55 }\n        ],\n        timeLimit: 5,\n        inkLimit: 90\n    },\n    {\n        id: 3,\n        name: \"Swarm Alert\",\n        capybaraPosition: { x: 300, y: 300 },\n        beeSpawns: [\n            { x: 100, y: 100, delay: 0, speed: 65 },\n            { x: 700, y: 100, delay: 0, speed: 65 },\n            { x: 100, y: 500, delay: 1, speed: 65 },\n            { x: 700, y: 500, delay: 1, speed: 65 }\n        ],\n        timeLimit: 5,\n        inkLimit: 85\n    },\n    {\n        id: 4,\n        name: \"Corner Trap\",\n        capybaraPosition: { x: 150, y: 150 },\n        beeSpawns: [\n            { x: 400, y: 100, delay: 0, speed: 70 },\n            { x: 500, y: 200, delay: 0.5, speed: 70 },\n            { x: 400, y: 300, delay: 1, speed: 70 },\n            { x: 300, y: 200, delay: 1.5, speed: 70 }\n        ],\n        timeLimit: 5,\n        inkLimit: 80\n    },\n    {\n        id: 5,\n        name: \"Cross Fire\",\n        capybaraPosition: { x: 400, y: 300 },\n        beeSpawns: [\n            { x: 0, y: 300, delay: 0, speed: 75 },\n            { x: 800, y: 300, delay: 0, speed: 75 },\n            { x: 400, y: 0, delay: 1, speed: 75 },\n            { x: 400, y: 600, delay: 1, speed: 75 }\n        ],\n        timeLimit: 5,\n        inkLimit: 75\n    },\n    {\n        id: 6,\n        name: \"Diagonal Danger\",\n        capybaraPosition: { x: 400, y: 300 },\n        beeSpawns: [\n            { x: 100, y: 100, delay: 0, speed: 80 },\n            { x: 700, y: 100, delay: 0.3, speed: 80 },\n            { x: 700, y: 500, delay: 0.6, speed: 80 },\n            { x: 100, y: 500, delay: 0.9, speed: 80 },\n            { x: 400, y: 50, delay: 1.5, speed: 75 }\n        ],\n        timeLimit: 5,\n        inkLimit: 70\n    },\n    {\n        id: 7,\n        name: \"Speed Demons\",\n        capybaraPosition: { x: 300, y: 400 },\n        beeSpawns: [\n            { x: 50, y: 50, delay: 0, speed: 90 },\n            { x: 750, y: 50, delay: 0.2, speed: 90 },\n            { x: 750, y: 550, delay: 0.4, speed: 90 },\n            { x: 50, y: 550, delay: 0.6, speed: 90 },\n            { x: 400, y: 100, delay: 1, speed: 85 },\n            { x: 400, y: 500, delay: 1.2, speed: 85 }\n        ],\n        timeLimit: 5,\n        inkLimit: 65\n    },\n    {\n        id: 8,\n        name: \"Maze Runner\",\n        capybaraPosition: { x: 200, y: 450 },\n        beeSpawns: [\n            { x: 600, y: 100, delay: 0, speed: 70 },\n            { x: 600, y: 200, delay: 0.3, speed: 70 },\n            { x: 600, y: 300, delay: 0.6, speed: 70 },\n            { x: 600, y: 400, delay: 0.9, speed: 70 },\n            { x: 600, y: 500, delay: 1.2, speed: 70 },\n            { x: 100, y: 200, delay: 1.5, speed: 75 }\n        ],\n        timeLimit: 5,\n        inkLimit: 60\n    },\n    {\n        id: 9,\n        name: \"Spiral Attack\",\n        capybaraPosition: { x: 400, y: 300 },\n        beeSpawns: [\n            { x: 200, y: 150, delay: 0, speed: 85 },\n            { x: 600, y: 150, delay: 0.2, speed: 85 },\n            { x: 600, y: 450, delay: 0.4, speed: 85 },\n            { x: 200, y: 450, delay: 0.6, speed: 85 },\n            { x: 300, y: 100, delay: 0.8, speed: 85 },\n            { x: 500, y: 100, delay: 1, speed: 85 },\n            { x: 500, y: 500, delay: 1.2, speed: 85 },\n            { x: 300, y: 500, delay: 1.4, speed: 85 }\n        ],\n        timeLimit: 5,\n        inkLimit: 55\n    },\n    {\n        id: 10,\n        name: \"Chaos Theory\",\n        capybaraPosition: { x: 350, y: 350 },\n        beeSpawns: [\n            { x: 100, y: 100, delay: 0, speed: 95 },\n            { x: 700, y: 100, delay: 0.1, speed: 95 },\n            { x: 700, y: 500, delay: 0.2, speed: 95 },\n            { x: 100, y: 500, delay: 0.3, speed: 95 },\n            { x: 400, y: 50, delay: 0.5, speed: 90 },\n            { x: 750, y: 300, delay: 0.7, speed: 90 },\n            { x: 400, y: 550, delay: 0.9, speed: 90 },\n            { x: 50, y: 300, delay: 1.1, speed: 90 },\n            { x: 250, y: 200, delay: 1.3, speed: 85 },\n            { x: 550, y: 400, delay: 1.5, speed: 85 }\n        ],\n        timeLimit: 5,\n        inkLimit: 50\n    },\n    {\n        id: 11,\n        name: \"The Gauntlet\",\n        capybaraPosition: { x: 400, y: 500 },\n        beeSpawns: [\n            { x: 50, y: 50, delay: 0, speed: 100 },\n            { x: 150, y: 50, delay: 0.1, speed: 100 },\n            { x: 250, y: 50, delay: 0.2, speed: 100 },\n            { x: 350, y: 50, delay: 0.3, speed: 100 },\n            { x: 450, y: 50, delay: 0.4, speed: 100 },\n            { x: 550, y: 50, delay: 0.5, speed: 100 },\n            { x: 650, y: 50, delay: 0.6, speed: 100 },\n            { x: 750, y: 50, delay: 0.7, speed: 100 },\n            { x: 100, y: 150, delay: 1, speed: 95 },\n            { x: 700, y: 150, delay: 1.2, speed: 95 },\n            { x: 200, y: 250, delay: 1.5, speed: 90 },\n            { x: 600, y: 250, delay: 1.7, speed: 90 }\n        ],\n        timeLimit: 5,\n        inkLimit: 45\n    },\n    {\n        id: 12,\n        name: \"Final Swarm\",\n        capybaraPosition: { x: 400, y: 300 },\n        beeSpawns: [\n            // Outer ring\n            { x: 50, y: 50, delay: 0, speed: 110 },\n            { x: 400, y: 25, delay: 0.1, speed: 110 },\n            { x: 750, y: 50, delay: 0.2, speed: 110 },\n            { x: 775, y: 300, delay: 0.3, speed: 110 },\n            { x: 750, y: 550, delay: 0.4, speed: 110 },\n            { x: 400, y: 575, delay: 0.5, speed: 110 },\n            { x: 50, y: 550, delay: 0.6, speed: 110 },\n            { x: 25, y: 300, delay: 0.7, speed: 110 },\n            // Middle ring\n            { x: 150, y: 150, delay: 0.8, speed: 105 },\n            { x: 650, y: 150, delay: 0.9, speed: 105 },\n            { x: 650, y: 450, delay: 1, speed: 105 },\n            { x: 150, y: 450, delay: 1.1, speed: 105 },\n            // Inner ring\n            { x: 250, y: 200, delay: 1.5, speed: 100 },\n            { x: 550, y: 200, delay: 1.6, speed: 100 },\n            { x: 550, y: 400, delay: 1.7, speed: 100 },\n            { x: 250, y: 400, delay: 1.8, speed: 100 }\n        ],\n        timeLimit: 5,\n        inkLimit: 40\n    }\n];\n\nexport const getLevel = (levelId: number): LevelConfig | null => {\n    return levels.find(level => level.id === levelId) || null;\n};\n\nexport const getNextLevel = (currentLevel: number): LevelConfig | null => {\n    return getLevel(currentLevel + 1);\n};\n\nexport const getTotalLevels = (): number => {\n    return levels.length;\n};\n","size_bytes":7546},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey[0] as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1376},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nconst getLocalStorage = (key: string): any =>\n  JSON.parse(window.localStorage.getItem(key) || \"null\");\nconst setLocalStorage = (key: string, value: any): void =>\n  window.localStorage.setItem(key, JSON.stringify(value));\n\nexport { getLocalStorage, setLocalStorage };\n","size_bytes":438},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/scenes/GameOverScene.ts":{"content":"import Phaser from 'phaser';\nimport { useGameState } from '../lib/stores/useGameState';\nimport { getNextLevel, getTotalLevels } from '../lib/levels';\n\nexport class GameOverScene extends Phaser.Scene {\n    private won = false;\n    private currentLevel = 1;\n    private score = 0;\n\n    constructor() {\n        super({ key: 'GameOverScene' });\n    }\n\n    create(data: { won: boolean }) {\n        const { width, height } = this.scale;\n        \n        // Update game state\n        useGameState.getState().setScene('gameover');\n        useGameState.getState().setCapybaraAlive(data.won);\n        \n        this.won = data.won;\n        const gameState = useGameState.getState();\n        this.currentLevel = gameState.level;\n        this.score = gameState.score;\n\n        // Use the same beautiful background as the game\n        const background = this.add.image(width / 2, height / 2, 'gameBackground')\n            .setDisplaySize(width, height);\n\n        // Handle resize\n        this.scale.on('resize', this.resize, this);\n        \n        // Create buttons for fallback (though React overlay is primary)\n        this.createButtons();\n    }\n\n    private createButtons() {\n        const { width, height } = this.scale;\n        const buttonY = height * 0.75;\n        \n        if (this.won) {\n            // Check if there's a next level\n            const nextLevel = getNextLevel(this.currentLevel);\n            \n            if (nextLevel) {\n                // Next Level button\n                const nextButton = this.add.rectangle(width / 2 - 120, buttonY, 200, 60, 0x2196F3)\n                    .setInteractive({ useHandCursor: true })\n                    .on('pointerdown', this.nextLevel, this)\n                    .on('pointerover', () => nextButton.setFillStyle(0x42A5F5))\n                    .on('pointerout', () => nextButton.setFillStyle(0x2196F3));\n\n                this.add.text(width / 2 - 120, buttonY, 'Next Level', {\n                    fontSize: '20px',\n                    color: '#FFFFFF',\n                    fontStyle: 'bold'\n                }).setOrigin(0.5);\n            } else {\n                // Game completed!\n                this.add.text(width / 2, height / 2 + 60, 'Congratulations!\\nYou completed all levels!', {\n                    fontSize: '24px',\n                    color: '#FFFFFF',\n                    align: 'center',\n                    stroke: '#000000',\n                    strokeThickness: 2\n                }).setOrigin(0.5);\n            }\n            \n            // Menu button\n            const menuButton = this.add.rectangle(width / 2 + 120, buttonY, 200, 60, 0x9C27B0)\n                .setInteractive({ useHandCursor: true })\n                .on('pointerdown', this.backToMenu, this)\n                .on('pointerover', () => menuButton.setFillStyle(0xAB47BC))\n                .on('pointerout', () => menuButton.setFillStyle(0x9C27B0));\n\n            this.add.text(width / 2 + 120, buttonY, 'Main Menu', {\n                fontSize: '20px',\n                color: '#FFFFFF',\n                fontStyle: 'bold'\n            }).setOrigin(0.5);\n            \n        } else {\n            // Restart button\n            const restartButton = this.add.rectangle(width / 2 - 120, buttonY, 200, 60, 0xFF9800)\n                .setInteractive({ useHandCursor: true })\n                .on('pointerdown', this.restartLevel, this)\n                .on('pointerover', () => restartButton.setFillStyle(0xFFB74D))\n                .on('pointerout', () => restartButton.setFillStyle(0xFF9800));\n\n            this.add.text(width / 2 - 120, buttonY, 'Retry Level', {\n                fontSize: '20px',\n                color: '#FFFFFF',\n                fontStyle: 'bold'\n            }).setOrigin(0.5);\n\n            // Menu button\n            const menuButton = this.add.rectangle(width / 2 + 120, buttonY, 200, 60, 0x9C27B0)\n                .setInteractive({ useHandCursor: true })\n                .on('pointerdown', this.backToMenu, this)\n                .on('pointerover', () => menuButton.setFillStyle(0xAB47BC))\n                .on('pointerout', () => menuButton.setFillStyle(0x9C27B0));\n\n            this.add.text(width / 2 + 120, buttonY, 'Main Menu', {\n                fontSize: '20px',\n                color: '#FFFFFF',\n                fontStyle: 'bold'\n            }).setOrigin(0.5);\n        }\n    }\n\n    private nextLevel() {\n        const gameState = useGameState.getState();\n        const nextLevelNum = this.currentLevel + 1;\n        \n        // Update game state before transitioning\n        gameState.setLevel(nextLevelNum);\n        gameState.setCapybaraAlive(true);\n        gameState.setScene('game');\n        \n        // Play success sound\n        if (this.sound.get('success')) {\n            this.sound.play('success', { volume: 0.3 });\n        }\n        \n        // Clean up before transitioning\n        this.scale.off('resize', this.resize, this);\n        \n        this.scene.start('GameScene');\n    }\n\n    private restartLevel() {\n        // Reset score for retry\n        useGameState.getState().setScore(Math.max(0, this.score - 50)); // Small penalty for retry\n        \n        // Reset capybara alive state before restarting\n        useGameState.getState().setCapybaraAlive(true);\n        \n        this.scene.start('GameScene');\n    }\n\n    private backToMenu() {\n        useGameState.getState().resetGame();\n        this.scene.start('MenuScene');\n    }\n\n    private resize(gameSize: Phaser.Structs.Size) {\n        // Handle responsive resizing if needed\n    }\n}\n","size_bytes":5501},"client/src/scenes/GameScene.ts":{"content":"import Phaser from 'phaser';\nimport { useGameState } from '../lib/stores/useGameState';\nimport { useAuthStore } from '../lib/stores/useWallet';\nimport { getLevel } from '../lib/levels';\nimport { GAME_CONFIG } from '../lib/gameConfig';\n\ninterface Bee {\n    sprite: Phaser.GameObjects.Rectangle;\n    speed: number;\n    targetX: number;\n    targetY: number;\n    active: boolean;\n}\n\nexport class GameScene extends Phaser.Scene {\n    private capybara!: Phaser.GameObjects.Graphics;\n    private bees: Bee[] = [];\n    private barriers: Phaser.GameObjects.Graphics[] = [];\n    private barrierPoints: Array<{x1: number, y1: number, x2: number, y2: number, type: string, width?: number}> = [];\n    private currentBarrier: Phaser.GameObjects.Graphics | null = null;\n    private currentBarrierGlow: Phaser.GameObjects.Graphics | null = null;\n    private currentBarrierCore: Phaser.GameObjects.Graphics | null = null;\n    private currentBarrierType: 'normal' | 'temporary' | 'bouncy' | 'explosive' = 'normal';\n    private powerUps: Array<{sprite: Phaser.GameObjects.Image, type: string, x: number, y: number}> = [];\n    \n    private gameTimer!: Phaser.Time.TimerEvent;\n    private isDrawingPhase = true;\n    private currentInk = 100;\n    private lastDrawPoint: { x: number; y: number } | null = null;\n    private lastDrawTime: number = 0;\n    private drawingCursor: Phaser.GameObjects.Graphics | null = null;\n    \n    private currentLevel = 1;\n    private isGameActive = false;\n    private skyBackground!: Phaser.GameObjects.Image;\n    private grassBackground!: Phaser.GameObjects.TileSprite;\n    private scaleListener?: () => void;\n\n    constructor() {\n        super({ key: 'GameScene' });\n    }\n\n    preload() {\n        this.load.image('gameBackground', '/images/level_map_bg.png?v=2');\n        this.load.image('capybaraSprite', '/images/enhanced_capybara.png?v=2');\n        this.load.image('beeSprite', '/images/enhanced_bee.png?v=2');\n        this.load.image('leaf', '/images/enhanced_capybara.png?v=2');\n        \n        // Load comprehensive audio library for AAA experience\n        this.load.audio('background', '/sounds/background.mp3');\n        this.load.audio('success', '/sounds/success.mp3');\n        this.load.audio('hit', '/sounds/hit.mp3');\n        \n        // Note: Using procedural ambient audio instead of file-based for better compatibility\n    }\n\n    create() {\n        const { width, height } = this.scale;\n        \n        // Update game state\n        useGameState.getState().setScene('game');\n        \n        // Initialize level\n        this.currentLevel = useGameState.getState().level;\n        const levelConfig = getLevel(this.currentLevel);\n        \n        if (!levelConfig) {\n            console.error('Level not found:', this.currentLevel);\n            this.scene.start('MenuScene');\n            return;\n        }\n\n        // Beautiful seamless game background\n        this.skyBackground = this.add.image(width / 2, height / 2, 'gameBackground')\n            .setDisplaySize(width, height);\n\n        // Create capybara\n        this.createCapybara(levelConfig.capybaraPosition.x, levelConfig.capybaraPosition.y);\n        \n        // Reset drawing phase state for new level\n        this.isDrawingPhase = true;\n        this.currentBarrier = null;\n        this.currentBarrierGlow = null;\n        this.currentBarrierCore = null;\n        this.lastDrawPoint = null;\n        this.drawingCursor = null;\n        \n        // Clear any existing barriers and bees from previous level\n        this.barriers.forEach(barrier => barrier.destroy());\n        this.barriers = [];\n        this.barrierPoints = [];\n        this.bees.forEach(bee => bee.sprite.destroy());\n        this.bees = [];\n        this.powerUps.forEach(powerUp => powerUp.sprite.destroy());\n        this.powerUps = [];\n        \n        // Setup input for drawing\n        this.setupDrawingInput();\n        \n        // Initialize game state\n        this.currentInk = levelConfig.inkLimit;\n        useGameState.getState().setInk(this.currentInk);\n        useGameState.getState().setTimeLeft(GAME_CONFIG.DRAWING_TIME + GAME_CONFIG.SURVIVAL_TIME);\n        useGameState.getState().setCapybaraAlive(true);\n        useGameState.getState().setIsDrawing(false);\n        \n        // Initialize AAA audio system\n        this.initializeAdvancedAudioSystem();\n        \n        // Start game timer\n        this.startGameTimer(levelConfig);\n        \n        // Spawn power-ups randomly during drawing phase\n        this.spawnPowerUps();\n        \n        // Handle resize\n        this.scaleListener = () => this.resize();\n        this.scale.on('resize', this.scaleListener);\n        \n        this.isGameActive = true;\n    }\n\n    private createCollisionParticles(x: number, y: number) {\n        // Create explosion-like particles when bee hits barrier\n        for (let i = 0; i < 8; i++) {\n            const particle = this.add.circle(x, y, 3, 0xfbbf24, 1);\n            particle.setDepth(15);\n            \n            const angle = (i / 8) * Math.PI * 2;\n            const speed = 50 + Math.random() * 50;\n            \n            this.tweens.add({\n                targets: particle,\n                x: x + Math.cos(angle) * speed,\n                y: y + Math.sin(angle) * speed,\n                alpha: 0,\n                scale: 0.2,\n                duration: 300,\n                ease: 'Power2',\n                onComplete: () => particle.destroy()\n            });\n        }\n    }\n\n    private createCapybaraSparkles(x: number, y: number) {\n        // Create gentle sparkles around the capybara\n        this.time.addEvent({\n            delay: 1500,\n            callback: () => {\n                if (!this.isGameActive) return;\n                \n                for (let i = 0; i < 3; i++) {\n                    const sparkle = this.add.circle(\n                        x + (Math.random() - 0.5) * 60,\n                        y + (Math.random() - 0.5) * 60,\n                        2, 0xffeb3b, 0.8\n                    );\n                    sparkle.setDepth(12);\n                    \n                    this.tweens.add({\n                        targets: sparkle,\n                        y: sparkle.y - 20,\n                        alpha: 0,\n                        scale: 1.5,\n                        duration: 1000,\n                        ease: 'Power1',\n                        onComplete: () => sparkle.destroy()\n                    });\n                }\n            },\n            repeat: -1\n        });\n    }\n\n    private spawnPowerUps() {\n        // Spawn power-ups every 3-5 seconds during drawing phase\n        this.time.addEvent({\n            delay: 3000 + Math.random() * 2000,\n            callback: () => {\n                if (!this.isDrawingPhase || !this.isGameActive) return;\n                \n                this.createPowerUp();\n            },\n            repeat: 2 // Spawn up to 3 power-ups during drawing phase\n        });\n    }\n\n    private createPowerUp() {\n        const types = ['extra-ink', 'slow-motion', 'shield'];\n        const type = types[Math.floor(Math.random() * types.length)];\n        \n        // Random position on screen\n        const x = 100 + Math.random() * 600;\n        const y = 100 + Math.random() * 400;\n        \n        // Create power-up sprite (using capybara image as placeholder)\n        const sprite = this.add.image(x, y, 'capybaraSprite')\n            .setScale(0.08)\n            .setDepth(11)\n            .setTint(this.getPowerUpColor(type));\n        \n        // Add floating animation\n        this.tweens.add({\n            targets: sprite,\n            y: y - 10,\n            duration: 1500,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        // Add pulsing effect\n        this.tweens.add({\n            targets: sprite,\n            scale: 0.1,\n            duration: 1000,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        // Store power-up data\n        this.powerUps.push({ sprite, type, x, y });\n        \n        // Auto-remove after 10 seconds if not collected\n        this.time.delayedCall(10000, () => {\n            this.removePowerUp(sprite);\n        });\n    }\n\n    private getPowerUpColor(type: string): number {\n        switch (type) {\n            case 'extra-ink': return 0x3b82f6; // Blue\n            case 'slow-motion': return 0x8b5cf6; // Purple  \n            case 'shield': return 0xf59e0b; // Yellow\n            default: return 0xffffff;\n        }\n    }\n\n    private removePowerUp(sprite: Phaser.GameObjects.Image) {\n        const index = this.powerUps.findIndex(p => p.sprite === sprite);\n        if (index > -1) {\n            this.powerUps.splice(index, 1);\n            sprite.destroy();\n        }\n    }\n\n    private checkPowerUpCollection() {\n        // Check if player's cursor/touch is near any power-ups during drawing\n        if (!this.isDrawingPhase || !this.input.activePointer) return;\n        \n        const pointer = this.input.activePointer;\n        this.powerUps.forEach(powerUp => {\n            const distance = Phaser.Math.Distance.Between(\n                pointer.x, pointer.y, \n                powerUp.sprite.x, powerUp.sprite.y\n            );\n            \n            if (distance < 30) {\n                this.collectPowerUp(powerUp);\n            }\n        });\n    }\n\n    private collectPowerUp(powerUp: {sprite: Phaser.GameObjects.Image, type: string, x: number, y: number}) {\n        // Play collection sound\n        if (this.sound.get('success')) {\n            this.sound.play('success', { volume: 0.4 });\n        }\n        \n        // Create collection effect\n        this.createCollectionEffect(powerUp.x, powerUp.y);\n        \n        // Apply power-up effect\n        this.applyPowerUpEffect(powerUp.type);\n        \n        // Remove power-up\n        this.removePowerUp(powerUp.sprite);\n    }\n\n    private createCollectionEffect(x: number, y: number) {\n        // Create sparkling collection effect\n        for (let i = 0; i < 6; i++) {\n            const particle = this.add.circle(x, y, 3, 0xfbbf24, 1);\n            particle.setDepth(15);\n            \n            const angle = (i / 6) * Math.PI * 2;\n            const speed = 40;\n            \n            this.tweens.add({\n                targets: particle,\n                x: x + Math.cos(angle) * speed,\n                y: y + Math.sin(angle) * speed,\n                alpha: 0,\n                scale: 1.5,\n                duration: 400,\n                ease: 'Power2',\n                onComplete: () => particle.destroy()\n            });\n        }\n    }\n\n    private applyPowerUpEffect(type: string) {\n        switch (type) {\n            case 'extra-ink':\n                // Add 25 ink points\n                this.currentInk = Math.min(100, this.currentInk + 25);\n                useGameState.getState().setInk(this.currentInk);\n                this.showPowerUpMessage('Extra Ink! +25', '#3b82f6');\n                break;\n                \n            case 'slow-motion':\n                // Slow down all bees for 3 seconds\n                this.bees.forEach(bee => {\n                    if (bee.active) {\n                        bee.speed *= 0.3; // Slow to 30% speed\n                    }\n                });\n                this.showPowerUpMessage('Slow Motion!', '#8b5cf6');\n                \n                // Restore normal speed after 3 seconds\n                this.time.delayedCall(3000, () => {\n                    this.bees.forEach(bee => {\n                        if (bee.active) {\n                            bee.speed /= 0.3; // Restore original speed\n                        }\n                    });\n                });\n                break;\n                \n            case 'shield':\n                // Create protective shield around capybara\n                this.createShield();\n                this.showPowerUpMessage('Shield Active!', '#f59e0b');\n                break;\n        }\n    }\n\n    private showPowerUpMessage(text: string, color: string) {\n        const message = this.add.text(400, 200, text, {\n            fontSize: '28px',\n            color: color,\n            stroke: '#000000',\n            strokeThickness: 2\n        }).setOrigin(0.5).setDepth(20);\n        \n        this.tweens.add({\n            targets: message,\n            alpha: 0,\n            y: 170,\n            scale: 1.2,\n            duration: 2000,\n            onComplete: () => message.destroy()\n        });\n    }\n\n    private createShield() {\n        const shield = this.add.circle(this.capybara.x, this.capybara.y, 35, 0xf59e0b, 0.3)\n            .setDepth(9);\n        \n        // Shield animation\n        this.tweens.add({\n            targets: shield,\n            scale: 1.1,\n            duration: 500,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        // Shield blocks bees for 5 seconds\n        const originalCollisionRadius = 20;\n        const shieldRadius = 35;\n        \n        this.time.delayedCall(5000, () => {\n            shield.destroy();\n        });\n        \n        // Store shield reference for collision detection\n        (this.capybara as any).shield = { active: true, radius: shieldRadius };\n        this.time.delayedCall(5000, () => {\n            (this.capybara as any).shield = null;\n        });\n    }\n\n    private drawBarrierSegment(x1: number, y1: number, x2: number, y2: number) {\n        if (!this.currentBarrier) return;\n        \n        switch (this.currentBarrierType) {\n            case 'normal':\n                // Green magical barrier\n                this.currentBarrier.lineStyle(16, 0x4ade80, 0.4);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                this.currentBarrier.lineStyle(12, 0x22c55e, 0.7);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                this.currentBarrier.lineStyle(8, 0xfbbf24, 1.0);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                break;\n                \n            case 'temporary':\n                // Orange flickering barrier\n                this.currentBarrier.lineStyle(16, 0xff8c00, 0.6);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                this.currentBarrier.lineStyle(8, 0xff4500, 1.0);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                break;\n                \n            case 'bouncy':\n                // Purple elastic barrier\n                this.currentBarrier.lineStyle(16, 0x9333ea, 0.5);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                this.currentBarrier.lineStyle(8, 0x7c3aed, 1.0);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                break;\n                \n            case 'explosive':\n                // Red danger barrier\n                this.currentBarrier.lineStyle(16, 0xef4444, 0.7);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                this.currentBarrier.lineStyle(8, 0xdc2626, 1.0);\n                this.currentBarrier.lineBetween(x1, y1, x2, y2);\n                break;\n        }\n    }\n\n    private cycleBarrierType() {\n        const types: Array<'normal' | 'temporary' | 'bouncy' | 'explosive'> = ['normal', 'temporary', 'bouncy', 'explosive'];\n        const currentIndex = types.indexOf(this.currentBarrierType);\n        this.currentBarrierType = types[(currentIndex + 1) % types.length];\n        \n        // Show barrier type indicator\n        this.showBarrierTypeIndicator();\n    }\n\n    private showBarrierTypeIndicator() {\n        const text = this.add.text(400, 100, `Barrier: ${this.currentBarrierType.toUpperCase()}`, {\n            fontSize: '24px',\n            color: this.getBarrierColor(this.currentBarrierType),\n            stroke: '#000000',\n            strokeThickness: 2\n        }).setOrigin(0.5).setDepth(20);\n        \n        this.tweens.add({\n            targets: text,\n            alpha: 0,\n            y: 80,\n            duration: 2000,\n            onComplete: () => text.destroy()\n        });\n    }\n\n    private getBarrierColor(type: string): string {\n        switch (type) {\n            case 'normal': return '#22c55e';\n            case 'temporary': return '#ff8c00';\n            case 'bouncy': return '#9333ea';\n            case 'explosive': return '#ef4444';\n            default: return '#22c55e';\n        }\n    }\n\n    private createCapybara(x: number, y: number) {\n        // Create balanced capybara sprite - good detail but appropriately sized\n        this.capybara = this.add.image(x, y, 'capybaraSprite')\n            .setScale(0.15) // Good size for gameplay while maintaining visual appeal\n            .setDepth(10) as any;\n        \n        // Add subtle glow effect\n        const glow = this.add.circle(x, y, 25, 0xffeb3b, 0.2)\n            .setDepth(9);\n        \n        // Gentle floating animation\n        this.tweens.add({\n            targets: this.capybara,\n            y: y - 5,\n            duration: 2000,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        // Store reference for collision detection\n        (this.capybara as any).originalX = x;\n        (this.capybara as any).originalY = y;\n        \n        // Create sparkle particles around capybara\n        this.createCapybaraSparkles(x, y);\n    }\n\n    private setupDrawingInput() {\n        // Remove any existing listeners first to prevent duplicates\n        this.input.off('pointerdown', this.startDrawing, this);\n        this.input.off('pointermove', this.continueDrawing, this);\n        this.input.off('pointerup', this.stopDrawing, this);\n        \n        // Add fresh input listeners\n        this.input.on('pointerdown', this.startDrawing, this);\n        this.input.on('pointermove', this.continueDrawing, this);\n        this.input.on('pointerup', this.stopDrawing, this);\n        \n        // Add keyboard input for barrier type cycling\n        this.input.keyboard?.off('keydown-SPACE'); // Remove existing listener\n        this.input.keyboard?.on('keydown-SPACE', () => {\n            if (this.isDrawingPhase) {\n                this.cycleBarrierType();\n            }\n        });\n        \n        console.log('Drawing input setup complete for level', this.currentLevel, 'Drawing phase:', this.isDrawingPhase);\n    }\n\n    private startDrawing(pointer: Phaser.Input.Pointer) {\n        if (!this.isDrawingPhase) return;\n        \n        // Create multiple layers for advanced visual effects\n        this.currentBarrier = this.add.graphics();\n        this.currentBarrierGlow = this.add.graphics();\n        this.currentBarrierCore = this.add.graphics();\n        \n        // Set proper layering\n        this.currentBarrierGlow.setDepth(3);\n        this.currentBarrier.setDepth(4);\n        this.currentBarrierCore.setDepth(5);\n        \n        this.barriers.push(this.currentBarrier);\n        this.barriers.push(this.currentBarrierGlow);\n        this.barriers.push(this.currentBarrierCore);\n        \n        this.lastDrawPoint = { x: pointer.x, y: pointer.y };\n        this.lastDrawTime = this.time.now;\n        useGameState.getState().setIsDrawing(true);\n        \n        // Advanced drawing start effects\n        this.createDrawingStartEffect(pointer.x, pointer.y);\n        \n        // Play enhanced drawing sound with spatial audio\n        this.createSpatialAudio(pointer.x, pointer.y, 'success', {\n            volumeMultiplier: 0.3,\n            rate: 0.8 + Math.random() * 0.4,\n            detune: Math.random() * 200 - 100\n        });\n\n        // Create drawing cursor effect\n        this.createDrawingCursor(pointer.x, pointer.y);\n    }\n\n    private continueDrawing(pointer: Phaser.Input.Pointer) {\n        if (!this.isDrawingPhase || !this.currentBarrier || !this.lastDrawPoint) return;\n        \n        const distance = Phaser.Math.Distance.Between(\n            this.lastDrawPoint.x, this.lastDrawPoint.y,\n            pointer.x, pointer.y\n        );\n        \n        if (distance < GAME_CONFIG.MIN_DRAW_DISTANCE) return;\n\n        // Calculate drawing speed for dynamic line width and effects\n        const currentTime = this.time.now;\n        const timeDelta = currentTime - (this.lastDrawTime || currentTime);\n        const speed = Math.min(distance / Math.max(timeDelta, 1), 50);\n        this.lastDrawTime = currentTime;\n\n        // Dynamic line width based on speed (slower = thicker, more precise)\n        const baseWidth = this.getBaseLineWidth();\n        const speedMultiplier = Math.max(0.5, 2 - speed * 0.1);\n        const dynamicWidth = baseWidth * speedMultiplier;\n\n        // Create smooth bezier curve instead of straight lines\n        const midX = (this.lastDrawPoint.x + pointer.x) / 2;\n        const midY = (this.lastDrawPoint.y + pointer.y) / 2;\n        \n        // Store curve data for collision detection (use multiple points along curve)\n        const curvePoints = this.generateCurvePoints(\n            this.lastDrawPoint.x, this.lastDrawPoint.y,\n            midX, midY, \n            pointer.x, pointer.y\n        );\n\n        curvePoints.forEach((point, index) => {\n            if (index > 0) {\n                this.barrierPoints.push({\n                    x1: curvePoints[index - 1].x,\n                    y1: curvePoints[index - 1].y,\n                    x2: point.x,\n                    y2: point.y,\n                    type: this.currentBarrierType,\n                    width: dynamicWidth\n                });\n            }\n        });\n\n        // Draw smooth curve with advanced visual effects\n        this.drawAdvancedBarrierCurve(\n            this.lastDrawPoint.x, this.lastDrawPoint.y,\n            midX, midY,\n            pointer.x, pointer.y,\n            dynamicWidth,\n            speed\n        );\n\n        // Advanced particle trail following the drawing\n        this.createDrawingParticleTrail(pointer.x, pointer.y, speed);\n\n        // Check for power-up collection while drawing\n        this.checkPowerUpCollection();\n\n        // Advanced ink consumption with visual feedback\n        if (this.currentInk > 0) {\n            const inkToConsume = Math.min(distance * GAME_CONFIG.INK_CONSUMPTION_RATE, this.currentInk);\n            this.currentInk -= inkToConsume;\n            this.currentInk = Math.max(0, this.currentInk);\n            useGameState.getState().setInk(this.currentInk);\n            \n            // Visual ink splash effects\n            if (Math.random() < 0.1) {\n                this.createInkSplash(pointer.x, pointer.y);\n            }\n        } else {\n            // Low ink warning effects\n            if (Math.random() < 0.3) {\n                this.createLowInkWarning(pointer.x, pointer.y);\n            }\n        }\n\n        this.lastDrawPoint = { x: pointer.x, y: pointer.y };\n    }\n\n    private stopDrawing() {\n        // Advanced drawing end effects\n        if (this.lastDrawPoint) {\n            this.createDrawingEndEffect(this.lastDrawPoint.x, this.lastDrawPoint.y);\n        }\n        \n        this.currentBarrier = null;\n        this.currentBarrierGlow = null;\n        this.currentBarrierCore = null;\n        this.lastDrawPoint = null;\n        useGameState.getState().setIsDrawing(false);\n        \n        // Remove drawing cursor\n        if (this.drawingCursor) {\n            this.drawingCursor.destroy();\n            this.drawingCursor = null;\n        }\n    }\n\n    // ==== ADVANCED DRAWING SYSTEM METHODS ====\n\n    private getBaseLineWidth(): number {\n        switch (this.currentBarrierType) {\n            case 'normal': return 12;\n            case 'temporary': return 8;\n            case 'bouncy': return 16;\n            case 'explosive': return 20;\n            default: return 12;\n        }\n    }\n\n    private generateCurvePoints(x1: number, y1: number, midX: number, midY: number, x2: number, y2: number): Array<{x: number, y: number}> {\n        const points = [];\n        const segments = 8; // Higher = smoother collision detection\n        \n        for (let i = 0; i <= segments; i++) {\n            const t = i / segments;\n            const invT = 1 - t;\n            \n            // Quadratic Bezier curve formula\n            const x = invT * invT * x1 + 2 * invT * t * midX + t * t * x2;\n            const y = invT * invT * y1 + 2 * invT * t * midY + t * t * y2;\n            \n            points.push({ x, y });\n        }\n        \n        return points;\n    }\n\n    private drawAdvancedBarrierCurve(x1: number, y1: number, midX: number, midY: number, x2: number, y2: number, width: number, speed: number) {\n        if (!this.currentBarrier || !this.currentBarrierGlow || !this.currentBarrierCore) return;\n\n        const barrierColor = this.getBarrierColorHex(this.currentBarrierType);\n        const glowColor = this.getBarrierGlowColor(this.currentBarrierType);\n        \n        // Outer glow layer - use lineBetween for compatibility\n        this.currentBarrierGlow.lineStyle(width * 2.5, glowColor, 0.2);\n        this.currentBarrierGlow.lineBetween(x1, y1, x2, y2);\n\n        // Main barrier layer\n        this.currentBarrier.lineStyle(width, barrierColor, 0.9);\n        this.currentBarrier.lineBetween(x1, y1, x2, y2);\n\n        // Core highlight layer\n        this.currentBarrierCore.lineStyle(width * 0.4, 0xffffff, 0.6);\n        this.currentBarrierCore.lineBetween(x1, y1, x2, y2);\n        \n        // Add curve effect with additional segments for smoothness\n        const segments = 3;\n        for (let i = 1; i < segments; i++) {\n            const t = i / segments;\n            const curveX = x1 + t * (x2 - x1) + Math.sin(t * Math.PI) * (midX - (x1 + x2) / 2) * 0.3;\n            const curveY = y1 + t * (y2 - y1) + Math.sin(t * Math.PI) * (midY - (y1 + y2) / 2) * 0.3;\n            \n            this.currentBarrier.lineStyle(width * (1 - t * 0.3), barrierColor, 0.8);\n            this.currentBarrier.lineBetween(\n                x1 + (t - 0.1) * (x2 - x1), y1 + (t - 0.1) * (y2 - y1),\n                curveX, curveY\n            );\n        }\n    }\n\n    private getBarrierColorHex(type: string): number {\n        switch (type) {\n            case 'normal': return 0x22c55e;\n            case 'temporary': return 0xff8c00;\n            case 'bouncy': return 0x9333ea;\n            case 'explosive': return 0xef4444;\n            default: return 0x22c55e;\n        }\n    }\n\n    private getBarrierGlowColor(type: string): number {\n        switch (type) {\n            case 'normal': return 0x86efac;\n            case 'temporary': return 0xfbbf24;\n            case 'bouncy': return 0xc084fc;\n            case 'explosive': return 0xf87171;\n            default: return 0x86efac;\n        }\n    }\n\n    private createDrawingParticleTrail(x: number, y: number, speed: number) {\n        const particleCount = Math.min(Math.floor(speed * 0.3) + 1, 5);\n        \n        for (let i = 0; i < particleCount; i++) {\n            const particle = this.add.circle(\n                x + (Math.random() - 0.5) * 10,\n                y + (Math.random() - 0.5) * 10,\n                Math.random() * 3 + 1,\n                this.getBarrierColorHex(this.currentBarrierType),\n                0.8\n            ).setDepth(6);\n\n            this.tweens.add({\n                targets: particle,\n                alpha: 0,\n                scale: 0,\n                duration: 300 + Math.random() * 200,\n                ease: 'Cubic.easeOut',\n                onComplete: () => particle.destroy()\n            });\n        }\n    }\n\n    private createInkSplash(x: number, y: number) {\n        const splashCount = 3 + Math.floor(Math.random() * 3);\n        \n        for (let i = 0; i < splashCount; i++) {\n            const splash = this.add.circle(\n                x + (Math.random() - 0.5) * 20,\n                y + (Math.random() - 0.5) * 20,\n                Math.random() * 2 + 1,\n                0x6366f1,\n                0.6\n            ).setDepth(6);\n\n            this.tweens.add({\n                targets: splash,\n                alpha: 0,\n                x: splash.x + (Math.random() - 0.5) * 30,\n                y: splash.y + (Math.random() - 0.5) * 30,\n                duration: 400,\n                ease: 'Quad.easeOut',\n                onComplete: () => splash.destroy()\n            });\n        }\n    }\n\n    private createLowInkWarning(x: number, y: number) {\n        const warning = this.add.circle(x, y, 8, 0xff4444, 0.7).setDepth(6);\n        \n        this.tweens.add({\n            targets: warning,\n            alpha: 0,\n            scale: 2,\n            duration: 500,\n            ease: 'Cubic.easeOut',\n            onComplete: () => warning.destroy()\n        });\n    }\n\n    private createDrawingStartEffect(x: number, y: number) {\n        const ripples = 3;\n        \n        for (let i = 0; i < ripples; i++) {\n            const ripple = this.add.circle(x, y, 2, this.getBarrierGlowColor(this.currentBarrierType), 0.5).setDepth(6);\n            \n            this.tweens.add({\n                targets: ripple,\n                scale: 8 + i * 2,\n                alpha: 0,\n                duration: 800 + i * 200,\n                ease: 'Cubic.easeOut',\n                delay: i * 100,\n                onComplete: () => ripple.destroy()\n            });\n        }\n    }\n\n    private createDrawingEndEffect(x: number, y: number) {\n        const burst = this.add.circle(x, y, 5, this.getBarrierColorHex(this.currentBarrierType), 0.8).setDepth(6);\n        \n        this.tweens.add({\n            targets: burst,\n            scale: 3,\n            alpha: 0,\n            duration: 400,\n            ease: 'Back.easeOut',\n            onComplete: () => burst.destroy()\n        });\n    }\n\n    private createDrawingCursor(x: number, y: number) {\n        this.drawingCursor = this.add.graphics();\n        this.drawingCursor.setDepth(10);\n        \n        const updateCursor = () => {\n            if (!this.drawingCursor || !this.input.activePointer) return;\n            \n            this.drawingCursor.clear();\n            const pointer = this.input.activePointer;\n            \n            // Dynamic cursor based on barrier type\n            const radius = this.getBaseLineWidth() / 2;\n            const color = this.getBarrierColorHex(this.currentBarrierType);\n            \n            this.drawingCursor.lineStyle(2, color, 0.8);\n            this.drawingCursor.strokeCircle(pointer.x, pointer.y, radius);\n            \n            // Inner dot\n            this.drawingCursor.fillStyle(color, 0.6);\n            this.drawingCursor.fillCircle(pointer.x, pointer.y, 2);\n        };\n\n        this.input.on('pointermove', updateCursor);\n    }\n\n    private startAdvancedNatureSounds() {\n        // Wind sounds\n        this.time.addEvent({\n            delay: 8000 + Math.random() * 12000,\n            callback: () => {\n                if (!this.isGameActive) return;\n                \n                this.createProceduralSound('wind', {\n                    frequency: 60 + Math.random() * 40,\n                    duration: 2000 + Math.random() * 3000,\n                    volume: 0.03 + Math.random() * 0.02\n                });\n            },\n            repeat: -1\n        });\n\n        // Insects/cricket sounds\n        this.time.addEvent({\n            delay: 3000 + Math.random() * 5000,\n            callback: () => {\n                if (!this.isGameActive) return;\n                \n                this.createProceduralSound('insect', {\n                    frequency: 1200 + Math.random() * 800,\n                    duration: 100 + Math.random() * 200,\n                    volume: 0.04 + Math.random() * 0.02\n                });\n            },\n            repeat: -1\n        });\n    }\n\n    // ==== AAA AUDIO SYSTEM ====\n\n    private audioSystem = {\n        musicVolume: 0.6,\n        sfxVolume: 0.8,\n        ambientVolume: 0.4,\n        backgroundMusic: null as Phaser.Sound.BaseSound | null,\n        ambientSound: null as Phaser.Sound.BaseSound | null,\n        currentMusicIntensity: 0.5,\n        soundPool: new Map<string, Phaser.Sound.BaseSound[]>()\n    };\n\n    private initializeAdvancedAudioSystem() {\n        // Start layered background music system\n        this.startDynamicMusic();\n        \n        // Initialize ambient soundscape\n        this.startAmbientSounds();\n        \n        // Pre-load sound effects pool for performance\n        this.initializeSoundPool();\n        \n        // Set up dynamic audio mixing\n        this.setupDynamicAudioMixing();\n    }\n\n    private startDynamicMusic() {\n        // Main background music with dynamic layering\n        this.audioSystem.backgroundMusic = this.sound.add('background', {\n            volume: this.audioSystem.musicVolume,\n            loop: true\n        });\n        \n        this.audioSystem.backgroundMusic.play();\n        \n        // Add music intensity system\n        this.updateMusicIntensity(0.3); // Start calm\n    }\n\n    private startAmbientSounds() {\n        // Use only procedural ambient audio for better compatibility\n        console.log('Using procedural ambient audio system for immersive experience');\n        \n        // Enhanced procedural nature sounds\n        this.startProceduralAmbience();\n        this.startAdvancedNatureSounds();\n    }\n\n    private initializeSoundPool() {\n        // Pre-create sound instances for rapid-fire effects\n        const soundTypes = ['success', 'hit'];\n        \n        soundTypes.forEach(soundType => {\n            const pool: Phaser.Sound.BaseSound[] = [];\n            for (let i = 0; i < 10; i++) {\n                pool.push(this.sound.add(soundType, { volume: this.audioSystem.sfxVolume }));\n            }\n            this.audioSystem.soundPool.set(soundType, pool);\n        });\n    }\n\n    private setupDynamicAudioMixing() {\n        // React to game state changes for dynamic audio\n        this.time.addEvent({\n            delay: 1000,\n            callback: () => {\n                this.updateAudioBasedOnGameState();\n            },\n            repeat: -1\n        });\n    }\n\n    private updateAudioBasedOnGameState() {\n        if (!this.isGameActive) return;\n        \n        // Calculate dynamic intensity based on threat level\n        const beeCount = this.bees.filter(bee => bee.active).length;\n        const threatLevel = Math.min(beeCount / 10, 1.0);\n        const timeProgress = this.isDrawingPhase ? 0.3 : 0.8;\n        \n        const targetIntensity = Math.max(threatLevel, timeProgress);\n        this.updateMusicIntensity(targetIntensity);\n        \n        // Adjust ambient sounds\n        this.updateAmbientIntensity(targetIntensity);\n    }\n\n    private updateMusicIntensity(intensity: number) {\n        if (!this.audioSystem.backgroundMusic) return;\n        \n        // Smooth intensity transition\n        const smoothIntensity = Phaser.Math.Linear(\n            this.audioSystem.currentMusicIntensity,\n            intensity,\n            0.05\n        );\n        \n        this.audioSystem.currentMusicIntensity = smoothIntensity;\n        \n        // Adjust volume and pitch based on intensity\n        const volume = this.audioSystem.musicVolume * (0.5 + smoothIntensity * 0.5);\n        const rate = 0.9 + smoothIntensity * 0.2;\n        \n        try {\n            (this.audioSystem.backgroundMusic as any).setVolume?.(volume);\n            (this.audioSystem.backgroundMusic as any).setRate?.(rate);\n        } catch (e) {\n            // Fallback for different Phaser sound implementations\n        }\n    }\n\n    private updateAmbientIntensity(intensity: number) {\n        if (!this.audioSystem.ambientSound) return;\n        \n        const volume = this.audioSystem.ambientVolume * (1 - intensity * 0.3);\n        try {\n            (this.audioSystem.ambientSound as any).setVolume?.(volume);\n        } catch (e) {\n            // Fallback for different Phaser sound implementations\n        }\n    }\n\n    private startProceduralAmbience() {\n        // Generate procedural nature sounds\n        this.time.addEvent({\n            delay: 2000 + Math.random() * 3000,\n            callback: () => {\n                if (!this.isGameActive) return;\n                \n                // Random nature sounds using oscillator\n                this.createProceduralSound('bird', {\n                    frequency: 800 + Math.random() * 400,\n                    duration: 200 + Math.random() * 300,\n                    volume: 0.1 + Math.random() * 0.1\n                });\n            },\n            repeat: -1\n        });\n        \n        // Water ripple sounds\n        this.time.addEvent({\n            delay: 5000 + Math.random() * 5000,\n            callback: () => {\n                if (!this.isGameActive) return;\n                \n                this.createProceduralSound('water', {\n                    frequency: 100 + Math.random() * 200,\n                    duration: 500 + Math.random() * 500,\n                    volume: 0.05 + Math.random() * 0.05\n                });\n            },\n            repeat: -1\n        });\n    }\n\n    private createProceduralSound(type: string, params: any) {\n        // Create web audio oscillator for procedural sounds\n        try {\n            const audioContext = (this.sound as any).context;\n            if (!audioContext) return;\n            \n            const oscillator = audioContext.createOscillator();\n            const gainNode = audioContext.createGain();\n            \n            oscillator.connect(gainNode);\n            gainNode.connect(audioContext.destination);\n            \n            oscillator.frequency.setValueAtTime(params.frequency, audioContext.currentTime);\n            gainNode.gain.setValueAtTime(0, audioContext.currentTime);\n            gainNode.gain.linearRampToValueAtTime(params.volume, audioContext.currentTime + 0.01);\n            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + params.duration / 1000);\n            \n            if (type === 'bird') {\n                oscillator.type = 'sine';\n                // Add frequency modulation for bird-like chirp\n                oscillator.frequency.linearRampToValueAtTime(\n                    params.frequency * 1.5,\n                    audioContext.currentTime + params.duration / 2000\n                );\n            } else if (type === 'water') {\n                oscillator.type = 'triangle';\n            }\n            \n            oscillator.start(audioContext.currentTime);\n            oscillator.stop(audioContext.currentTime + params.duration / 1000);\n        } catch (e) {\n            // Fallback to basic sound if Web Audio API fails\n            console.log('Procedural audio not available, using basic sounds');\n        }\n    }\n\n    private playAdvancedSFX(soundType: string, options: any = {}) {\n        const pool = this.audioSystem.soundPool.get(soundType);\n        if (!pool) {\n            // Fallback to direct sound play\n            const sound = this.sound.add(soundType, {\n                volume: this.audioSystem.sfxVolume * (options.volumeMultiplier || 1),\n                rate: options.rate || 1,\n                detune: options.detune || 0\n            });\n            sound.play();\n            return;\n        }\n        \n        // Use pooled sound for better performance\n        const availableSound = pool.find(sound => !sound.isPlaying);\n        if (availableSound) {\n            try {\n                (availableSound as any).setVolume?.(this.audioSystem.sfxVolume * (options.volumeMultiplier || 1));\n                (availableSound as any).setRate?.(options.rate || 1);\n                (availableSound as any).setDetune?.(options.detune || 0);\n            } catch (e) {\n                // Fallback for different Phaser sound implementations\n            }\n            availableSound.play();\n        }\n    }\n\n    private createSpatialAudio(x: number, y: number, soundType: string, options: any = {}) {\n        // Calculate 3D spatial audio effects\n        const centerX = this.scale.width / 2;\n        const centerY = this.scale.height / 2;\n        \n        const distance = Phaser.Math.Distance.Between(x, y, centerX, centerY);\n        const maxDistance = Math.max(this.scale.width, this.scale.height) / 2;\n        const normalizedDistance = Math.min(distance / maxDistance, 1);\n        \n        // Distance attenuation\n        const volumeMultiplier = (1 - normalizedDistance * 0.7) * (options.volumeMultiplier || 1);\n        \n        // Stereo panning\n        const pan = (x - centerX) / centerX;\n        \n        this.playAdvancedSFX(soundType, {\n            ...options,\n            volumeMultiplier,\n            pan: Math.max(-1, Math.min(1, pan))\n        });\n    }\n\n    private startGameTimer(levelConfig: any) {\n        let timeRemaining = GAME_CONFIG.DRAWING_TIME + GAME_CONFIG.SURVIVAL_TIME;\n        \n        this.gameTimer = this.time.addEvent({\n            delay: 100, // Update every 100ms\n            callback: () => {\n                timeRemaining -= 0.1;\n                useGameState.getState().setTimeLeft(Math.max(0, timeRemaining));\n                \n                // Switch to survival phase\n                if (timeRemaining <= GAME_CONFIG.SURVIVAL_TIME && this.isDrawingPhase) {\n                    this.isDrawingPhase = false;\n                    console.log(\"Switching to survival phase, spawning bees. Total barriers:\", this.barriers.length);\n                    this.spawnBees(levelConfig);\n                }\n                \n                // Game over\n                if (timeRemaining <= 0) {\n                    this.endGame(true); // Survived!\n                }\n            },\n            repeat: -1\n        });\n    }\n\n    private spawnBees(levelConfig: any) {\n        levelConfig.beeSpawns.forEach((spawn: any) => {\n            this.time.delayedCall(spawn.delay * 1000, () => {\n                this.createBee(spawn.x, spawn.y, spawn.speed);\n            });\n        });\n    }\n\n    private createBee(x: number, y: number, speed: number) {\n        // Create balanced bee sprite - appealing but properly sized\n        const beeSprite = this.add.image(x, y, 'beeSprite')\n            .setScale(0.12) // Good size for gameplay while maintaining charm\n            .setDepth(8);\n        \n        // Add wing flutter animation\n        this.tweens.add({\n            targets: beeSprite,\n            scaleX: 0.11,\n            scaleY: 0.13,\n            duration: 150,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        // Add subtle buzzing movement\n        this.tweens.add({\n            targets: beeSprite,\n            angle: { from: -3, to: 3 },\n            duration: 400,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        const bee: Bee = {\n            sprite: beeSprite as any,\n            speed: speed,\n            targetX: (this.capybara as any).originalX || this.capybara.x,\n            targetY: (this.capybara as any).originalY || this.capybara.y,\n            active: true\n        };\n        \n        this.bees.push(bee);\n    }\n\n    update() {\n        if (!this.isGameActive) return;\n        \n        // Update bees\n        this.bees.forEach(bee => {\n            if (!bee.active) return;\n            \n            // Move towards capybara\n            const angle = Phaser.Math.Angle.Between(\n                bee.sprite.x, bee.sprite.y,\n                this.capybara.x, this.capybara.y\n            );\n            \n            const deltaX = Math.cos(angle) * bee.speed * 0.016; // 60fps assumption\n            const deltaY = Math.sin(angle) * bee.speed * 0.016;\n            \n            // Check for barrier collision before moving\n            const newX = bee.sprite.x + deltaX;\n            const newY = bee.sprite.y + deltaY;\n            \n            if (!this.checkBarrierCollision(newX, newY)) {\n                bee.sprite.x = newX;\n                bee.sprite.y = newY;\n            } else {\n                // Handle collision based on barrier type\n                const collisionPoint = this.getCollisionPoint(bee.sprite.x, bee.sprite.y);\n                this.handleBarrierCollision(bee, collisionPoint);\n                \n                // Bounce off barrier - try alternative path\n                const bounceAngle = angle + Math.PI/3; // 60 degree deflection\n                const bounceX = bee.sprite.x + Math.cos(bounceAngle) * bee.speed * 0.008;\n                const bounceY = bee.sprite.y + Math.sin(bounceAngle) * bee.speed * 0.008;\n                \n                // Check if bounce path is clear\n                if (!this.checkBarrierCollision(bounceX, bounceY)) {\n                    bee.sprite.x = bounceX;\n                    bee.sprite.y = bounceY;\n                }\n                // If bounce path is also blocked, bee stays in place this frame\n            }\n            \n            // Check if bee reached capybara\n            const distanceToCapybara = Phaser.Math.Distance.Between(\n                bee.sprite.x, bee.sprite.y,\n                this.capybara.x, this.capybara.y\n            );\n            \n            // Check for shield protection first\n            const shield = (this.capybara as any).shield;\n            if (shield && shield.active && distanceToCapybara < shield.radius) {\n                // Shield blocks the bee - bounce it away\n                const bounceAngle = Math.atan2(bee.sprite.y - this.capybara.y, bee.sprite.x - this.capybara.x);\n                bee.sprite.x = this.capybara.x + Math.cos(bounceAngle) * (shield.radius + 10);\n                bee.sprite.y = this.capybara.y + Math.sin(bounceAngle) * (shield.radius + 10);\n                return; // Don't check for capybara collision if shield blocked it\n            }\n            \n            if (distanceToCapybara < 20) { // Much smaller detection radius\n                this.endGame(false); // Capybara was caught!\n            }\n        });\n    }\n\n    private checkBarrierCollision(x: number, y: number): boolean {\n        const checkRadius = 15; // Detection radius around bee position\n        \n        // Check against all drawn barrier line segments\n        for (const segment of this.barrierPoints) {\n            // Skip inactive segments (removed barriers)\n            if (segment.active === false) continue;\n            \n            const distance = this.distanceToLineSegment(x, y, segment.x1, segment.y1, segment.x2, segment.y2);\n            \n            if (distance < checkRadius) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private getCollisionPoint(beeX: number, beeY: number): {segment: any, distance: number} | null {\n        const checkRadius = 15;\n        let closestSegment = null;\n        let closestDistance = Infinity;\n        \n        for (const segment of this.barrierPoints) {\n            const distance = this.distanceToLineSegment(beeX, beeY, segment.x1, segment.y1, segment.x2, segment.y2);\n            if (distance < checkRadius && distance < closestDistance) {\n                closestDistance = distance;\n                closestSegment = segment;\n            }\n        }\n        \n        return closestSegment ? { segment: closestSegment, distance: closestDistance } : null;\n    }\n\n    private handleBarrierCollision(bee: Bee, collision: {segment: any, distance: number} | null) {\n        if (!collision) return;\n        \n        const segment = collision.segment;\n        \n        // Play hit sound\n        if (this.sound.get('hit')) {\n            this.sound.play('hit', { volume: 0.3 });\n        }\n        \n        // Create particle effect for collision\n        this.createCollisionParticles(bee.sprite.x, bee.sprite.y);\n        \n        // Handle special barrier behaviors\n        switch (segment.type) {\n            case 'temporary':\n                // Temporary barriers disappear after being hit\n                this.removeBarrierSegment(segment);\n                break;\n                \n            case 'bouncy':\n                // Bouncy barriers send bees flying in opposite direction\n                const bounceAngle = Math.atan2(bee.sprite.y - segment.y1, bee.sprite.x - segment.x1);\n                bee.sprite.x += Math.cos(bounceAngle) * 30;\n                bee.sprite.y += Math.sin(bounceAngle) * 30;\n                break;\n                \n            case 'explosive':\n                // Explosive barriers destroy nearby bees\n                this.explodeBarrier(segment);\n                this.destroyNearbyBees(segment.x1, segment.y1, 80);\n                this.removeBarrierSegment(segment);\n                break;\n                \n            case 'normal':\n            default:\n                // Normal barriers just block\n                break;\n        }\n    }\n\n    private removeBarrierSegment(segmentToRemove: any) {\n        // Remove from barrier points array\n        const index = this.barrierPoints.indexOf(segmentToRemove);\n        if (index > -1) {\n            this.barrierPoints.splice(index, 1);\n        }\n        \n        // Visual removal would require redrawing all barriers\n        // For simplicity, we'll mark it as inactive\n        segmentToRemove.active = false;\n    }\n\n    private explodeBarrier(segment: any) {\n        // Create explosion effect\n        for (let i = 0; i < 16; i++) {\n            const particle = this.add.circle(segment.x1, segment.y1, 4, 0xff4444, 1);\n            particle.setDepth(15);\n            \n            const angle = (i / 16) * Math.PI * 2;\n            const speed = 80 + Math.random() * 60;\n            \n            this.tweens.add({\n                targets: particle,\n                x: segment.x1 + Math.cos(angle) * speed,\n                y: segment.y1 + Math.sin(angle) * speed,\n                alpha: 0,\n                scale: 0.1,\n                duration: 500,\n                ease: 'Power2',\n                onComplete: () => particle.destroy()\n            });\n        }\n        \n        // Play explosion sound\n        if (this.sound.get('hit')) {\n            this.sound.play('hit', { volume: 0.8 });\n        }\n    }\n\n    private destroyNearbyBees(x: number, y: number, radius: number) {\n        this.bees.forEach(bee => {\n            if (!bee.active) return;\n            \n            const distance = Phaser.Math.Distance.Between(bee.sprite.x, bee.sprite.y, x, y);\n            if (distance < radius) {\n                // Destroy bee with explosion effect\n                this.createCollisionParticles(bee.sprite.x, bee.sprite.y);\n                bee.sprite.destroy();\n                bee.active = false;\n            }\n        });\n    }\n    \n    private distanceToLineSegment(px: number, py: number, x1: number, y1: number, x2: number, y2: number): number {\n        const A = px - x1;\n        const B = py - y1;\n        const C = x2 - x1;\n        const D = y2 - y1;\n        \n        const dot = A * C + B * D;\n        const lenSq = C * C + D * D;\n        \n        if (lenSq === 0) {\n            // Line segment is a point\n            return Math.sqrt(A * A + B * B);\n        }\n        \n        let param = dot / lenSq;\n        \n        let xx, yy;\n        \n        if (param < 0) {\n            xx = x1;\n            yy = y1;\n        } else if (param > 1) {\n            xx = x2;\n            yy = y2;\n        } else {\n            xx = x1 + param * C;\n            yy = y1 + param * D;\n        }\n        \n        const dx = px - xx;\n        const dy = py - yy;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    private endGame(won: boolean) {\n        this.isGameActive = false;\n        \n        if (this.gameTimer) {\n            this.gameTimer.destroy();\n        }\n        \n        // Calculate score\n        let score = useGameState.getState().score;\n        if (won) {\n            score += GAME_CONFIG.SCORE_PER_LEVEL;\n            score += Math.floor(this.currentInk) * 2; // Bonus for leftover ink\n            \n            // Play success sound\n            if (this.sound.get('success')) {\n                this.sound.play('success', { volume: 0.5 });\n            }\n        } else {\n            // Play hit sound\n            if (this.sound.get('hit')) {\n                this.sound.play('hit', { volume: 0.5 });\n            }\n        }\n        \n        useGameState.getState().setScore(score);\n        useGameState.getState().setCapybaraAlive(won);\n        \n        // Submit score if wallet connected\n        this.submitScore(won);\n        \n        // Transition to game over scene\n        this.time.delayedCall(1000, () => {\n            this.scene.start('GameOverScene', { won });\n        });\n    }\n\n    private async submitScore(won: boolean) {\n        const user = useAuthStore.getState().user;\n        if (!user) return;\n        \n        const gameState = useGameState.getState();\n        \n        try {\n            await fetch('/api/submit-score', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    walletAddress: user.walletAddress,\n                    level: gameState.level,\n                    score: gameState.score,\n                    completed: won\n                })\n            });\n        } catch (error) {\n            console.log('Score submission failed:', error);\n        }\n    }\n\n    private resize() {\n        // Handle responsive resizing\n        const { width, height } = this.scale;\n        \n        // Resize background\n        if (this.skyBackground) {\n            this.skyBackground.setDisplaySize(width, height);\n            this.skyBackground.setPosition(width / 2, height / 2);\n        }\n        \n        // Ensure game elements stay within bounds\n        if (this.capybara) {\n            this.capybara.x = Math.min(Math.max(this.capybara.x, 50), width - 50);\n            this.capybara.y = Math.min(Math.max(this.capybara.y, 50), height - 50);\n        }\n    }\n    \n    shutdown() {\n        // Clean up event listeners\n        if (this.scaleListener) {\n            this.scale.off('resize', this.scaleListener);\n        }\n        \n        // Clean up input listeners\n        this.input.off('pointerdown', this.startDrawing, this);\n        this.input.off('pointermove', this.continueDrawing, this);\n        this.input.off('pointerup', this.stopDrawing, this);\n        this.input.keyboard?.off('keydown-SPACE');\n        \n        // Clean up game objects\n        this.barriers.forEach(barrier => barrier.destroy());\n        this.bees.forEach(bee => bee.sprite.destroy());\n        this.powerUps.forEach(powerUp => powerUp.sprite.destroy());\n        \n        if (this.gameTimer) {\n            this.gameTimer.destroy();\n        }\n        \n        super.shutdown();\n    }\n}\n","size_bytes":54247},"client/src/scenes/MenuScene.ts":{"content":"import Phaser from 'phaser';\nimport { useGameState } from '../lib/stores/useGameState';\n\nexport class MenuScene extends Phaser.Scene {\n    private startButton!: Phaser.GameObjects.Graphics;\n    private titleText!: Phaser.GameObjects.Text;\n    private instructionText!: Phaser.GameObjects.Text;\n    private skyBackground!: Phaser.GameObjects.TileSprite;\n    private grassBackground!: Phaser.GameObjects.TileSprite;\n    private buttonText!: Phaser.GameObjects.Text;\n\n    constructor() {\n        super({ key: 'MenuScene' });\n    }\n\n    create() {\n        const { width, height } = this.scale;\n        \n        // Update game state\n        useGameState.getState().setScene('menu');\n\n        // Layered background with textures\n        this.skyBackground = this.add.tileSprite(0, 0, width, height, 'sky')\n            .setOrigin(0, 0)\n            .setTint(0xe0f2fe); // Light blue tint\n        \n        this.grassBackground = this.add.tileSprite(0, height - 100, width, 100, 'grass')\n            .setOrigin(0, 0)\n            .setTint(0x86efac); // Light green tint\n\n        // Simple title\n        this.titleText = this.add.text(width / 2, height / 3, 'Save the Capybara', {\n            fontSize: '48px',\n            color: '#1f2937',\n            fontStyle: 'bold',\n            fontFamily: 'Arial, sans-serif'\n        }).setOrigin(0.5);\n\n        // Clean instructions\n        this.instructionText = this.add.text(width / 2, height / 2, \n            'Draw barriers to protect the capybara from bees\\n\\n' +\n            'Phase 1: Draw (2.5 seconds)\\n' +\n            'Phase 2: Survive (5 seconds)', {\n            fontSize: '18px',\n            color: '#6b7280',\n            align: 'center',\n            lineSpacing: 4,\n            fontFamily: 'Arial, sans-serif'\n        }).setOrigin(0.5);\n\n        // Hidden button (replaced by React overlay)\n        // this.startButton = this.add.graphics();\n        // this.buttonText = this.add.text(...);\n        // Button functionality moved to React MenuOverlay component\n\n        // Handle resize\n        this.scale.on('resize', this.resize, this);\n    }\n\n    private startGame() {\n        // Play start sound if available\n        if (this.sound.get('success')) {\n            this.sound.play('success', { volume: 0.3 });\n        }\n        \n        this.scene.start('GameScene');\n    }\n\n    private resize(gameSize: Phaser.Structs.Size) {\n        const { width, height } = gameSize;\n        \n        // Resize backgrounds\n        if (this.skyBackground) {\n            this.skyBackground.setSize(width, height);\n        }\n        \n        if (this.grassBackground) {\n            this.grassBackground.setSize(width, 100);\n            this.grassBackground.setPosition(0, height - 100);\n        }\n        \n        // Reposition elements\n        if (this.titleText) {\n            this.titleText.setPosition(width / 2, height / 3);\n        }\n        \n        if (this.instructionText) {\n            this.instructionText.setPosition(width / 2, height / 2);\n        }\n        \n        // Button removed - using React overlay instead\n        // No button resize logic needed\n    }\n\n    preload() {\n        // Load textures\n        this.load.image('sky', '/textures/sky.png');\n        this.load.image('grass', '/textures/grass.png');\n        \n        // Load new game assets\n        this.load.image('gameBackground', '/images/Seamless_wetland_game_background_971a64de.png');\n        this.load.image('capybaraSprite', '/images/custom_capybara.png');\n        this.load.image('beeSprite', '/images/custom_bee.png');\n        \n        // Load sounds\n        this.load.audio('hit', '/sounds/hit.mp3');\n        this.load.audio('success', '/sounds/success.mp3');\n        this.load.audio('background', '/sounds/background.mp3');\n    }\n}\n","size_bytes":3748},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":2001},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4419},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1598},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1140},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1902},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start: \"day-range-start\",\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2935},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1828},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1012},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4873},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7224},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3849},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7480},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4132},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1198},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2143},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":768},"client/src/components/ui/interface.tsx":{"content":"import { useEffect } from \"react\";\nimport { useGame } from \"@/lib/stores/useGame\";\nimport { useAudio } from \"@/lib/stores/useAudio\";\nimport { Button } from \"./button\";\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"./card\";\nimport { VolumeX, Volume2, RotateCw, Trophy } from \"lucide-react\";\n\nexport function Interface() {\n  const restart = useGame((state) => state.restart);\n  const phase = useGame((state) => state.phase);\n  const { isMuted, toggleMute } = useAudio();\n\n  // Handle clicks on the interface in the ready phase to start the game\n  useEffect(() => {\n    if (phase === \"ready\") {\n      const handleClick = () => {\n        const activeElement = document.activeElement;\n        if (activeElement && 'blur' in activeElement) {\n          (activeElement as HTMLElement).blur();\n        }\n        const event = new KeyboardEvent(\"keydown\", { code: \"Space\" });\n        window.dispatchEvent(event);\n      };\n\n      window.addEventListener(\"click\", handleClick);\n      return () => window.removeEventListener(\"click\", handleClick);\n    }\n  }, [phase]);\n\n  return (\n    <>\n      {/* Top-right corner UI controls */}\n      <div className=\"fixed top-4 right-4 flex gap-2 z-10\">\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={toggleMute}\n          title={isMuted ? \"Unmute\" : \"Mute\"}\n        >\n          {isMuted ? <VolumeX size={18} /> : <Volume2 size={18} />}\n        </Button>\n        \n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={restart}\n          title=\"Restart Game\"\n        >\n          <RotateCw size={18} />\n        </Button>\n      </div>\n      \n      {/* Game completion overlay */}\n      {phase === \"ended\" && (\n        <div className=\"fixed inset-0 flex items-center justify-center z-20 bg-black/30\">\n          <Card className=\"w-full max-w-md mx-4 shadow-lg\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-center gap-2\">\n                <Trophy className=\"text-yellow-500\" />\n                Level Complete!\n              </CardTitle>\n            </CardHeader>\n            \n            <CardContent>\n              <p className=\"text-center text-muted-foreground\">\n                Congratulations! You successfully navigated the course.\n              </p>\n            </CardContent>\n            \n            <CardFooter className=\"flex justify-center\">\n              <Button onClick={restart} className=\"w-full\">\n                Play Again\n              </Button>\n            </CardFooter>\n          </Card>\n        </div>\n      )}\n      \n      {/* Instructions panel */}\n      <div className=\"fixed bottom-4 left-4 z-10\">\n        <Card className=\"w-auto max-w-xs bg-background/80 backdrop-blur-sm\">\n          <CardContent className=\"p-4\">\n            <h3 className=\"font-medium mb-2\">Controls:</h3>\n            <ul className=\"text-sm space-y-1 text-muted-foreground\">\n              <li>WASD or Arrow Keys: Move the ball</li>\n              <li>Space: Jump</li>\n              <li>R: Restart game</li>\n              <li>M: Toggle sound</li>\n            </ul>\n          </CardContent>\n        </Card>\n      </div>\n    </>\n  );\n}\n","size_bytes":3180},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8522},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5124},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","size_bytes":1292},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":792},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1410},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5639},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4280},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-is-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const isMobile = useIsMobile();\n    const [openMobile, setOpenMobile] = React.useState(false);\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen);\n    const open = openProp ?? _open;\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value;\n        if (setOpenProp) {\n          setOpenProp(openState);\n        } else {\n          _setOpen(openState);\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n      },\n      [setOpenProp, open],\n    );\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open);\n    }, [isMobile, setOpen, setOpenMobile]);\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault();\n          toggleSidebar();\n        }\n      };\n\n      window.addEventListener(\"keydown\", handleKeyDown);\n      return () => window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [toggleSidebar]);\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\";\n\n    const contextValue = React.useMemo<SidebarContext>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      ],\n    );\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className,\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    );\n  },\n);\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className,\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      );\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      );\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className,\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event);\n        toggleSidebar();\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n});\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  );\n});\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n));\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : \"button\";\n    const { isMobile, state } = useSidebar();\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    );\n\n    if (!tooltip) {\n      return button;\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      };\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    );\n  },\n);\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className,\n    )}\n    {...props}\n  />\n));\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className,\n    )}\n    {...props}\n  />\n));\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />);\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","size_bytes":23790},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":266},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1037},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","size_bytes":894},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1148},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2859},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1877},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":649},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1486},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1217},"client/src/lib/stores/useAudio.tsx":{"content":"import { create } from \"zustand\";\n\ninterface AudioState {\n  backgroundMusic: HTMLAudioElement | null;\n  hitSound: HTMLAudioElement | null;\n  successSound: HTMLAudioElement | null;\n  isMuted: boolean;\n  \n  // Setter functions\n  setBackgroundMusic: (music: HTMLAudioElement) => void;\n  setHitSound: (sound: HTMLAudioElement) => void;\n  setSuccessSound: (sound: HTMLAudioElement) => void;\n  \n  // Control functions\n  toggleMute: () => void;\n  playHit: () => void;\n  playSuccess: () => void;\n}\n\nexport const useAudio = create<AudioState>((set, get) => ({\n  backgroundMusic: null,\n  hitSound: null,\n  successSound: null,\n  isMuted: true, // Start muted by default\n  \n  setBackgroundMusic: (music) => set({ backgroundMusic: music }),\n  setHitSound: (sound) => set({ hitSound: sound }),\n  setSuccessSound: (sound) => set({ successSound: sound }),\n  \n  toggleMute: () => {\n    const { isMuted } = get();\n    const newMutedState = !isMuted;\n    \n    // Just update the muted state\n    set({ isMuted: newMutedState });\n    \n    // Log the change\n    console.log(`Sound ${newMutedState ? 'muted' : 'unmuted'}`);\n  },\n  \n  playHit: () => {\n    const { hitSound, isMuted } = get();\n    if (hitSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Hit sound skipped (muted)\");\n        return;\n      }\n      \n      // Clone the sound to allow overlapping playback\n      const soundClone = hitSound.cloneNode() as HTMLAudioElement;\n      soundClone.volume = 0.3;\n      soundClone.play().catch(error => {\n        console.log(\"Hit sound play prevented:\", error);\n      });\n    }\n  },\n  \n  playSuccess: () => {\n    const { successSound, isMuted } = get();\n    if (successSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Success sound skipped (muted)\");\n        return;\n      }\n      \n      successSound.currentTime = 0;\n      successSound.play().catch(error => {\n        console.log(\"Success sound play prevented:\", error);\n      });\n    }\n  }\n}));\n","size_bytes":2025},"client/src/lib/stores/useGame.tsx":{"content":"import { create } from \"zustand\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\n\nexport type GamePhase = \"ready\" | \"playing\" | \"ended\";\n\ninterface GameState {\n  phase: GamePhase;\n  \n  // Actions\n  start: () => void;\n  restart: () => void;\n  end: () => void;\n}\n\nexport const useGame = create<GameState>()(\n  subscribeWithSelector((set) => ({\n    phase: \"ready\",\n    \n    start: () => {\n      set((state) => {\n        // Only transition from ready to playing\n        if (state.phase === \"ready\") {\n          return { phase: \"playing\" };\n        }\n        return {};\n      });\n    },\n    \n    restart: () => {\n      set(() => ({ phase: \"ready\" }));\n    },\n    \n    end: () => {\n      set((state) => {\n        // Only transition from playing to ended\n        if (state.phase === \"playing\") {\n          return { phase: \"ended\" };\n        }\n        return {};\n      });\n    }\n  }))\n);\n","size_bytes":893},"client/src/lib/stores/useGameState.ts":{"content":"import { create } from 'zustand';\n\nexport type GameScene = 'menu' | 'game' | 'gameover' | 'towerdefense';\n\ninterface GameState {\n    currentScene: GameScene;\n    level: number;\n    score: number;\n    timeLeft: number;\n    ink: number;\n    isDrawing: boolean;\n    capybaraAlive: boolean;\n    \n    // Actions\n    setScene: (scene: GameScene) => void;\n    setLevel: (level: number) => void;\n    setScore: (score: number) => void;\n    setTimeLeft: (time: number) => void;\n    setInk: (ink: number) => void;\n    setIsDrawing: (drawing: boolean) => void;\n    setCapybaraAlive: (alive: boolean) => void;\n    resetGame: () => void;\n}\n\nexport const useGameState = create<GameState>((set) => ({\n    currentScene: 'menu',\n    level: 0, // Start with tutorial\n    score: 0,\n    timeLeft: 7.5, // 2.5s drawing + 5s survival\n    ink: 100,\n    isDrawing: false,\n    capybaraAlive: true,\n    \n    setScene: (scene) => set({ currentScene: scene }),\n    setLevel: (level) => set({ level }),\n    setScore: (score) => set({ score }),\n    setTimeLeft: (time) => set({ timeLeft: time }),\n    setInk: (ink) => set({ ink }),\n    setIsDrawing: (drawing) => set({ isDrawing: drawing }),\n    setCapybaraAlive: (alive) => set({ capybaraAlive: alive }),\n    \n    resetGame: () => set({\n        level: 0, // Reset to tutorial\n        score: 0,\n        timeLeft: 7.5,\n        ink: 100,\n        isDrawing: false,\n        capybaraAlive: true\n    })\n}));\n","size_bytes":1421},"client/src/lib/stores/useWallet.ts":{"content":"import { create } from 'zustand';\n\ninterface User {\n    walletAddress: string;\n    username: string;\n    seedPhrase: string;\n}\n\ninterface AuthState {\n    user: User | null;\n    isLoggedIn: boolean;\n    login: (walletAddress: string, seedPhrase: string) => Promise<boolean>;\n    register: (walletAddress: string, username: string, seedPhrase: string) => Promise<{success: boolean; error?: string}>;\n    logout: () => void;\n    setUser: (user: User | null) => void;\n}\n\nexport const useAuthStore = create<AuthState>((set, get) => ({\n    user: null,\n    isLoggedIn: false,\n    \n    login: async (walletAddress: string, seedPhrase: string) => {\n        try {\n            const response = await fetch('/api/login', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ walletAddress, seedPhrase })\n            });\n            \n            if (response.ok) {\n                const userData = await response.json();\n                set({ user: userData.user, isLoggedIn: true });\n                localStorage.setItem('user_session', JSON.stringify(userData.user));\n                return true;\n            }\n            return false;\n        } catch (error) {\n            console.error('Login error:', error);\n            return false;\n        }\n    },\n    \n    register: async (walletAddress: string, username: string, seedPhrase: string) => {\n        try {\n            const response = await fetch('/api/register', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ walletAddress, username, seedPhrase })\n            });\n            \n            if (response.ok) {\n                const userData = await response.json();\n                set({ user: userData.user, isLoggedIn: true });\n                localStorage.setItem('user_session', JSON.stringify(userData.user));\n                return { success: true };\n            } else {\n                const errorData = await response.json();\n                return { success: false, error: errorData.error || 'Registration failed' };\n            }\n        } catch (error) {\n            console.error('Registration error:', error);\n            return { success: false, error: 'Network error. Please try again.' };\n        }\n    },\n    \n    logout: () => {\n        set({ user: null, isLoggedIn: false });\n        localStorage.removeItem('user_session');\n    },\n    \n    setUser: (user: User | null) => {\n        set({ user, isLoggedIn: !!user });\n        if (user) {\n            localStorage.setItem('user_session', JSON.stringify(user));\n        } else {\n            localStorage.removeItem('user_session');\n        }\n    }\n}));\n\n// Initialize from localStorage on app start\nif (typeof window !== 'undefined') {\n    const savedUser = localStorage.getItem('user_session');\n    if (savedUser) {\n        try {\n            const user = JSON.parse(savedUser);\n            useAuthStore.getState().setUser(user);\n        } catch (error) {\n            localStorage.removeItem('user_session');\n        }\n    }\n}\n","size_bytes":3115},".local/state/replit/agent/progress_tracker.md":{"content":"[x] 1. Install the required packages\n[x] 2. Restart the workflow to see if the project is working\n[x] 3. Verify the project is working using the feedback tool\n[x] 4. Inform user the import is completed and they can start building, mark the import as completed using the complete_project_import tool","size_bytes":298},"server/telegram-bot.ts":{"content":"// Telegram Bot for Save the Capybara Community\n// This file contains the basic structure for a Telegram bot\n\nimport { Bot, InlineKeyboard } from 'grammy';\n\n// Get bot token from environment variables\nconst BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN;\n\nlet bot: Bot | null = null;\n\nif (!BOT_TOKEN) {\n  console.log('TELEGRAM_BOT_TOKEN not found in environment variables');\n  console.log('Telegram bot will be disabled. To enable it:');\n  console.log('1. Message @BotFather on Telegram');\n  console.log('2. Create a new bot with /newbot');\n  console.log('3. Add the token to your Replit environment variables');\n} else {\n  console.log('Starting Telegram bot with token:', BOT_TOKEN.substring(0, 10) + '...');\n  \n  bot = new Bot(BOT_TOKEN);\n\n  // Welcome message with interactive buttons\n  bot.command('start', (ctx) => {\n    const keyboard = new InlineKeyboard()\n      .text('ðŸŽ® Start Adventure', 'play')\n      .text('ðŸ“Š My Stats', 'stats').row()\n      .text('ðŸ’° $CAPY Token', 'buy')\n      .text('ðŸ† Leaderboard', 'leaderboard').row()\n      .text('ðŸŽ¯ How to Play', 'tutorial')\n      .text('ðŸ… Achievements', 'achievements');\n\n    ctx.reply(\n      `ðŸ›ï¸ Welcome to Save the Capybara! ðŸ›ï¸\\n\\n` +\n      `âš¡ The ultimate endless runner adventure on Solana!\\n\\n` +\n      `ðŸ”ï¸ Jump between floating islands with precision\\n` +\n      `ðŸš€ Master tap & hold mechanics for perfect jumps\\n` +\n      `ðŸ’° Collect treasures and survive as far as possible\\n` +\n      `ðŸŽ¯ Earn CAPYBARA rewards based on distance traveled\\n\\n` +\n      `Ready to become the ultimate Island Adventurer?`,\n      { reply_markup: keyboard }\n    );\n  });\n\n  // Game link with buttons - Production URL Logic  \n  const gameUrl = 'https://f00b07ff-b514-4441-8be8-172e2a457d27-00-24411ikbxzm9l.kirk.replit.dev';\n  \n  const handlePlayGame = (ctx: any) => {\n    const keyboard = new InlineKeyboard()\n      .webApp('ðŸ”ï¸ Start Adventure', gameUrl)\n      .text('ðŸ“± Mobile Tips', 'mobile_tips').row()\n      .text('ðŸŽ¯ Quick Tutorial', 'tutorial')\n      .text('ðŸ”™ Main Menu', 'main_menu');\n\n    ctx.reply(\n      `ðŸ”ï¸ Ready to master the endless islands?\\n\\n` +\n      `âœ¨ Your Mission: Guide the Capybara to Safety!\\n\\n` +\n      `ðŸš€ **Precision Jumping:**\\n` +\n      `â€¢ Tap for short hops, hold for long jumps\\n` +\n      `â€¢ Master timing and power control\\n` +\n      `â€¢ Navigate between floating islands safely\\n\\n` +\n      `ðŸ’° **Endless Adventure:**\\n` +\n      `â€¢ Survive as long as possible in procedural worlds\\n` +\n      `â€¢ Collect treasures and power-ups\\n` +\n      `â€¢ Distance traveled = CAPYBARA rewards!\\n\\n` +\n      `ðŸŽ¯ How far can you go in the endless islands?`,\n      { reply_markup: keyboard }\n    );\n  };\n\n  bot.command('play', handlePlayGame);\n\n  // Player statistics with buttons\n  const handleStats = async (ctx: any) => {\n    const username = ctx.from?.username || 'Adventurer';\n    \n    const keyboard = new InlineKeyboard()\n      .text('ðŸŽ® Continue Adventure', 'play')\n      .text('ðŸ† Rankings', 'leaderboard').row()\n      .text('ðŸ… View Achievements', 'achievements')\n      .text('ðŸ”™ Main Menu', 'main_menu');\n    \n    // In production, fetch real stats from your database\n    ctx.reply(\n      `ðŸ“Š ${username}'s Adventure Profile:\\n\\n` +\n      `ðŸ”ï¸ **Island Progress:**\\n` +\n      `â€¢ Farthest Distance: 0 islands\\n` +\n      `â€¢ Best Run: 0 meters\\n` +\n      `â€¢ Total Score: 0 points\\n\\n` +\n      `ðŸš€ **Jumping Mastery:**\\n` +\n      `â€¢ Jump Accuracy: --%\\n` +\n      `â€¢ Survival Time: -- seconds\\n` +\n      `â€¢ Treasure Collected: 0\\n\\n` +\n      `ðŸ’Ž **Rewards:**\\n` +\n      `â€¢ $CAPYBARA Earned: 0 tokens\\n` +\n      `â€¢ Achievement Points: 0\\n\\n` +\n      `ðŸ”— Connect your Solana wallet to start tracking!`,\n      { reply_markup: keyboard }\n    );\n  };\n\n  bot.command('stats', handleStats);\n\n  // Leaderboard with buttons\n  const handleLeaderboard = (ctx: any) => {\n    const keyboard = new InlineKeyboard()\n      .text('ðŸŽ® Beat the Record', 'play')\n      .text('ðŸ“Š My Stats', 'stats').row()\n      .text('ðŸ”„ Refresh Rankings', 'leaderboard')\n      .text('ðŸ”™ Main Menu', 'main_menu');\n\n    ctx.reply(\n      `ðŸ† Top Island Adventurers (Weekly):\\n\\n` +\n      `ðŸ¥‡ **IslandHopper** - 2,840m | ðŸ”ï¸ 47 islands\\n` +\n      `ðŸ¥ˆ **JumpMaster** - 2,240m | ðŸ”ï¸ 38 islands\\n` +\n      `ðŸ¥‰ **EndlessRunner** - 1,920m | ðŸ”ï¸ 32 islands\\n` +\n      `4ï¸âƒ£ SkyLeaper - 1,670m | ðŸ”ï¸ 28 islands\\n` +\n      `5ï¸âƒ£ TreasureHunter - 1,450m | ðŸ”ï¸ 24 islands\\n` +\n      `6ï¸âƒ£ CapyRunner - 1,290m | ðŸ”ï¸ 21 islands\\n` +\n      `7ï¸âƒ£ QuickHop - 1,140m | ðŸ”ï¸ 19 islands\\n\\n` +\n      `ðŸŽ¯ Can you reach the top of the rankings?\\n` +\n      `Master the jumping mechanics and set a new record!`,\n      { reply_markup: keyboard }\n    );\n  };\n\n  bot.command('leaderboard', handleLeaderboard);\n\n  // Token information with buttons\n  const handleBuyToken = (ctx: any) => {\n    const keyboard = new InlineKeyboard()\n      .url('ðŸš€ PumpFun Launch', 'https://pump.fun')\n      .url('ðŸ“Š Track Price', 'https://dextools.io').row()\n      .text('ðŸ“‹ Copy Contract', 'copy_contract')\n      .text('ðŸ”™ Main Menu', 'main_menu');\n\n    ctx.reply(\n      `ðŸ’Ž $CAPYBARA Token - Adventure Rewards:\\n\\n` +\n      `ðŸš€ **Token Launch:** Q1 2025\\n` +\n      `âš¡ **Network:** Solana (Fast & Low Fees)\\n` +\n      `ðŸ“‹ **Contract:** Coming Soon\\n\\n` +\n      `ðŸ”ï¸ **Adventure Utilities:**\\n` +\n      `â€¢ ðŸ† Distance-Based Rewards (0.001 per meter)\\n` +\n      `â€¢ ðŸŽ® Survival Tournament Entry\\n` +\n      `â€¢ ðŸŽ¨ Exclusive Capybara & Island Skins\\n` +\n      `â€¢ ðŸ—³ï¸ Community Governance Rights\\n` +\n      `â€¢ ðŸ’° Staking for Jump Bonus Multipliers\\n` +\n      `â€¢ ðŸŽ† Premium Island Worlds Access\\n\\n` +\n      `âš ï¸ Early Adventurer Program launching soon!`,\n      { reply_markup: keyboard }\n    );\n  };\n\n  bot.command('buy', handleBuyToken);\n\n  // Whitepaper\n  bot.command('whitepaper', (ctx) => {\n    ctx.reply(\n      `ðŸ“– Save the Capybara Whitepaper\\n\\n` +\n      `Read our comprehensive whitepaper to learn about:\\n` +\n      `â€¢ Game mechanics and tokenomics\\n` +\n      `â€¢ Our vision for play-to-earn gaming\\n` +\n      `â€¢ Technology stack and security\\n` +\n      `â€¢ Community governance plans\\n\\n` +\n      `ðŸ“„ Read here: https://your-game-url.replit.app/whitepaper`\n    );\n  });\n\n  // Roadmap\n  bot.command('roadmap', (ctx) => {\n    ctx.reply(\n      `ðŸ—ºï¸ Development Roadmap\\n\\n` +\n      `See what we're building and what's coming next:\\n` +\n      `âœ… Phase 1: Foundation & Launch (Completed)\\n` +\n      `ðŸ”„ Phase 2: Token Launch & Rewards (Q1 2025)\\n` +\n      `ðŸŽ¯ Phase 3: Community & Expansion (Q2 2025)\\n` +\n      `â­ Phase 4: Advanced Features (Q3 2025)\\n` +\n      `ðŸš€ Phase 5: Ecosystem Expansion (Q4 2025+)\\n\\n` +\n      `ðŸ“‹ Full roadmap: https://your-game-url.replit.app/roadmap`\n    );\n  });\n\n  // Achievements handler\n  const handleAchievements = (ctx: any) => {\n    const keyboard = new InlineKeyboard()\n      .text('ðŸŽ® Earn More', 'play')\n      .text('ðŸ“Š My Progress', 'stats').row()\n      .text('ðŸ”™ Main Menu', 'main_menu');\n\n    ctx.reply(\n      `ðŸ›ï¸ Adventure Achievement Gallery:\\n\\n` +\n      `ðŸŽ† **Explorer Badges:**\\n` +\n      `â€¢ ðŸŒŸ First Jump - Complete your first adventure\\n` +\n      `â€¢ ðŸ”ï¸ Island Hopper - Reach 10 islands in one run\\n` +\n      `â€¢ âš¡ Speed Runner - Travel 500m in under 60s\\n` +\n      `â€¢ ðŸ’° Treasure Hunter - Collect 50 treasures total\\n\\n` +\n      `ðŸ’« **Master Titles:**\\n` +\n      `â€¢ ðŸŒ Distance Champion - Travel 1000m+ in one run\\n` +\n      `â€¢ ðŸ† Endless Survivor - 10 consecutive successful runs\\n` +\n      `â€¢ ðŸš€ Jump Master - Achieve 95%+ jump accuracy\\n` +\n      `â€¢ ðŸŽ† Island Legend - Reach the global leaderboard\\n\\n` +\n      `ðŸ’° Each achievement grants $CAPYBARA tokens!\\n` +\n      `Connect your wallet to start collecting!`,\n      { reply_markup: keyboard }\n    );\n  };\n\n  // Help command\n  bot.command('help', (ctx) => {\n    ctx.reply(\n      `ðŸ¤– Capybara Adventure Bot Commands:\\n\\n` +\n      `ðŸŽ® **Game Commands:**\\n` +\n      `/play - Start your endless island adventure\\n` +\n      `/stats - View your adventure profile\\n` +\n      `/leaderboard - Top island adventurers\\n\\n` +\n      `ðŸ’« **Features:**\\n` +\n      `â€¢ Real-time distance leaderboards\\n` +\n      `â€¢ Achievement tracking for jumps & treasures\\n` +\n      `â€¢ Mobile-optimized jumping controls\\n` +\n      `â€¢ Solana wallet CAPYBARA rewards\\n\\n` +\n      `ðŸ’¬ **Community:**\\n` +\n      `Share your epic distance records!\\n` +\n      `Challenge friends to beat your best run!\\n` +\n      `Suggest new island features and power-ups!\\n\\n` +\n      `Ready to become an island legend? ðŸŽ†`\n    );\n  });\n\n  // Whitepaper handler\n  const handleWhitepaper = (ctx: any) => {\n    const keyboard = new InlineKeyboard()\n      .url('ðŸ“– Read Full Whitepaper', 'https://save-capybara.replit.app/whitepaper')\n      .text('ðŸ”™ Main Menu', 'main_menu');\n\n    ctx.reply(\n      `ðŸ“– Save the Capybara Whitepaper\\n\\n` +\n      `ðŸ“‹ What you'll learn:\\n` +\n      `â€¢ Complete game mechanics & tokenomics\\n` +\n      `â€¢ Our vision for play-to-earn gaming\\n` +\n      `â€¢ Technology stack and security measures\\n` +\n      `â€¢ Community governance plans\\n` +\n      `â€¢ Token utility and distribution\\n\\n` +\n      `ðŸ’¡ Essential reading for serious players!`,\n      { reply_markup: keyboard }\n    );\n  };\n\n\n  // Handle callback queries (button presses)\n  bot.on('callback_query:data', async (ctx) => {\n    const data = ctx.callbackQuery.data;\n    \n    switch (data) {\n      case 'play':\n        await handlePlayGame(ctx);\n        break;\n      case 'stats':\n        await handleStats(ctx);\n        break;\n      case 'buy':\n        await handleBuyToken(ctx);\n        break;\n      case 'leaderboard':\n        await handleLeaderboard(ctx);\n        break;\n      case 'whitepaper':\n        await handleWhitepaper(ctx);\n        break;\n      case 'achievements':\n        await handleAchievements(ctx);\n        break;\n      case 'copy_contract':\n        await ctx.answerCallbackQuery('Contract copied to clipboard!');\n        await ctx.reply('ðŸ“‹ Contract Address: `CapyG4mE7oKr3nQs9vR2bXw8pT5aH6uL9mN3cZ1x`\\n\\nâš ï¸ This is a placeholder. Always verify from official sources!', { parse_mode: 'Markdown' });\n        break;\n      case 'mobile_tips':\n        await ctx.answerCallbackQuery();\n        await ctx.reply(\n          `ðŸ“± Mobile Adventure Guide:\\n\\n` +\n          `ðŸ”¥ **Optimal Setup:**\\n` +\n          `â€¢ Use portrait mode for better jumping control\\n` +\n          `â€¢ Close background apps for smooth gameplay\\n` +\n          `â€¢ Stable internet for leaderboard sync\\n` +\n          `â€¢ Good screen brightness to see islands clearly\\n\\n` +\n          `âœ¨ **Jumping Mastery:**\\n` +\n          `â€¢ Quick tap for short, precise hops\\n` +\n          `â€¢ Hold longer for powerful long jumps\\n` +\n          `â€¢ Release at the right moment for distance\\n` +\n          `â€¢ Watch the arc trajectory carefully\\n\\n` +\n          `ðŸ† **Pro Tips:**\\n` +\n          `â€¢ Practice timing on early islands\\n` +\n          `â€¢ Collect treasures for bonus points\\n` +\n          `â€¢ Plan your route ahead of time!`\n        );\n        break;\n      case 'tutorial':\n        await ctx.answerCallbackQuery();\n        await ctx.reply(\n          `ðŸŽ“ Island Adventure Academy:\\n\\n` +\n          `ðŸš€ **Precision Jumping Controls:**\\n` +\n          `â€¢ TAP quickly for short hops to nearby islands\\n` +\n          `â€¢ HOLD & RELEASE for long, powerful jumps\\n` +\n          `â€¢ Watch the jump arc to land safely\\n` +\n          `â€¢ Time your release for maximum distance\\n\\n` +\n          `ðŸ”ï¸ **Endless Adventure Mode:**\\n` +\n          `â€¢ Navigate through procedural island chains\\n` +\n          `â€¢ Collect treasures and power-ups as you go\\n` +\n          `â€¢ Survive as far as possible without falling\\n` +\n          `â€¢ Distance traveled = CAPYBARA token rewards\\n\\n` +\n          `ðŸ† **Success Tips:**\\n` +\n          `â€¢ Practice makes perfect - start slow\\n` +\n          `â€¢ Each island chain gets more challenging\\n` +\n          `â€¢ Strategic treasure collection boosts score\\n` +\n          `â€¢ Connect Solana wallet for $CAPYBARA rewards!`\n        );\n        break;\n      case 'main_menu':\n        await ctx.answerCallbackQuery();\n        // Re-send the main menu\n        const keyboard = new InlineKeyboard()\n          .text('ðŸŽ® Play Now', 'play')\n          .text('ðŸ“Š My Stats', 'stats').row()\n          .text('ðŸ’° $CAPY Token', 'buy')\n          .text('ðŸ† Leaderboard', 'leaderboard').row()\n          .text('ðŸŽ¯ How to Play', 'tutorial')\n          .text('ðŸ… Achievements', 'achievements');\n\n        await ctx.editMessageText(\n          `ðŸ›ï¸ Capybara Guardian Command Center\\n\\n` +\n          `Choose your next adventure:`,\n          { reply_markup: keyboard }\n        );\n        break;\n      default:\n        await ctx.answerCallbackQuery('Unknown action');\n    }\n  });\n\n  // Handle non-command messages\n  bot.on('message:text', (ctx) => {\n    const text = ctx.message.text.toLowerCase();\n    \n    if (text.includes('hello') || text.includes('hi')) {\n      ctx.reply('Hello Adventurer! ðŸ‘‹ Ready for an endless island adventure? Type /start to begin!');\n    } else if (text.includes('capybara')) {\n      ctx.reply('ðŸ›ï¸ The capybara needs your help to cross the endless islands! Master precision jumping - type /play!');\n    } else if (text.includes('game') || text.includes('jump') || text.includes('island')) {\n      ctx.reply('ðŸ”ï¸ Ready to hop between floating islands? Type /play to start your adventure!');\n    } else if (text.includes('distance') || text.includes('achievement') || text.includes('record')) {\n      ctx.reply('ðŸ† Track your distance records and achievements! Type /stats to see your adventure profile!');\n    } else {\n      ctx.reply('Type /help to see all adventure commands! âš¡');\n    }\n  });\n\n  // Error handling\n  bot.catch((err) => {\n    console.error('Bot error:', err);\n  });\n\n  // Test the bot token first\n  bot.api.getMe().then((me) => {\n    console.log('âœ… Bot token is valid! Bot username:', me.username);\n    console.log('Bot name:', me.first_name);\n    \n    // Start the bot without webhook operations\n    bot.start({\n      onStart: () => {\n        console.log('ðŸ¤– Capybara Guardian Bot is now active!');\n        console.log('Users can now interact with /start command');\n      }\n    });\n  }).catch(err => {\n    console.error('âŒ Bot token validation failed:', err.description || err.message);\n    console.log('Please check your bot token with @BotFather on Telegram');\n    console.log('Make sure the token is active and not revoked');\n  });\n}\n\nexport { bot };","size_bytes":14782},"client/src/pages/LandingPage.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Button } from '../components/ui/button';\nimport { Card, CardContent } from '../components/ui/card';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FileText, ShoppingCart, MessageCircle, Zap, User, LogOut, Wallet, Music, Trophy } from 'lucide-react';\nimport { AuthModal } from '../components/AuthModal';\nimport { Leaderboard } from '../components/Leaderboard';\nimport { useAuthStore } from '../lib/stores/useWallet';\n\nconst backgroundImage = '/images/AAA_capybara_wetland_background_ab88ce49.png';\nconst heroImage = '/images/AAA_capybara_hero_character_0a40b727.png';\nconst barrierImage = '/images/AAA_magical_barrier_UI_b6d0d11f.png';\n\nconst FloatingParticle: React.FC<{ delay: number }> = ({ delay }) => (\n    <motion.div\n        className=\"absolute w-1 h-1 bg-amber-300 rounded-full opacity-60\"\n        initial={{ \n            x: Math.random() * window.innerWidth, \n            y: window.innerHeight + 10,\n            opacity: 0 \n        }}\n        animate={{ \n            y: -10,\n            opacity: [0, 0.6, 0],\n            scale: [0.5, 1, 0.5]\n        }}\n        transition={{ \n            duration: 8,\n            delay,\n            repeat: Infinity,\n            repeatDelay: Math.random() * 5,\n            ease: \"linear\"\n        }}\n    />\n);\n\nconst GlowingText: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = \"\" }) => (\n    <div className={`relative ${className}`}>\n        <div className=\"absolute inset-0 text-transparent bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text blur-[1px]\">\n            {children}\n        </div>\n        <div className=\"relative bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text text-transparent\">{children}</div>\n    </div>\n);\n\ninterface LandingPageProps {\n  onEnterGame: () => void;\n  onEnterAdventure?: () => void;\n}\n\nexport const LandingPage: React.FC<LandingPageProps> = ({ onEnterGame, onEnterAdventure }) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const [particles, setParticles] = useState<number[]>([]);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [showLeaderboard, setShowLeaderboard] = useState(false);\n  const { user, isLoggedIn, logout } = useAuthStore();\n\n  useEffect(() => {\n    // Generate floating particles\n    const particleArray = Array.from({ length: 15 }, (_, i) => i);\n    setParticles(particleArray);\n  }, []);\n\n  const handleWhitepaper = () => {\n    window.open('/whitepaper', '_blank');\n  };\n\n  const handleBuy = () => {\n    // Placeholder for pump.fun link - will be updated when contract address is available\n    alert('Contract address coming soon! Stay tuned to our Telegram for updates.');\n  };\n\n\n  const handleTelegram = () => {\n    window.open('https://t.me/SaveCapybaraBot', '_blank');\n  };\n\n  const handleTikTok = () => {\n    window.open('https://www.tiktok.com/@capybarahouse.t', '_blank');\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center relative overflow-hidden\">\n      {/* Game Background */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n        style={{ \n          backgroundImage: `url(${backgroundImage})`,\n          filter: 'brightness(0.7) contrast(1.1)'\n        }}\n      />\n      \n      {/* Atmospheric overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/30\" />\n      \n      {/* Floating particles */}\n      <AnimatePresence>\n        {particles.map(particle => (\n          <FloatingParticle key={particle} delay={particle * 0.4} />\n        ))}\n      </AnimatePresence>\n      \n      {/* Magical barrier effect */}\n      <div \n        className=\"absolute inset-0 opacity-20 mix-blend-screen\"\n        style={{ \n          backgroundImage: `url(${barrierImage})`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          animation: 'pulse 4s infinite ease-in-out'\n        }}\n      />\n\n      {/* Main Content */}\n      <div className=\"relative z-10 text-center max-w-6xl mx-auto px-6\">\n        \n        {/* Header Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, ease: \"easeOut\" }}\n          className=\"mb-8\"\n        >\n          <GlowingText className=\"text-5xl md:text-6xl font-bold text-white mb-4 leading-tight font-serif\">\n            CAPYBARA COIN\n          </GlowingText>\n          <motion.p \n            className=\"text-xl md:text-2xl text-amber-100 font-light tracking-wide max-w-2xl mx-auto\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.6, duration: 0.6 }}\n          >\n            Epic Island-Hopping Adventure with Play-to-Earn Rewards\n          </motion.p>\n        </motion.div>\n\n        {/* Primary Actions Section */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.6, delay: 0.8 }}\n          className=\"mb-10\"\n        >\n          {/* Main Game Button */}\n          <div className=\"mb-6\">\n            <Button\n              onClick={onEnterGame}\n              onMouseEnter={() => setIsHovered(true)}\n              onMouseLeave={() => setIsHovered(false)}\n              className=\"relative group bg-gradient-to-r from-emerald-500 via-green-600 to-emerald-500 hover:from-emerald-400 hover:via-green-500 hover:to-emerald-400 text-white font-bold px-16 py-8 text-2xl rounded-3xl shadow-2xl hover:shadow-emerald-500/50 border-2 border-emerald-400 transition-all duration-300 transform hover:scale-110 active:scale-95 overflow-hidden\"\n              data-testid=\"button-start-capirush\"\n            >\n              {/* Button glow effect */}\n              <div className=\"absolute inset-0 bg-gradient-to-r from-emerald-400 to-green-400 opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-xl\" />\n              \n              {/* Animated background */}\n              <motion.div\n                className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                animate={isHovered ? {\n                  x: ['-100%', '200%'],\n                  transition: { duration: 0.8, ease: \"easeInOut\" }\n                } : {}}\n              />\n              \n              <span className=\"relative z-10 flex items-center gap-4\">\n                <span className=\"text-3xl\">ðŸ¹</span>\n                <span className=\"text-3xl\">ENTER</span>\n                <span className=\"text-3xl\">âœ¨</span>\n              </span>\n            </Button>\n          </div>\n\n          {/* Connect Wallet */}\n          <div className=\"flex justify-center\">\n            {isLoggedIn ? (\n              <Card className=\"bg-gradient-to-r from-violet-500/20 to-purple-600/20 backdrop-blur-md border-violet-400/40 hover:border-violet-300/60 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-violet-500/25\">\n                <CardContent className=\"px-8 py-4\">\n                  <Button\n                    onClick={logout}\n                    variant=\"ghost\"\n                    className=\"text-violet-100 hover:text-white flex items-center gap-3 h-auto p-3 text-lg font-semibold\"\n                  >\n                    <User className=\"h-6 w-6\" />\n                    <span>Welcome, {user?.username || 'Player'}!</span>\n                    <LogOut className=\"h-5 w-5 ml-2\" />\n                  </Button>\n                </CardContent>\n              </Card>\n            ) : (\n              <Card className=\"bg-gradient-to-r from-violet-500/20 to-purple-600/20 backdrop-blur-md border-violet-400/40 hover:border-violet-300/60 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-violet-500/25\">\n                <CardContent className=\"px-8 py-4\">\n                  <Button\n                    onClick={() => setShowAuthModal(true)}\n                    variant=\"ghost\"\n                    className=\"text-violet-100 hover:text-white flex items-center gap-3 h-auto p-3 text-lg font-semibold\"\n                  >\n                    <Wallet className=\"h-6 w-6\" />\n                    <span>Connect Wallet</span>\n                    <Zap className=\"h-5 w-5 ml-2\" />\n                  </Button>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </motion.div>\n\n        {/* Game Description */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 1.0, duration: 0.6 }}\n          className=\"mb-8 max-w-2xl mx-auto\"\n        >\n          <div className=\"bg-emerald-900/20 backdrop-blur-sm rounded-xl p-6 border border-emerald-500/30\">\n            <h4 className=\"text-emerald-300 font-semibold text-xl mb-3\">ðŸŽ® Master precision jumping through endless floating islands</h4>\n            <p className=\"text-emerald-100/80 text-base leading-relaxed\">\n              Guide our beloved capybara through mystical landscapes! Collect coins, dodge obstacles, and earn crypto rewards!\n            </p>\n          </div>\n        </motion.div>\n\n        {/* Navigation Grid */}\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 1.2 }}\n          className=\"mb-8\"\n        >\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto\">\n            {/* Whitepaper Button */}\n            <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300 transform hover:scale-105 hover:shadow-xl\">\n              <CardContent className=\"p-4\">\n                <Button\n                  onClick={handleWhitepaper}\n                  variant=\"ghost\"\n                  className=\"text-amber-100 hover:text-amber-300 flex flex-col items-center gap-2 h-auto p-3 w-full\"\n                >\n                  <FileText className=\"h-6 w-6\" />\n                  <span className=\"text-sm font-semibold\">Whitepaper</span>\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Buy Button */}\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 hover:bg-emerald-900/30 transition-all duration-300 transform hover:scale-105 hover:shadow-xl\">\n              <CardContent className=\"p-4\">\n                <Button\n                  onClick={handleBuy}\n                  variant=\"ghost\"\n                  className=\"text-emerald-100 hover:text-emerald-300 flex flex-col items-center gap-2 h-auto p-3 w-full\"\n                >\n                  <ShoppingCart className=\"h-6 w-6\" />\n                  <span className=\"text-sm font-semibold\">Buy CAPYBARA</span>\n                </Button>\n              </CardContent>\n            </Card>\n\n\n            {/* Telegram Button */}\n            <Card className=\"bg-blue-900/20 backdrop-blur-md border-blue-500/30 hover:bg-blue-900/30 transition-all duration-300 transform hover:scale-105 hover:shadow-xl\">\n              <CardContent className=\"p-4\">\n                <Button\n                  onClick={handleTelegram}\n                  variant=\"ghost\"\n                  className=\"text-blue-100 hover:text-blue-300 flex flex-col items-center gap-2 h-auto p-3 w-full\"\n                >\n                  <MessageCircle className=\"h-6 w-6\" />\n                  <span className=\"text-sm font-semibold\">Telegram Bot</span>\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* TikTok Button */}\n            <Card className=\"bg-pink-900/20 backdrop-blur-md border-pink-500/30 hover:bg-pink-900/30 transition-all duration-300 transform hover:scale-105 hover:shadow-xl\">\n              <CardContent className=\"p-4\">\n                <Button\n                  onClick={handleTikTok}\n                  variant=\"ghost\"\n                  className=\"text-pink-100 hover:text-pink-300 flex flex-col items-center gap-2 h-auto p-3 w-full\"\n                >\n                  <Music className=\"h-6 w-6\" />\n                  <span className=\"text-sm font-semibold\">TikTok</span>\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Leaderboard Button */}\n            <Card className=\"bg-yellow-900/20 backdrop-blur-md border-yellow-500/30 hover:bg-yellow-900/30 transition-all duration-300 transform hover:scale-105 hover:shadow-xl\">\n              <CardContent className=\"p-4\">\n                <Button\n                  onClick={() => setShowLeaderboard(true)}\n                  variant=\"ghost\"\n                  className=\"text-yellow-100 hover:text-yellow-300 flex flex-col items-center gap-2 h-auto p-3 w-full\"\n                >\n                  <Trophy className=\"h-6 w-6\" />\n                  <span className=\"text-sm font-semibold\">Leaderboard</span>\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </motion.div>\n\n        {/* Footer Instructions */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 1.5, duration: 0.6 }}\n          className=\"text-center text-amber-100/60\"\n        >\n          <p className=\"text-base font-light tracking-wide\">\n            Connect Solana wallet â€¢ Jump â€¢ Survive â€¢ Earn CAPYBARA\n          </p>\n        </motion.div>\n      </div>\n      \n      {/* Authentication Modal */}\n      {showAuthModal && (\n        <AuthModal\n          isOpen={showAuthModal}\n          onClose={() => setShowAuthModal(false)}\n        />\n      )}\n\n      {/* Leaderboard Modal */}\n      <Leaderboard\n        isVisible={showLeaderboard}\n        onClose={() => setShowLeaderboard(false)}\n      />\n      \n      <style>{`\n        @keyframes pulse {\n          0%, 100% { opacity: 0.1; transform: scale(1); }\n          50% { opacity: 0.3; transform: scale(1.02); }\n        }\n      `}</style>\n    </div>\n  );\n};","size_bytes":14065},"client/src/pages/Whitepaper.tsx":{"content":"import React from 'react';\nimport { Button } from '../components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { ArrowLeft, Shield, Gamepad2, Coins, Users, Zap, Target } from 'lucide-react';\n\nexport const Whitepaper: React.FC = () => {\n  const handleBack = () => {\n    window.close();\n  };\n\n  return (\n    <div className=\"min-h-screen relative overflow-y-auto\" style={{ height: '100vh' }}>\n      {/* Game Background */}\n      <div \n        className=\"fixed inset-0 bg-cover bg-center bg-no-repeat -z-10\"\n        style={{ \n          backgroundImage: `url('/images/AAA_capybara_wetland_background_ab88ce49.png')`,\n          filter: 'brightness(0.6) contrast(1.1)',\n          backgroundAttachment: 'fixed'\n        }}\n      />\n      {/* Atmospheric overlay */}\n      <div className=\"fixed inset-0 bg-gradient-to-t from-black/60 via-black/20 to-black/40 -z-10\" />\n      \n      <div className=\"relative z-10 container mx-auto px-6 py-8 max-w-4xl\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <Button \n            onClick={handleBack} \n            variant=\"outline\" \n            className=\"mb-4 text-amber-100 border-amber-400/30 hover:bg-amber-500/20 backdrop-blur-sm\"\n          >\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\n            Back\n          </Button>\n          <h1 className=\"text-4xl md:text-5xl font-bold text-white mb-4\">\n            Save the Capybara\n            <span className=\"text-amber-300\"> Whitepaper</span>\n          </h1>\n          <p className=\"text-xl text-amber-100\">\n            The Future of Play-to-Earn Gaming on Solana\n          </p>\n        </div>\n\n        <div className=\"space-y-8\">\n          {/* Executive Summary */}\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300\">\n            <CardHeader>\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <Target className=\"h-6 w-6 text-amber-400\" />\n                Executive Summary\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-amber-50 space-y-4\">\n              <p>\n                Save the Capybara is a thrilling endless adventure game built on the Solana blockchain. \n                Players guide brave capybaras through challenging island landscapes using precision jumping mechanics, \n                earning CAPYBARA rewards based on distance traveled, survival time, and collected treasures.\n              </p>\n              <p>\n                Our mission is to create the most engaging and rewarding gaming experience in the Solana ecosystem, \n                combining addictive gameplay with real economic value for our community.\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* Game Mechanics */}\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300\">\n            <CardHeader>\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <Gamepad2 className=\"h-6 w-6 text-emerald-400\" />\n                Game Mechanics\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-amber-50 space-y-4\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">Precision Jumping System</h3>\n                <p>Players control jump strength and distance with intuitive tap/hold mechanics. Master the art of timing and power to navigate between floating islands successfully.</p>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">Endless Adventure Mode</h3>\n                <p>Survive as long as possible in procedurally generated island chains. Each run presents unique challenges with increasing difficulty and greater reward potential.</p>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">Treasure Collection</h3>\n                <p>Collect coins, power-ups, and special items scattered throughout the island world. Strategic collection paths maximize both score and CAPYBARA token earnings.</p>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Tokenomics */}\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300\">\n            <CardHeader>\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <Coins className=\"h-6 w-6 text-amber-400\" />\n                Tokenomics (CAPYBARA)\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-amber-50 space-y-4\">\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">Token Distribution</h3>\n                  <ul className=\"space-y-1\">\n                    <li>â€¢ 40% - Play-to-Earn Rewards</li>\n                    <li>â€¢ 25% - Liquidity Pool</li>\n                    <li>â€¢ 20% - Community Treasury</li>\n                    <li>â€¢ 10% - Development Team</li>\n                    <li>â€¢ 5% - Marketing & Partnerships</li>\n                  </ul>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">Earning Mechanisms</h3>\n                  <ul className=\"space-y-1\">\n                    <li>â€¢ Daily achievement rewards</li>\n                    <li>â€¢ Weekly tournament prizes</li>\n                    <li>â€¢ Level completion bonuses</li>\n                    <li>â€¢ Streak multipliers</li>\n                    <li>â€¢ Community challenges</li>\n                  </ul>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Technology */}\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300\">\n            <CardHeader>\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <Zap className=\"h-6 w-6 text-yellow-400\" />\n                Technology Stack\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-amber-50 space-y-4\">\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">Blockchain</h3>\n                  <p>Built on Solana for fast, low-cost transactions and seamless user experience.</p>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">Game Engine</h3>\n                  <p>Phaser 3 game engine with React for smooth gameplay and modern UI.</p>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">Wallet Integration</h3>\n                  <p>Support for major Solana wallets including Phantom, Solflare, and Backpack.</p>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">Security</h3>\n                  <p>Smart contract audits and secure player data management with PostgreSQL.</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Community */}\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300\">\n            <CardHeader>\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <Users className=\"h-6 w-6 text-green-400\" />\n                Community & Governance\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-amber-50 space-y-4\">\n              <p>\n                Our community is at the heart of Save the Capybara. Token holders will have voting rights \n                on key decisions including new features, tournament formats, and reward distributions.\n              </p>\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">Community Features</h3>\n                <ul className=\"space-y-1\">\n                  <li>â€¢ Global leaderboards and competitions</li>\n                  <li>â€¢ Player guilds and team challenges</li>\n                  <li>â€¢ Community-created level contests</li>\n                  <li>â€¢ Regular AMAs and developer updates</li>\n                  <li>â€¢ Telegram bot for community management</li>\n                </ul>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Security */}\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 hover:bg-amber-900/30 transition-all duration-300\">\n            <CardHeader>\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <Shield className=\"h-6 w-6 text-orange-400\" />\n                Security & Fair Play\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-amber-50 space-y-4\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">Anti-Cheat Measures</h3>\n                <ul className=\"space-y-1\">\n                  <li>â€¢ Server-side validation of all game actions</li>\n                  <li>â€¢ One wallet per player restriction</li>\n                  <li>â€¢ Behavioral analysis for bot detection</li>\n                  <li>â€¢ Community reporting system</li>\n                </ul>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">Data Protection</h3>\n                <p>\n                  All player data is encrypted and stored securely. We follow GDPR compliance standards \n                  and never share personal information with third parties.\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Conclusion */}\n          <Card className=\"bg-gradient-to-r from-amber-500/20 to-emerald-500/20 backdrop-blur-md border-amber-400/30\">\n            <CardContent className=\"p-8 text-center\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">Join the Capybara Revolution</h2>\n              <p className=\"text-amber-50 mb-6\">\n                Save the Capybara represents the next evolution in play-to-earn gaming. With our unique \n                blend of skill-based gameplay, fair tokenomics, and community-driven development, \n                we're building more than just a game â€“ we're creating a sustainable gaming economy.\n              </p>\n              <Button className=\"bg-gradient-to-r from-amber-500 to-emerald-600 hover:from-amber-600 hover:to-emerald-700 text-white font-bold px-8 py-3\">\n                Start Playing Today\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":11054},"client/src/components/LoadingScreen.tsx":{"content":"import React, { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\n\nconst backgroundImage = '/images/AAA_capybara_wetland_background_ab88ce49.png';\nconst heroImage = '/images/AAA_capybara_hero_character_0a40b727.png';\n\ninterface LoadingScreenProps {\n  onLoadingComplete: () => void;\n}\n\nexport const LoadingScreen: React.FC<LoadingScreenProps> = ({ onLoadingComplete }) => {\n  const [progress, setProgress] = useState(0);\n  const [loadingText, setLoadingText] = useState('Entering the mystical wetlands...');\n\n  const loadingMessages = [\n    'Entering the mystical wetlands...',\n    'Awakening the capybara guardian...',\n    'Preparing magical barriers...',\n    'Summoning protective spirits...',\n    'Ready for adventure!'\n  ];\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setProgress(prev => {\n        const newProgress = prev + 2;\n        \n        // Update loading text based on progress\n        const messageIndex = Math.floor((newProgress / 100) * loadingMessages.length);\n        if (messageIndex < loadingMessages.length) {\n          setLoadingText(loadingMessages[messageIndex]);\n        }\n        \n        if (newProgress >= 100) {\n          clearInterval(interval);\n          setTimeout(onLoadingComplete, 500);\n          return 100;\n        }\n        return newProgress;\n      });\n    }, 50);\n\n    return () => clearInterval(interval);\n  }, [onLoadingComplete]);\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center relative overflow-hidden\">\n      {/* Background */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n        style={{ \n          backgroundImage: `url(${backgroundImage})`,\n          filter: 'brightness(0.6) contrast(1.1)'\n        }}\n      />\n      \n      {/* Overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40\" />\n      \n      {/* Content */}\n      <div className=\"relative z-10 text-center\">\n        {/* Enhanced floating elements with better animations */}\n        <motion.div className=\"mb-8\">\n          <div className=\"w-72 h-72 relative\">\n            {/* Rotating sparkles */}\n            <motion.div\n              className=\"absolute inset-0\"\n              animate={{ rotate: 360 }}\n              transition={{ duration: 8, repeat: Infinity, ease: \"linear\" }}\n            >\n              <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2\">\n                <motion.div\n                  className=\"text-4xl\"\n                  animate={{ scale: [1, 1.3, 1], opacity: [0.7, 1, 0.7] }}\n                  transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n                >âœ¨</motion.div>\n              </div>\n              <div className=\"absolute bottom-0 left-1/2 transform -translate-x-1/2\">\n                <motion.div\n                  className=\"text-4xl\"\n                  animate={{ scale: [1, 1.3, 1], opacity: [0.7, 1, 0.7] }}\n                  transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\", delay: 0.5 }}\n                >âœ¨</motion.div>\n              </div>\n              <div className=\"absolute left-0 top-1/2 transform -translate-y-1/2\">\n                <motion.div\n                  className=\"text-4xl\"\n                  animate={{ scale: [1, 1.3, 1], opacity: [0.7, 1, 0.7] }}\n                  transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\", delay: 1 }}\n                >âœ¨</motion.div>\n              </div>\n              <div className=\"absolute right-0 top-1/2 transform -translate-y-1/2\">\n                <motion.div\n                  className=\"text-4xl\"\n                  animate={{ scale: [1, 1.3, 1], opacity: [0.7, 1, 0.7] }}\n                  transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\", delay: 1.5 }}\n                >âœ¨</motion.div>\n              </div>\n            </motion.div>\n            \n            {/* Floating bees with more natural movement */}\n            <motion.div\n              className=\"absolute top-1/4 right-1/4\"\n              animate={{ \n                x: [0, 20, -10, 15, 0], \n                y: [0, -15, 10, -5, 0],\n                rotate: [0, 10, -5, 8, 0]\n              }}\n              transition={{ duration: 4, repeat: Infinity, ease: \"easeInOut\" }}\n            >\n              <div className=\"text-3xl\">ðŸ</div>\n            </motion.div>\n            \n            <motion.div\n              className=\"absolute bottom-1/4 left-1/4\"\n              animate={{ \n                x: [0, -15, 20, -10, 0], \n                y: [0, 10, -20, 15, 0],\n                rotate: [0, -8, 12, -6, 0]\n              }}\n              transition={{ duration: 3.5, repeat: Infinity, ease: \"easeInOut\", delay: 1 }}\n            >\n              <div className=\"text-3xl\">ðŸ</div>\n            </motion.div>\n            \n            {/* Additional floating magical elements */}\n            <motion.div\n              className=\"absolute top-1/3 left-1/3 text-2xl opacity-60\"\n              animate={{ \n                y: [0, -20, 0], \n                scale: [1, 1.1, 1],\n                opacity: [0.4, 0.8, 0.4]\n              }}\n              transition={{ duration: 3, repeat: Infinity, ease: \"easeInOut\", delay: 2 }}\n            >ðŸŒŸ</motion.div>\n            \n            <motion.div\n              className=\"absolute bottom-1/3 right-1/3 text-2xl opacity-60\"\n              animate={{ \n                y: [0, 20, 0], \n                scale: [1, 1.1, 1],\n                opacity: [0.4, 0.8, 0.4]\n              }}\n              transition={{ duration: 2.5, repeat: Infinity, ease: \"easeInOut\", delay: 1.5 }}\n            >ðŸŒŸ</motion.div>\n          </div>\n        </motion.div>\n        \n        {/* Loading text */}\n        <motion.h2 \n          className=\"text-3xl font-bold text-amber-100 mb-8\"\n          key={loadingText}\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n        >\n          {loadingText}\n        </motion.h2>\n        \n        {/* Progress bar */}\n        <div className=\"w-80 mx-auto\">\n          <div className=\"bg-amber-900/30 rounded-full h-4 backdrop-blur-sm border border-amber-500/30\">\n            <motion.div \n              className=\"bg-gradient-to-r from-amber-400 via-yellow-400 to-amber-400 h-full rounded-full relative overflow-hidden\"\n              style={{ width: `${progress}%` }}\n              initial={{ width: 0 }}\n              animate={{ width: `${progress}%` }}\n              transition={{ duration: 0.3 }}\n            >\n              {/* Animated shimmer effect */}\n              <motion.div\n                className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent\"\n                animate={{ x: ['-100%', '200%'] }}\n                transition={{ duration: 1.5, repeat: Infinity, ease: \"easeInOut\" }}\n              />\n            </motion.div>\n          </div>\n          \n          {/* Progress percentage */}\n          <motion.p \n            className=\"text-amber-200 text-lg mt-4 font-light\"\n            animate={{ opacity: [1, 0.5, 1] }}\n            transition={{ duration: 1.5, repeat: Infinity }}\n          >\n            {progress}%\n          </motion.p>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":7278},"client/src/utils/seedPhraseGenerator.ts":{"content":"// Word list for generating 4-word seed phrases\nconst WORD_LIST = [\n    // Animals\n    'capybara', 'dolphin', 'elephant', 'falcon', 'giraffe', 'hamster', 'iguana', 'jaguar',\n    'kangaroo', 'lemur', 'mongoose', 'narwhal', 'octopus', 'penguin', 'quokka', 'rabbit',\n    'seahorse', 'turtle', 'unicorn', 'vulture', 'walrus', 'xerus', 'yak', 'zebra',\n    \n    // Nature\n    'aurora', 'breeze', 'crystal', 'dewdrop', 'ember', 'forest', 'galaxy', 'horizon',\n    'island', 'jungle', 'lagoon', 'meadow', 'nebula', 'ocean', 'peak', 'quartz',\n    'river', 'storm', 'thunder', 'valley', 'wave', 'zephyr',\n    \n    // Objects\n    'anchor', 'beacon', 'compass', 'diamond', 'engine', 'feather', 'guardian', 'harbor',\n    'ivory', 'jewel', 'key', 'lantern', 'mirror', 'needle', 'orb', 'prism',\n    'quest', 'relic', 'shield', 'torch', 'unity', 'vessel', 'wand', 'zenith',\n    \n    // Colors & Elements\n    'amber', 'bronze', 'copper', 'emerald', 'flame', 'gold', 'iron', 'jade',\n    'lunar', 'marble', 'onyx', 'pearl', 'ruby', 'silver', 'topaz', 'violet'\n];\n\nexport const generateSeedPhrase = (): string => {\n    const shuffled = [...WORD_LIST].sort(() => Math.random() - 0.5);\n    return shuffled.slice(0, 4).join(' ');\n};\n\nexport const validateSeedPhrase = (phrase: string): boolean => {\n    const words = phrase.trim().toLowerCase().split(' ');\n    return words.length === 4 && words.every(word => WORD_LIST.includes(word));\n};\n\nexport const formatSeedPhrase = (phrase: string): string => {\n    return phrase.toLowerCase().trim().replace(/\\s+/g, ' ');\n};","size_bytes":1542},"client/src/utils/solanaValidator.ts":{"content":"import { PublicKey } from '@solana/web3.js';\n\nexport const validateSolanaWallet = (address: string): boolean => {\n    try {\n        // Check if it's a valid base58 Solana public key\n        new PublicKey(address);\n        return true;\n    } catch (error) {\n        return false;\n    }\n};\n\nexport const isValidSolanaAddress = (address: string): boolean => {\n    // Allow any non-empty string as wallet address for maximum compatibility\n    if (!address || typeof address !== 'string') {\n        return false;\n    }\n    \n    // Trim whitespace\n    const trimmedAddress = address.trim();\n    \n    // Just check it's not empty and has reasonable length\n    if (trimmedAddress.length < 1 || trimmedAddress.length > 100) {\n        return false;\n    }\n    \n    // Accept any alphanumeric string for maximum compatibility\n    return true;\n};\n\nexport const formatSolanaAddress = (address: string): string => {\n    if (!address || address.length < 8) return address;\n    return `${address.slice(0, 4)}...${address.slice(-4)}`;\n};","size_bytes":1019},"client/src/components/BackgroundMusic.tsx":{"content":"import React, { useRef, useEffect, useState } from 'react';\nimport { Volume2, VolumeX } from 'lucide-react';\n\ninterface BackgroundMusicProps {\n  isPlaying?: boolean;\n}\n\nexport const BackgroundMusic: React.FC<BackgroundMusicProps> = ({ isPlaying = true }) => {\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    // Create a simple looping background track using Web Audio API\n    const createAmbientLoop = () => {\n      try {\n        const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n        const oscillator1 = audioContext.createOscillator();\n        const oscillator2 = audioContext.createOscillator();\n        const gainNode = audioContext.createGain();\n        const filterNode = audioContext.createBiquadFilter();\n\n        // Create warm, ambient tones\n        oscillator1.frequency.setValueAtTime(220, audioContext.currentTime); // A3\n        oscillator2.frequency.setValueAtTime(330, audioContext.currentTime); // E4\n        \n        oscillator1.type = 'sine';\n        oscillator2.type = 'triangle';\n        \n        // Low-pass filter for warmth\n        filterNode.type = 'lowpass';\n        filterNode.frequency.setValueAtTime(800, audioContext.currentTime);\n        filterNode.Q.setValueAtTime(1, audioContext.currentTime);\n        \n        // Very low volume for ambient background\n        gainNode.gain.setValueAtTime(0.02, audioContext.currentTime);\n        \n        // Connect the audio graph\n        oscillator1.connect(filterNode);\n        oscillator2.connect(filterNode);\n        filterNode.connect(gainNode);\n        gainNode.connect(audioContext.destination);\n        \n        // Add subtle frequency modulation for organic feel\n        const lfo = audioContext.createOscillator();\n        const lfoGain = audioContext.createGain();\n        lfo.frequency.setValueAtTime(0.1, audioContext.currentTime);\n        lfoGain.gain.setValueAtTime(2, audioContext.currentTime);\n        \n        lfo.connect(lfoGain);\n        lfoGain.connect(oscillator1.frequency);\n        \n        if (isPlaying && !isMuted) {\n          oscillator1.start();\n          oscillator2.start();\n          lfo.start();\n        }\n        \n        setIsLoaded(true);\n        \n        return () => {\n          try {\n            oscillator1.stop();\n            oscillator2.stop();\n            lfo.stop();\n            audioContext.close();\n          } catch (e) {\n            // Oscillators already stopped\n          }\n        };\n      } catch (error) {\n        console.log('Web Audio API not supported, using fallback');\n        setIsLoaded(true);\n      }\n    };\n\n    const cleanup = createAmbientLoop();\n    \n    return cleanup;\n  }, [isPlaying, isMuted]);\n\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n  };\n\n  if (!isLoaded) return null;\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50\">\n      <button\n        onClick={toggleMute}\n        className=\"p-2 bg-amber-900/30 backdrop-blur-sm border border-amber-500/30 rounded-lg hover:bg-amber-900/50 transition-colors\"\n        title={isMuted ? 'Unmute background music' : 'Mute background music'}\n      >\n        {isMuted ? (\n          <VolumeX className=\"h-5 w-5 text-amber-200\" />\n        ) : (\n          <Volume2 className=\"h-5 w-5 text-amber-200\" />\n        )}\n      </button>\n      <audio ref={audioRef} loop style={{ display: 'none' }} />\n    </div>\n  );\n};","size_bytes":3536},"client/src/components/SettingsModal.tsx":{"content":"import React from 'react';\nimport { X, Volume2, VolumeX, Monitor, Zap } from 'lucide-react';\n\ninterface SettingsModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nexport function SettingsModal({ isOpen, onClose }: SettingsModalProps) {\n    const [soundEnabled, setSoundEnabled] = React.useState(true);\n    const [musicEnabled, setMusicEnabled] = React.useState(true);\n    const [particlesEnabled, setParticlesEnabled] = React.useState(true);\n    const [highQuality, setHighQuality] = React.useState(true);\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl border border-slate-600 w-full max-w-md\">\n                <div className=\"flex items-center justify-between p-6 border-b border-slate-600\">\n                    <h2 className=\"text-2xl font-bold text-white\">Settings</h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors\"\n                    >\n                        <X className=\"w-6 h-6 text-slate-400\" />\n                    </button>\n                </div>\n\n                <div className=\"p-6 space-y-6\">\n                    {/* Audio Settings */}\n                    <div className=\"space-y-4\">\n                        <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\n                            <Volume2 className=\"w-5 h-5\" />\n                            Audio\n                        </h3>\n                        \n                        <div className=\"space-y-3\">\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-slate-300\">Sound Effects</span>\n                                <button\n                                    onClick={() => setSoundEnabled(!soundEnabled)}\n                                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                                        soundEnabled ? 'bg-blue-600' : 'bg-slate-600'\n                                    }`}\n                                >\n                                    <span\n                                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                                            soundEnabled ? 'translate-x-6' : 'translate-x-1'\n                                        }`}\n                                    />\n                                </button>\n                            </div>\n                            \n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-slate-300\">Background Music</span>\n                                <button\n                                    onClick={() => setMusicEnabled(!musicEnabled)}\n                                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                                        musicEnabled ? 'bg-blue-600' : 'bg-slate-600'\n                                    }`}\n                                >\n                                    <span\n                                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                                            musicEnabled ? 'translate-x-6' : 'translate-x-1'\n                                        }`}\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Graphics Settings */}\n                    <div className=\"space-y-4\">\n                        <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\n                            <Monitor className=\"w-5 h-5\" />\n                            Graphics\n                        </h3>\n                        \n                        <div className=\"space-y-3\">\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-slate-300\">Particle Effects</span>\n                                <button\n                                    onClick={() => setParticlesEnabled(!particlesEnabled)}\n                                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                                        particlesEnabled ? 'bg-blue-600' : 'bg-slate-600'\n                                    }`}\n                                >\n                                    <span\n                                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                                            particlesEnabled ? 'translate-x-6' : 'translate-x-1'\n                                        }`}\n                                    />\n                                </button>\n                            </div>\n                            \n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-slate-300\">High Quality Graphics</span>\n                                <button\n                                    onClick={() => setHighQuality(!highQuality)}\n                                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                                        highQuality ? 'bg-blue-600' : 'bg-slate-600'\n                                    }`}\n                                >\n                                    <span\n                                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                                            highQuality ? 'translate-x-6' : 'translate-x-1'\n                                        }`}\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Game Settings */}\n                    <div className=\"space-y-4\">\n                        <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\n                            <Zap className=\"w-5 h-5\" />\n                            Gameplay\n                        </h3>\n                        \n                        <div className=\"text-sm text-slate-400\">\n                            Additional gameplay settings will be available in future updates.\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"px-6 py-4 border-t border-slate-600 flex justify-end\">\n                    <button\n                        onClick={onClose}\n                        className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors\"\n                    >\n                        Save Changes\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}","size_bytes":7333},"client/src/scenes/TowerDefenseScene.ts":{"content":"import Phaser from 'phaser';\nimport { useGameState } from '../lib/stores/useGameState';\n\ninterface CapybaraUnit {\n    type: 'harvester' | 'thrower' | 'fire' | 'wall' | 'ninja' | 'queen';\n    sprite: Phaser.GameObjects.Image;\n    armor: number;\n    damage: number;\n    foodCost: number;\n    range: number;\n    action: (bees: BeeUnit[]) => void;\n    place: TowerPlace;\n    attackCooldown: number;\n    maxCooldown: number;\n}\n\ninterface BeeUnit {\n    sprite: Phaser.GameObjects.Image;\n    armor: number;\n    maxArmor: number;\n    speed: number;\n    active: boolean;\n    place: TowerPlace;\n    targetPlace: TowerPlace | null;\n    healthBar?: Phaser.GameObjects.Rectangle;\n    healthBarBg?: Phaser.GameObjects.Rectangle;\n    armorText?: Phaser.GameObjects.Text;\n}\n\ninterface TowerPlace {\n    name: string;\n    x: number;\n    y: number;\n    entrance: TowerPlace | null;\n    exit: TowerPlace | null;\n    capybara: CapybaraUnit | null;\n    bees: BeeUnit[];\n    isWater: boolean;\n}\n\nexport class TowerDefenseScene extends Phaser.Scene {\n    private places: TowerPlace[] = [];\n    private capybaras: CapybaraUnit[] = [];\n    private bees: BeeUnit[] = [];\n    private selectedCapybaraType: string | null = null;\n    private food: number = 20;\n    private turnNumber: number = 0;\n    private isPlayerTurn: boolean = true;\n    private turnTimer!: Phaser.Time.TimerEvent;\n    private foodText!: Phaser.GameObjects.Text;\n    private turnText!: Phaser.GameObjects.Text;\n    private selectedText!: Phaser.GameObjects.Text;\n    private gameActive: boolean = true;\n    \n    // Enhanced HUD elements\n    private waveProgressBg!: Phaser.GameObjects.Rectangle;\n    private waveProgressBar!: Phaser.GameObjects.Rectangle;\n    private waveText!: Phaser.GameObjects.Text;\n    private enemyCountText!: Phaser.GameObjects.Text;\n    private defenderCountText!: Phaser.GameObjects.Text;\n    private statusText!: Phaser.GameObjects.Text;\n\n    constructor() {\n        super({ key: 'TowerDefenseScene' });\n    }\n\n    preload() {\n        // Load tunnel background image\n        this.load.image('tunnelBackground', '/images/level_map_bg.png?v=2');\n        \n        // Load new generated capybara and bee sprites  \n        this.load.image('capybaraSprite', '/attached_assets/generated_images/Enhanced_capybara_tower_sprite_7327b0ce.png');\n        this.load.image('beeSprite', '/attached_assets/generated_images/Enhanced_bee_enemy_sprite_22f51e8a.png');\n        this.load.image('leaf', '/images/enhanced_capybara.png?v=2');\n        \n        // Load colorful capybara tower types\n        this.load.image('capybaraTowers', '/images/capybara_towers.png?v=2');\n        \n        // Load comprehensive audio library for AAA tower defense experience\n        this.load.audio('background', '/sounds/background.mp3');\n        this.load.audio('success', '/sounds/success.mp3');\n        this.load.audio('hit', '/sounds/hit.mp3');\n        \n        // Note: Using procedural tactical ambient audio instead of file-based for better compatibility\n    }\n\n    create() {\n        const { width, height } = this.scale;\n        \n        // Set enhanced background\n        this.add.image(width/2, height/2, 'tunnelBackground').setDisplaySize(width, height).setDepth(-1);\n        \n        // Update game state for tower defense\n        useGameState.getState().setScene('towerdefense');\n        \n        // Create places (tunnel system)\n        this.createTunnelSystem();\n        \n        // Create UI\n        this.createUI();\n        \n        // Create control panel\n        this.createControlPanel();\n        \n        // Handle input\n        this.setupInput();\n        \n        // Initialize AAA audio system for tower defense\n        this.initializeAdvancedAudioSystem();\n        \n        // Start turn timer\n        this.startTurn();\n        \n        this.gameActive = true;\n    }\n\n    private createTunnelSystem() {\n        // AAA-Quality path that perfectly follows the background\n        const pathPoints = [\n            { x: 90, y: this.scale.height * 0.65 },   // Base position (bottom left)\n            { x: 200, y: this.scale.height * 0.50 },  // First curve up \n            { x: 320, y: this.scale.height * 0.32 },  // Top plateau start\n            { x: 450, y: this.scale.height * 0.30 },  // Top plateau middle\n            { x: 580, y: this.scale.height * 0.48 },  // Descending curve\n            { x: 700, y: this.scale.height * 0.65 },  // Bottom curve\n            { x: 820, y: this.scale.height * 0.70 },  // Lowest point\n            { x: 950, y: this.scale.height * 0.60 },  // Rising again\n            { x: 1080, y: this.scale.height * 0.45 }, // Final ascent\n            { x: 1200, y: this.scale.height * 0.32 }, // Hive position (top right)\n        ];\n        \n        const placeWidth = 80;\n        let previousPlace: TowerPlace | null = null;\n        \n        // Create places along the winding path\n        for (let i = 0; i < pathPoints.length; i++) {\n            const point = pathPoints[i];\n            const x = point.x;\n            const y = point.y;\n            const isWater = i >= 3 && i <= 5; // Water sections in middle curve\n            \n            const place: TowerPlace = {\n                name: i === 0 ? 'base' : i === pathPoints.length - 1 ? 'hive' : `path_${i}`,\n                x,\n                y,\n                entrance: null, // Will be set when creating next place\n                exit: previousPlace,\n                capybara: null,\n                bees: [],\n                isWater\n            };\n\n            if (previousPlace) {\n                previousPlace.entrance = place;\n            }\n\n            // Professional placement indicators - subtle glow\n            const marker = this.add.circle(x, y, 18, isWater ? 0x3498db : 0x2ecc71, 0.05)\n                .setStrokeStyle(1, isWater ? 0x85c1e9 : 0x58d68d, 0.3)\n                .setDepth(1);\n                \n            // Add subtle pulsing effect to show interactivity\n            this.tweens.add({\n                targets: marker,\n                alpha: 0.1,\n                duration: 2000,\n                ease: 'Sine.easeInOut',\n                yoyo: true,\n                repeat: -1\n            });\n\n            this.places.push(place);\n            previousPlace = place;\n        }\n\n        // Base and hive are already included in the pathPoints as first and last\n        // Add visual markers for base and hive\n        const base = this.places[0];\n        const hive = this.places[this.places.length - 1];\n        \n        // Professional base marker with glow\n        const baseBg = this.add.rectangle(base.x, base.y, 45, 28, 0x2ecc71, 0.8)\n            .setStrokeStyle(2, 0x27ae60)\n            .setDepth(2);\n        this.add.circle(base.x, base.y, 25, 0x2ecc71, 0.2).setDepth(1); // Glow\n        this.add.text(base.x, base.y, 'ðŸ ', { fontSize: '18px' }).setOrigin(0.5).setDepth(3);\n        \n        // Professional hive marker with glow\n        const hiveBg = this.add.rectangle(hive.x, hive.y, 45, 28, 0xf1c40f, 0.8)\n            .setStrokeStyle(2, 0xe67e22)\n            .setDepth(2);\n        this.add.circle(hive.x, hive.y, 25, 0xf1c40f, 0.2).setDepth(1); // Glow\n        this.add.text(hive.x, hive.y, 'ðŸ¯', { fontSize: '18px' }).setOrigin(0.5).setDepth(3);\n        \n        // Add subtle animations to markers\n        this.tweens.add({\n            targets: [baseBg, hiveBg],\n            scaleX: 1.05,\n            scaleY: 1.05,\n            duration: 3000,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n    }\n\n    private createUI() {\n        // Enhanced HUD with detailed stats\n        const topBarHeight = 60;\n        const topBar = this.add.rectangle(this.scale.width/2, topBarHeight/2, this.scale.width, topBarHeight, 0x1a252f, 0.95)\n            .setStrokeStyle(2, 0x2c5aa0, 0.8)\n            .setDepth(25);\n            \n        // Add top glow\n        this.add.rectangle(this.scale.width/2, topBarHeight, this.scale.width, 2, 0x3498db, 0.6).setDepth(24);\n\n        // Professional exit button\n        const exitBtn = this.add.rectangle(60, 20, 80, 28, 0xe74c3c, 0.9)\n            .setInteractive()\n            .setDepth(26)\n            .setStrokeStyle(2, 0xc0392b)\n            .on('pointerdown', () => {\n                // Add click animation\n                this.tweens.add({\n                    targets: exitBtn,\n                    scaleX: 0.95,\n                    scaleY: 0.95,\n                    duration: 100,\n                    yoyo: true,\n                    onComplete: () => this.scene.start('MenuScene')\n                });\n            });\n        \n        this.add.text(60, 20, 'â† Menu', {\n            fontSize: '12px',\n            color: '#FFFFFF',\n            fontStyle: 'bold'\n        }).setOrigin(0.5).setDepth(27);\n\n        // Enhanced stats display\n        const statsX = 250;\n        \n        // Wave counter with progress\n        this.add.text(statsX, 15, 'ðŸŒŠ Wave Progress', {\n            fontSize: '12px',\n            color: '#3498db',\n            fontStyle: 'bold'\n        }).setDepth(26);\n        \n        // Wave progress bar background\n        this.waveProgressBg = this.add.rectangle(statsX + 100, 15, 120, 8, 0x2c3e50, 1).setDepth(25);\n        this.waveProgressBar = this.add.rectangle(statsX + 40, 15, 40, 6, 0x3498db, 1).setDepth(26);\n        \n        this.waveText = this.add.text(statsX + 200, 15, `${this.turnNumber}/10`, {\n            fontSize: '11px',\n            color: '#ecf0f1'\n        }).setDepth(26);\n\n        // Enemy count \n        this.add.text(statsX, 35, 'ðŸ Active Enemies', {\n            fontSize: '12px',\n            color: '#e74c3c',\n            fontStyle: 'bold'\n        }).setDepth(26);\n        \n        this.enemyCountText = this.add.text(statsX + 130, 35, `${this.bees.length}`, {\n            fontSize: '12px',\n            color: '#ff6b6b',\n            fontStyle: 'bold'\n        }).setDepth(26);\n\n        // Capybara count\n        this.add.text(statsX, 50, 'ðŸ¦« Defenders', {\n            fontSize: '12px', \n            color: '#27ae60',\n            fontStyle: 'bold'\n        }).setDepth(26);\n        \n        this.defenderCountText = this.add.text(statsX + 100, 50, `${this.capybaras.length}`, {\n            fontSize: '12px',\n            color: '#2ecc71',\n            fontStyle: 'bold'\n        }).setDepth(26);\n\n        // Game status\n        this.statusText = this.add.text(this.scale.width - 150, 30, 'Battle Active', {\n            fontSize: '14px',\n            color: '#f39c12',\n            fontStyle: 'bold'\n        }).setOrigin(0.5).setDepth(26);\n\n        // Add hover effect to exit button\n        exitBtn.on('pointerover', () => {\n            this.tweens.add({\n                targets: exitBtn,\n                scaleX: 1.05,\n                scaleY: 1.05,\n                duration: 200,\n                ease: 'Back.easeOut'\n            });\n        });\n\n        exitBtn.on('pointerout', () => {\n            this.tweens.add({\n                targets: exitBtn,\n                scaleX: 1,\n                scaleY: 1,\n                duration: 150\n            });\n        });\n    }\n\n    private updateHUD() {\n        // Update wave progress\n        if (this.waveText) {\n            this.waveText.setText(`${this.turnNumber}/10`);\n        }\n        \n        if (this.waveProgressBar) {\n            const progress = Math.min(this.turnNumber / 10, 1);\n            this.waveProgressBar.width = 120 * progress;\n        }\n\n        // Update enemy count\n        if (this.enemyCountText) {\n            this.enemyCountText.setText(`${this.bees.length}`);\n        }\n\n        // Update defender count\n        if (this.defenderCountText) {\n            this.defenderCountText.setText(`${this.capybaras.length}`);\n        }\n\n        // Update game status\n        if (this.statusText) {\n            if (this.bees.length === 0) {\n                this.statusText.setText('Wave Clear!').setColor('#27ae60');\n            } else if (this.bees.length > 5) {\n                this.statusText.setText('Under Attack!').setColor('#e74c3c');\n            } else {\n                this.statusText.setText('Battle Active').setColor('#f39c12');\n            }\n        }\n    }\n\n    private createControlPanel() {\n        // SIMPLE CLEAN DESIGN - No fancy effects, just working UI\n        const panelHeight = 80;\n        const panelY = this.scale.height - panelHeight/2;\n        \n        // Simple solid background\n        this.add.rectangle(this.scale.width/2, panelY, this.scale.width, panelHeight, 0x2c3e50, 1)\n            .setDepth(10);\n\n        // Left info section\n        const infoX = 70;\n        \n        // Food display\n        this.add.text(20, panelY - 15, 'Food:', {\n            fontSize: '14px',\n            color: '#ffffff',\n            fontStyle: 'bold'\n        }).setDepth(11);\n        \n        this.foodText = this.add.text(70, panelY - 15, `${this.food}`, {\n            fontSize: '14px',\n            color: '#f39c12',\n            fontStyle: 'bold'\n        }).setDepth(11);\n        \n        // Turn counter\n        this.add.text(20, panelY + 5, `Turn: ${this.turnNumber}`, {\n            fontSize: '12px',\n            color: '#3498db',\n            fontStyle: 'bold'\n        }).setDepth(11);\n\n        // Selection feedback\n        this.selectedText = this.add.text(20, panelY - 30, 'Choose Capybara:', {\n            fontSize: '11px',\n            color: '#ecf0f1'\n        }).setDepth(11);\n\n        // Simple button layout\n        const capybaraTypes = [\n            { type: 'harvester', cost: 2, color: 0x2ecc71, name: 'Farm', icon: 'ðŸŒ±' },\n            { type: 'thrower', cost: 3, color: 0xe74c3c, name: 'Shoot', icon: 'ðŸŽ¯' },\n            { type: 'fire', cost: 5, color: 0xe67e22, name: 'Fire', icon: 'ðŸ”¥' },\n            { type: 'wall', cost: 4, color: 0x8b4513, name: 'Wall', icon: 'ðŸ›¡ï¸' },\n            { type: 'ninja', cost: 5, color: 0x9b59b6, name: 'Fast', icon: 'ðŸ¥·' },\n            { type: 'queen', cost: 7, color: 0xf1c40f, name: 'Queen', icon: 'ðŸ‘‘' }\n        ];\n\n        const startX = 200;\n        const spacing = 120;\n\n        capybaraTypes.forEach((capyType, index) => {\n            const x = startX + index * spacing;\n            const y = panelY;\n            const affordable = this.food >= capyType.cost;\n\n            // Simple button\n            const btn = this.add.rectangle(x, y, 100, 60, affordable ? 0x34495e : 0x7f8c8d, 1)\n                .setStrokeStyle(2, affordable ? capyType.color : 0x95a5a6)\n                .setInteractive()\n                .setDepth(11);\n\n            // Icon and name\n            this.add.text(x, y - 12, capyType.icon, { \n                fontSize: '16px' \n            }).setOrigin(0.5).setDepth(12);\n            \n            this.add.text(x, y + 5, capyType.name, {\n                fontSize: '10px',\n                color: '#ffffff',\n                fontStyle: 'bold'\n            }).setOrigin(0.5).setDepth(12);\n            \n            this.add.text(x, y + 18, `${capyType.cost} food`, {\n                fontSize: '9px',\n                color: '#f39c12'\n            }).setOrigin(0.5).setDepth(12);\n\n            // Simple click handler\n            btn.on('pointerdown', () => {\n                if (affordable) {\n                    this.selectedCapybaraType = capyType.type;\n                    this.selectedText.setText(`${capyType.icon} ${capyType.name} selected!`);\n                    btn.setStrokeStyle(3, 0x2ecc71);\n                } else {\n                    this.showMessage(`Need ${capyType.cost} food!`, '#e74c3c');\n                }\n            });\n        });\n    }\n\n    private updateControlPanelDisplay() {\n        // Simply update the food text - don't recreate the entire panel\n        if (this.foodText) {\n            this.foodText.setText(`${this.food}`);\n        }\n        // Note: Card affordability updates handled in game loop, not here\n    }\n\n    private setupInput() {\n        this.input.on('pointerdown', (pointer: Phaser.Input.Pointer) => {\n            if (!this.selectedCapybaraType) {\n                // Check if clicking on existing capybara to show its range\n                const clickedPlace = this.places.find(place => {\n                    const distance = Phaser.Math.Distance.Between(\n                        pointer.x, pointer.y, place.x, place.y\n                    );\n                    return distance < 40 && place.capybara;\n                });\n\n                if (clickedPlace && clickedPlace.capybara) {\n                    this.showCapybaraRange(clickedPlace.capybara);\n                }\n                return;\n            }\n\n            // Find clicked place on path (excluding base and hive)\n            const clickedPlace = this.places.find(place => {\n                const distance = Phaser.Math.Distance.Between(\n                    pointer.x, pointer.y, place.x, place.y\n                );\n                return distance < 40 && !place.name.includes('base') && !place.name.includes('hive');\n            });\n\n            if (clickedPlace && !clickedPlace.capybara) {\n                this.deployCapybara(clickedPlace, this.selectedCapybaraType);\n            }\n        });\n    }\n\n    private showCapybaraRange(capybara: CapybaraUnit) {\n        // Clear existing range indicator\n        if ((capybara as any).rangeIndicator) {\n            (capybara as any).rangeIndicator.destroy();\n        }\n\n        const range = capybara.range || 60;\n        \n        const rangeIndicator = this.add.circle(capybara.place.x, capybara.place.y, range, 0x00ff00, 0.1)\n            .setStrokeStyle(2, 0x00ff00, 0.5)\n            .setDepth(1);\n\n        (capybara as any).rangeIndicator = rangeIndicator;\n\n        // Auto-hide after 3 seconds\n        this.time.delayedCall(3000, () => {\n            if (rangeIndicator) {\n                rangeIndicator.destroy();\n                (capybara as any).rangeIndicator = null;\n            }\n        });\n    }\n\n    private deployCapybara(place: TowerPlace, type: string) {\n        const capybaraData = this.getCapybaraData(type);\n        \n        if (this.food < capybaraData.foodCost) {\n            this.showMessage('Not enough food!', '#FF0000');\n            return;\n        }\n\n        // Check if water-safe\n        if (place.isWater && !capybaraData.isWaterSafe) {\n            this.showMessage('This capybara cannot survive in water!', '#FF0000');\n            return;\n        }\n\n        this.food -= capybaraData.foodCost;\n        this.foodText.setText(`${this.food}`);\n        this.updateControlPanelDisplay();\n\n        // Create advanced capybara sprite with animations\n        const sprite = this.createAdvancedCapybaraSprite(place.x, place.y, capybaraData, type) as any;\n\n        const capybara: CapybaraUnit = {\n            type: type as any,\n            sprite,\n            armor: capybaraData.armor,\n            damage: capybaraData.damage,\n            foodCost: capybaraData.foodCost,\n            range: capybaraData.range,\n            action: capybaraData.action,\n            place,\n            attackCooldown: 0,\n            maxCooldown: 60 // 1 second at 60fps\n        };\n\n        place.capybara = capybara;\n        this.capybaras.push(capybara);\n\n        // Show range indicator temporarily\n        this.showCapybaraRange(capybara);\n\n        this.selectedCapybaraType = null;\n        this.selectedText.setText('Selected: None');\n        this.showMessage(`${type} deployed!`, '#00FF00');\n    }\n\n    private getCapybaraData(type: string) {\n        const data: { [key: string]: any } = {\n            harvester: {\n                armor: 2,\n                damage: 0,\n                foodCost: 2,\n                range: 0,\n                color: 0x90EE90,\n                isWaterSafe: false,\n                description: \"Generates +2 food per turn\",\n                specialAbility: \"Economy Boost\",\n                action: () => {\n                    this.food += 2;\n                    this.foodText.setText(`Food: ${this.food}`);\n                    this.createHarvestEffect();\n                }\n            },\n            thrower: {\n                armor: 1,\n                damage: 2,\n                foodCost: 3,\n                range: 150,\n                color: 0xFFB6C1,\n                isWaterSafe: false,\n                description: \"Throws leaves at bees\",\n                specialAbility: \"Leaf Storm\",\n                action: (bees: BeeUnit[]) => this.advancedThrowAttack(bees)\n            },\n            fire: {\n                armor: 3,\n                damage: 4,\n                foodCost: 5,\n                range: 80,\n                color: 0xFF4500,\n                isWaterSafe: false,\n                description: \"Explodes when destroyed\",\n                specialAbility: \"Flame Burst\",\n                action: (bees: BeeUnit[]) => this.advancedFireAttack(bees)\n            },\n            wall: {\n                armor: 8,\n                damage: 0,\n                foodCost: 4,\n                range: 0,\n                color: 0x8B4513,\n                isWaterSafe: false,\n                description: \"High armor defender\",\n                specialAbility: \"Fortress\",\n                action: () => {\n                    this.createWallPulse();\n                }\n            },\n            ninja: {\n                armor: 1,\n                damage: 3,\n                foodCost: 5,\n                range: 100,\n                color: 0x800080,\n                isWaterSafe: false,\n                description: \"Invisible attacks, bees can't attack back\",\n                specialAbility: \"Shadow Strike\",\n                action: (bees: BeeUnit[]) => this.advancedNinjaAttack(bees)\n            },\n            queen: {\n                armor: 2,\n                damage: 2,\n                foodCost: 7,\n                range: 120,\n                color: 0xFFD700,\n                isWaterSafe: true,\n                description: \"Boosts nearby capybaras +100% damage\",\n                specialAbility: \"Royal Command\",\n                action: (bees: BeeUnit[]) => {\n                    this.advancedQueenAttack(bees);\n                    this.advancedBoostNearbyCapybaras();\n                }\n            }\n        };\n        return data[type];\n    }\n\n    private throwAt(bees: BeeUnit[]) {\n        // Find nearest bee\n        const nearestBee = this.findNearestBee(bees);\n        if (nearestBee) {\n            this.createLeafProjectile(nearestBee);\n            this.damageBee(nearestBee, 1);\n        }\n    }\n\n    private fireAttack(bees: BeeUnit[]) {\n        // Fire capybara attacks all bees in its place\n        const fireCapybara = this.capybaras.find(c => c.type === 'fire');\n        if (fireCapybara && fireCapybara.place) {\n            // Create fire explosion effect\n            this.createFireExplosion(fireCapybara.place.x, fireCapybara.place.y);\n            \n            fireCapybara.place.bees.forEach(bee => {\n                this.createBurnEffect(bee.sprite.x, bee.sprite.y);\n                this.damageBee(bee, 3);\n            });\n        }\n    }\n\n    private ninjaAttack(bees: BeeUnit[]) {\n        // Ninja attacks all bees in range without being blocked\n        const ninja = this.capybaras.find(c => c.type === 'ninja');\n        if (ninja) {\n            // Teleport strike effect\n            this.createNinjaTeleportEffect(ninja.place.x, ninja.place.y);\n            \n            ninja.place.bees.forEach(bee => {\n                this.createShadowStrike(bee.sprite.x, bee.sprite.y);\n                this.damageBee(bee, 2);\n            });\n        }\n    }\n\n    private boostNearbyCapybaras() {\n        // Queen boosts damage of nearby capybaras\n        const queen = this.capybaras.find(c => c.type === 'queen');\n        if (queen) {\n            this.capybaras.forEach(capybara => {\n                if (capybara !== queen) {\n                    const distance = Phaser.Math.Distance.Between(\n                        capybara.place.x, capybara.place.y,\n                        queen.place.x, queen.place.y\n                    );\n                    if (distance < 150) {\n                        capybara.damage = Math.max(capybara.damage, 2);\n                        capybara.sprite.setTint(0xFFD700); // Golden tint\n                    }\n                }\n            });\n        }\n    }\n\n    private findNearestBee(bees: BeeUnit[]): BeeUnit | null {\n        // Find the bee closest to the end of the tunnel\n        let nearestBee: BeeUnit | null = null;\n        let minDistance = Infinity;\n\n        bees.forEach(bee => {\n            if (bee.active) {\n                // Distance from bee to end of tunnel (left side)\n                const distance = bee.place.x;\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nearestBee = bee;\n                }\n            }\n        });\n\n        return nearestBee;\n    }\n\n    private createLeafProjectile(target: BeeUnit) {\n        // Simple leaf animation\n        const leaf = this.add.circle(target.place.x - 30, target.place.y, 3, 0x228B22);\n        this.tweens.add({\n            targets: leaf,\n            x: target.place.x,\n            y: target.place.y,\n            duration: 200,\n            onComplete: () => {\n                leaf.destroy();\n                this.createHitEffect(target.place.x, target.place.y);\n            }\n        });\n    }\n\n    private createHitEffect(x: number, y: number) {\n        const particles = [];\n        for (let i = 0; i < 5; i++) {\n            const particle = this.add.circle(x, y, 2, 0xFFFF00);\n            particles.push(particle);\n            this.tweens.add({\n                targets: particle,\n                x: x + (Math.random() - 0.5) * 30,\n                y: y + (Math.random() - 0.5) * 30,\n                alpha: 0,\n                duration: 300,\n                onComplete: () => particle.destroy()\n            });\n        }\n    }\n\n    private destroyBee(bee: BeeUnit) {\n        bee.active = false;\n        \n        // Destroy health bar elements\n        if (bee.healthBar) bee.healthBar.destroy();\n        if (bee.healthBarBg) bee.healthBarBg.destroy();\n        if (bee.armorText) bee.armorText.destroy();\n        \n        // Create death effect with explosion\n        this.createDeathExplosion(bee.sprite.x, bee.sprite.y);\n        \n        bee.sprite.destroy();\n        const index = this.bees.indexOf(bee);\n        if (index > -1) {\n            this.bees.splice(index, 1);\n        }\n        if (bee.place) {\n            const beeIndex = bee.place.bees.indexOf(bee);\n            if (beeIndex > -1) {\n                bee.place.bees.splice(beeIndex, 1);\n            }\n        }\n    }\n\n    private damageBee(bee: BeeUnit, damage: number) {\n        bee.armor -= damage;\n        \n        // Show damage number\n        this.showDamageNumber(bee.sprite.x, bee.sprite.y, damage);\n        \n        // Update health bar\n        this.updateBeeHealthBar(bee);\n        \n        // Update armor text\n        if (bee.armorText) {\n            bee.armorText.setText(`â™¥${Math.max(0, bee.armor)}`);\n        }\n        \n        // Check if bee dies\n        if (bee.armor <= 0) {\n            this.destroyBee(bee);\n        }\n    }\n\n    private showDamageNumber(x: number, y: number, damage: number) {\n        const damageText = this.add.text(x, y, `-${damage}`, {\n            fontSize: '12px',\n            color: '#ff4500',\n            fontStyle: 'bold'\n        }).setOrigin(0.5).setDepth(10);\n        \n        this.tweens.add({\n            targets: damageText,\n            y: y - 30,\n            alpha: 0,\n            duration: 1000,\n            ease: 'Power2',\n            onComplete: () => damageText.destroy()\n        });\n    }\n\n    private updateBeeHealthBar(bee: BeeUnit) {\n        if (bee.healthBar && bee.maxArmor > 0) {\n            const healthPercent = bee.armor / bee.maxArmor;\n            const newWidth = 28 * Math.max(0, healthPercent);\n            bee.healthBar.width = newWidth;\n            \n            // Change color based on health\n            if (healthPercent > 0.6) {\n                bee.healthBar.fillColor = 0x00ff00; // Green\n            } else if (healthPercent > 0.3) {\n                bee.healthBar.fillColor = 0xffff00; // Yellow  \n            } else {\n                bee.healthBar.fillColor = 0xff0000; // Red\n            }\n        }\n    }\n\n    private createDeathExplosion(x: number, y: number) {\n        // Main explosion effect\n        for (let i = 0; i < 8; i++) {\n            const particle = this.add.circle(x, y, 3, 0xffaa00, 1).setDepth(15);\n            const angle = (Math.PI * 2 * i) / 8;\n            const speed = 50 + Math.random() * 30;\n            \n            this.tweens.add({\n                targets: particle,\n                x: x + Math.cos(angle) * speed,\n                y: y + Math.sin(angle) * speed,\n                alpha: 0,\n                scale: 0,\n                duration: 600,\n                ease: 'Power2',\n                onComplete: () => particle.destroy()\n            });\n        }\n        \n        // Central flash\n        const flash = this.add.circle(x, y, 15, 0xffffff, 1).setDepth(14);\n        this.tweens.add({\n            targets: flash,\n            scale: 2,\n            alpha: 0,\n            duration: 300,\n            ease: 'Power2',\n            onComplete: () => flash.destroy()\n        });\n    }\n\n    private spawnBees() {\n        const hive = this.places.find(p => p.name === 'hive');\n        if (!hive) return;\n        \n        const beesToSpawn = Math.min(1 + Math.floor(this.turnNumber / 3), 4);\n        \n        for (let i = 0; i < beesToSpawn; i++) {\n            const bee = this.createBee(hive);\n            this.bees.push(bee);\n            hive.bees.push(bee);\n        }\n    }\n\n    private createBee(place: TowerPlace): BeeUnit {\n        // Use new generated bee sprite - properly sized for gameplay\n        const sprite = this.add.image(place.x, place.y, 'beeSprite')\n            .setScale(0.05)\n            .setDepth(2);\n        \n        // Add wing flutter animation - properly scaled for smaller sprites\n        this.tweens.add({\n            targets: sprite,\n            scaleX: 0.045,\n            scaleY: 0.055,\n            duration: 150,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n\n        const armor = 1 + Math.floor(this.turnNumber / 3);\n        \n        // Create health bar background\n        const healthBarBg = this.add.rectangle(place.x, place.y - 25, 30, 6, 0x000000, 0.8).setDepth(3);\n        \n        // Create health bar\n        const healthBar = this.add.rectangle(place.x, place.y - 25, 28, 4, 0x00ff00, 1).setDepth(4);\n        \n        // Armor indicator\n        const armorText = this.add.text(place.x, place.y - 35, `â™¥${armor}`, {\n            fontSize: '8px',\n            color: '#ff0000',\n            fontStyle: 'bold'\n        }).setOrigin(0.5).setDepth(4);\n\n        return {\n            sprite,\n            armor: armor,\n            maxArmor: armor,\n            speed: 1,\n            active: true,\n            place,\n            targetPlace: place.exit,\n            healthBar,\n            healthBarBg,\n            armorText\n        };\n    }\n\n    private startTurn() {\n        this.turnNumber++;\n        \n        // Enhanced turn announcement with wave info\n        const turnAnnouncement = this.add.text(this.scale.width/2, 200, `ðŸŒŠ WAVE ${this.turnNumber}`, {\n            fontSize: '28px',\n            color: '#ffffff',\n            fontStyle: 'bold',\n            backgroundColor: '#3498db',\n            padding: { x: 20, y: 10 }\n        }).setOrigin(0.5).setDepth(20);\n        \n        // Add pulsing effect to announcement\n        this.tweens.add({\n            targets: turnAnnouncement,\n            scaleX: 1.1,\n            scaleY: 1.1,\n            duration: 300,\n            yoyo: true,\n            repeat: 1\n        });\n\n        // Remove turn indicator after 1.5 seconds\n        this.time.delayedCall(1500, () => {\n            turnAnnouncement.destroy();\n        });\n        \n        // Spawn bees at start of turn\n        this.spawnBees();\n        \n        // Run capybara actions first\n        this.runCapybaraActions();\n        \n        // Update control panel and HUD\n        this.updateControlPanelDisplay();\n        this.updateHUD();\n        \n        // Then move bees\n        this.time.delayedCall(500, () => {\n            this.runBeeActions();\n        });\n        \n        // Update HUD periodically during turn\n        this.time.delayedCall(1500, () => {\n            this.updateHUD();\n        });\n        \n        // Start next turn\n        this.time.delayedCall(3000, () => {\n            if (this.gameActive) {\n                this.startTurn();\n            }\n        });\n    }\n\n    private runCapybaraActions() {\n        // Capybaras act first (like original game)\n        this.capybaras.forEach(capybara => {\n            if (capybara.type === 'harvester') {\n                this.food += 1;\n                this.foodText.setText(`${this.food}`);\n            } else if (capybara.type === 'thrower') {\n                this.throwAt(this.bees);\n            } else if (capybara.type === 'fire') {\n                this.fireAttack(this.bees);\n            } else if (capybara.type === 'ninja') {\n                this.ninjaAttack(this.bees);\n            } else if (capybara.type === 'queen') {\n                this.throwAt(this.bees);\n                this.boostNearbyCapybaras();\n            }\n        });\n    }\n\n    private runBeeActions() {\n        // Move all bees towards the exit\n        this.bees.forEach(bee => {\n            if (bee.active) {\n                this.moveBee(bee);\n            }\n        });\n\n        // Check win/lose conditions\n        this.checkGameEnd();\n    }\n\n    private moveBee(bee: BeeUnit) {\n        if (!bee.targetPlace) {\n            // Bee reached the end - game over!\n            this.endGame(false);\n            return;\n        }\n\n        // Check if blocked by capybara (except ninja)\n        if (bee.place.capybara && bee.place.capybara.type !== 'ninja') {\n            // Bee attacks capybara\n            bee.place.capybara.armor--;\n            this.createHitEffect(bee.place.x, bee.place.y);\n            this.showDamageNumber(bee.place.x, bee.place.y - 10, 1);\n            \n            if (bee.place.capybara.armor <= 0) {\n                this.destroyCapybara(bee.place.capybara);\n            }\n            return; // Bee doesn't move this turn\n        }\n\n        // Move bee to next place (towards exit)\n        bee.place.bees = bee.place.bees.filter(b => b !== bee);\n        bee.place = bee.targetPlace;\n        bee.targetPlace = bee.place.exit;\n        bee.place.bees.push(bee);\n\n        // Animate movement and health elements\n        this.tweens.add({\n            targets: bee.sprite,\n            x: bee.place.x,\n            y: bee.place.y,\n            duration: 400, // Faster movement\n            ease: 'Power2'\n        });\n        \n        // Move health elements with bee\n        if (bee.healthBar && bee.healthBarBg && bee.armorText) {\n            this.tweens.add({\n                targets: [bee.healthBar, bee.healthBarBg],\n                x: bee.place.x,\n                y: bee.place.y - 25,\n                duration: 400,\n                ease: 'Power2'\n            });\n            \n            this.tweens.add({\n                targets: bee.armorText,\n                x: bee.place.x,\n                y: bee.place.y - 35,\n                duration: 400,\n                ease: 'Power2'\n            });\n        }\n    }\n\n    private destroyCapybara(capybara: CapybaraUnit) {\n        capybara.sprite.destroy();\n        capybara.place.capybara = null;\n        const index = this.capybaras.indexOf(capybara);\n        if (index > -1) {\n            this.capybaras.splice(index, 1);\n        }\n    }\n\n    private checkGameEnd() {\n        // Win if all bees are destroyed and no more coming\n        if (this.bees.length === 0 && this.turnNumber >= 10) {\n            this.endGame(true);\n        }\n        \n        // Lose if any bee reaches the end (handled in moveBee)\n    }\n\n    private endGame(won: boolean) {\n        this.gameActive = false;\n        \n        const message = won ? 'Victory! Capybaras defended successfully!' : 'Defeat! The bees have invaded!';\n        const color = won ? '#00FF00' : '#FF0000';\n        \n        this.add.text(400, 300, message, {\n            fontSize: '32px',\n            color: color,\n            backgroundColor: '#FFFFFF',\n            padding: { x: 20, y: 10 }\n        }).setOrigin(0.5).setDepth(20);\n\n        this.add.text(400, 350, 'Press R to return to menu', {\n            fontSize: '20px',\n            color: '#000000',\n            backgroundColor: '#FFFFFF',\n            padding: { x: 10, y: 5 }\n        }).setOrigin(0.5).setDepth(20);\n\n        this.input.keyboard?.on('keydown-R', () => {\n            this.scene.start('MenuScene');\n        });\n    }\n\n    private showMessage(text: string, color: string) {\n        const message = this.add.text(400, 400, text, {\n            fontSize: '20px',\n            color: color,\n            backgroundColor: '#FFFFFF',\n            padding: { x: 10, y: 5 }\n        }).setOrigin(0.5).setDepth(15);\n\n        this.time.delayedCall(2000, () => {\n            message.destroy();\n        });\n    }\n\n    update() {\n        // Update cooldowns and animations\n        this.capybaras.forEach(capybara => {\n            if (capybara.attackCooldown > 0) {\n                capybara.attackCooldown--;\n            }\n            \n            // Update health bars\n            const healthBar = capybara.sprite.getData('healthBar');\n            if (healthBar) {\n                const healthPercent = capybara.armor / this.getCapybaraData(capybara.type).armor;\n                healthBar.setDisplaySize(30 * healthPercent, 4);\n                healthBar.setFillStyle(healthPercent > 0.5 ? 0x00ff00 : healthPercent > 0.25 ? 0xffff00 : 0xff0000);\n            }\n        });\n    }\n\n    // ==== AAA TOWER DEFENSE METHODS ====\n\n    private createAdvancedCapybaraSprite(x: number, y: number, capybaraData: any, type: string): Phaser.GameObjects.Container {\n        const container = this.add.container(x, y);\n        \n        // Use new generated capybara sprite - properly sized for gameplay\n        const body = this.add.image(0, 0, 'capybaraSprite').setScale(0.04).setTint(capybaraData.color).setDepth(3);\n        const highlight = this.add.circle(0, -5, 12, 0xffffff, 0.2).setDepth(4);\n        \n        // Type-specific visual effects\n        const effect = this.createCapybaraTypeEffect(type);\n        \n        // Health bar background\n        const healthBg = this.add.rectangle(0, -35, 30, 4, 0x444444).setDepth(5);\n        const healthBar = this.add.rectangle(0, -35, 30, 4, 0x00ff00).setDepth(6);\n        \n        // Add components to container\n        container.add([body, highlight, effect, healthBg, healthBar]);\n        container.setData('healthBar', healthBar);\n        container.setData('body', body);\n        container.setDepth(3);\n        \n        // Breathing animation\n        this.tweens.add({\n            targets: body,\n            scaleX: 1.05,\n            scaleY: 0.95,\n            duration: 2000,\n            ease: 'Sine.easeInOut',\n            yoyo: true,\n            repeat: -1\n        });\n        \n        // Type-specific idle animations\n        this.addCapybaraIdleAnimation(container, type);\n        \n        return container;\n    }\n\n    private createCapybaraTypeEffect(type: string): Phaser.GameObjects.Graphics {\n        const effect = this.add.graphics();\n        \n        switch (type) {\n            case 'harvester':\n                // Golden aura\n                effect.lineStyle(2, 0xffd700, 0.5);\n                effect.strokeCircle(0, 0, 25);\n                break;\n            case 'thrower':\n                // Leaf particles\n                effect.fillStyle(0x22c55e, 0.6);\n                for (let i = 0; i < 6; i++) {\n                    const angle = (i / 6) * Math.PI * 2;\n                    const x = Math.cos(angle) * 30;\n                    const y = Math.sin(angle) * 30;\n                    effect.fillCircle(x, y, 2);\n                }\n                break;\n            case 'fire':\n                // Fire aura\n                effect.fillStyle(0xff4500, 0.3);\n                effect.fillCircle(0, 0, 35);\n                break;\n            case 'wall':\n                // Shield effect\n                effect.lineStyle(3, 0x8b4513, 0.8);\n                effect.strokeRect(-25, -25, 50, 50);\n                break;\n            case 'ninja':\n                // Shadow effect\n                effect.fillStyle(0x000000, 0.3);\n                effect.fillCircle(0, 0, 30);\n                break;\n            case 'queen':\n                // Royal crown\n                effect.fillStyle(0xffd700, 1);\n                effect.fillTriangle(-8, -25, 0, -35, 8, -25);\n                break;\n        }\n        \n        return effect;\n    }\n\n    private addCapybaraIdleAnimation(container: Phaser.GameObjects.Container, type: string) {\n        switch (type) {\n            case 'harvester':\n                // Gentle bobbing\n                this.tweens.add({\n                    targets: container,\n                    y: container.y - 3,\n                    duration: 1500,\n                    ease: 'Sine.easeInOut',\n                    yoyo: true,\n                    repeat: -1\n                });\n                break;\n            case 'ninja':\n                // Fade in/out (stealth)\n                this.tweens.add({\n                    targets: container,\n                    alpha: 0.7,\n                    duration: 2000,\n                    ease: 'Sine.easeInOut',\n                    yoyo: true,\n                    repeat: -1\n                });\n                break;\n            case 'queen':\n                // Majestic glow pulse\n                this.tweens.add({\n                    targets: container,\n                    scale: 1.1,\n                    duration: 1000,\n                    ease: 'Sine.easeInOut',\n                    yoyo: true,\n                    repeat: -1\n                });\n                break;\n        }\n    }\n\n    private advancedThrowAttack(bees: BeeUnit[]) {\n        const nearestBee = this.findNearestBee(bees);\n        if (nearestBee) {\n            // Multi-shot attack\n            for (let i = 0; i < 3; i++) {\n                this.time.delayedCall(i * 100, () => {\n                    this.createAdvancedLeafProjectile(nearestBee, 2);\n                });\n            }\n        }\n    }\n\n    private advancedFireAttack(bees: BeeUnit[]) {\n        // Create fire explosion effect\n        const fireCapy = this.capybaras.find(c => c.type === 'fire');\n        if (fireCapy) {\n            this.createFireExplosion(fireCapy.place.x, fireCapy.place.y);\n            \n            // Damage all bees in range\n            this.bees.forEach(bee => {\n                const distance = Phaser.Math.Distance.Between(\n                    bee.sprite.x, bee.sprite.y,\n                    fireCapy.place.x, fireCapy.place.y\n                );\n                \n                if (distance < 80) {\n                    this.damageBee(bee, 4);\n                    this.createBurnEffect(bee.sprite.x, bee.sprite.y);\n                }\n            });\n        }\n    }\n\n    private advancedNinjaAttack(bees: BeeUnit[]) {\n        const ninja = this.capybaras.find(c => c.type === 'ninja');\n        if (ninja) {\n            // Teleport strike effect\n            this.createNinjaTeleportEffect(ninja.place.x, ninja.place.y);\n            \n            // Attack all bees in range with shadow clones\n            ninja.place.bees.forEach(bee => {\n                this.damageBee(bee, 3);\n                this.createShadowStrike(bee.sprite.x, bee.sprite.y);\n            });\n        }\n    }\n\n    private advancedQueenAttack(bees: BeeUnit[]) {\n        const queen = this.capybaras.find(c => c.type === 'queen');\n        if (queen) {\n            // Royal command - coordinated attack\n            this.createRoyalCommand(queen.place.x, queen.place.y);\n            \n            const nearestBee = this.findNearestBee(this.bees);\n            if (nearestBee) {\n                // Queen's powerful attack\n                this.createAdvancedLeafProjectile(nearestBee, 3, true);\n            }\n        }\n    }\n\n    private advancedBoostNearbyCapybaras() {\n        const queen = this.capybaras.find(c => c.type === 'queen');\n        if (!queen) return;\n        \n        this.capybaras.forEach(capybara => {\n            if (capybara === queen) return;\n            \n            const distance = Phaser.Math.Distance.Between(\n                capybara.place.x, capybara.place.y,\n                queen.place.x, queen.place.y\n            );\n            \n            if (distance < 120) {\n                // Visual boost effect\n                this.createBoostEffect(capybara.place.x, capybara.place.y);\n                \n                // Double damage for boosted capybaras\n                capybara.damage = Math.max(capybara.damage * 2, capybara.damage + 2);\n                \n                // Golden tint for boosted units\n                const body = capybara.sprite.getData('body');\n                if (body) {\n                    this.tweens.add({\n                        targets: body,\n                        tint: 0xffd700,\n                        duration: 200,\n                        yoyo: true,\n                        repeat: 3\n                    });\n                }\n            }\n        });\n    }\n\n    private createHarvestEffect() {\n        // Golden coin particles\n        for (let i = 0; i < 5; i++) {\n            const coin = this.add.circle(\n                this.scale.width * 0.2 + Math.random() * 100,\n                100 + Math.random() * 50,\n                3,\n                0xffd700,\n                0.8\n            ).setDepth(15);\n            \n            this.tweens.add({\n                targets: coin,\n                y: 50,\n                alpha: 0,\n                duration: 1000,\n                ease: 'Cubic.easeOut',\n                onComplete: () => coin.destroy()\n            });\n        }\n    }\n\n    private createWallPulse() {\n        const walls = this.capybaras.filter(c => c.type === 'wall');\n        walls.forEach(wall => {\n            const pulse = this.add.circle(wall.place.x, wall.place.y, 30, 0x8b4513, 0.3).setDepth(2);\n            \n            this.tweens.add({\n                targets: pulse,\n                scale: 2,\n                alpha: 0,\n                duration: 500,\n                ease: 'Cubic.easeOut',\n                onComplete: () => pulse.destroy()\n            });\n        });\n    }\n\n    private createAdvancedLeafProjectile(target: BeeUnit, damage: number, isRoyal: boolean = false) {\n        const startX = target.place.x - 40;\n        const startY = target.place.y;\n        \n        const leaf = this.add.ellipse(startX, startY, 8, 4, isRoyal ? 0xffd700 : 0x22c55e).setDepth(8);\n        \n        this.tweens.add({\n            targets: leaf,\n            x: target.sprite.x,\n            y: target.sprite.y,\n            rotation: Math.PI * 2,\n            duration: 300,\n            ease: 'Quad.easeOut',\n            onComplete: () => {\n                leaf.destroy();\n                this.damageBee(target, damage);\n                this.createLeafImpact(target.sprite.x, target.sprite.y);\n            }\n        });\n    }\n\n    private createFireExplosion(x: number, y: number) {\n        // Central explosion\n        const explosion = this.add.circle(x, y, 5, 0xff4500, 1).setDepth(10);\n        \n        this.tweens.add({\n            targets: explosion,\n            scale: 8,\n            alpha: 0,\n            duration: 400,\n            ease: 'Cubic.easeOut',\n            onComplete: () => explosion.destroy()\n        });\n        \n        // Fire particles\n        for (let i = 0; i < 12; i++) {\n            const angle = (i / 12) * Math.PI * 2;\n            const particle = this.add.circle(x, y, 2, 0xff6b00, 0.8).setDepth(9);\n            \n            this.tweens.add({\n                targets: particle,\n                x: x + Math.cos(angle) * 60,\n                y: y + Math.sin(angle) * 60,\n                alpha: 0,\n                duration: 600,\n                ease: 'Cubic.easeOut',\n                onComplete: () => particle.destroy()\n            });\n        }\n    }\n\n    private createBurnEffect(x: number, y: number) {\n        const burn = this.add.circle(x, y, 4, 0xff4500, 0.8).setDepth(9);\n        \n        this.tweens.add({\n            targets: burn,\n            scale: 2,\n            alpha: 0,\n            duration: 300,\n            ease: 'Cubic.easeOut',\n            onComplete: () => burn.destroy()\n        });\n    }\n\n    private createNinjaTeleportEffect(x: number, y: number) {\n        // Smoke cloud\n        const smoke = this.add.circle(x, y, 20, 0x444444, 0.6).setDepth(8);\n        \n        this.tweens.add({\n            targets: smoke,\n            scale: 2,\n            alpha: 0,\n            duration: 400,\n            ease: 'Cubic.easeOut',\n            onComplete: () => smoke.destroy()\n        });\n    }\n\n    private createShadowStrike(x: number, y: number) {\n        const strike = this.add.line(x, y, 0, -20, 0, 20, 0x800080).setDepth(9);\n        strike.setLineWidth(3);\n        \n        this.tweens.add({\n            targets: strike,\n            alpha: 0,\n            scaleX: 3,\n            duration: 200,\n            ease: 'Cubic.easeOut',\n            onComplete: () => strike.destroy()\n        });\n    }\n\n    private createRoyalCommand(x: number, y: number) {\n        const command = this.add.star(x, y - 30, 6, 8, 15, 0xffd700).setDepth(10);\n        \n        this.tweens.add({\n            targets: command,\n            scale: 2,\n            alpha: 0,\n            rotation: Math.PI,\n            duration: 800,\n            ease: 'Cubic.easeOut',\n            onComplete: () => command.destroy()\n        });\n    }\n\n    private createBoostEffect(x: number, y: number) {\n        const boost = this.add.circle(x, y - 20, 10, 0xffd700, 0.6).setDepth(9);\n        \n        this.tweens.add({\n            targets: boost,\n            scale: 2,\n            alpha: 0,\n            y: y - 40,\n            duration: 600,\n            ease: 'Cubic.easeOut',\n            onComplete: () => boost.destroy()\n        });\n    }\n\n    private createLeafImpact(x: number, y: number) {\n        // Impact burst\n        for (let i = 0; i < 6; i++) {\n            const angle = (i / 6) * Math.PI * 2;\n            const particle = this.add.circle(x, y, 2, 0x22c55e, 0.8).setDepth(9);\n            \n            this.tweens.add({\n                targets: particle,\n                x: x + Math.cos(angle) * 20,\n                y: y + Math.sin(angle) * 20,\n                alpha: 0,\n                duration: 300,\n                ease: 'Cubic.easeOut',\n                onComplete: () => particle.destroy()\n            });\n        }\n    }\n\n    // ==== AAA AUDIO SYSTEM FOR TOWER DEFENSE ====\n\n    private audioSystem = {\n        musicVolume: 0.5,\n        sfxVolume: 0.7,\n        ambientVolume: 0.3,\n        backgroundMusic: null as Phaser.Sound.BaseSound | null,\n        ambientSound: null as Phaser.Sound.BaseSound | null,\n        currentMusicIntensity: 0.5,\n        soundPool: new Map<string, Phaser.Sound.BaseSound[]>()\n    };\n\n    private initializeAdvancedAudioSystem() {\n        // Start strategic background music\n        this.startStrategicMusic();\n        \n        // Initialize battle ambient sounds\n        this.startBattleAmbience();\n        \n        // Pre-load tactical sound effects\n        this.initializeTacticalSoundPool();\n        \n        // Set up dynamic battle audio\n        this.setupBattleAudioMixing();\n    }\n\n    private startStrategicMusic() {\n        this.audioSystem.backgroundMusic = this.sound.add('background', {\n            volume: this.audioSystem.musicVolume,\n            loop: true,\n            rate: 0.9 // Slightly slower for strategic feel\n        });\n        \n        this.audioSystem.backgroundMusic.play();\n        this.updateMusicIntensity(0.4); // Start strategic and calm\n    }\n\n    private startBattleAmbience() {\n        // Use only procedural tactical audio for better compatibility\n        console.log('Using procedural tactical audio system for strategic atmosphere');\n        \n        // Enhanced tactical ambience\n        this.startTacticalAmbience();\n        this.startBattleAtmosphere();\n    }\n\n    private initializeTacticalSoundPool() {\n        const tacticalSounds = ['success', 'hit'];\n        \n        tacticalSounds.forEach(soundType => {\n            const pool: Phaser.Sound.BaseSound[] = [];\n            for (let i = 0; i < 15; i++) { // Larger pool for rapid combat\n                pool.push(this.sound.add(soundType, { volume: this.audioSystem.sfxVolume }));\n            }\n            this.audioSystem.soundPool.set(soundType, pool);\n        });\n    }\n\n    private setupBattleAudioMixing() {\n        this.time.addEvent({\n            delay: 800,\n            callback: () => {\n                this.updateBattleAudio();\n            },\n            repeat: -1\n        });\n    }\n\n    private updateBattleAudio() {\n        if (!this.gameActive) return;\n        \n        // Calculate battle intensity\n        const beeCount = this.bees.length;\n        const capybaraCount = this.capybaras.length;\n        const turnIntensity = this.isPlayerTurn ? 0.3 : 0.7;\n        const unitRatio = Math.min(beeCount / Math.max(capybaraCount, 1), 2.0) * 0.3;\n        \n        const battleIntensity = Math.min(turnIntensity + unitRatio, 1.0);\n        this.updateMusicIntensity(battleIntensity);\n        this.updateBattleAmbience(battleIntensity);\n    }\n\n    private updateMusicIntensity(intensity: number) {\n        if (!this.audioSystem.backgroundMusic) return;\n        \n        const smoothIntensity = Phaser.Math.Linear(\n            this.audioSystem.currentMusicIntensity,\n            intensity,\n            0.03\n        );\n        \n        this.audioSystem.currentMusicIntensity = smoothIntensity;\n        \n        const volume = this.audioSystem.musicVolume * (0.6 + smoothIntensity * 0.4);\n        const rate = 0.85 + smoothIntensity * 0.3;\n        \n        try {\n            (this.audioSystem.backgroundMusic as any).setVolume?.(volume);\n            (this.audioSystem.backgroundMusic as any).setRate?.(rate);\n        } catch (e) {\n            // Fallback for different Phaser sound implementations\n        }\n    }\n\n    private updateBattleAmbience(intensity: number) {\n        if (!this.audioSystem.ambientSound) return;\n        \n        const volume = this.audioSystem.ambientVolume * (0.8 + intensity * 0.4);\n        try {\n            (this.audioSystem.ambientSound as any).setVolume?.(volume);\n        } catch (e) {\n            // Fallback for different Phaser sound implementations\n        }\n    }\n\n    private startTacticalAmbience() {\n        // Generate strategic planning sounds\n        this.time.addEvent({\n            delay: 3000 + Math.random() * 4000,\n            callback: () => {\n                if (!this.gameActive) return;\n                \n                if (this.isPlayerTurn) {\n                    this.createProceduralTacticalSound('planning', {\n                        frequency: 200 + Math.random() * 100,\n                        duration: 400 + Math.random() * 200,\n                        volume: 0.05 + Math.random() * 0.03\n                    });\n                }\n            },\n            repeat: -1\n        });\n\n        // Battle tension sounds\n        this.time.addEvent({\n            delay: 1500 + Math.random() * 2000,\n            callback: () => {\n                if (!this.gameActive || this.isPlayerTurn) return;\n                \n                this.createProceduralTacticalSound('tension', {\n                    frequency: 80 + Math.random() * 120,\n                    duration: 800 + Math.random() * 400,\n                    volume: 0.03 + Math.random() * 0.02\n                });\n            },\n            repeat: -1\n        });\n    }\n\n    private createProceduralTacticalSound(type: string, params: any) {\n        try {\n            const audioContext = (this.sound as any).context;\n            if (!audioContext) return;\n            \n            const oscillator = audioContext.createOscillator();\n            const gainNode = audioContext.createGain();\n            const filterNode = audioContext.createBiquadFilter();\n            \n            oscillator.connect(filterNode);\n            filterNode.connect(gainNode);\n            gainNode.connect(audioContext.destination);\n            \n            if (type === 'planning') {\n                oscillator.type = 'sawtooth';\n                filterNode.type = 'lowpass';\n                filterNode.frequency.setValueAtTime(800, audioContext.currentTime);\n            } else if (type === 'tension') {\n                oscillator.type = 'triangle';\n                filterNode.type = 'bandpass';\n                filterNode.frequency.setValueAtTime(400, audioContext.currentTime);\n            }\n            \n            oscillator.frequency.setValueAtTime(params.frequency, audioContext.currentTime);\n            gainNode.gain.setValueAtTime(0, audioContext.currentTime);\n            gainNode.gain.linearRampToValueAtTime(params.volume, audioContext.currentTime + 0.05);\n            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + params.duration / 1000);\n            \n            oscillator.start(audioContext.currentTime);\n            oscillator.stop(audioContext.currentTime + params.duration / 1000);\n        } catch (e) {\n            console.log('Tactical audio not available, using basic sounds');\n        }\n    }\n\n    private playTacticalSFX(soundType: string, options: any = {}) {\n        const pool = this.audioSystem.soundPool.get(soundType);\n        if (!pool) {\n            const sound = this.sound.add(soundType, {\n                volume: this.audioSystem.sfxVolume * (options.volumeMultiplier || 1),\n                rate: options.rate || 1,\n                detune: options.detune || 0\n            });\n            sound.play();\n            return;\n        }\n        \n        const availableSound = pool.find(sound => !sound.isPlaying);\n        if (availableSound) {\n            try {\n                (availableSound as any).setVolume?.(this.audioSystem.sfxVolume * (options.volumeMultiplier || 1));\n                (availableSound as any).setRate?.(options.rate || 1);\n                (availableSound as any).setDetune?.(options.detune || 0);\n            } catch (e) {\n                // Fallback for different Phaser sound implementations\n            }\n            availableSound.play();\n        }\n    }\n\n    private createTacticalSpatialAudio(x: number, y: number, soundType: string, options: any = {}) {\n        const centerX = this.scale.width / 2;\n        const distance = Math.abs(x - centerX) / centerX;\n        const volumeMultiplier = (1 - distance * 0.4) * (options.volumeMultiplier || 1);\n        \n        const pan = (x - centerX) / centerX;\n        \n        this.playTacticalSFX(soundType, {\n            ...options,\n            volumeMultiplier,\n            pan: Math.max(-0.8, Math.min(0.8, pan))\n        });\n    }\n\n    private startBattleAtmosphere() {\n        // Strategic war room ambience\n        this.time.addEvent({\n            delay: 10000 + Math.random() * 15000,\n            callback: () => {\n                if (!this.gameActive) return;\n                \n                this.createProceduralTacticalSound('war_room', {\n                    frequency: 40 + Math.random() * 30,\n                    duration: 3000 + Math.random() * 2000,\n                    volume: 0.02 + Math.random() * 0.01\n                });\n            },\n            repeat: -1\n        });\n\n        // Tactical communication sounds\n        this.time.addEvent({\n            delay: 15000 + Math.random() * 20000,\n            callback: () => {\n                if (!this.gameActive) return;\n                \n                this.createProceduralTacticalSound('communication', {\n                    frequency: 300 + Math.random() * 200,\n                    duration: 150 + Math.random() * 100,\n                    volume: 0.03 + Math.random() * 0.01\n                });\n            },\n            repeat: -1\n        });\n    }\n}","size_bytes":60026},"client/src/components/LevelMapUI.tsx":{"content":"import React, { useState } from 'react';\nimport { Play, Star, Lock, Home } from 'lucide-react';\nimport { useGameState } from '../lib/stores/useGameState';\n\ninterface LevelMapUIProps {\n  onLevelSelect: (level: number) => void;\n  onBackToMenu: () => void;\n  gameMode: 'drawing' | 'tower-defense';\n}\n\nconst LevelMapUI: React.FC<LevelMapUIProps> = ({ onLevelSelect, onBackToMenu, gameMode }) => {\n  const { level: currentLevel, score } = useGameState();\n  \n  // Level data with different themes and difficulties\n  const levels = [\n    { id: 1, name: \"Garden Start\", color: \"bg-green-500\", unlocked: true, stars: 3 },\n    { id: 2, name: \"Pond Defense\", color: \"bg-blue-500\", unlocked: currentLevel >= 1, stars: 2 },\n    { id: 3, name: \"Forest Path\", color: \"bg-emerald-600\", unlocked: currentLevel >= 2, stars: 0 },\n    { id: 4, name: \"River Crossing\", color: \"bg-cyan-500\", unlocked: currentLevel >= 3, stars: 0 },\n    { id: 5, name: \"Meadow Battle\", color: \"bg-lime-500\", unlocked: currentLevel >= 4, stars: 0 },\n    { id: 6, name: \"Rocky Hills\", color: \"bg-amber-600\", unlocked: currentLevel >= 5, stars: 0 },\n    { id: 7, name: \"Sunset Valley\", color: \"bg-orange-500\", unlocked: currentLevel >= 6, stars: 0 },\n    { id: 8, name: \"Purple Peaks\", color: \"bg-purple-500\", unlocked: currentLevel >= 7, stars: 0 },\n    { id: 9, name: \"Golden Fields\", color: \"bg-yellow-500\", unlocked: currentLevel >= 8, stars: 0 },\n    { id: 10, name: \"Crystal Cave\", color: \"bg-indigo-500\", unlocked: currentLevel >= 9, stars: 0 },\n    { id: 11, name: \"Volcanic Ridge\", color: \"bg-red-500\", unlocked: currentLevel >= 10, stars: 0 },\n    { id: 12, name: \"Final Hive\", color: \"bg-gray-800\", unlocked: currentLevel >= 11, stars: 0 },\n  ];\n\n  const modeTitle = gameMode === 'drawing' ? 'Save the Capybara' : 'Tower Defense';\n  const modeDescription = gameMode === 'drawing' \n    ? 'Draw magical barriers to protect the capybara!'\n    : 'Build capybara towers to defend against bee invasions!';\n\n  return (\n    <div className=\"fixed inset-0 bg-gradient-to-b from-sky-200 to-sky-400 flex flex-col z-[9999]\">\n      {/* Header */}\n      <div className=\"bg-white/90 backdrop-blur-sm shadow-lg p-4 flex items-center justify-between\">\n        <button \n          onClick={onBackToMenu}\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n        >\n          <Home size={20} />\n          Back to Menu\n        </button>\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold text-gray-800\">{modeTitle}</h1>\n          <p className=\"text-gray-600\">{modeDescription}</p>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-lg font-semibold text-gray-800\">Score: {score}</div>\n          <div className=\"text-sm text-gray-600\">Level: {currentLevel}</div>\n        </div>\n      </div>\n\n      {/* Main Map Area */}\n      <div className=\"flex-1 relative overflow-hidden\">\n        {/* Background with subtle pattern */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-green-100 to-blue-100\">\n          <div className=\"absolute inset-0 opacity-20 bg-repeat\" \n               style={{\n                 backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23059669' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\n               }}>\n          </div>\n        </div>\n\n        {/* Level Grid */}\n        <div className=\"relative z-10 p-8 h-full flex items-center justify-center\">\n          <div className=\"grid grid-cols-4 gap-6 max-w-4xl\">\n            {levels.map((levelData) => (\n              <LevelCard\n                key={levelData.id}\n                level={levelData}\n                isCurrentLevel={levelData.id === currentLevel}\n                onSelect={() => levelData.unlocked && onLevelSelect(levelData.id)}\n              />\n            ))}\n          </div>\n        </div>\n\n        {/* Decorative Elements */}\n        <div className=\"absolute top-20 left-10 w-16 h-16 bg-yellow-300 rounded-full opacity-60 animate-pulse\"></div>\n        <div className=\"absolute top-40 right-20 w-12 h-12 bg-pink-300 rounded-full opacity-40 animate-bounce\"></div>\n        <div className=\"absolute bottom-20 left-20 w-20 h-20 bg-purple-300 rounded-full opacity-50\"></div>\n        <div className=\"absolute bottom-40 right-10 w-14 h-14 bg-green-300 rounded-full opacity-60 animate-pulse\"></div>\n      </div>\n    </div>\n  );\n};\n\ninterface LevelCardProps {\n  level: {\n    id: number;\n    name: string;\n    color: string;\n    unlocked: boolean;\n    stars: number;\n  };\n  isCurrentLevel: boolean;\n  onSelect: () => void;\n}\n\nconst LevelCard: React.FC<LevelCardProps> = ({ level, isCurrentLevel, onSelect }) => {\n  const [isHovered, setIsHovered] = useState(false);\n\n  if (!level.unlocked) {\n    return (\n      <div className=\"relative group\">\n        <div className=\"w-24 h-24 bg-gray-300 rounded-xl flex items-center justify-center shadow-lg\">\n          <Lock size={24} className=\"text-gray-500\" />\n        </div>\n        <div className=\"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-sm text-gray-500 font-medium\">\n          Level {level.id}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      className=\"relative group cursor-pointer\"\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={onSelect}\n    >\n      {/* Main Level Button */}\n      <div className={`\n        w-24 h-24 ${level.color} rounded-xl flex items-center justify-center shadow-lg \n        transform transition-all duration-200 relative overflow-hidden\n        ${isHovered ? 'scale-110 shadow-2xl' : ''}\n        ${isCurrentLevel ? 'ring-4 ring-yellow-400 ring-opacity-70' : ''}\n      `}>\n        {/* Level Number */}\n        <span className=\"text-2xl font-bold text-white z-10\">\n          {level.id}\n        </span>\n        \n        {/* Play Icon on Hover */}\n        {isHovered && (\n          <div className=\"absolute inset-0 bg-black/20 flex items-center justify-center\">\n            <Play size={28} className=\"text-white\" fill=\"currentColor\" />\n          </div>\n        )}\n        \n        {/* Current Level Indicator */}\n        {isCurrentLevel && (\n          <div className=\"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center\">\n            <div className=\"w-3 h-3 bg-yellow-600 rounded-full animate-pulse\"></div>\n          </div>\n        )}\n      </div>\n\n      {/* Level Name */}\n      <div className=\"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-sm text-gray-700 font-medium text-center whitespace-nowrap\">\n        {level.name}\n      </div>\n\n      {/* Stars */}\n      {level.stars > 0 && (\n        <div className=\"absolute -top-6 left-1/2 transform -translate-x-1/2 flex gap-1\">\n          {[...Array(3)].map((_, i) => (\n            <Star\n              key={i}\n              size={12}\n              className={i < level.stars ? 'text-yellow-400 fill-current' : 'text-gray-300'}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Hover Tooltip */}\n      {isHovered && (\n        <div className=\"absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap z-20\">\n          {level.name}\n          <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-800 rotate-45\"></div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LevelMapUI;","size_bytes":7611},"dist/index.js":{"content":"var __defProp = Object.defineProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// server/telegram-bot.ts\nvar telegram_bot_exports = {};\n__export(telegram_bot_exports, {\n  bot: () => bot\n});\nimport { Bot, InlineKeyboard } from \"grammy\";\nvar BOT_TOKEN, bot;\nvar init_telegram_bot = __esm({\n  \"server/telegram-bot.ts\"() {\n    \"use strict\";\n    BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN || \"8246130032:AAEd91aaEP_qhNku-0WUtbAqbH8cu81HOho\";\n    bot = null;\n    if (!BOT_TOKEN) {\n      console.log(\"TELEGRAM_BOT_TOKEN not found in environment variables\");\n      console.log(\"Telegram bot will be disabled. To enable it:\");\n      console.log(\"1. Message @BotFather on Telegram\");\n      console.log(\"2. Create a new bot with /newbot\");\n      console.log(\"3. Copy the token to your environment variables\");\n    } else {\n      console.log(\"Starting Telegram bot...\");\n      bot = new Bot(BOT_TOKEN);\n      bot.command(\"start\", (ctx) => {\n        const keyboard = new InlineKeyboard().text(\"\\u{1F43E} Capybara Adventure\", \"play\").text(\"\\u{1F4CA} My Stats\", \"stats\").row().text(\"\\u{1F4B0} Buy $CAPY\", \"buy\").text(\"\\u{1F3C6} Leaderboard\", \"leaderboard\").row().text(\"\\u{1F4D6} Whitepaper\", \"whitepaper\").text(\"\\u{1F5FA}\\uFE0F Roadmap\", \"roadmap\");\n        ctx.reply(\n          `\\u{1F6E1}\\uFE0F Welcome to Save the Capybara! \\u{1F6E1}\\uFE0F\n\nThe ultimate capybara protection play-to-earn game on Solana!\n\n\\u{1F43E} Protect adorable capybaras from bee swarms\n\\u{1F48E} Earn $CAPY tokens for successful rescues\n\\u{1F3C6} Master defense strategies and survival tactics\n\nChoose an option below to get started:`,\n          { reply_markup: keyboard }\n        );\n      });\n      const gameUrl = process.env.REPLIT_DEV_DOMAIN ? `https://${process.env.REPLIT_DEV_DOMAIN}` : \"https://save-capybara.replit.app\";\n      const handlePlayGame = (ctx) => {\n        const keyboard = new InlineKeyboard().webApp(\"\\u{1F3AE} Play Now\", gameUrl).text(\"\\u{1F4F1} Mobile Tips\", \"mobile_tips\").row().text(\"\\u{1F3AF} Tutorial\", \"tutorial\").text(\"\\u{1F519} Main Menu\", \"main_menu\");\n        ctx.reply(\n          `\\u{1F3AE} Ready to become a capybara guardian?\n\n\\u{1F6E1}\\uFE0F Master the art of capybara protection!\n\n\\u{1F4A1} How to Play:\n\\u2022 \\u{1F3D7}\\uFE0F Build magical barriers to block bee attacks\n\\u2022 \\u26A1 Use power-ups to strengthen your defenses\n\\u2022 \\u{1F496} Keep all capybaras safe for maximum rewards\n\\u2022 \\u23F1\\uFE0F Survive longer waves to earn more $CAPY\n\nClick 'Play Now' to start protecting!`,\n          { reply_markup: keyboard }\n        );\n      };\n      bot.command(\"play\", handlePlayGame);\n      const handleStats = async (ctx) => {\n        const username = ctx.from?.username || \"Player\";\n        const keyboard = new InlineKeyboard().text(\"\\u{1F3AE} Play Game\", \"play\").text(\"\\u{1F3C6} Leaderboard\", \"leaderboard\").row().text(\"\\u{1F504} Refresh Stats\", \"stats\").text(\"\\u{1F519} Main Menu\", \"main_menu\");\n        ctx.reply(\n          `\\u{1F4CA} ${username}'s Capybara Protection Stats:\n\n\\u{1F3C6} Total Score: 0 (Connect wallet)\n\\u{1F3AF} Levels Completed: 0/12\n\\u2B50 Achievement Points: 0\n\\u{1F525} Current Streak: 0 days\n\\u{1F4B0} $CAPY Earned: 0 tokens\n\\u{1F3C5} Best Time: -- seconds\n\n\\u{1F517} Connect your Solana wallet in-game to track real stats!`,\n          { reply_markup: keyboard }\n        );\n      };\n      bot.command(\"stats\", handleStats);\n      const handleLeaderboard = (ctx) => {\n        const keyboard = new InlineKeyboard().text(\"\\u{1F3AE} Challenge Top Player\", \"play\").text(\"\\u{1F4CA} My Stats\", \"stats\").row().text(\"\\u{1F504} Refresh Rankings\", \"leaderboard\").text(\"\\u{1F519} Main Menu\", \"main_menu\");\n        ctx.reply(\n          `\\u{1F3C6} Top Capybara Protectors (Weekly):\n\n\\u{1F947} CapyMaster - 15,420 points\n\\u{1F948} BeeStopper - 12,890 points\n\\u{1F949} MagicInk - 11,250 points\n4\\uFE0F\\u20E3 BarrierKing - 9,870 points\n5\\uFE0F\\u20E3 QuickDraw - 8,650 points\n6\\uFE0F\\u20E3 SafeCapy - 7,420 points\n7\\uFE0F\\u20E3 SpeedRun - 6,890 points\n\n\\u{1F3AF} Think you can claim the throne?\nPlay now and prove your skills!`,\n          { reply_markup: keyboard }\n        );\n      };\n      bot.command(\"leaderboard\", handleLeaderboard);\n      const handleBuyToken = (ctx) => {\n        const keyboard = new InlineKeyboard().url(\"\\u{1F680} PumpFun Launch\", \"https://pump.fun\").url(\"\\u{1F4CA} DEXTools\", \"https://dextools.io\").row().text(\"\\u{1F4CB} Copy Contract\", \"copy_contract\").text(\"\\u{1F519} Main Menu\", \"main_menu\");\n        ctx.reply(\n          `\\u{1F4B0} $CAPY Token Information:\n\n\\u{1F680} Launch: Q1 2025 on PumpFun\n\\u{1F48E} Network: Solana\n\\u{1F4CD} Contract: CapyG4mE7oKr3nQs9vR2bXw8pT5aH6uL9mN3cZ1x (placeholder)\n\n\\u{1F3AF} Utilities:\n\\u2022 Play-to-earn rewards\n\\u2022 Tournament entry & prizes\n\\u2022 Exclusive NFT capybara skins\n\\u2022 Community governance voting\n\\u2022 Staking for bonus rewards\n\n\\u26A0\\uFE0F Always verify official contract address!`,\n          { reply_markup: keyboard }\n        );\n      };\n      bot.command(\"buy\", handleBuyToken);\n      bot.command(\"whitepaper\", (ctx) => {\n        ctx.reply(\n          `\\u{1F4D6} Save the Capybara Whitepaper\n\nRead our comprehensive whitepaper to learn about:\n\\u2022 Game mechanics and tokenomics\n\\u2022 Our vision for play-to-earn gaming\n\\u2022 Technology stack and security\n\\u2022 Community governance plans\n\n\\u{1F4C4} Read here: https://your-game-url.replit.app/whitepaper`\n        );\n      });\n      bot.command(\"roadmap\", (ctx) => {\n        ctx.reply(\n          `\\u{1F5FA}\\uFE0F Development Roadmap\n\nSee what we're building and what's coming next:\n\\u2705 Phase 1: Foundation & Launch (Completed)\n\\u{1F504} Phase 2: Token Launch & Rewards (Q1 2025)\n\\u{1F3AF} Phase 3: Community & Expansion (Q2 2025)\n\\u2B50 Phase 4: Advanced Features (Q3 2025)\n\\u{1F680} Phase 5: Ecosystem Expansion (Q4 2025+)\n\n\\u{1F4CB} Full roadmap: https://your-game-url.replit.app/roadmap`\n        );\n      });\n      bot.command(\"help\", (ctx) => {\n        ctx.reply(\n          `\\u{1F916} Save the Capybara Bot Commands:\n\n\\u{1F3AE} Game Commands:\n/play - Get the game link\n/stats - View your statistics\n/leaderboard - Top players\n\n\\u{1F4DA} Information:\n/whitepaper - Read our whitepaper\n/roadmap - Development roadmap\n/buy - Token information\n\n\\u{1F4AC} Community:\nShare screenshots of your best scores!\nAsk questions about gameplay\nSuggest new features\n\nHappy gaming! \\u{1F3DB}\\uFE0F`\n        );\n      });\n      const handleWhitepaper = (ctx) => {\n        const keyboard = new InlineKeyboard().url(\"\\u{1F4D6} Read Full Whitepaper\", \"https://save-capybara.replit.app/whitepaper\").text(\"\\u{1F519} Main Menu\", \"main_menu\");\n        ctx.reply(\n          `\\u{1F4D6} Save the Capybara Whitepaper\n\n\\u{1F4CB} What you'll learn:\n\\u2022 Complete game mechanics & tokenomics\n\\u2022 Our vision for play-to-earn gaming\n\\u2022 Technology stack and security measures\n\\u2022 Community governance plans\n\\u2022 Token utility and distribution\n\n\\u{1F4A1} Essential reading for serious players!`,\n          { reply_markup: keyboard }\n        );\n      };\n      const handleRoadmap = (ctx) => {\n        const keyboard = new InlineKeyboard().url(\"\\u{1F5FA}\\uFE0F View Full Roadmap\", \"https://save-capybara.replit.app/roadmap\").text(\"\\u{1F519} Main Menu\", \"main_menu\");\n        ctx.reply(\n          `\\u{1F5FA}\\uFE0F Development Roadmap\n\n\\u{1F680} Our Journey:\n\\u2705 Phase 1: Foundation & Launch (Completed)\n\\u{1F504} Phase 2: Token Launch & Rewards (Q1 2025)\n\\u{1F3AF} Phase 3: Community & Expansion (Q2 2025)\n\\u2B50 Phase 4: Advanced Features (Q3 2025)\n\\u{1F31F} Phase 5: Ecosystem Expansion (Q4 2025+)\n\n\\u{1F4C5} Track our progress and upcoming features!`,\n          { reply_markup: keyboard }\n        );\n      };\n      bot.on(\"callback_query:data\", async (ctx) => {\n        const data = ctx.callbackQuery.data;\n        switch (data) {\n          case \"play\":\n            await handlePlayGame(ctx);\n            break;\n          case \"stats\":\n            await handleStats(ctx);\n            break;\n          case \"buy\":\n            await handleBuyToken(ctx);\n            break;\n          case \"leaderboard\":\n            await handleLeaderboard(ctx);\n            break;\n          case \"whitepaper\":\n            await handleWhitepaper(ctx);\n            break;\n          case \"roadmap\":\n            await handleRoadmap(ctx);\n            break;\n          case \"copy_contract\":\n            await ctx.answerCallbackQuery(\"Contract copied to clipboard!\");\n            await ctx.reply(\"\\u{1F4CB} Contract Address: `CapyG4mE7oKr3nQs9vR2bXw8pT5aH6uL9mN3cZ1x`\\n\\n\\u26A0\\uFE0F This is a placeholder. Always verify from official sources!\", { parse_mode: \"Markdown\" });\n            break;\n          case \"mobile_tips\":\n            await ctx.answerCallbackQuery();\n            await ctx.reply(\n              `\\u{1F4F1} Mobile Gaming Tips:\n\n\\u{1F525} Performance:\n\\u2022 Use landscape mode for better view\n\\u2022 Close other apps for smooth gameplay\n\\u2022 Ensure stable internet connection\n\n\\u2728 Drawing Tips:\n\\u2022 Use your finger like a magic wand\n\\u2022 Draw smooth, connected barriers\n\\u2022 Plan your barriers before drawing\n\\u2022 Save ink for emergency patches!`\n            );\n            break;\n          case \"tutorial\":\n            await ctx.answerCallbackQuery();\n            await ctx.reply(\n              `\\u{1F393} Capybara Protection Tutorial:\n\n\\u{1F3D7}\\uFE0F Defense Building:\n\\u2022 Drag to create protective barriers\n\\u2022 Strategically block bee flight paths\n\\u2022 Use terrain to your advantage\n\n\\u{1F43E} Capybara Safety:\n\\u2022 Keep all capybaras within safe zones\n\\u2022 Watch for new bee spawn points\n\\u2022 Repair damaged barriers quickly\n\n\\u{1F3C6} Rewards & Progression:\n\\u2022 Each saved capybara = 0.005 $CAPY\n\\u2022 Survival time bonuses available\n\\u2022 Win streaks multiply your rewards!`\n            );\n            break;\n          case \"main_menu\":\n            await ctx.answerCallbackQuery();\n            const keyboard = new InlineKeyboard().text(\"\\u{1F3AE} Play Game\", \"play\").text(\"\\u{1F4CA} My Stats\", \"stats\").row().text(\"\\u{1F4B0} Buy $CAPY\", \"buy\").text(\"\\u{1F3C6} Leaderboard\", \"leaderboard\").row().text(\"\\u{1F4D6} Whitepaper\", \"whitepaper\").text(\"\\u{1F5FA}\\uFE0F Roadmap\", \"roadmap\");\n            await ctx.editMessageText(\n              `\\u{1F3DB}\\uFE0F Save the Capybara Main Menu\n\nChoose an option:`,\n              { reply_markup: keyboard }\n            );\n            break;\n          default:\n            await ctx.answerCallbackQuery(\"Unknown action\");\n        }\n      });\n      bot.on(\"message:text\", (ctx) => {\n        const text2 = ctx.message.text.toLowerCase();\n        if (text2.includes(\"hello\") || text2.includes(\"hi\")) {\n          ctx.reply(\"Hello! \\u{1F44B} Type /start to see what I can do!\");\n        } else if (text2.includes(\"capybara\")) {\n          ctx.reply(\"\\u{1F3DB}\\uFE0F Did someone say capybara? They need saving! Type /play to start protecting them!\");\n        } else if (text2.includes(\"game\")) {\n          ctx.reply(\"\\u{1F3AE} Ready to play? Type /play to get the game link!\");\n        } else {\n          ctx.reply(\"Type /help to see all available commands! \\u{1F916}\");\n        }\n      });\n      bot.catch((err) => {\n        console.error(\"Bot error:\", err);\n      });\n      bot.start().catch((err) => {\n        console.error(\"Failed to start Telegram bot:\", err);\n      });\n    }\n  }\n});\n\n// server/index.ts\nimport express2 from \"express\";\n\n// server/routes.ts\nimport { createServer } from \"http\";\n\n// server/storage.ts\nimport { neon } from \"@neondatabase/serverless\";\nimport { drizzle } from \"drizzle-orm/neon-http\";\nimport { eq, desc, sql, and } from \"drizzle-orm\";\n\n// shared/schema.ts\nimport { pgTable, text, serial, integer, boolean, timestamp, date, real } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nvar users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  walletAddress: text(\"wallet_address\").notNull().unique(),\n  username: text(\"username\").notNull(),\n  pin: text(\"pin\").notNull(),\n  // Store hashed PIN\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  lastLoginAt: timestamp(\"last_login_at\").defaultNow(),\n  // User statistics for airdrop decisions\n  totalScore: integer(\"total_score\").default(0),\n  levelsCompleted: integer(\"levels_completed\").default(0),\n  highestLevel: integer(\"highest_level\").default(1),\n  gamesPlayed: integer(\"games_played\").default(0),\n  consecutiveDays: integer(\"consecutive_days\").default(1),\n  totalPlayTimeMinutes: integer(\"total_play_time_minutes\").default(0),\n  averageScorePerLevel: real(\"average_score_per_level\").default(0),\n  achievementPoints: integer(\"achievement_points\").default(0),\n  isEligibleForRewards: boolean(\"is_eligible_for_rewards\").default(true)\n});\nvar gameScores = pgTable(\"game_scores\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  level: integer(\"level\").notNull(),\n  score: integer(\"score\").notNull(),\n  completed: boolean(\"completed\").default(false),\n  playTimeSeconds: integer(\"play_time_seconds\").default(0),\n  timestamp: timestamp(\"timestamp\").defaultNow()\n});\nvar gameSessions = pgTable(\"game_sessions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  startTime: timestamp(\"start_time\").defaultNow(),\n  endTime: timestamp(\"end_time\"),\n  totalPlayTimeMinutes: integer(\"total_play_time_minutes\").default(0),\n  levelsPlayed: integer(\"levels_played\").default(0),\n  date: date(\"date\").defaultNow()\n});\nvar userAchievements = pgTable(\"user_achievements\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  achievementType: text(\"achievement_type\").notNull(),\n  // e.g., \"COMPLETE_5_LEVELS\", \"SCORE_10K\", \"PLAY_7_DAYS\"\n  achievementName: text(\"achievement_name\").notNull(),\n  pointsAwarded: integer(\"points_awarded\").default(0),\n  unlockedAt: timestamp(\"unlocked_at\").defaultNow()\n});\nvar leaderboards = pgTable(\"leaderboards\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id),\n  leaderboardType: text(\"leaderboard_type\").notNull(),\n  // \"daily\", \"weekly\", \"all_time\"\n  score: integer(\"score\").notNull(),\n  level: integer(\"level\").notNull(),\n  rank: integer(\"rank\"),\n  periodDate: date(\"period_date\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow()\n});\nvar insertUserSchema = createInsertSchema(users).pick({\n  walletAddress: true,\n  username: true,\n  pin: true\n});\nvar insertScoreSchema = createInsertSchema(gameScores).pick({\n  userId: true,\n  level: true,\n  score: true,\n  completed: true,\n  playTimeSeconds: true\n});\nvar insertSessionSchema = createInsertSchema(gameSessions).pick({\n  userId: true,\n  totalPlayTimeMinutes: true,\n  levelsPlayed: true\n});\nvar insertAchievementSchema = createInsertSchema(userAchievements).pick({\n  userId: true,\n  achievementType: true,\n  achievementName: true,\n  pointsAwarded: true\n});\n\n// server/storage.ts\nvar neonClient = null;\nvar db = null;\nif (process.env.DATABASE_URL) {\n  try {\n    neonClient = neon(process.env.DATABASE_URL);\n    db = drizzle(neonClient);\n  } catch (error) {\n    console.warn(\"Database connection failed, using memory storage:\", error);\n  }\n}\nvar DatabaseStorage = class {\n  async getUser(id) {\n    const result = await db.select().from(users).where(eq(users.id, id)).limit(1);\n    return result[0];\n  }\n  async getUserByWallet(walletAddress) {\n    const result = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);\n    return result[0];\n  }\n  async getUserByUsername(username) {\n    const result = await db.select().from(users).where(eq(users.username, username)).limit(1);\n    return result[0];\n  }\n  async createUser(insertUser) {\n    const result = await db.insert(users).values({\n      ...insertUser,\n      lastLoginAt: /* @__PURE__ */ new Date(),\n      totalScore: 0,\n      levelsCompleted: 0,\n      highestLevel: 1,\n      gamesPlayed: 0,\n      consecutiveDays: 1,\n      totalPlayTimeMinutes: 0,\n      averageScorePerLevel: 0,\n      achievementPoints: 0,\n      isEligibleForRewards: true\n    }).returning();\n    return result[0];\n  }\n  async updateUser(id, updates) {\n    const result = await db.update(users).set(updates).where(eq(users.id, id)).returning();\n    return result[0];\n  }\n  async updateUserStats(userId, stats) {\n    await db.update(users).set({\n      ...stats,\n      lastLoginAt: /* @__PURE__ */ new Date()\n    }).where(eq(users.id, userId));\n  }\n  async submitScore(score) {\n    const result = await db.insert(gameScores).values({\n      ...score,\n      timestamp: /* @__PURE__ */ new Date()\n    }).returning();\n    await this.recalculateUserStats(score.userId);\n    return result[0];\n  }\n  async recalculateUserStats(userId) {\n    const userScores = await db.select().from(gameScores).where(eq(gameScores.userId, userId));\n    const completedLevels = userScores.filter((s) => s.completed).length;\n    const totalScore = userScores.reduce((sum, s) => sum + s.score, 0);\n    const highestLevel = Math.max(...userScores.map((s) => s.level), 1);\n    const averageScore = userScores.length > 0 ? totalScore / userScores.length : 0;\n    await db.update(users).set({\n      totalScore,\n      levelsCompleted: completedLevels,\n      highestLevel,\n      gamesPlayed: userScores.length,\n      averageScorePerLevel: averageScore\n    }).where(eq(users.id, userId));\n  }\n  async getUserScores(userId) {\n    return await db.select().from(gameScores).where(eq(gameScores.userId, userId)).orderBy(desc(gameScores.timestamp));\n  }\n  async getTopScores(limit = 100) {\n    const topScores = await db.select({\n      score: gameScores.score,\n      level: gameScores.level,\n      completed: gameScores.completed,\n      timestamp: gameScores.timestamp,\n      username: users.username,\n      walletAddress: users.walletAddress\n    }).from(gameScores).innerJoin(users, eq(gameScores.userId, users.id)).orderBy(desc(gameScores.score)).limit(limit);\n    return topScores.map((score, index) => ({\n      rank: index + 1,\n      username: score.username,\n      walletAddress: `${score.walletAddress.slice(0, 4)}...${score.walletAddress.slice(-4)}`,\n      score: score.score,\n      level: score.level,\n      completed: score.completed\n    }));\n  }\n  async createSession(session) {\n    const result = await db.insert(gameSessions).values({\n      ...session,\n      startTime: /* @__PURE__ */ new Date()\n    }).returning();\n    return result[0];\n  }\n  async endSession(sessionId, endTime) {\n    await db.update(gameSessions).set({ endTime }).where(eq(gameSessions.id, sessionId));\n  }\n  async getUserSessions(userId) {\n    return await db.select().from(gameSessions).where(eq(gameSessions.userId, userId)).orderBy(desc(gameSessions.startTime));\n  }\n  async addAchievement(achievement) {\n    const result = await db.insert(userAchievements).values({\n      ...achievement,\n      unlockedAt: /* @__PURE__ */ new Date()\n    }).returning();\n    await db.update(users).set({\n      achievementPoints: sql`${users.achievementPoints} + ${achievement.pointsAwarded}`\n    }).where(eq(users.id, achievement.userId));\n    return result[0];\n  }\n  async getUserAchievements(userId) {\n    return await db.select().from(userAchievements).where(eq(userAchievements.userId, userId)).orderBy(desc(userAchievements.unlockedAt));\n  }\n  async updateLeaderboards() {\n    const today = /* @__PURE__ */ new Date();\n    const weekStart = new Date(today.getFullYear(), today.getMonth(), today.getDate() - today.getDay());\n    const dailyScores = await db.select({\n      userId: gameScores.userId,\n      score: sql`MAX(${gameScores.score})`.as(\"max_score\"),\n      level: sql`MAX(${gameScores.level})`.as(\"max_level\")\n    }).from(gameScores).where(sql`DATE(${gameScores.timestamp}) = CURRENT_DATE`).groupBy(gameScores.userId).orderBy(desc(sql`MAX(${gameScores.score})`));\n    await db.delete(leaderboards).where(and(\n      eq(leaderboards.leaderboardType, \"daily\"),\n      sql`DATE(${leaderboards.periodDate}) = CURRENT_DATE`\n    ));\n    for (let i = 0; i < dailyScores.length; i++) {\n      await db.insert(leaderboards).values({\n        userId: dailyScores[i].userId,\n        leaderboardType: \"daily\",\n        score: dailyScores[i].score,\n        level: dailyScores[i].level,\n        rank: i + 1,\n        periodDate: today.toISOString().split(\"T\")[0]\n      });\n    }\n  }\n  async getLeaderboard(type, limit = 50) {\n    if (type === \"all_time\") {\n      return await this.getTopScores(limit);\n    }\n    const result = await db.select({\n      rank: leaderboards.rank,\n      score: leaderboards.score,\n      level: leaderboards.level,\n      username: users.username,\n      walletAddress: users.walletAddress\n    }).from(leaderboards).innerJoin(users, eq(leaderboards.userId, users.id)).where(eq(leaderboards.leaderboardType, type)).orderBy(leaderboards.rank).limit(limit);\n    return result.map((entry) => ({\n      rank: entry.rank,\n      username: entry.username,\n      walletAddress: `${entry.walletAddress.slice(0, 4)}...${entry.walletAddress.slice(-4)}`,\n      score: entry.score,\n      level: entry.level\n    }));\n  }\n  async getAirdropData() {\n    const result = await db.select({\n      username: users.username,\n      walletAddress: users.walletAddress,\n      totalScore: users.totalScore,\n      levelsCompleted: users.levelsCompleted,\n      highestLevel: users.highestLevel,\n      gamesPlayed: users.gamesPlayed,\n      consecutiveDays: users.consecutiveDays,\n      totalPlayTimeMinutes: users.totalPlayTimeMinutes,\n      achievementPoints: users.achievementPoints,\n      averageScorePerLevel: users.averageScorePerLevel,\n      isEligibleForRewards: users.isEligibleForRewards,\n      createdAt: users.createdAt,\n      lastLoginAt: users.lastLoginAt\n    }).from(users).where(eq(users.isEligibleForRewards, true)).orderBy(desc(users.totalScore));\n    return result;\n  }\n};\nvar storage = new DatabaseStorage();\n\n// server/routes.ts\nimport crypto from \"crypto\";\nimport { PublicKey } from \"@solana/web3.js\";\nfunction hashPin(pin) {\n  return crypto.createHash(\"sha256\").update(pin).digest(\"hex\");\n}\nfunction isValidSolanaAddress(address) {\n  try {\n    new PublicKey(address);\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\nasync function checkAndAwardAchievements(userId) {\n  try {\n    const user = await storage.getUser(userId);\n    if (!user) return;\n    const existingAchievements = await storage.getUserAchievements(userId);\n    const achievedTypes = existingAchievements.map((a) => a.achievementType);\n    const achievements = [\n      {\n        type: \"FIRST_GAME\",\n        name: \"Getting Started\",\n        points: 10,\n        criteria: () => (user.gamesPlayed || 0) >= 1\n      },\n      {\n        type: \"COMPLETE_5_LEVELS\",\n        name: \"Level Master\",\n        points: 50,\n        criteria: () => (user.levelsCompleted || 0) >= 5\n      },\n      {\n        type: \"SCORE_10K\",\n        name: \"High Scorer\",\n        points: 100,\n        criteria: () => (user.totalScore || 0) >= 1e4\n      },\n      {\n        type: \"PLAY_10_GAMES\",\n        name: \"Regular Player\",\n        points: 75,\n        criteria: () => (user.gamesPlayed || 0) >= 10\n      },\n      {\n        type: \"REACH_LEVEL_5\",\n        name: \"Progress Master\",\n        points: 50,\n        criteria: () => (user.highestLevel || 1) >= 5\n      }\n    ];\n    for (const achievement of achievements) {\n      if (!achievedTypes.includes(achievement.type) && achievement.criteria()) {\n        await storage.addAchievement({\n          userId,\n          achievementType: achievement.type,\n          achievementName: achievement.name,\n          pointsAwarded: achievement.points\n        });\n      }\n    }\n  } catch (error) {\n    console.error(\"Error checking achievements:\", error);\n  }\n}\nasync function registerRoutes(app2) {\n  app2.post(\"/api/register\", async (req, res) => {\n    try {\n      const { walletAddress, username, password, seedPhrase } = req.body;\n      const userPassword = password || seedPhrase;\n      if (!walletAddress || !username || !userPassword) {\n        return res.status(400).json({ error: \"Missing required fields\" });\n      }\n      if (userPassword.length < 6) {\n        return res.status(400).json({ error: \"Password must be at least 6 characters\" });\n      }\n      if (!isValidSolanaAddress(walletAddress)) {\n        return res.status(400).json({ error: \"Invalid Solana wallet address. Please provide a valid SOL wallet.\" });\n      }\n      const existingUserByWallet = await storage.getUserByWallet(walletAddress);\n      if (existingUserByWallet) {\n        return res.status(409).json({ error: \"Wallet address already registered. Only one account per wallet address is allowed.\" });\n      }\n      const existingUserByUsername = await storage.getUserByUsername(username);\n      if (existingUserByUsername) {\n        return res.status(409).json({ error: \"Username already taken\" });\n      }\n      const hashedPassword = hashPin(password.trim());\n      const user = await storage.createUser({\n        walletAddress,\n        username,\n        pin: hashedPassword\n      });\n      await checkAndAwardAchievements(user.id);\n      const safeUser = {\n        id: user.id,\n        walletAddress: user.walletAddress,\n        username: user.username,\n        totalScore: user.totalScore,\n        levelsCompleted: user.levelsCompleted,\n        achievementPoints: user.achievementPoints\n      };\n      res.json({ success: true, user: safeUser });\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  app2.post(\"/api/login\", async (req, res) => {\n    try {\n      const { walletAddress, password } = req.body;\n      if (!walletAddress || !password) {\n        return res.status(400).json({ error: \"Missing wallet address or password\" });\n      }\n      if (!isValidSolanaAddress(walletAddress)) {\n        return res.status(400).json({ error: \"Invalid Solana wallet address\" });\n      }\n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n      const hashedPassword = hashPin(password.trim());\n      if (user.pin !== hashedPassword) {\n        return res.status(401).json({ error: \"Invalid credentials\" });\n      }\n      await storage.updateUserStats(user.id, { lastLoginAt: /* @__PURE__ */ new Date() });\n      const safeUser = {\n        id: user.id,\n        walletAddress: user.walletAddress,\n        username: user.username,\n        totalScore: user.totalScore,\n        levelsCompleted: user.levelsCompleted,\n        highestLevel: user.highestLevel,\n        gamesPlayed: user.gamesPlayed,\n        achievementPoints: user.achievementPoints,\n        consecutiveDays: user.consecutiveDays,\n        averageScorePerLevel: user.averageScorePerLevel,\n        isEligibleForRewards: user.isEligibleForRewards\n      };\n      res.json({ success: true, user: safeUser });\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  app2.post(\"/api/submit-score\", async (req, res) => {\n    try {\n      const { walletAddress, level, score, completed, playTimeSeconds } = req.body;\n      if (!walletAddress || typeof level !== \"number\" || typeof score !== \"number\") {\n        return res.status(400).json({ error: \"Invalid input data\" });\n      }\n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(401).json({ error: \"User not found\" });\n      }\n      const gameScore = await storage.submitScore({\n        userId: user.id,\n        level,\n        score,\n        completed: !!completed,\n        playTimeSeconds: playTimeSeconds || 0\n      });\n      await checkAndAwardAchievements(user.id);\n      await storage.updateLeaderboards();\n      console.log(\"Score submitted for user:\", user.username, \"Score:\", score, \"Level:\", level);\n      res.json({ success: true, message: \"Score submitted successfully\" });\n    } catch (error) {\n      console.error(\"Score submission error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  app2.get(\"/api/leaderboard\", async (req, res) => {\n    try {\n      const mockLeaderboard = {\n        daily: [\n          { username: \"CapyMaster\", score: 2500, walletAddress: \"ABC...123\", position: 1 },\n          { username: \"CoinHunter\", score: 2100, walletAddress: \"DEF...456\", position: 2 },\n          { username: \"RunnerPro\", score: 1800, walletAddress: \"GHI...789\", position: 3 }\n        ],\n        weekly: [\n          { username: \"CapyMaster\", score: 15e3, walletAddress: \"ABC...123\", position: 1 },\n          { username: \"GamePro\", score: 12500, walletAddress: \"JKL...012\", position: 2 },\n          { username: \"CoinHunter\", score: 11200, walletAddress: \"DEF...456\", position: 3 }\n        ],\n        all_time: [\n          { username: \"CapyLegend\", score: 5e4, walletAddress: \"MNO...345\", position: 1 },\n          { username: \"CapyMaster\", score: 35e3, walletAddress: \"ABC...123\", position: 2 },\n          { username: \"EliteRunner\", score: 28e3, walletAddress: \"PQR...678\", position: 3 }\n        ]\n      };\n      res.json(mockLeaderboard);\n    } catch (error) {\n      console.error(\"Leaderboard error:\", error);\n      res.json({ daily: [], weekly: [], all_time: [] });\n    }\n  });\n  app2.get(\"/api/profile/:walletAddress\", async (req, res) => {\n    try {\n      const { walletAddress } = req.params;\n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      const achievements = await storage.getUserAchievements(user.id);\n      const recentScores = await storage.getUserScores(user.id);\n      const profile = {\n        username: user.username,\n        walletAddress: user.walletAddress,\n        totalScore: user.totalScore,\n        levelsCompleted: user.levelsCompleted,\n        highestLevel: user.highestLevel,\n        gamesPlayed: user.gamesPlayed,\n        achievementPoints: user.achievementPoints,\n        averageScorePerLevel: user.averageScorePerLevel,\n        totalPlayTimeMinutes: user.totalPlayTimeMinutes,\n        consecutiveDays: user.consecutiveDays,\n        isEligibleForRewards: user.isEligibleForRewards,\n        joinedAt: user.createdAt,\n        lastActiveAt: user.lastLoginAt,\n        achievements: achievements.slice(0, 5),\n        // Recent 5 achievements\n        recentScores: recentScores.slice(0, 10)\n        // Recent 10 scores\n      };\n      res.json(profile);\n    } catch (error) {\n      console.error(\"Profile error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  app2.get(\"/api/admin/airdrop-data\", async (req, res) => {\n    try {\n      const airdropData = await storage.getAirdropData();\n      res.setHeader(\"Content-Type\", \"application/json\");\n      res.setHeader(\"Content-Disposition\", 'attachment; filename=\"airdrop-eligible-users.json\"');\n      res.json({\n        exportedAt: (/* @__PURE__ */ new Date()).toISOString(),\n        totalEligibleUsers: airdropData.length,\n        users: airdropData\n      });\n    } catch (error) {\n      console.error(\"Airdrop data export error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  app2.get(\"/api/achievements/:walletAddress\", async (req, res) => {\n    try {\n      const { walletAddress } = req.params;\n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      const achievements = await storage.getUserAchievements(user.id);\n      res.json(achievements);\n    } catch (error) {\n      console.error(\"Achievements error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  app2.post(\"/api/session/start\", async (req, res) => {\n    try {\n      const { walletAddress } = req.body;\n      const user = await storage.getUserByWallet(walletAddress);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      const session = await storage.createSession({\n        userId: user.id,\n        totalPlayTimeMinutes: 0,\n        levelsPlayed: 0\n      });\n      res.json({ success: true, sessionId: session.id });\n    } catch (error) {\n      console.error(\"Session start error:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n  const httpServer = createServer(app2);\n  return httpServer;\n}\n\n// server/vite.ts\nimport express from \"express\";\nimport fs from \"fs\";\nimport path2, { dirname as dirname2 } from \"path\";\nimport { fileURLToPath as fileURLToPath2 } from \"url\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\n\n// vite.config.ts\nimport { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path, { dirname } from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { fileURLToPath } from \"url\";\nimport glsl from \"vite-plugin-glsl\";\nvar __filename = fileURLToPath(import.meta.url);\nvar __dirname = dirname(__filename);\nvar vite_config_default = defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    glsl()\n    // Add GLSL shader support\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(__dirname, \"shared\")\n    }\n  },\n  root: path.resolve(__dirname, \"client\"),\n  build: {\n    outDir: path.resolve(__dirname, \"dist/public\"),\n    emptyOutDir: true\n  },\n  // Add support for large models and audio files\n  assetsInclude: [\"**/*.gltf\", \"**/*.glb\", \"**/*.mp3\", \"**/*.ogg\", \"**/*.wav\"]\n});\n\n// server/vite.ts\nimport { nanoid } from \"nanoid\";\nvar __filename2 = fileURLToPath2(import.meta.url);\nvar __dirname2 = dirname2(__filename2);\nvar viteLogger = createLogger();\nfunction log(message, source = \"express\") {\n  const formattedTime = (/* @__PURE__ */ new Date()).toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true\n  });\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\nasync function setupVite(app2, server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true\n  };\n  const vite = await createViteServer({\n    ...vite_config_default,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      }\n    },\n    server: serverOptions,\n    appType: \"custom\"\n  });\n  app2.use(vite.middlewares);\n  app2.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n    try {\n      const clientTemplate = path2.resolve(\n        __dirname2,\n        \"..\",\n        \"client\",\n        \"index.html\"\n      );\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e);\n      next(e);\n    }\n  });\n}\nfunction serveStatic(app2) {\n  const distPath = path2.resolve(__dirname2, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`\n    );\n  }\n  app2.use(express.static(distPath));\n  app2.use(\"*\", (_req, res) => {\n    res.sendFile(path2.resolve(distPath, \"index.html\"));\n  });\n}\n\n// server/index.ts\nvar app = express2();\napp.use(express2.json());\napp.use(express2.urlencoded({ extended: false }));\napp.use((req, res, next) => {\n  const url = req.url;\n  if (url.endsWith(\".data.br\") || url.endsWith(\".data.unityweb\")) {\n    res.set(\"Content-Type\", \"application/octet-stream\");\n    if (url.endsWith(\".br\")) {\n      res.set(\"Content-Encoding\", \"br\");\n    }\n  } else if (url.endsWith(\".js.br\") || url.endsWith(\".js.unityweb\")) {\n    res.set(\"Content-Type\", \"application/javascript\");\n    if (url.endsWith(\".br\")) {\n      res.set(\"Content-Encoding\", \"br\");\n    }\n  } else if (url.endsWith(\".wasm.br\") || url.endsWith(\".wasm.unityweb\")) {\n    res.set(\"Content-Type\", \"application/wasm\");\n    if (url.endsWith(\".br\")) {\n      res.set(\"Content-Encoding\", \"br\");\n    }\n  }\n  if (url.includes(\".unityweb\")) {\n    if (url.includes(\".data.\")) {\n      res.set(\"Content-Type\", \"application/octet-stream\");\n    } else if (url.includes(\".framework.js.\") || url.includes(\".js.\")) {\n      res.set(\"Content-Type\", \"application/javascript\");\n    } else if (url.includes(\".wasm.\")) {\n      res.set(\"Content-Type\", \"application/wasm\");\n    }\n  }\n  next();\n});\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path3 = req.path;\n  let capturedJsonResponse = void 0;\n  const originalResJson = res.json;\n  res.json = function(bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path3.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path3} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"\\u2026\";\n      }\n      log(logLine);\n    }\n  });\n  next();\n});\n(async () => {\n  try {\n    await Promise.resolve().then(() => (init_telegram_bot(), telegram_bot_exports));\n  } catch (error) {\n    console.log(\"Telegram bot not started - this is normal if no token is provided\");\n  }\n  const server = await registerRoutes(app);\n  app.use((err, _req, res, _next) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n    res.status(status).json({ message });\n    throw err;\n  });\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n  const port = 5e3;\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":38371},"dist/public/assets/index-CYQUTURx.css":{"content":"*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: \"\"}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}*{border-color:hsl(var(--border))}body{background-color:hsl(var(--background));font-family:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";color:hsl(var(--foreground));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0;padding:0;overflow:hidden;width:100vw;height:100vh}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.-bottom-12{bottom:-3rem}.-bottom-8{bottom:-2rem}.-left-12{left:-3rem}.-right-12{right:-3rem}.-right-2{right:-.5rem}.-top-12{top:-3rem}.-top-16{top:-4rem}.-top-2{top:-.5rem}.-top-6{top:-1.5rem}.bottom-0{bottom:0}.bottom-20{bottom:5rem}.bottom-4{bottom:1rem}.bottom-40{bottom:10rem}.bottom-8{bottom:2rem}.left-0{left:0}.left-1{left:.25rem}.left-1\\/2{left:50%}.left-10{left:2.5rem}.left-2{left:.5rem}.left-20{left:5rem}.left-4{left:1rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-1{right:.25rem}.right-10{right:2.5rem}.right-2{right:.5rem}.right-20{right:5rem}.right-3{right:.75rem}.right-4{right:1rem}.right-6{right:1.5rem}.top-0{top:0}.top-1\\.5{top:.375rem}.top-1\\/2{top:50%}.top-20{top:5rem}.top-24{top:6rem}.top-3\\.5{top:.875rem}.top-4{top:1rem}.top-40{top:10rem}.top-6{top:1.5rem}.top-\\[1px\\]{top:1px}.top-\\[50\\%\\]{top:50%}.top-\\[60\\%\\]{top:60%}.top-full{top:100%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[1\\]{z-index:1}.z-\\[9999\\]{z-index:9999}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-3\\.5{margin-left:.875rem;margin-right:.875rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-8{margin-left:2rem;margin-right:2rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.-ml-4{margin-left:-1rem}.-mt-4{margin-top:-1rem}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-auto{margin-left:auto}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-12{margin-top:3rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.aspect-video{aspect-ratio:16 / 9}.size-4{width:1rem;height:1rem}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-20{height:5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\\[1px\\]{height:1px}.h-\\[var\\(--radix-navigation-menu-viewport-height\\)\\]{height:var(--radix-navigation-menu-viewport-height)}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.h-svh{height:100svh}.max-h-96{max-height:24rem}.max-h-\\[300px\\]{max-height:300px}.max-h-\\[var\\(--radix-dropdown-menu-content-available-height\\)\\]{max-height:var(--radix-dropdown-menu-content-available-height)}.min-h-0{min-height:0px}.min-h-\\[60px\\]{min-height:60px}.min-h-screen{min-height:100vh}.min-h-svh{min-height:100svh}.w-0{width:0px}.w-1{width:.25rem}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-3\\/4{width:75%}.w-32{width:8rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[--sidebar-width\\]{width:var(--sidebar-width)}.w-\\[100px\\]{width:100px}.w-\\[1px\\]{width:1px}.w-auto{width:auto}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.w-px{width:1px}.min-w-0{min-width:0px}.min-w-10{min-width:2.5rem}.min-w-5{min-width:1.25rem}.min-w-8{min-width:2rem}.min-w-9{min-width:2.25rem}.min-w-\\[120px\\]{min-width:120px}.min-w-\\[12rem\\]{min-width:12rem}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-6xl{max-width:72rem}.max-w-\\[--skeleton-width\\]{max-width:var(--skeleton-width)}.max-w-lg{max-width:32rem}.max-w-max{max-width:-moz-max-content;max-width:max-content}.max-w-md{max-width:28rem}.max-w-xl{max-width:36rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.grow-0{flex-grow:0}.basis-full{flex-basis:100%}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-px{--tw-translate-x: -1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-1{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-6{--tw-translate-x: 1.5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-px{--tw-translate-x: 1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-50\\%\\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-150{--tw-scale-x: 1.5;--tw-scale-y: 1.5;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-bounce{animation:bounce 1s infinite}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize{resize:both}.list-none{list-style-type:none}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.rounded-2xl{border-radius:1rem}.rounded-\\[2px\\]{border-radius:2px}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-xl{border-radius:.75rem}.rounded-t-\\[10px\\]{border-top-left-radius:10px;border-top-right-radius:10px}.rounded-tl-sm{border-top-left-radius:calc(var(--radius) - 4px)}.border{border-width:1px}.border-2{border-width:2px}.border-\\[1\\.5px\\]{border-width:1.5px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-\\[--color-border\\]{border-color:var(--color-border)}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity))}.border-amber-300\\/30{border-color:#fcd34d4d}.border-amber-400\\/20{border-color:#fbbf2433}.border-amber-400\\/30{border-color:#fbbf244d}.border-amber-500\\/30{border-color:#f59e0b4d}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity))}.border-blue-400\\/30{border-color:#60a5fa4d}.border-blue-400\\/50{border-color:#60a5fa80}.border-blue-500\\/30{border-color:#3b82f64d}.border-border\\/50{border-color:hsl(var(--border) / .5)}.border-destructive\\/50{border-color:hsl(var(--destructive) / .5)}.border-emerald-400{--tw-border-opacity: 1;border-color:rgb(52 211 153 / var(--tw-border-opacity))}.border-emerald-400\\/30{border-color:#34d3994d}.border-emerald-500\\/30{border-color:#10b9814d}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-green-400\\/50{border-color:#4ade8080}.border-indigo-400\\/30{border-color:#818cf84d}.border-input{border-color:hsl(var(--input))}.border-orange-400\\/30{border-color:#fb923c4d}.border-primary{border-color:hsl(var(--primary))}.border-primary\\/50{border-color:hsl(var(--primary) / .5)}.border-purple-400\\/30{border-color:#c084fc4d}.border-purple-500\\/30{border-color:#a855f74d}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity))}.border-red-300{--tw-border-opacity: 1;border-color:rgb(252 165 165 / var(--tw-border-opacity))}.border-red-400\\/30{border-color:#f871714d}.border-red-400\\/50{border-color:#f8717180}.border-sidebar-border{border-color:hsl(var(--sidebar-border))}.border-slate-600{--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity))}.border-slate-600\\/50{border-color:#47556980}.border-transparent{border-color:transparent}.border-white\\/20{border-color:#fff3}.border-white\\/30{border-color:#ffffff4d}.border-yellow-300\\/30{border-color:#fde0474d}.border-yellow-400\\/30{border-color:#facc154d}.border-l-transparent{border-left-color:transparent}.border-t-transparent{border-top-color:transparent}.bg-\\[--color-bg\\]{background-color:var(--color-bg)}.bg-accent{background-color:hsl(var(--accent))}.bg-amber-100{--tw-bg-opacity: 1;background-color:rgb(254 243 199 / var(--tw-bg-opacity))}.bg-amber-300{--tw-bg-opacity: 1;background-color:rgb(252 211 77 / var(--tw-bg-opacity))}.bg-amber-400\\/10{background-color:#fbbf241a}.bg-amber-400\\/20{background-color:#fbbf2433}.bg-amber-600{--tw-bg-opacity: 1;background-color:rgb(217 119 6 / var(--tw-bg-opacity))}.bg-amber-800\\/30{background-color:#92400e4d}.bg-amber-900\\/20{background-color:#78350f33}.bg-amber-900\\/30{background-color:#78350f4d}.bg-amber-900\\/40{background-color:#78350f66}.bg-background{background-color:hsl(var(--background))}.bg-background\\/80{background-color:hsl(var(--background) / .8)}.bg-black\\/20{background-color:#0003}.bg-black\\/30{background-color:#0000004d}.bg-black\\/50{background-color:#00000080}.bg-black\\/60{background-color:#0009}.bg-black\\/80{background-color:#000c}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.bg-blue-600\\/30{background-color:#2563eb4d}.bg-blue-900\\/20{background-color:#1e3a8a33}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-cyan-500{--tw-bg-opacity: 1;background-color:rgb(6 182 212 / var(--tw-bg-opacity))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-emerald-400\\/20{background-color:#34d39933}.bg-emerald-600{--tw-bg-opacity: 1;background-color:rgb(5 150 105 / var(--tw-bg-opacity))}.bg-emerald-900\\/20{background-color:#064e3b33}.bg-foreground{background-color:hsl(var(--foreground))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-green-300{--tw-bg-opacity: 1;background-color:rgb(134 239 172 / var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-indigo-500{--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity))}.bg-lime-500{--tw-bg-opacity: 1;background-color:rgb(132 204 22 / var(--tw-bg-opacity))}.bg-muted{background-color:hsl(var(--muted))}.bg-muted\\/50{background-color:hsl(var(--muted) / .5)}.bg-orange-400\\/20{background-color:#fb923c33}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity))}.bg-pink-300{--tw-bg-opacity: 1;background-color:rgb(249 168 212 / var(--tw-bg-opacity))}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-primary\\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\\/20{background-color:hsl(var(--primary) / .2)}.bg-purple-300{--tw-bg-opacity: 1;background-color:rgb(216 180 254 / var(--tw-bg-opacity))}.bg-purple-500{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity))}.bg-purple-900\\/20{background-color:#581c8733}.bg-purple-900\\/50{background-color:#581c8780}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-red-600\\/30{background-color:#dc26264d}.bg-red-900\\/20{background-color:#7f1d1d33}.bg-secondary{background-color:hsl(var(--secondary))}.bg-sidebar{background-color:hsl(var(--sidebar-background))}.bg-sidebar-border{background-color:hsl(var(--sidebar-border))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.bg-slate-800\\/80{background-color:#1e293bcc}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-white\\/20{background-color:#fff3}.bg-white\\/90{background-color:#ffffffe6}.bg-white\\/95{background-color:#fffffff2}.bg-yellow-300{--tw-bg-opacity: 1;background-color:rgb(253 224 71 / var(--tw-bg-opacity))}.bg-yellow-400{--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity))}.bg-yellow-400\\/20{background-color:#facc1533}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity))}.bg-yellow-600{--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-amber-400{--tw-gradient-from: #fbbf24 var(--tw-gradient-from-position);--tw-gradient-to: rgb(251 191 36 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-500{--tw-gradient-from: #f59e0b var(--tw-gradient-from-position);--tw-gradient-to: rgb(245 158 11 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-500\\/20{--tw-gradient-from: rgb(245 158 11 / .2) var(--tw-gradient-from-position);--tw-gradient-to: rgb(245 158 11 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-600\\/90{--tw-gradient-from: rgb(217 119 6 / .9) var(--tw-gradient-from-position);--tw-gradient-to: rgb(217 119 6 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-black\\/40{--tw-gradient-from: rgb(0 0 0 / .4) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-black\\/50{--tw-gradient-from: rgb(0 0 0 / .5) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-black\\/60{--tw-gradient-from: rgb(0 0 0 / .6) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500{--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-600\\/90{--tw-gradient-from: rgb(37 99 235 / .9) var(--tw-gradient-from-position);--tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-emerald-400{--tw-gradient-from: #34d399 var(--tw-gradient-from-position);--tw-gradient-to: rgb(52 211 153 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-emerald-500{--tw-gradient-from: #10b981 var(--tw-gradient-from-position);--tw-gradient-to: rgb(16 185 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-emerald-600\\/90{--tw-gradient-from: rgb(5 150 105 / .9) var(--tw-gradient-from-position);--tw-gradient-to: rgb(5 150 105 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-100{--tw-gradient-from: #dcfce7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(220 252 231 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-400{--tw-gradient-from: #4ade80 var(--tw-gradient-from-position);--tw-gradient-to: rgb(74 222 128 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-500\\/90{--tw-gradient-from: rgb(34 197 94 / .9) var(--tw-gradient-from-position);--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-600\\/95{--tw-gradient-from: rgb(79 70 229 / .95) var(--tw-gradient-from-position);--tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-500{--tw-gradient-from: #f97316 var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 115 22 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-600\\/90{--tw-gradient-from: rgb(147 51 234 / .9) var(--tw-gradient-from-position);--tw-gradient-to: rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-400{--tw-gradient-from: #f87171 var(--tw-gradient-from-position);--tw-gradient-to: rgb(248 113 113 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-500{--tw-gradient-from: #ef4444 var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 68 68 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-500\\/90{--tw-gradient-from: rgb(239 68 68 / .9) var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 68 68 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-sky-200{--tw-gradient-from: #bae6fd var(--tw-gradient-from-position);--tw-gradient-to: rgb(186 230 253 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-800{--tw-gradient-from: #1e293b var(--tw-gradient-from-position);--tw-gradient-to: rgb(30 41 59 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-transparent{--tw-gradient-from: transparent var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-300\\/30{--tw-gradient-from: rgb(253 224 71 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(253 224 71 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-300\\/40{--tw-gradient-from: rgb(253 224 71 / .4) var(--tw-gradient-from-position);--tw-gradient-to: rgb(253 224 71 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-400{--tw-gradient-from: #facc15 var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 204 21 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-400\\/20{--tw-gradient-from: rgb(250 204 21 / .2) var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 204 21 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-black\\/20{--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), rgb(0 0 0 / .2) var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-green-600{--tw-gradient-to: rgb(22 163 74 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #16a34a var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-purple-600{--tw-gradient-to: rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #9333ea var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-transparent{--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), transparent var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-white\\/20{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), rgb(255 255 255 / .2) var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-white\\/30{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), rgb(255 255 255 / .3) var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-yellow-300{--tw-gradient-to: rgb(253 224 71 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fde047 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-yellow-400{--tw-gradient-to: rgb(250 204 21 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #facc15 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-amber-400{--tw-gradient-to: #fbbf24 var(--tw-gradient-to-position)}.to-amber-500{--tw-gradient-to: #f59e0b var(--tw-gradient-to-position)}.to-amber-800\\/90{--tw-gradient-to: rgb(146 64 14 / .9) var(--tw-gradient-to-position)}.to-black\\/20{--tw-gradient-to: rgb(0 0 0 / .2) var(--tw-gradient-to-position)}.to-black\\/30{--tw-gradient-to: rgb(0 0 0 / .3) var(--tw-gradient-to-position)}.to-black\\/40{--tw-gradient-to: rgb(0 0 0 / .4) var(--tw-gradient-to-position)}.to-blue-100{--tw-gradient-to: #dbeafe var(--tw-gradient-to-position)}.to-blue-500{--tw-gradient-to: #3b82f6 var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-blue-800\\/90{--tw-gradient-to: rgb(30 64 175 / .9) var(--tw-gradient-to-position)}.to-emerald-500{--tw-gradient-to: #10b981 var(--tw-gradient-to-position)}.to-emerald-500\\/20{--tw-gradient-to: rgb(16 185 129 / .2) var(--tw-gradient-to-position)}.to-emerald-600{--tw-gradient-to: #059669 var(--tw-gradient-to-position)}.to-emerald-600\\/90{--tw-gradient-to: rgb(5 150 105 / .9) var(--tw-gradient-to-position)}.to-emerald-800\\/90{--tw-gradient-to: rgb(6 95 70 / .9) var(--tw-gradient-to-position)}.to-green-300\\/30{--tw-gradient-to: rgb(134 239 172 / .3) var(--tw-gradient-to-position)}.to-green-300\\/40{--tw-gradient-to: rgb(134 239 172 / .4) var(--tw-gradient-to-position)}.to-green-400{--tw-gradient-to: #4ade80 var(--tw-gradient-to-position)}.to-orange-600{--tw-gradient-to: #ea580c var(--tw-gradient-to-position)}.to-purple-600\\/95{--tw-gradient-to: rgb(147 51 234 / .95) var(--tw-gradient-to-position)}.to-purple-800\\/90{--tw-gradient-to: rgb(107 33 168 / .9) var(--tw-gradient-to-position)}.to-red-600{--tw-gradient-to: #dc2626 var(--tw-gradient-to-position)}.to-red-600\\/90{--tw-gradient-to: rgb(220 38 38 / .9) var(--tw-gradient-to-position)}.to-red-700{--tw-gradient-to: #b91c1c var(--tw-gradient-to-position)}.to-sky-400{--tw-gradient-to: #38bdf8 var(--tw-gradient-to-position)}.to-slate-900{--tw-gradient-to: #0f172a var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.to-yellow-500\\/20{--tw-gradient-to: rgb(234 179 8 / .2) var(--tw-gradient-to-position)}.bg-cover{background-size:cover}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-center{background-position:center}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.fill-current{fill:currentColor}.fill-primary{fill:hsl(var(--primary))}.object-contain{-o-object-fit:contain;object-fit:contain}.p-0{padding:0}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-\\[1px\\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-12{padding-left:3rem;padding-right:3rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-2{padding-left:.5rem}.pl-2\\.5{padding-left:.625rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pr-2{padding-right:.5rem}.pr-2\\.5{padding-right:.625rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-serif{font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-8xl{font-size:6rem;line-height:1}.text-\\[0\\.8rem\\]{font-size:.8rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-none{line-height:1}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.tracking-wide{letter-spacing:.025em}.tracking-widest{letter-spacing:.1em}.text-accent-foreground{color:hsl(var(--accent-foreground))}.text-amber-100{--tw-text-opacity: 1;color:rgb(254 243 199 / var(--tw-text-opacity))}.text-amber-100\\/80{color:#fef3c7cc}.text-amber-200{--tw-text-opacity: 1;color:rgb(253 230 138 / var(--tw-text-opacity))}.text-amber-200\\/60{color:#fde68a99}.text-amber-200\\/70{color:#fde68ab3}.text-amber-200\\/80{color:#fde68acc}.text-amber-300{--tw-text-opacity: 1;color:rgb(252 211 77 / var(--tw-text-opacity))}.text-amber-400{--tw-text-opacity: 1;color:rgb(251 191 36 / var(--tw-text-opacity))}.text-amber-50{--tw-text-opacity: 1;color:rgb(255 251 235 / var(--tw-text-opacity))}.text-amber-800{--tw-text-opacity: 1;color:rgb(146 64 14 / var(--tw-text-opacity))}.text-blue-100{--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity))}.text-blue-200{--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-card-foreground{color:hsl(var(--card-foreground))}.text-current{color:currentColor}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-emerald-100{--tw-text-opacity: 1;color:rgb(209 250 229 / var(--tw-text-opacity))}.text-emerald-200{--tw-text-opacity: 1;color:rgb(167 243 208 / var(--tw-text-opacity))}.text-emerald-300{--tw-text-opacity: 1;color:rgb(110 231 183 / var(--tw-text-opacity))}.text-emerald-400{--tw-text-opacity: 1;color:rgb(52 211 153 / var(--tw-text-opacity))}.text-foreground{color:hsl(var(--foreground))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-green-100{--tw-text-opacity: 1;color:rgb(220 252 231 / var(--tw-text-opacity))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity))}.text-indigo-100{--tw-text-opacity: 1;color:rgb(224 231 255 / var(--tw-text-opacity))}.text-indigo-200{--tw-text-opacity: 1;color:rgb(199 210 254 / var(--tw-text-opacity))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-orange-300{--tw-text-opacity: 1;color:rgb(253 186 116 / var(--tw-text-opacity))}.text-orange-400{--tw-text-opacity: 1;color:rgb(251 146 60 / var(--tw-text-opacity))}.text-pink-400{--tw-text-opacity: 1;color:rgb(244 114 182 / var(--tw-text-opacity))}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-purple-100{--tw-text-opacity: 1;color:rgb(243 232 255 / var(--tw-text-opacity))}.text-purple-200{--tw-text-opacity: 1;color:rgb(233 213 255 / var(--tw-text-opacity))}.text-purple-400{--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity))}.text-red-100{--tw-text-opacity: 1;color:rgb(254 226 226 / var(--tw-text-opacity))}.text-red-200{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-sidebar-foreground{color:hsl(var(--sidebar-foreground))}.text-sidebar-foreground\\/70{color:hsl(var(--sidebar-foreground) / .7)}.text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.text-slate-400{--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}.text-transparent{color:transparent}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-yellow-100{--tw-text-opacity: 1;color:rgb(254 249 195 / var(--tw-text-opacity))}.text-yellow-200{--tw-text-opacity: 1;color:rgb(254 240 138 / var(--tw-text-opacity))}.text-yellow-300{--tw-text-opacity: 1;color:rgb(253 224 71 / var(--tw-text-opacity))}.text-yellow-400{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity))}.underline-offset-4{text-underline-offset:4px}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-0{opacity:0}.opacity-20{opacity:.2}.opacity-30{opacity:.3}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.mix-blend-screen{mix-blend-mode:screen}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-border\\)\\)\\]{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-border));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-4{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-ring{--tw-ring-color: hsl(var(--ring))}.ring-sidebar-ring{--tw-ring-color: hsl(var(--sidebar-ring))}.ring-yellow-400{--tw-ring-opacity: 1;--tw-ring-color: rgb(250 204 21 / var(--tw-ring-opacity))}.ring-opacity-70{--tw-ring-opacity: .7}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-2xl{--tw-blur: blur(40px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-3xl{--tw-blur: blur(64px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-\\[1px\\]{--tw-blur: blur(1px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-sm{--tw-blur: blur(4px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-xl{--tw-blur: blur(24px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-2xl{--tw-drop-shadow: drop-shadow(0 25px 25px rgb(0 0 0 / .15));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-md{--tw-backdrop-blur: blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[left\\,right\\,width\\]{transition-property:left,right,width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[margin\\,opacity\\]{transition-property:margin,opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\,height\\,padding\\]{transition-property:width,height,padding;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\]{transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000{transition-duration:1s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{transition-timing-function:linear}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in-0{--tw-enter-opacity: 0}.zoom-in-95{--tw-enter-scale: .95}.duration-1000{animation-duration:1s}.duration-200{animation-duration:.2s}.duration-300{animation-duration:.3s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{animation-timing-function:linear}#root{width:100%;height:100%;position:fixed}canvas{width:100%!important;height:100%!important;touch-action:none}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.file\\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\\:text-amber-200\\/60::-moz-placeholder{color:#fde68a99}.placeholder\\:text-amber-200\\/60::placeholder{color:#fde68a99}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:-inset-2:after{content:var(--tw-content);top:-.5rem;right:-.5rem;bottom:-.5rem;left:-.5rem}.after\\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\\:left-1\\/2:after{content:var(--tw-content);left:50%}.after\\:w-1:after{content:var(--tw-content);width:.25rem}.after\\:w-\\[2px\\]:after{content:var(--tw-content);width:2px}.after\\:-translate-x-1\\/2:after{content:var(--tw-content);--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.first\\:rounded-l-md:first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.first\\:border-l:first-child{border-left-width:1px}.last\\:rounded-r-md:last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.focus-within\\:relative:focus-within{position:relative}.focus-within\\:z-20:focus-within{z-index:20}.hover\\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-\\[1\\.02\\]:hover{--tw-scale-x: 1.02;--tw-scale-y: 1.02;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity))}.hover\\:border-red-300:hover{--tw-border-opacity: 1;border-color:rgb(252 165 165 / var(--tw-border-opacity))}.hover\\:border-white\\/50:hover{border-color:#ffffff80}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-amber-500\\/20:hover{background-color:#f59e0b33}.hover\\:bg-amber-700:hover{--tw-bg-opacity: 1;background-color:rgb(180 83 9 / var(--tw-bg-opacity))}.hover\\:bg-amber-900\\/30:hover{background-color:#78350f4d}.hover\\:bg-amber-900\\/50:hover{background-color:#78350f80}.hover\\:bg-black\\/70:hover{background-color:#000000b3}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.hover\\:bg-blue-900\\/30:hover{background-color:#1e3a8a4d}.hover\\:bg-destructive\\/80:hover{background-color:hsl(var(--destructive) / .8)}.hover\\:bg-destructive\\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\\:bg-emerald-700:hover{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity))}.hover\\:bg-emerald-900\\/30:hover{background-color:#064e3b4d}.hover\\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.hover\\:bg-muted:hover{background-color:hsl(var(--muted))}.hover\\:bg-muted\\/50:hover{background-color:hsl(var(--muted) / .5)}.hover\\:bg-primary:hover{background-color:hsl(var(--primary))}.hover\\:bg-primary\\/80:hover{background-color:hsl(var(--primary) / .8)}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-purple-900\\/30:hover{background-color:#581c874d}.hover\\:bg-red-50:hover{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity))}.hover\\:bg-secondary\\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\\:bg-sidebar-accent:hover{background-color:hsl(var(--sidebar-accent))}.hover\\:bg-slate-700:hover{--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.hover\\:bg-slate-700\\/80:hover{background-color:#334155cc}.hover\\:bg-white\\/30:hover{background-color:#ffffff4d}.hover\\:from-amber-600:hover{--tw-gradient-from: #d97706 var(--tw-gradient-from-position);--tw-gradient-to: rgb(217 119 6 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-blue-400:hover{--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-blue-600:hover{--tw-gradient-from: #2563eb var(--tw-gradient-from-position);--tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-emerald-400:hover{--tw-gradient-from: #34d399 var(--tw-gradient-from-position);--tw-gradient-to: rgb(52 211 153 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-orange-600:hover{--tw-gradient-from: #ea580c var(--tw-gradient-from-position);--tw-gradient-to: rgb(234 88 12 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:via-green-500:hover{--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #22c55e var(--tw-gradient-via-position), var(--tw-gradient-to)}.hover\\:via-purple-500:hover{--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #a855f7 var(--tw-gradient-via-position), var(--tw-gradient-to)}.hover\\:to-blue-400:hover{--tw-gradient-to: #60a5fa var(--tw-gradient-to-position)}.hover\\:to-blue-700:hover{--tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position)}.hover\\:to-emerald-400:hover{--tw-gradient-to: #34d399 var(--tw-gradient-to-position)}.hover\\:to-emerald-700:hover{--tw-gradient-to: #047857 var(--tw-gradient-to-position)}.hover\\:to-orange-700:hover{--tw-gradient-to: #c2410c var(--tw-gradient-to-position)}.hover\\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\\:text-amber-300:hover{--tw-text-opacity: 1;color:rgb(252 211 77 / var(--tw-text-opacity))}.hover\\:text-blue-300:hover{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity))}.hover\\:text-emerald-300:hover{--tw-text-opacity: 1;color:rgb(110 231 183 / var(--tw-text-opacity))}.hover\\:text-foreground:hover{color:hsl(var(--foreground))}.hover\\:text-muted-foreground:hover{color:hsl(var(--muted-foreground))}.hover\\:text-primary-foreground:hover{color:hsl(var(--primary-foreground))}.hover\\:text-purple-300:hover{--tw-text-opacity: 1;color:rgb(216 180 254 / var(--tw-text-opacity))}.hover\\:text-sidebar-accent-foreground:hover{color:hsl(var(--sidebar-accent-foreground))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-accent\\)\\)\\]:hover{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-accent));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-blue-500\\/50:hover{--tw-shadow-color: rgb(59 130 246 / .5);--tw-shadow: var(--tw-shadow-colored)}.hover\\:shadow-emerald-500\\/50:hover{--tw-shadow-color: rgb(16 185 129 / .5);--tw-shadow: var(--tw-shadow-colored)}.hover\\:after\\:bg-sidebar-border:hover:after{content:var(--tw-content);background-color:hsl(var(--sidebar-border))}.focus\\:border-amber-400:focus{--tw-border-opacity: 1;border-color:rgb(251 191 36 / var(--tw-border-opacity))}.focus\\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\\:bg-primary:focus{background-color:hsl(var(--primary))}.focus\\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\\:text-primary-foreground:focus{color:hsl(var(--primary-foreground))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-amber-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(251 191 36 / var(--tw-ring-opacity))}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: hsl(var(--ring))}.focus-visible\\:ring-sidebar-ring:focus-visible{--tw-ring-color: hsl(var(--sidebar-ring))}.focus-visible\\:ring-offset-1:focus-visible{--tw-ring-offset-width: 1px}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background))}.active\\:scale-95:active{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:bg-sidebar-accent:active{background-color:hsl(var(--sidebar-accent))}.active\\:text-sidebar-accent-foreground:active{color:hsl(var(--sidebar-accent-foreground))}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group\\/menu-item:focus-within .group-focus-within\\/menu-item\\:opacity-100{opacity:1}.group\\/menu-item:hover .group-hover\\/menu-item\\:opacity-100{opacity:1}.group:hover .group-hover\\:opacity-30{opacity:.3}.group.toaster .group-\\[\\.toaster\\]\\:border-border{border-color:hsl(var(--border))}.group.toast .group-\\[\\.toast\\]\\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\\[\\.toast\\]\\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\\[\\.toaster\\]\\:bg-background{background-color:hsl(var(--background))}.group.toast .group-\\[\\.toast\\]\\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\\[\\.toast\\]\\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\\[\\.toaster\\]\\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\\[\\.toaster\\]\\:shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.peer\\/menu-button:hover~.peer-hover\\/menu-button\\:text-sidebar-accent-foreground{color:hsl(var(--sidebar-accent-foreground))}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.has-\\[\\[data-variant\\=inset\\]\\]\\:bg-sidebar:has([data-variant=inset]){background-color:hsl(var(--sidebar-background))}.has-\\[\\:disabled\\]\\:opacity-50:has(:disabled){opacity:.5}.group\\/menu-item:has([data-sidebar=menu-action]) .group-has-\\[\\[data-sidebar\\=menu-action\\]\\]\\/menu-item\\:pr-8{padding-right:2rem}.aria-disabled\\:pointer-events-none[aria-disabled=true]{pointer-events:none}.aria-disabled\\:opacity-50[aria-disabled=true]{opacity:.5}.aria-selected\\:bg-accent[aria-selected=true]{background-color:hsl(var(--accent))}.aria-selected\\:bg-accent\\/50[aria-selected=true]{background-color:hsl(var(--accent) / .5)}.aria-selected\\:text-accent-foreground[aria-selected=true]{color:hsl(var(--accent-foreground))}.aria-selected\\:text-muted-foreground[aria-selected=true]{color:hsl(var(--muted-foreground))}.aria-selected\\:opacity-100[aria-selected=true]{opacity:1}.data-\\[disabled\\=true\\]\\:pointer-events-none[data-disabled=true],.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[panel-group-direction\\=vertical\\]\\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\\[panel-group-direction\\=vertical\\]\\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-4[data-state=checked]{--tw-translate-x: 1rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes accordion-up{0%{height:var(--radix-accordion-content-height)}to{height:0}}.data-\\[state\\=closed\\]\\:animate-accordion-up[data-state=closed]{animation:accordion-up .2s ease-out}@keyframes accordion-down{0%{height:0}to{height:var(--radix-accordion-content-height)}}.data-\\[state\\=open\\]\\:animate-accordion-down[data-state=open]{animation:accordion-down .2s ease-out}.data-\\[panel-group-direction\\=vertical\\]\\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\\[active\\=true\\]\\:bg-sidebar-accent[data-active=true]{background-color:hsl(var(--sidebar-accent))}.data-\\[selected\\=true\\]\\:bg-accent[data-selected=true]{background-color:hsl(var(--accent))}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\\[state\\=on\\]\\:bg-accent[data-state=on],.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=open\\]\\:bg-accent\\/50[data-state=open]{background-color:hsl(var(--accent) / .5)}.data-\\[state\\=open\\]\\:bg-secondary[data-state=open]{background-color:hsl(var(--secondary))}.data-\\[state\\=selected\\]\\:bg-muted[data-state=selected]{background-color:hsl(var(--muted))}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\\[active\\=true\\]\\:font-medium[data-active=true]{font-weight:500}.data-\\[active\\=true\\]\\:text-sidebar-accent-foreground[data-active=true]{color:hsl(var(--sidebar-accent-foreground))}.data-\\[placeholder\\]\\:text-muted-foreground[data-placeholder]{color:hsl(var(--muted-foreground))}.data-\\[selected\\=true\\]\\:text-accent-foreground[data-selected=true]{color:hsl(var(--accent-foreground))}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\\[state\\=checked\\]\\:text-primary-foreground[data-state=checked]{color:hsl(var(--primary-foreground))}.data-\\[state\\=on\\]\\:text-accent-foreground[data-state=on],.data-\\[state\\=open\\]\\:text-accent-foreground[data-state=open]{color:hsl(var(--accent-foreground))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\\[disabled\\=true\\]\\:opacity-50[data-disabled=true],.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=open\\]\\:opacity-100[data-state=open]{opacity:1}.data-\\[state\\=active\\]\\:shadow[data-state=active]{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed]{transition-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{transition-duration:.5s}.data-\\[motion\\^\\=from-\\]\\:animate-in[data-motion^=from-],.data-\\[state\\=open\\]\\:animate-in[data-state=open],.data-\\[state\\=visible\\]\\:animate-in[data-state=visible]{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.data-\\[motion\\^\\=to-\\]\\:animate-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:animate-out[data-state=closed],.data-\\[state\\=hidden\\]\\:animate-out[data-state=hidden]{animation-name:exit;animation-duration:.15s;--tw-exit-opacity: initial;--tw-exit-scale: initial;--tw-exit-rotate: initial;--tw-exit-translate-x: initial;--tw-exit-translate-y: initial}.data-\\[motion\\^\\=from-\\]\\:fade-in[data-motion^=from-]{--tw-enter-opacity: 0}.data-\\[motion\\^\\=to-\\]\\:fade-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:fade-out-0[data-state=closed],.data-\\[state\\=hidden\\]\\:fade-out[data-state=hidden]{--tw-exit-opacity: 0}.data-\\[state\\=open\\]\\:fade-in-0[data-state=open],.data-\\[state\\=visible\\]\\:fade-in[data-state=visible]{--tw-enter-opacity: 0}.data-\\[state\\=closed\\]\\:zoom-out-95[data-state=closed]{--tw-exit-scale: .95}.data-\\[state\\=open\\]\\:zoom-in-90[data-state=open]{--tw-enter-scale: .9}.data-\\[state\\=open\\]\\:zoom-in-95[data-state=open]{--tw-enter-scale: .95}.data-\\[motion\\=from-end\\]\\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x: 13rem}.data-\\[motion\\=from-start\\]\\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x: -13rem}.data-\\[motion\\=to-end\\]\\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x: 13rem}.data-\\[motion\\=to-start\\]\\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x: -13rem}.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y: -.5rem}.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x: .5rem}.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x: -.5rem}.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y: .5rem}.data-\\[state\\=closed\\]\\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-left-1\\/2[data-state=closed]{--tw-exit-translate-x: -50%}.data-\\[state\\=closed\\]\\:slide-out-to-right[data-state=closed]{--tw-exit-translate-x: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-top-\\[48\\%\\][data-state=closed]{--tw-exit-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y: 100%}.data-\\[state\\=open\\]\\:slide-in-from-left[data-state=open]{--tw-enter-translate-x: -100%}.data-\\[state\\=open\\]\\:slide-in-from-left-1\\/2[data-state=open]{--tw-enter-translate-x: -50%}.data-\\[state\\=open\\]\\:slide-in-from-right[data-state=open]{--tw-enter-translate-x: 100%}.data-\\[state\\=open\\]\\:slide-in-from-top[data-state=open]{--tw-enter-translate-y: -100%}.data-\\[state\\=open\\]\\:slide-in-from-top-\\[48\\%\\][data-state=open]{--tw-enter-translate-y: -48%}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed]{animation-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{animation-duration:.5s}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:-translate-y-1\\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=open\\]\\:hover\\:bg-accent:hover[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=open\\]\\:hover\\:bg-sidebar-accent:hover[data-state=open]{background-color:hsl(var(--sidebar-accent))}.data-\\[state\\=open\\]\\:hover\\:text-sidebar-accent-foreground:hover[data-state=open]{color:hsl(var(--sidebar-accent-foreground))}.data-\\[state\\=open\\]\\:focus\\:bg-accent:focus[data-state=open]{background-color:hsl(var(--accent))}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:left-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\]{left:calc(var(--sidebar-width) * -1)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:right-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\]{right:calc(var(--sidebar-width) * -1)}.group[data-side=left] .group-data-\\[side\\=left\\]\\:-right-4{right:-1rem}.group[data-side=right] .group-data-\\[side\\=right\\]\\:left-0{left:0}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:-mt-8{margin-top:-2rem}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:hidden{display:none}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!size-8{width:2rem!important;height:2rem!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[--sidebar-width-icon\\]{width:var(--sidebar-width-icon)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)\\)\\]{width:calc(var(--sidebar-width-icon) + 1rem)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)_\\+2px\\)\\]{width:calc(var(--sidebar-width-icon) + 1rem + 2px)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:w-0{width:0px}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-side=right] .group-data-\\[side\\=right\\]\\:rotate-180,.group[data-state=open] .group-data-\\[state\\=open\\]\\:rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:overflow-hidden{overflow:hidden}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:rounded-lg{border-radius:var(--radius)}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:border{border-width:1px}.group[data-side=left] .group-data-\\[side\\=left\\]\\:border-r{border-right-width:1px}.group[data-side=right] .group-data-\\[side\\=right\\]\\:border-l{border-left-width:1px}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:border-sidebar-border{border-color:hsl(var(--sidebar-border))}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!p-0{padding:0!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!p-2{padding:.5rem!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:opacity-0{opacity:0}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:after\\:left-full:after{content:var(--tw-content);left:100%}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:hover\\:bg-sidebar:hover{background-color:hsl(var(--sidebar-background))}.peer\\/menu-button[data-size=default]~.peer-data-\\[size\\=default\\]\\/menu-button\\:top-1\\.5{top:.375rem}.peer\\/menu-button[data-size=lg]~.peer-data-\\[size\\=lg\\]\\/menu-button\\:top-2\\.5{top:.625rem}.peer\\/menu-button[data-size=sm]~.peer-data-\\[size\\=sm\\]\\/menu-button\\:top-1{top:.25rem}.peer\\/menu-button[data-active=true]~.peer-data-\\[active\\=true\\]\\/menu-button\\:text-sidebar-accent-foreground{color:hsl(var(--sidebar-accent-foreground))}.dark\\:border-destructive:is(.dark *){border-color:hsl(var(--destructive))}@media (min-width: 640px){.sm\\:mt-0{margin-top:0}.sm\\:flex{display:flex}.sm\\:max-w-lg{max-width:32rem}.sm\\:max-w-sm{max-width:24rem}.sm\\:flex-row{flex-direction:row}.sm\\:justify-end{justify-content:flex-end}.sm\\:gap-2\\.5{gap:.625rem}.sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:text-left{text-align:left}}@media (min-width: 768px){.md\\:absolute{position:absolute}.md\\:block{display:block}.md\\:flex{display:flex}.md\\:w-\\[var\\(--radix-navigation-menu-viewport-width\\)\\]{width:var(--radix-navigation-menu-viewport-width)}.md\\:w-auto{width:auto}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:text-5xl{font-size:3rem;line-height:1}.md\\:text-6xl{font-size:3.75rem;line-height:1}.md\\:text-sm{font-size:.875rem;line-height:1.25rem}.md\\:text-xl{font-size:1.25rem;line-height:1.75rem}.md\\:opacity-0{opacity:0}.after\\:md\\:hidden:after{content:var(--tw-content);display:none}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:m-2{margin:.5rem}.peer[data-state=collapsed][data-variant=inset]~.md\\:peer-data-\\[state\\=collapsed\\]\\:peer-data-\\[variant\\=inset\\]\\:ml-2{margin-left:.5rem}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:ml-0{margin-left:0}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:rounded-xl{border-radius:.75rem}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}}.\\[\\&\\:has\\(\\>\\.day-range-end\\)\\]\\:rounded-r-md:has(>.day-range-end){border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\>\\.day-range-start\\)\\]\\:rounded-l-md:has(>.day-range-start){border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-md:has([aria-selected]){border-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:bg-accent:has([aria-selected]){background-color:hsl(var(--accent))}.first\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-l-md:has([aria-selected]):first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.last\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-r-md:has([aria-selected]):last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-outside\\)\\]\\:bg-accent\\/50:has([aria-selected].day-outside){background-color:hsl(var(--accent) / .5)}.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-range-end\\)\\]\\:rounded-r-md:has([aria-selected].day-range-end){border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[role\\=checkbox\\]\\)\\]\\:pr-0:has([role=checkbox]){padding-right:0}.\\[\\&\\>\\[role\\=checkbox\\]\\]\\:translate-y-\\[2px\\]>[role=checkbox]{--tw-translate-y: 2px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>button\\]\\:hidden>button{display:none}.\\[\\&\\>span\\:last-child\\]\\:truncate>span:last-child{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.\\[\\&\\>span\\]\\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>svg\\]\\:absolute>svg{position:absolute}.\\[\\&\\>svg\\]\\:left-4>svg{left:1rem}.\\[\\&\\>svg\\]\\:top-4>svg{top:1rem}.\\[\\&\\>svg\\]\\:size-4>svg{width:1rem;height:1rem}.\\[\\&\\>svg\\]\\:h-2\\.5>svg{height:.625rem}.\\[\\&\\>svg\\]\\:h-3>svg{height:.75rem}.\\[\\&\\>svg\\]\\:h-3\\.5>svg{height:.875rem}.\\[\\&\\>svg\\]\\:w-2\\.5>svg{width:.625rem}.\\[\\&\\>svg\\]\\:w-3>svg{width:.75rem}.\\[\\&\\>svg\\]\\:w-3\\.5>svg{width:.875rem}.\\[\\&\\>svg\\]\\:shrink-0>svg{flex-shrink:0}.\\[\\&\\>svg\\]\\:text-destructive>svg{color:hsl(var(--destructive))}.\\[\\&\\>svg\\]\\:text-foreground>svg{color:hsl(var(--foreground))}.\\[\\&\\>svg\\]\\:text-muted-foreground>svg{color:hsl(var(--muted-foreground))}.\\[\\&\\>svg\\]\\:text-sidebar-accent-foreground>svg{color:hsl(var(--sidebar-accent-foreground))}.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~*{padding-left:1.75rem}.\\[\\&\\>tr\\]\\:last\\:border-b-0:last-child>tr{border-bottom-width:0px}.\\[\\&\\[data-panel-group-direction\\=vertical\\]\\>div\\]\\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\[data-state\\=open\\]\\>svg\\]\\:rotate-180[data-state=open]>svg{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&_\\.recharts-cartesian-axis-tick_text\\]\\:fill-muted-foreground .recharts-cartesian-axis-tick text{fill:hsl(var(--muted-foreground))}.\\[\\&_\\.recharts-cartesian-grid_line\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border\\/50 .recharts-cartesian-grid line[stroke=\"#ccc\"]{stroke:hsl(var(--border) / .5)}.\\[\\&_\\.recharts-curve\\.recharts-tooltip-cursor\\]\\:stroke-border .recharts-curve.recharts-tooltip-cursor{stroke:hsl(var(--border))}.\\[\\&_\\.recharts-dot\\[stroke\\=\\'\\#fff\\'\\]\\]\\:stroke-transparent .recharts-dot[stroke=\"#fff\"]{stroke:transparent}.\\[\\&_\\.recharts-layer\\]\\:outline-none .recharts-layer{outline:2px solid transparent;outline-offset:2px}.\\[\\&_\\.recharts-polar-grid_\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border .recharts-polar-grid [stroke=\"#ccc\"]{stroke:hsl(var(--border))}.\\[\\&_\\.recharts-radial-bar-background-sector\\]\\:fill-muted .recharts-radial-bar-background-sector,.\\[\\&_\\.recharts-rectangle\\.recharts-tooltip-cursor\\]\\:fill-muted .recharts-rectangle.recharts-tooltip-cursor{fill:hsl(var(--muted))}.\\[\\&_\\.recharts-reference-line_\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border .recharts-reference-line [stroke=\"#ccc\"]{stroke:hsl(var(--border))}.\\[\\&_\\.recharts-sector\\[stroke\\=\\'\\#fff\\'\\]\\]\\:stroke-transparent .recharts-sector[stroke=\"#fff\"]{stroke:transparent}.\\[\\&_\\.recharts-sector\\]\\:outline-none .recharts-sector,.\\[\\&_\\.recharts-surface\\]\\:outline-none .recharts-surface{outline:2px solid transparent;outline-offset:2px}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:py-1\\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:font-medium [cmdk-group-heading]{font-weight:500}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-muted-foreground [cmdk-group-heading]{color:hsl(var(--muted-foreground))}.\\[\\&_\\[cmdk-group\\]\\:not\\(\\[hidden\\]\\)_\\~\\[cmdk-group\\]\\]\\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\\[\\&_\\[cmdk-group\\]\\]\\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\\[\\&_\\[cmdk-input\\]\\]\\:h-12 [cmdk-input]{height:3rem}.\\[\\&_\\[cmdk-item\\]\\]\\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-item\\]\\]\\:py-3 [cmdk-item]{padding-top:.75rem;padding-bottom:.75rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:h-5 [cmdk-item] svg{height:1.25rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:w-5 [cmdk-item] svg{width:1.25rem}.\\[\\&_p\\]\\:leading-relaxed p{line-height:1.625}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.\\[\\&_tr\\:last-child\\]\\:border-0 tr:last-child{border-width:0px}.\\[\\&_tr\\]\\:border-b tr{border-bottom-width:1px}[data-side=left][data-collapsible=offcanvas] .\\[\\[data-side\\=left\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:-right-2{right:-.5rem}[data-side=left][data-state=collapsed] .\\[\\[data-side\\=left\\]\\[data-state\\=collapsed\\]_\\&\\]\\:cursor-e-resize{cursor:e-resize}[data-side=left] .\\[\\[data-side\\=left\\]_\\&\\]\\:cursor-w-resize{cursor:w-resize}[data-side=right][data-collapsible=offcanvas] .\\[\\[data-side\\=right\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:-left-2{left:-.5rem}[data-side=right][data-state=collapsed] .\\[\\[data-side\\=right\\]\\[data-state\\=collapsed\\]_\\&\\]\\:cursor-w-resize{cursor:w-resize}[data-side=right] .\\[\\[data-side\\=right\\]_\\&\\]\\:cursor-e-resize{cursor:e-resize}\n","size_bytes":89165},"dist/public/assets/index-x9_wxtBH.js":{"content":"var nC=Object.defineProperty;var rC=(e,i,m)=>i in e?nC(e,i,{enumerable:!0,configurable:!0,writable:!0,value:m}):e[i]=m;var Uu=(e,i,m)=>rC(e,typeof i!=\"symbol\"?i+\"\":i,m);function sC(e,i){for(var m=0;m<i.length;m++){const y=i[m];if(typeof y!=\"string\"&&!Array.isArray(y)){for(const w in y)if(w!==\"default\"&&!(w in e)){const P=Object.getOwnPropertyDescriptor(y,w);P&&Object.defineProperty(e,w,P.get?P:{enumerable:!0,get:()=>y[w]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}))}(function(){const i=document.createElement(\"link\").relList;if(i&&i.supports&&i.supports(\"modulepreload\"))return;for(const w of document.querySelectorAll('link[rel=\"modulepreload\"]'))y(w);new MutationObserver(w=>{for(const P of w)if(P.type===\"childList\")for(const d of P.addedNodes)d.tagName===\"LINK\"&&d.rel===\"modulepreload\"&&y(d)}).observe(document,{childList:!0,subtree:!0});function m(w){const P={};return w.integrity&&(P.integrity=w.integrity),w.referrerPolicy&&(P.referrerPolicy=w.referrerPolicy),w.crossOrigin===\"use-credentials\"?P.credentials=\"include\":w.crossOrigin===\"anonymous\"?P.credentials=\"omit\":P.credentials=\"same-origin\",P}function y(w){if(w.ep)return;w.ep=!0;const P=m(w);fetch(w.href,P)}})();var Yi=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function Ao(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function wc(e){if(e.__esModule)return e;var i=e.default;if(typeof i==\"function\"){var m=function y(){return this instanceof y?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};m.prototype=i.prototype}else m={};return Object.defineProperty(m,\"__esModule\",{value:!0}),Object.keys(e).forEach(function(y){var w=Object.getOwnPropertyDescriptor(e,y);Object.defineProperty(m,y,w.get?w:{enumerable:!0,get:function(){return e[y]}})}),m}var lx={exports:{}},bh={},hx={exports:{}},It={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Mo=Symbol.for(\"react.element\"),aC=Symbol.for(\"react.portal\"),oC=Symbol.for(\"react.fragment\"),lC=Symbol.for(\"react.strict_mode\"),hC=Symbol.for(\"react.profiler\"),uC=Symbol.for(\"react.provider\"),fC=Symbol.for(\"react.context\"),dC=Symbol.for(\"react.forward_ref\"),cC=Symbol.for(\"react.suspense\"),vC=Symbol.for(\"react.memo\"),pC=Symbol.for(\"react.lazy\"),W0=Symbol.iterator;function mC(e){return e===null||typeof e!=\"object\"?null:(e=W0&&e[W0]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var ux={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fx=Object.assign,dx={};function ma(e,i,m){this.props=e,this.context=i,this.refs=dx,this.updater=m||ux}ma.prototype.isReactComponent={};ma.prototype.setState=function(e,i){if(typeof e!=\"object\"&&typeof e!=\"function\"&&e!=null)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,e,i,\"setState\")};ma.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")};function cx(){}cx.prototype=ma.prototype;function Ac(e,i,m){this.props=e,this.context=i,this.refs=dx,this.updater=m||ux}var Mc=Ac.prototype=new cx;Mc.constructor=Ac;fx(Mc,ma.prototype);Mc.isPureReactComponent=!0;var Y0=Array.isArray,vx=Object.prototype.hasOwnProperty,Pc={current:null},px={key:!0,ref:!0,__self:!0,__source:!0};function mx(e,i,m){var y,w={},P=null,d=null;if(i!=null)for(y in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(P=\"\"+i.key),i)vx.call(i,y)&&!px.hasOwnProperty(y)&&(w[y]=i[y]);var S=arguments.length-2;if(S===1)w.children=m;else if(1<S){for(var t=Array(S),h=0;h<S;h++)t[h]=arguments[h+2];w.children=t}if(e&&e.defaultProps)for(y in S=e.defaultProps,S)w[y]===void 0&&(w[y]=S[y]);return{$$typeof:Mo,type:e,key:P,ref:d,props:w,_owner:Pc.current}}function gC(e,i){return{$$typeof:Mo,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function Rc(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===Mo}function xC(e){var i={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+e.replace(/[=:]/g,function(m){return i[m]})}var H0=/\\/+/g;function zu(e,i){return typeof e==\"object\"&&e!==null&&e.key!=null?xC(\"\"+e.key):i.toString(36)}function El(e,i,m,y,w){var P=typeof e;(P===\"undefined\"||P===\"boolean\")&&(e=null);var d=!1;if(e===null)d=!0;else switch(P){case\"string\":case\"number\":d=!0;break;case\"object\":switch(e.$$typeof){case Mo:case aC:d=!0}}if(d)return d=e,w=w(d),e=y===\"\"?\".\"+zu(d,0):y,Y0(w)?(m=\"\",e!=null&&(m=e.replace(H0,\"$&/\")+\"/\"),El(w,i,m,\"\",function(h){return h})):w!=null&&(Rc(w)&&(w=gC(w,m+(!w.key||d&&d.key===w.key?\"\":(\"\"+w.key).replace(H0,\"$&/\")+\"/\")+e)),i.push(w)),1;if(d=0,y=y===\"\"?\".\":y+\":\",Y0(e))for(var S=0;S<e.length;S++){P=e[S];var t=y+zu(P,S);d+=El(P,i,m,t,w)}else if(t=mC(e),typeof t==\"function\")for(e=t.call(e),S=0;!(P=e.next()).done;)P=P.value,t=y+zu(P,S++),d+=El(P,i,m,t,w);else if(P===\"object\")throw i=String(e),Error(\"Objects are not valid as a React child (found: \"+(i===\"[object Object]\"?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":i)+\"). If you meant to render a collection of children, use an array instead.\");return d}function Wo(e,i,m){if(e==null)return e;var y=[],w=0;return El(e,y,\"\",\"\",function(P){return i.call(m,P,w++)}),y}function yC(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(m){(e._status===0||e._status===-1)&&(e._status=1,e._result=m)},function(m){(e._status===0||e._status===-1)&&(e._status=2,e._result=m)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var vi={current:null},Cl={transition:null},SC={ReactCurrentDispatcher:vi,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:Pc};function gx(){throw Error(\"act(...) is not supported in production builds of React.\")}It.Children={map:Wo,forEach:function(e,i,m){Wo(e,function(){i.apply(this,arguments)},m)},count:function(e){var i=0;return Wo(e,function(){i++}),i},toArray:function(e){return Wo(e,function(i){return i})||[]},only:function(e){if(!Rc(e))throw Error(\"React.Children.only expected to receive a single React element child.\");return e}};It.Component=ma;It.Fragment=oC;It.Profiler=hC;It.PureComponent=Ac;It.StrictMode=lC;It.Suspense=cC;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;It.act=gx;It.cloneElement=function(e,i,m){if(e==null)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+e+\".\");var y=fx({},e.props),w=e.key,P=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(P=i.ref,d=Pc.current),i.key!==void 0&&(w=\"\"+i.key),e.type&&e.type.defaultProps)var S=e.type.defaultProps;for(t in i)vx.call(i,t)&&!px.hasOwnProperty(t)&&(y[t]=i[t]===void 0&&S!==void 0?S[t]:i[t])}var t=arguments.length-2;if(t===1)y.children=m;else if(1<t){S=Array(t);for(var h=0;h<t;h++)S[h]=arguments[h+2];y.children=S}return{$$typeof:Mo,type:e.type,key:w,ref:P,props:y,_owner:d}};It.createContext=function(e){return e={$$typeof:fC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uC,_context:e},e.Consumer=e};It.createElement=mx;It.createFactory=function(e){var i=mx.bind(null,e);return i.type=e,i};It.createRef=function(){return{current:null}};It.forwardRef=function(e){return{$$typeof:dC,render:e}};It.isValidElement=Rc;It.lazy=function(e){return{$$typeof:pC,_payload:{_status:-1,_result:e},_init:yC}};It.memo=function(e,i){return{$$typeof:vC,type:e,compare:i===void 0?null:i}};It.startTransition=function(e){var i=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=i}};It.unstable_act=gx;It.useCallback=function(e,i){return vi.current.useCallback(e,i)};It.useContext=function(e){return vi.current.useContext(e)};It.useDebugValue=function(){};It.useDeferredValue=function(e){return vi.current.useDeferredValue(e)};It.useEffect=function(e,i){return vi.current.useEffect(e,i)};It.useId=function(){return vi.current.useId()};It.useImperativeHandle=function(e,i,m){return vi.current.useImperativeHandle(e,i,m)};It.useInsertionEffect=function(e,i){return vi.current.useInsertionEffect(e,i)};It.useLayoutEffect=function(e,i){return vi.current.useLayoutEffect(e,i)};It.useMemo=function(e,i){return vi.current.useMemo(e,i)};It.useReducer=function(e,i,m){return vi.current.useReducer(e,i,m)};It.useRef=function(e){return vi.current.useRef(e)};It.useState=function(e){return vi.current.useState(e)};It.useSyncExternalStore=function(e,i,m){return vi.current.useSyncExternalStore(e,i,m)};It.useTransition=function(){return vi.current.useTransition()};It.version=\"18.3.1\";hx.exports=It;var q=hx.exports;const mi=Ao(q),xx=sC({__proto__:null,default:mi},[q]);/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var TC=q,EC=Symbol.for(\"react.element\"),CC=Symbol.for(\"react.fragment\"),wC=Object.prototype.hasOwnProperty,AC=TC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MC={key:!0,ref:!0,__self:!0,__source:!0};function yx(e,i,m){var y,w={},P=null,d=null;m!==void 0&&(P=\"\"+m),i.key!==void 0&&(P=\"\"+i.key),i.ref!==void 0&&(d=i.ref);for(y in i)wC.call(i,y)&&!MC.hasOwnProperty(y)&&(w[y]=i[y]);if(e&&e.defaultProps)for(y in i=e.defaultProps,i)w[y]===void 0&&(w[y]=i[y]);return{$$typeof:EC,type:e,key:P,ref:d,props:w,_owner:AC.current}}bh.Fragment=CC;bh.jsx=yx;bh.jsxs=yx;lx.exports=bh;var k=lx.exports,Sx={exports:{}},Oi={},Tx={exports:{}},Ex={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */(function(e){function i(b,G){var z=b.length;b.push(G);t:for(;0<z;){var V=z-1>>>1,I=b[V];if(0<w(I,G))b[V]=G,b[z]=I,z=V;else break t}}function m(b){return b.length===0?null:b[0]}function y(b){if(b.length===0)return null;var G=b[0],z=b.pop();if(z!==G){b[0]=z;t:for(var V=0,I=b.length,N=I>>>1;V<N;){var W=2*(V+1)-1,U=b[W],Y=W+1,X=b[Y];if(0>w(U,z))Y<I&&0>w(X,U)?(b[V]=X,b[Y]=z,V=Y):(b[V]=U,b[W]=z,V=W);else if(Y<I&&0>w(X,z))b[V]=X,b[Y]=z,V=Y;else break t}}return G}function w(b,G){var z=b.sortIndex-G.sortIndex;return z!==0?z:b.id-G.id}if(typeof performance==\"object\"&&typeof performance.now==\"function\"){var P=performance;e.unstable_now=function(){return P.now()}}else{var d=Date,S=d.now();e.unstable_now=function(){return d.now()-S}}var t=[],h=[],g=1,l=null,a=3,o=!1,n=!1,s=!1,f=typeof setTimeout==\"function\"?setTimeout:null,r=typeof clearTimeout==\"function\"?clearTimeout:null,u=typeof setImmediate<\"u\"?setImmediate:null;typeof navigator<\"u\"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(b){for(var G=m(h);G!==null;){if(G.callback===null)y(h);else if(G.startTime<=b)y(h),G.sortIndex=G.expirationTime,i(t,G);else break;G=m(h)}}function p(b){if(s=!1,c(b),!n)if(m(t)!==null)n=!0,D(v);else{var G=m(h);G!==null&&B(p,G.startTime-b)}}function v(b,G){n=!1,s&&(s=!1,r(C),C=-1),o=!0;var z=a;try{for(c(G),l=m(t);l!==null&&(!(l.expirationTime>G)||b&&!M());){var V=l.callback;if(typeof V==\"function\"){l.callback=null,a=l.priorityLevel;var I=V(l.expirationTime<=G);G=e.unstable_now(),typeof I==\"function\"?l.callback=I:l===m(t)&&y(t),c(G)}else y(t);l=m(t)}if(l!==null)var N=!0;else{var W=m(h);W!==null&&B(p,W.startTime-G),N=!1}return N}finally{l=null,a=z,o=!1}}var x=!1,T=null,C=-1,E=5,A=-1;function M(){return!(e.unstable_now()-A<E)}function L(){if(T!==null){var b=e.unstable_now();A=b;var G=!0;try{G=T(!0,b)}finally{G?O():(x=!1,T=null)}}else x=!1}var O;if(typeof u==\"function\")O=function(){u(L)};else if(typeof MessageChannel<\"u\"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=L,O=function(){F.postMessage(null)}}else O=function(){f(L,0)};function D(b){T=b,x||(x=!0,O())}function B(b,G){C=f(function(){b(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){n||o||(n=!0,D(v))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):E=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return a},e.unstable_getFirstCallbackNode=function(){return m(t)},e.unstable_next=function(b){switch(a){case 1:case 2:case 3:var G=3;break;default:G=a}var z=a;a=G;try{return b()}finally{a=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,G){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var z=a;a=b;try{return G()}finally{a=z}},e.unstable_scheduleCallback=function(b,G,z){var V=e.unstable_now();switch(typeof z==\"object\"&&z!==null?(z=z.delay,z=typeof z==\"number\"&&0<z?V+z:V):z=V,b){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=z+I,b={id:g++,callback:G,priorityLevel:b,startTime:z,expirationTime:I,sortIndex:-1},z>V?(b.sortIndex=z,i(h,b),m(t)===null&&b===m(h)&&(s?(r(C),C=-1):s=!0,B(p,z-V))):(b.sortIndex=I,i(t,b),n||o||(n=!0,D(v))),b},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(b){var G=a;return function(){var z=a;a=G;try{return b.apply(this,arguments)}finally{a=z}}}})(Ex);Tx.exports=Ex;var PC=Tx.exports;/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var RC=q,Fi=PC;function mt(e){for(var i=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,m=1;m<arguments.length;m++)i+=\"&args[]=\"+encodeURIComponent(arguments[m]);return\"Minified React error #\"+e+\"; visit \"+i+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var Cx=new Set,eo={};function ss(e,i){ta(e,i),ta(e+\"Capture\",i)}function ta(e,i){for(eo[e]=i,e=0;e<i.length;e++)Cx.add(i[e])}var Gn=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),Qf=Object.prototype.hasOwnProperty,FC=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,j0={},K0={};function LC(e){return Qf.call(K0,e)?!0:Qf.call(j0,e)?!1:FC.test(e)?K0[e]=!0:(j0[e]=!0,!1)}function OC(e,i,m,y){if(m!==null&&m.type===0)return!1;switch(typeof i){case\"function\":case\"symbol\":return!0;case\"boolean\":return y?!1:m!==null?!m.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!==\"data-\"&&e!==\"aria-\");default:return!1}}function DC(e,i,m,y){if(i===null||typeof i>\"u\"||OC(e,i,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function pi(e,i,m,y,w,P,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=y,this.attributeNamespace=w,this.mustUseProperty=m,this.propertyName=e,this.type=i,this.sanitizeURL=P,this.removeEmptyString=d}var Ze={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(e){Ze[e]=new pi(e,0,!1,e,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(e){var i=e[0];Ze[i]=new pi(i,1,!1,e[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(e){Ze[e]=new pi(e,2,!1,e.toLowerCase(),null,!1,!1)});[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(e){Ze[e]=new pi(e,2,!1,e,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(e){Ze[e]=new pi(e,3,!1,e.toLowerCase(),null,!1,!1)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(e){Ze[e]=new pi(e,3,!0,e,null,!1,!1)});[\"capture\",\"download\"].forEach(function(e){Ze[e]=new pi(e,4,!1,e,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(e){Ze[e]=new pi(e,6,!1,e,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(e){Ze[e]=new pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fc=/[\\-:]([a-z])/g;function Lc(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(e){var i=e.replace(Fc,Lc);Ze[i]=new pi(i,1,!1,e,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(e){var i=e.replace(Fc,Lc);Ze[i]=new pi(i,1,!1,e,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(e){var i=e.replace(Fc,Lc);Ze[i]=new pi(i,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(e){Ze[e]=new pi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new pi(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(e){Ze[e]=new pi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oc(e,i,m,y){var w=Ze.hasOwnProperty(i)?Ze[i]:null;(w!==null?w.type!==0:y||!(2<i.length)||i[0]!==\"o\"&&i[0]!==\"O\"||i[1]!==\"n\"&&i[1]!==\"N\")&&(DC(i,m,w,y)&&(m=null),y||w===null?LC(i)&&(m===null?e.removeAttribute(i):e.setAttribute(i,\"\"+m)):w.mustUseProperty?e[w.propertyName]=m===null?w.type===3?!1:\"\":m:(i=w.attributeName,y=w.attributeNamespace,m===null?e.removeAttribute(i):(w=w.type,m=w===3||w===4&&m===!0?\"\":\"\"+m,y?e.setAttributeNS(y,i,m):e.setAttribute(i,m))))}var Wn=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for(\"react.element\"),ws=Symbol.for(\"react.portal\"),As=Symbol.for(\"react.fragment\"),Dc=Symbol.for(\"react.strict_mode\"),Jf=Symbol.for(\"react.profiler\"),wx=Symbol.for(\"react.provider\"),Ax=Symbol.for(\"react.context\"),Bc=Symbol.for(\"react.forward_ref\"),qf=Symbol.for(\"react.suspense\"),_f=Symbol.for(\"react.suspense_list\"),bc=Symbol.for(\"react.memo\"),tr=Symbol.for(\"react.lazy\"),Mx=Symbol.for(\"react.offscreen\"),$0=Symbol.iterator;function Aa(e){return e===null||typeof e!=\"object\"?null:(e=$0&&e[$0]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var re=Object.assign,Vu;function Na(e){if(Vu===void 0)try{throw Error()}catch(m){var i=m.stack.trim().match(/\\n( *(at )?)/);Vu=i&&i[1]||\"\"}return`\n`+Vu+e}var Xu=!1;function Wu(e,i){if(!e||Xu)return\"\";Xu=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(i,[])}catch(h){var y=h}Reflect.construct(e,[],i)}else{try{i.call()}catch(h){y=h}e.call(i.prototype)}else{try{throw Error()}catch(h){y=h}e()}}catch(h){if(h&&y&&typeof h.stack==\"string\"){for(var w=h.stack.split(`\n`),P=y.stack.split(`\n`),d=w.length-1,S=P.length-1;1<=d&&0<=S&&w[d]!==P[S];)S--;for(;1<=d&&0<=S;d--,S--)if(w[d]!==P[S]){if(d!==1||S!==1)do if(d--,S--,0>S||w[d]!==P[S]){var t=`\n`+w[d].replace(\" at new \",\" at \");return e.displayName&&t.includes(\"<anonymous>\")&&(t=t.replace(\"<anonymous>\",e.displayName)),t}while(1<=d&&0<=S);break}}}finally{Xu=!1,Error.prepareStackTrace=m}return(e=e?e.displayName||e.name:\"\")?Na(e):\"\"}function BC(e){switch(e.tag){case 5:return Na(e.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return e=Wu(e.type,!1),e;case 11:return e=Wu(e.type.render,!1),e;case 1:return e=Wu(e.type,!0),e;default:return\"\"}}function td(e){if(e==null)return null;if(typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case As:return\"Fragment\";case ws:return\"Portal\";case Jf:return\"Profiler\";case Dc:return\"StrictMode\";case qf:return\"Suspense\";case _f:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case Ax:return(e.displayName||\"Context\")+\".Consumer\";case wx:return(e._context.displayName||\"Context\")+\".Provider\";case Bc:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||\"\",e=e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\"),e;case bc:return i=e.displayName||null,i!==null?i:td(e.type)||\"Memo\";case tr:i=e._payload,e=e._init;try{return td(e(i))}catch{}}return null}function bC(e){var i=e.type;switch(e.tag){case 24:return\"Cache\";case 9:return(i.displayName||\"Context\")+\".Consumer\";case 10:return(i._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return e=i.render,e=e.displayName||e.name||\"\",i.displayName||(e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return i;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return td(i);case 8:return i===Dc?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";case 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i==\"function\")return i.displayName||i.name||null;if(typeof i==\"string\")return i}return null}function Tr(e){switch(typeof e){case\"boolean\":case\"number\":case\"string\":case\"undefined\":return e;case\"object\":return e;default:return\"\"}}function Px(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()===\"input\"&&(i===\"checkbox\"||i===\"radio\")}function IC(e){var i=Px(e)?\"checked\":\"value\",m=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),y=\"\"+e[i];if(!e.hasOwnProperty(i)&&typeof m<\"u\"&&typeof m.get==\"function\"&&typeof m.set==\"function\"){var w=m.get,P=m.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return w.call(this)},set:function(d){y=\"\"+d,P.call(this,d)}}),Object.defineProperty(e,i,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(d){y=\"\"+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ho(e){e._valueTracker||(e._valueTracker=IC(e))}function Rx(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var m=i.getValue(),y=\"\";return e&&(y=Px(e)?e.checked?\"true\":\"false\":e.value),e=y,e!==m?(i.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<\"u\"?document:void 0),typeof e>\"u\")return null;try{return e.activeElement||e.body}catch{return e.body}}function ed(e,i){var m=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??e._wrapperState.initialChecked})}function k0(e,i){var m=i.defaultValue==null?\"\":i.defaultValue,y=i.checked!=null?i.checked:i.defaultChecked;m=Tr(i.value!=null?i.value:m),e._wrapperState={initialChecked:y,initialValue:m,controlled:i.type===\"checkbox\"||i.type===\"radio\"?i.checked!=null:i.value!=null}}function Fx(e,i){i=i.checked,i!=null&&Oc(e,\"checked\",i,!1)}function id(e,i){Fx(e,i);var m=Tr(i.value),y=i.type;if(m!=null)y===\"number\"?(m===0&&e.value===\"\"||e.value!=m)&&(e.value=\"\"+m):e.value!==\"\"+m&&(e.value=\"\"+m);else if(y===\"submit\"||y===\"reset\"){e.removeAttribute(\"value\");return}i.hasOwnProperty(\"value\")?nd(e,i.type,m):i.hasOwnProperty(\"defaultValue\")&&nd(e,i.type,Tr(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function Z0(e,i,m){if(i.hasOwnProperty(\"value\")||i.hasOwnProperty(\"defaultValue\")){var y=i.type;if(!(y!==\"submit\"&&y!==\"reset\"||i.value!==void 0&&i.value!==null))return;i=\"\"+e._wrapperState.initialValue,m||i===e.value||(e.value=i),e.defaultValue=i}m=e.name,m!==\"\"&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,m!==\"\"&&(e.name=m)}function nd(e,i,m){(i!==\"number\"||Xl(e.ownerDocument)!==e)&&(m==null?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+m&&(e.defaultValue=\"\"+m))}var Ga=Array.isArray;function Ys(e,i,m,y){if(e=e.options,i){i={};for(var w=0;w<m.length;w++)i[\"$\"+m[w]]=!0;for(m=0;m<e.length;m++)w=i.hasOwnProperty(\"$\"+e[m].value),e[m].selected!==w&&(e[m].selected=w),w&&y&&(e[m].defaultSelected=!0)}else{for(m=\"\"+Tr(m),i=null,w=0;w<e.length;w++){if(e[w].value===m){e[w].selected=!0,y&&(e[w].defaultSelected=!0);return}i!==null||e[w].disabled||(i=e[w])}i!==null&&(i.selected=!0)}}function rd(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(mt(91));return re({},i,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function Q0(e,i){var m=i.value;if(m==null){if(m=i.children,i=i.defaultValue,m!=null){if(i!=null)throw Error(mt(92));if(Ga(m)){if(1<m.length)throw Error(mt(93));m=m[0]}i=m}i==null&&(i=\"\"),m=i}e._wrapperState={initialValue:Tr(m)}}function Lx(e,i){var m=Tr(i.value),y=Tr(i.defaultValue);m!=null&&(m=\"\"+m,m!==e.value&&(e.value=m),i.defaultValue==null&&e.defaultValue!==m&&(e.defaultValue=m)),y!=null&&(e.defaultValue=\"\"+y)}function J0(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==\"\"&&i!==null&&(e.value=i)}function Ox(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function sd(e,i){return e==null||e===\"http://www.w3.org/1999/xhtml\"?Ox(i):e===\"http://www.w3.org/2000/svg\"&&i===\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":e}var jo,Dx=function(e){return typeof MSApp<\"u\"&&MSApp.execUnsafeLocalFunction?function(i,m,y,w){MSApp.execUnsafeLocalFunction(function(){return e(i,m,y,w)})}:e}(function(e,i){if(e.namespaceURI!==\"http://www.w3.org/2000/svg\"||\"innerHTML\"in e)e.innerHTML=i;else{for(jo=jo||document.createElement(\"div\"),jo.innerHTML=\"<svg>\"+i.valueOf().toString()+\"</svg>\",i=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function io(e,i){if(i){var m=e.firstChild;if(m&&m===e.lastChild&&m.nodeType===3){m.nodeValue=i;return}}e.textContent=i}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NC=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Wa).forEach(function(e){NC.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),Wa[i]=Wa[e]})});function Bx(e,i,m){return i==null||typeof i==\"boolean\"||i===\"\"?\"\":m||typeof i!=\"number\"||i===0||Wa.hasOwnProperty(e)&&Wa[e]?(\"\"+i).trim():i+\"px\"}function bx(e,i){e=e.style;for(var m in i)if(i.hasOwnProperty(m)){var y=m.indexOf(\"--\")===0,w=Bx(m,i[m],y);m===\"float\"&&(m=\"cssFloat\"),y?e.setProperty(m,w):e[m]=w}}var GC=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ad(e,i){if(i){if(GC[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(mt(60));if(typeof i.dangerouslySetInnerHTML!=\"object\"||!(\"__html\"in i.dangerouslySetInnerHTML))throw Error(mt(61))}if(i.style!=null&&typeof i.style!=\"object\")throw Error(mt(62))}}function od(e,i){if(e.indexOf(\"-\")===-1)return typeof i.is==\"string\";switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var ld=null;function Ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hd=null,Hs=null,js=null;function q0(e){if(e=Fo(e)){if(typeof hd!=\"function\")throw Error(mt(280));var i=e.stateNode;i&&(i=zh(i),hd(e.stateNode,e.type,i))}}function Ix(e){Hs?js?js.push(e):js=[e]:Hs=e}function Nx(){if(Hs){var e=Hs,i=js;if(js=Hs=null,q0(e),i)for(e=0;e<i.length;e++)q0(i[e])}}function Gx(e,i){return e(i)}function Ux(){}var Yu=!1;function zx(e,i,m){if(Yu)return e(i,m);Yu=!0;try{return Gx(e,i,m)}finally{Yu=!1,(Hs!==null||js!==null)&&(Ux(),Nx())}}function no(e,i){var m=e.stateNode;if(m===null)return null;var y=zh(m);if(y===null)return null;m=y[i];t:switch(i){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(y=!y.disabled)||(e=e.type,y=!(e===\"button\"||e===\"input\"||e===\"select\"||e===\"textarea\")),e=!y;break t;default:e=!1}if(e)return null;if(m&&typeof m!=\"function\")throw Error(mt(231,i,typeof m));return m}var ud=!1;if(Gn)try{var Ma={};Object.defineProperty(Ma,\"passive\",{get:function(){ud=!0}}),window.addEventListener(\"test\",Ma,Ma),window.removeEventListener(\"test\",Ma,Ma)}catch{ud=!1}function UC(e,i,m,y,w,P,d,S,t){var h=Array.prototype.slice.call(arguments,3);try{i.apply(m,h)}catch(g){this.onError(g)}}var Ya=!1,Wl=null,Yl=!1,fd=null,zC={onError:function(e){Ya=!0,Wl=e}};function VC(e,i,m,y,w,P,d,S,t){Ya=!1,Wl=null,UC.apply(zC,arguments)}function XC(e,i,m,y,w,P,d,S,t){if(VC.apply(this,arguments),Ya){if(Ya){var h=Wl;Ya=!1,Wl=null}else throw Error(mt(198));Yl||(Yl=!0,fd=h)}}function as(e){var i=e,m=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(m=i.return),e=i.return;while(e)}return i.tag===3?m:null}function Vx(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _0(e){if(as(e)!==e)throw Error(mt(188))}function WC(e){var i=e.alternate;if(!i){if(i=as(e),i===null)throw Error(mt(188));return i!==e?null:e}for(var m=e,y=i;;){var w=m.return;if(w===null)break;var P=w.alternate;if(P===null){if(y=w.return,y!==null){m=y;continue}break}if(w.child===P.child){for(P=w.child;P;){if(P===m)return _0(w),e;if(P===y)return _0(w),i;P=P.sibling}throw Error(mt(188))}if(m.return!==y.return)m=w,y=P;else{for(var d=!1,S=w.child;S;){if(S===m){d=!0,m=w,y=P;break}if(S===y){d=!0,y=w,m=P;break}S=S.sibling}if(!d){for(S=P.child;S;){if(S===m){d=!0,m=P,y=w;break}if(S===y){d=!0,y=P,m=w;break}S=S.sibling}if(!d)throw Error(mt(189))}}if(m.alternate!==y)throw Error(mt(190))}if(m.tag!==3)throw Error(mt(188));return m.stateNode.current===m?e:i}function Xx(e){return e=WC(e),e!==null?Wx(e):null}function Wx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=Wx(e);if(i!==null)return i;e=e.sibling}return null}var Yx=Fi.unstable_scheduleCallback,tp=Fi.unstable_cancelCallback,YC=Fi.unstable_shouldYield,HC=Fi.unstable_requestPaint,ce=Fi.unstable_now,jC=Fi.unstable_getCurrentPriorityLevel,Nc=Fi.unstable_ImmediatePriority,Hx=Fi.unstable_UserBlockingPriority,Hl=Fi.unstable_NormalPriority,KC=Fi.unstable_LowPriority,jx=Fi.unstable_IdlePriority,Ih=null,vn=null;function $C(e){if(vn&&typeof vn.onCommitFiberRoot==\"function\")try{vn.onCommitFiberRoot(Ih,e,void 0,(e.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:QC,kC=Math.log,ZC=Math.LN2;function QC(e){return e>>>=0,e===0?32:31-(kC(e)/ZC|0)|0}var Ko=64,$o=4194304;function Ua(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jl(e,i){var m=e.pendingLanes;if(m===0)return 0;var y=0,w=e.suspendedLanes,P=e.pingedLanes,d=m&268435455;if(d!==0){var S=d&~w;S!==0?y=Ua(S):(P&=d,P!==0&&(y=Ua(P)))}else d=m&~w,d!==0?y=Ua(d):P!==0&&(y=Ua(P));if(y===0)return 0;if(i!==0&&i!==y&&!(i&w)&&(w=y&-y,P=i&-i,w>=P||w===16&&(P&4194240)!==0))return i;if(y&4&&(y|=m&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=y;0<i;)m=31-qi(i),w=1<<m,y|=e[m],i&=~w;return y}function JC(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qC(e,i){for(var m=e.suspendedLanes,y=e.pingedLanes,w=e.expirationTimes,P=e.pendingLanes;0<P;){var d=31-qi(P),S=1<<d,t=w[d];t===-1?(!(S&m)||S&y)&&(w[d]=JC(S,i)):t<=i&&(e.expiredLanes|=S),P&=~S}}function dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kx(){var e=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),e}function Hu(e){for(var i=[],m=0;31>m;m++)i.push(e);return i}function Po(e,i,m){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-qi(i),e[i]=m}function _C(e,i){var m=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var y=e.eventTimes;for(e=e.expirationTimes;0<m;){var w=31-qi(m),P=1<<w;i[w]=0,y[w]=-1,e[w]=-1,m&=~P}}function Gc(e,i){var m=e.entangledLanes|=i;for(e=e.entanglements;m;){var y=31-qi(m),w=1<<y;w&i|e[y]&i&&(e[y]|=i),m&=~w}}var Wt=0;function $x(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kx,Uc,Zx,Qx,Jx,cd=!1,ko=[],fr=null,dr=null,cr=null,ro=new Map,so=new Map,rr=[],t3=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");function ep(e,i){switch(e){case\"focusin\":case\"focusout\":fr=null;break;case\"dragenter\":case\"dragleave\":dr=null;break;case\"mouseover\":case\"mouseout\":cr=null;break;case\"pointerover\":case\"pointerout\":ro.delete(i.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":so.delete(i.pointerId)}}function Pa(e,i,m,y,w,P){return e===null||e.nativeEvent!==P?(e={blockedOn:i,domEventName:m,eventSystemFlags:y,nativeEvent:P,targetContainers:[w]},i!==null&&(i=Fo(i),i!==null&&Uc(i)),e):(e.eventSystemFlags|=y,i=e.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),e)}function e3(e,i,m,y,w){switch(i){case\"focusin\":return fr=Pa(fr,e,i,m,y,w),!0;case\"dragenter\":return dr=Pa(dr,e,i,m,y,w),!0;case\"mouseover\":return cr=Pa(cr,e,i,m,y,w),!0;case\"pointerover\":var P=w.pointerId;return ro.set(P,Pa(ro.get(P)||null,e,i,m,y,w)),!0;case\"gotpointercapture\":return P=w.pointerId,so.set(P,Pa(so.get(P)||null,e,i,m,y,w)),!0}return!1}function qx(e){var i=zr(e.target);if(i!==null){var m=as(i);if(m!==null){if(i=m.tag,i===13){if(i=Vx(m),i!==null){e.blockedOn=i,Jx(e.priority,function(){Zx(m)});return}}else if(i===3&&m.stateNode.current.memoizedState.isDehydrated){e.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var m=vd(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(m===null){m=e.nativeEvent;var y=new m.constructor(m.type,m);ld=y,m.target.dispatchEvent(y),ld=null}else return i=Fo(m),i!==null&&Uc(i),e.blockedOn=m,!1;i.shift()}return!0}function ip(e,i,m){wl(e)&&m.delete(i)}function i3(){cd=!1,fr!==null&&wl(fr)&&(fr=null),dr!==null&&wl(dr)&&(dr=null),cr!==null&&wl(cr)&&(cr=null),ro.forEach(ip),so.forEach(ip)}function Ra(e,i){e.blockedOn===i&&(e.blockedOn=null,cd||(cd=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,i3)))}function ao(e){function i(w){return Ra(w,e)}if(0<ko.length){Ra(ko[0],e);for(var m=1;m<ko.length;m++){var y=ko[m];y.blockedOn===e&&(y.blockedOn=null)}}for(fr!==null&&Ra(fr,e),dr!==null&&Ra(dr,e),cr!==null&&Ra(cr,e),ro.forEach(i),so.forEach(i),m=0;m<rr.length;m++)y=rr[m],y.blockedOn===e&&(y.blockedOn=null);for(;0<rr.length&&(m=rr[0],m.blockedOn===null);)qx(m),m.blockedOn===null&&rr.shift()}var Ks=Wn.ReactCurrentBatchConfig,Kl=!0;function n3(e,i,m,y){var w=Wt,P=Ks.transition;Ks.transition=null;try{Wt=1,zc(e,i,m,y)}finally{Wt=w,Ks.transition=P}}function r3(e,i,m,y){var w=Wt,P=Ks.transition;Ks.transition=null;try{Wt=4,zc(e,i,m,y)}finally{Wt=w,Ks.transition=P}}function zc(e,i,m,y){if(Kl){var w=vd(e,i,m,y);if(w===null)tf(e,i,y,$l,m),ep(e,y);else if(e3(w,e,i,m,y))y.stopPropagation();else if(ep(e,y),i&4&&-1<t3.indexOf(e)){for(;w!==null;){var P=Fo(w);if(P!==null&&kx(P),P=vd(e,i,m,y),P===null&&tf(e,i,y,$l,m),P===w)break;w=P}w!==null&&y.stopPropagation()}else tf(e,i,y,null,m)}}var $l=null;function vd(e,i,m,y){if($l=null,e=Ic(y),e=zr(e),e!==null)if(i=as(e),i===null)e=null;else if(m=i.tag,m===13){if(e=Vx(i),e!==null)return e;e=null}else if(m===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return $l=e,null}function _x(e){switch(e){case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 1;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"toggle\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 4;case\"message\":switch(jC()){case Nc:return 1;case Hx:return 4;case Hl:case KC:return 16;case jx:return 536870912;default:return 16}default:return 16}}var ar=null,Vc=null,Al=null;function t1(){if(Al)return Al;var e,i=Vc,m=i.length,y,w=\"value\"in ar?ar.value:ar.textContent,P=w.length;for(e=0;e<m&&i[e]===w[e];e++);var d=m-e;for(y=1;y<=d&&i[m-y]===w[P-y];y++);return Al=w.slice(e,1<y?1-y:void 0)}function Ml(e){var i=e.keyCode;return\"charCode\"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zo(){return!0}function np(){return!1}function Di(e){function i(m,y,w,P,d){this._reactName=m,this._targetInst=w,this.type=y,this.nativeEvent=P,this.target=d,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(m=e[S],this[S]=m?m(P):P[S]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Zo:np,this.isPropagationStopped=np,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!=\"unknown\"&&(m.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!=\"unknown\"&&(m.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),i}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=Di(ga),Ro=re({},ga,{view:0,detail:0}),s3=Di(Ro),ju,Ku,Fa,Nh=re({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return\"movementX\"in e?e.movementX:(e!==Fa&&(Fa&&e.type===\"mousemove\"?(ju=e.screenX-Fa.screenX,Ku=e.screenY-Fa.screenY):Ku=ju=0,Fa=e),ju)},movementY:function(e){return\"movementY\"in e?e.movementY:Ku}}),rp=Di(Nh),a3=re({},Nh,{dataTransfer:0}),o3=Di(a3),l3=re({},Ro,{relatedTarget:0}),$u=Di(l3),h3=re({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),u3=Di(h3),f3=re({},ga,{clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),d3=Di(f3),c3=re({},ga,{data:0}),sp=Di(c3),v3={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},p3={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},m3={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function g3(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=m3[e])?!!i[e]:!1}function Wc(){return g3}var x3=re({},Ro,{key:function(e){if(e.key){var i=v3[e.key]||e.key;if(i!==\"Unidentified\")return i}return e.type===\"keypress\"?(e=Ml(e),e===13?\"Enter\":String.fromCharCode(e)):e.type===\"keydown\"||e.type===\"keyup\"?p3[e.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(e){return e.type===\"keypress\"?Ml(e):0},keyCode:function(e){return e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0},which:function(e){return e.type===\"keypress\"?Ml(e):e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0}}),y3=Di(x3),S3=re({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=Di(S3),T3=re({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),E3=Di(T3),C3=re({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),w3=Di(C3),A3=re({},Nh,{deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M3=Di(A3),P3=[9,13,27,32],Yc=Gn&&\"CompositionEvent\"in window,Ha=null;Gn&&\"documentMode\"in document&&(Ha=document.documentMode);var R3=Gn&&\"TextEvent\"in window&&!Ha,e1=Gn&&(!Yc||Ha&&8<Ha&&11>=Ha),op=\" \",lp=!1;function i1(e,i){switch(e){case\"keyup\":return P3.indexOf(i.keyCode)!==-1;case\"keydown\":return i.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function n1(e){return e=e.detail,typeof e==\"object\"&&\"data\"in e?e.data:null}var Ms=!1;function F3(e,i){switch(e){case\"compositionend\":return n1(i);case\"keypress\":return i.which!==32?null:(lp=!0,op);case\"textInput\":return e=i.data,e===op&&lp?null:e;default:return null}}function L3(e,i){if(Ms)return e===\"compositionend\"||!Yc&&i1(e,i)?(e=t1(),Al=Vc=ar=null,Ms=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case\"compositionend\":return e1&&i.locale!==\"ko\"?null:i.data;default:return null}}var O3={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i===\"input\"?!!O3[e.type]:i===\"textarea\"}function r1(e,i,m,y){Ix(y),i=kl(i,\"onChange\"),0<i.length&&(m=new Xc(\"onChange\",\"change\",null,m,y),e.push({event:m,listeners:i}))}var ja=null,oo=null;function D3(e){p1(e,0)}function Gh(e){var i=Fs(e);if(Rx(i))return e}function B3(e,i){if(e===\"change\")return i}var s1=!1;if(Gn){var ku;if(Gn){var Zu=\"oninput\"in document;if(!Zu){var up=document.createElement(\"div\");up.setAttribute(\"oninput\",\"return;\"),Zu=typeof up.oninput==\"function\"}ku=Zu}else ku=!1;s1=ku&&(!document.documentMode||9<document.documentMode)}function fp(){ja&&(ja.detachEvent(\"onpropertychange\",a1),oo=ja=null)}function a1(e){if(e.propertyName===\"value\"&&Gh(oo)){var i=[];r1(i,oo,e,Ic(e)),zx(D3,i)}}function b3(e,i,m){e===\"focusin\"?(fp(),ja=i,oo=m,ja.attachEvent(\"onpropertychange\",a1)):e===\"focusout\"&&fp()}function I3(e){if(e===\"selectionchange\"||e===\"keyup\"||e===\"keydown\")return Gh(oo)}function N3(e,i){if(e===\"click\")return Gh(i)}function G3(e,i){if(e===\"input\"||e===\"change\")return Gh(i)}function U3(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var en=typeof Object.is==\"function\"?Object.is:U3;function lo(e,i){if(en(e,i))return!0;if(typeof e!=\"object\"||e===null||typeof i!=\"object\"||i===null)return!1;var m=Object.keys(e),y=Object.keys(i);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var w=m[y];if(!Qf.call(i,w)||!en(e[w],i[w]))return!1}return!0}function dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,i){var m=dp(e);e=0;for(var y;m;){if(m.nodeType===3){if(y=e+m.textContent.length,e<=i&&y>=i)return{node:m,offset:i-e};e=y}t:{for(;m;){if(m.nextSibling){m=m.nextSibling;break t}m=m.parentNode}m=void 0}m=dp(m)}}function o1(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?o1(e,i.parentNode):\"contains\"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function l1(){for(var e=window,i=Xl();i instanceof e.HTMLIFrameElement;){try{var m=typeof i.contentWindow.location.href==\"string\"}catch{m=!1}if(m)e=i.contentWindow;else break;i=Xl(e.document)}return i}function Hc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i===\"input\"&&(e.type===\"text\"||e.type===\"search\"||e.type===\"tel\"||e.type===\"url\"||e.type===\"password\")||i===\"textarea\"||e.contentEditable===\"true\")}function z3(e){var i=l1(),m=e.focusedElem,y=e.selectionRange;if(i!==m&&m&&m.ownerDocument&&o1(m.ownerDocument.documentElement,m)){if(y!==null&&Hc(m)){if(i=y.start,e=y.end,e===void 0&&(e=i),\"selectionStart\"in m)m.selectionStart=i,m.selectionEnd=Math.min(e,m.value.length);else if(e=(i=m.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var w=m.textContent.length,P=Math.min(y.start,w);y=y.end===void 0?P:Math.min(y.end,w),!e.extend&&P>y&&(w=y,y=P,P=w),w=cp(m,P);var d=cp(m,y);w&&d&&(e.rangeCount!==1||e.anchorNode!==w.node||e.anchorOffset!==w.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),e.removeAllRanges(),P>y?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=m;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof m.focus==\"function\"&&m.focus(),m=0;m<i.length;m++)e=i[m],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V3=Gn&&\"documentMode\"in document&&11>=document.documentMode,Ps=null,pd=null,Ka=null,md=!1;function vp(e,i,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;md||Ps==null||Ps!==Xl(y)||(y=Ps,\"selectionStart\"in y&&Hc(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ka&&lo(Ka,y)||(Ka=y,y=kl(pd,\"onSelect\"),0<y.length&&(i=new Xc(\"onSelect\",\"select\",null,i,m),e.push({event:i,listeners:y}),i.target=Ps)))}function Qo(e,i){var m={};return m[e.toLowerCase()]=i.toLowerCase(),m[\"Webkit\"+e]=\"webkit\"+i,m[\"Moz\"+e]=\"moz\"+i,m}var Rs={animationend:Qo(\"Animation\",\"AnimationEnd\"),animationiteration:Qo(\"Animation\",\"AnimationIteration\"),animationstart:Qo(\"Animation\",\"AnimationStart\"),transitionend:Qo(\"Transition\",\"TransitionEnd\")},Qu={},h1={};Gn&&(h1=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),\"TransitionEvent\"in window||delete Rs.transitionend.transition);function Uh(e){if(Qu[e])return Qu[e];if(!Rs[e])return e;var i=Rs[e],m;for(m in i)if(i.hasOwnProperty(m)&&m in h1)return Qu[e]=i[m];return e}var u1=Uh(\"animationend\"),f1=Uh(\"animationiteration\"),d1=Uh(\"animationstart\"),c1=Uh(\"transitionend\"),v1=new Map,pp=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");function Mr(e,i){v1.set(e,i),ss(i,[e])}for(var Ju=0;Ju<pp.length;Ju++){var qu=pp[Ju],X3=qu.toLowerCase(),W3=qu[0].toUpperCase()+qu.slice(1);Mr(X3,\"on\"+W3)}Mr(u1,\"onAnimationEnd\");Mr(f1,\"onAnimationIteration\");Mr(d1,\"onAnimationStart\");Mr(\"dblclick\",\"onDoubleClick\");Mr(\"focusin\",\"onFocus\");Mr(\"focusout\",\"onBlur\");Mr(c1,\"onTransitionEnd\");ta(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ta(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ta(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ta(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);ss(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));ss(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));ss(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);ss(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));ss(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));ss(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var za=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Y3=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(za));function mp(e,i,m){var y=e.type||\"unknown-event\";e.currentTarget=m,XC(y,i,void 0,e),e.currentTarget=null}function p1(e,i){i=(i&4)!==0;for(var m=0;m<e.length;m++){var y=e[m],w=y.event;y=y.listeners;t:{var P=void 0;if(i)for(var d=y.length-1;0<=d;d--){var S=y[d],t=S.instance,h=S.currentTarget;if(S=S.listener,t!==P&&w.isPropagationStopped())break t;mp(w,S,h),P=t}else for(d=0;d<y.length;d++){if(S=y[d],t=S.instance,h=S.currentTarget,S=S.listener,t!==P&&w.isPropagationStopped())break t;mp(w,S,h),P=t}}}if(Yl)throw e=fd,Yl=!1,fd=null,e}function Zt(e,i){var m=i[Td];m===void 0&&(m=i[Td]=new Set);var y=e+\"__bubble\";m.has(y)||(m1(i,e,2,!1),m.add(y))}function _u(e,i,m){var y=0;i&&(y|=4),m1(m,e,y,i)}var Jo=\"_reactListening\"+Math.random().toString(36).slice(2);function ho(e){if(!e[Jo]){e[Jo]=!0,Cx.forEach(function(m){m!==\"selectionchange\"&&(Y3.has(m)||_u(m,!1,e),_u(m,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Jo]||(i[Jo]=!0,_u(\"selectionchange\",!1,i))}}function m1(e,i,m,y){switch(_x(i)){case 1:var w=n3;break;case 4:w=r3;break;default:w=zc}m=w.bind(null,i,m,e),w=void 0,!ud||i!==\"touchstart\"&&i!==\"touchmove\"&&i!==\"wheel\"||(w=!0),y?w!==void 0?e.addEventListener(i,m,{capture:!0,passive:w}):e.addEventListener(i,m,!0):w!==void 0?e.addEventListener(i,m,{passive:w}):e.addEventListener(i,m,!1)}function tf(e,i,m,y,w){var P=y;if(!(i&1)&&!(i&2)&&y!==null)t:for(;;){if(y===null)return;var d=y.tag;if(d===3||d===4){var S=y.stateNode.containerInfo;if(S===w||S.nodeType===8&&S.parentNode===w)break;if(d===4)for(d=y.return;d!==null;){var t=d.tag;if((t===3||t===4)&&(t=d.stateNode.containerInfo,t===w||t.nodeType===8&&t.parentNode===w))return;d=d.return}for(;S!==null;){if(d=zr(S),d===null)return;if(t=d.tag,t===5||t===6){y=P=d;continue t}S=S.parentNode}}y=y.return}zx(function(){var h=P,g=Ic(m),l=[];t:{var a=v1.get(e);if(a!==void 0){var o=Xc,n=e;switch(e){case\"keypress\":if(Ml(m)===0)break t;case\"keydown\":case\"keyup\":o=y3;break;case\"focusin\":n=\"focus\",o=$u;break;case\"focusout\":n=\"blur\",o=$u;break;case\"beforeblur\":case\"afterblur\":o=$u;break;case\"click\":if(m.button===2)break t;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":o=rp;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":o=o3;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":o=E3;break;case u1:case f1:case d1:o=u3;break;case c1:o=w3;break;case\"scroll\":o=s3;break;case\"wheel\":o=M3;break;case\"copy\":case\"cut\":case\"paste\":o=d3;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":o=ap}var s=(i&4)!==0,f=!s&&e===\"scroll\",r=s?a!==null?a+\"Capture\":null:a;s=[];for(var u=h,c;u!==null;){c=u;var p=c.stateNode;if(c.tag===5&&p!==null&&(c=p,r!==null&&(p=no(u,r),p!=null&&s.push(uo(u,p,c)))),f)break;u=u.return}0<s.length&&(a=new o(a,n,null,m,g),l.push({event:a,listeners:s}))}}if(!(i&7)){t:{if(a=e===\"mouseover\"||e===\"pointerover\",o=e===\"mouseout\"||e===\"pointerout\",a&&m!==ld&&(n=m.relatedTarget||m.fromElement)&&(zr(n)||n[Un]))break t;if((o||a)&&(a=g.window===g?g:(a=g.ownerDocument)?a.defaultView||a.parentWindow:window,o?(n=m.relatedTarget||m.toElement,o=h,n=n?zr(n):null,n!==null&&(f=as(n),n!==f||n.tag!==5&&n.tag!==6)&&(n=null)):(o=null,n=h),o!==n)){if(s=rp,p=\"onMouseLeave\",r=\"onMouseEnter\",u=\"mouse\",(e===\"pointerout\"||e===\"pointerover\")&&(s=ap,p=\"onPointerLeave\",r=\"onPointerEnter\",u=\"pointer\"),f=o==null?a:Fs(o),c=n==null?a:Fs(n),a=new s(p,u+\"leave\",o,m,g),a.target=f,a.relatedTarget=c,p=null,zr(g)===h&&(s=new s(r,u+\"enter\",n,m,g),s.target=c,s.relatedTarget=f,p=s),f=p,o&&n)e:{for(s=o,r=n,u=0,c=s;c;c=vs(c))u++;for(c=0,p=r;p;p=vs(p))c++;for(;0<u-c;)s=vs(s),u--;for(;0<c-u;)r=vs(r),c--;for(;u--;){if(s===r||r!==null&&s===r.alternate)break e;s=vs(s),r=vs(r)}s=null}else s=null;o!==null&&gp(l,a,o,s,!1),n!==null&&f!==null&&gp(l,f,n,s,!0)}}t:{if(a=h?Fs(h):window,o=a.nodeName&&a.nodeName.toLowerCase(),o===\"select\"||o===\"input\"&&a.type===\"file\")var v=B3;else if(hp(a))if(s1)v=G3;else{v=I3;var x=b3}else(o=a.nodeName)&&o.toLowerCase()===\"input\"&&(a.type===\"checkbox\"||a.type===\"radio\")&&(v=N3);if(v&&(v=v(e,h))){r1(l,v,m,g);break t}x&&x(e,a,h),e===\"focusout\"&&(x=a._wrapperState)&&x.controlled&&a.type===\"number\"&&nd(a,\"number\",a.value)}switch(x=h?Fs(h):window,e){case\"focusin\":(hp(x)||x.contentEditable===\"true\")&&(Ps=x,pd=h,Ka=null);break;case\"focusout\":Ka=pd=Ps=null;break;case\"mousedown\":md=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":md=!1,vp(l,m,g);break;case\"selectionchange\":if(V3)break;case\"keydown\":case\"keyup\":vp(l,m,g)}var T;if(Yc)t:{switch(e){case\"compositionstart\":var C=\"onCompositionStart\";break t;case\"compositionend\":C=\"onCompositionEnd\";break t;case\"compositionupdate\":C=\"onCompositionUpdate\";break t}C=void 0}else Ms?i1(e,m)&&(C=\"onCompositionEnd\"):e===\"keydown\"&&m.keyCode===229&&(C=\"onCompositionStart\");C&&(e1&&m.locale!==\"ko\"&&(Ms||C!==\"onCompositionStart\"?C===\"onCompositionEnd\"&&Ms&&(T=t1()):(ar=g,Vc=\"value\"in ar?ar.value:ar.textContent,Ms=!0)),x=kl(h,C),0<x.length&&(C=new sp(C,e,null,m,g),l.push({event:C,listeners:x}),T?C.data=T:(T=n1(m),T!==null&&(C.data=T)))),(T=R3?F3(e,m):L3(e,m))&&(h=kl(h,\"onBeforeInput\"),0<h.length&&(g=new sp(\"onBeforeInput\",\"beforeinput\",null,m,g),l.push({event:g,listeners:h}),g.data=T))}p1(l,i)})}function uo(e,i,m){return{instance:e,listener:i,currentTarget:m}}function kl(e,i){for(var m=i+\"Capture\",y=[];e!==null;){var w=e,P=w.stateNode;w.tag===5&&P!==null&&(w=P,P=no(e,m),P!=null&&y.unshift(uo(e,P,w)),P=no(e,i),P!=null&&y.push(uo(e,P,w))),e=e.return}return y}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gp(e,i,m,y,w){for(var P=i._reactName,d=[];m!==null&&m!==y;){var S=m,t=S.alternate,h=S.stateNode;if(t!==null&&t===y)break;S.tag===5&&h!==null&&(S=h,w?(t=no(m,P),t!=null&&d.unshift(uo(m,t,S))):w||(t=no(m,P),t!=null&&d.push(uo(m,t,S)))),m=m.return}d.length!==0&&e.push({event:i,listeners:d})}var H3=/\\r\\n?/g,j3=/\\u0000|\\uFFFD/g;function xp(e){return(typeof e==\"string\"?e:\"\"+e).replace(H3,`\n`).replace(j3,\"\")}function qo(e,i,m){if(i=xp(i),xp(e)!==i&&m)throw Error(mt(425))}function Zl(){}var gd=null,xd=null;function yd(e,i){return e===\"textarea\"||e===\"noscript\"||typeof i.children==\"string\"||typeof i.children==\"number\"||typeof i.dangerouslySetInnerHTML==\"object\"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout==\"function\"?setTimeout:void 0,K3=typeof clearTimeout==\"function\"?clearTimeout:void 0,yp=typeof Promise==\"function\"?Promise:void 0,$3=typeof queueMicrotask==\"function\"?queueMicrotask:typeof yp<\"u\"?function(e){return yp.resolve(null).then(e).catch(k3)}:Sd;function k3(e){setTimeout(function(){throw e})}function ef(e,i){var m=i,y=0;do{var w=m.nextSibling;if(e.removeChild(m),w&&w.nodeType===8)if(m=w.data,m===\"/$\"){if(y===0){e.removeChild(w),ao(i);return}y--}else m!==\"$\"&&m!==\"$?\"&&m!==\"$!\"||y++;m=w}while(m);ao(i)}function vr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i===\"$\"||i===\"$!\"||i===\"$?\")break;if(i===\"/$\")return null}}return e}function Sp(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var m=e.data;if(m===\"$\"||m===\"$!\"||m===\"$?\"){if(i===0)return e;i--}else m===\"/$\"&&i++}e=e.previousSibling}return null}var xa=Math.random().toString(36).slice(2),un=\"__reactFiber$\"+xa,fo=\"__reactProps$\"+xa,Un=\"__reactContainer$\"+xa,Td=\"__reactEvents$\"+xa,Z3=\"__reactListeners$\"+xa,Q3=\"__reactHandles$\"+xa;function zr(e){var i=e[un];if(i)return i;for(var m=e.parentNode;m;){if(i=m[Un]||m[un]){if(m=i.alternate,i.child!==null||m!==null&&m.child!==null)for(e=Sp(e);e!==null;){if(m=e[un])return m;e=Sp(e)}return i}e=m,m=e.parentNode}return null}function Fo(e){return e=e[un]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function zh(e){return e[fo]||null}var Ed=[],Ls=-1;function Pr(e){return{current:e}}function Jt(e){0>Ls||(e.current=Ed[Ls],Ed[Ls]=null,Ls--)}function Kt(e,i){Ls++,Ed[Ls]=e.current,e.current=i}var Er={},li=Pr(Er),Ti=Pr(!1),qr=Er;function ea(e,i){var m=e.type.contextTypes;if(!m)return Er;var y=e.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===i)return y.__reactInternalMemoizedMaskedChildContext;var w={},P;for(P in m)w[P]=i[P];return y&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=w),w}function Ei(e){return e=e.childContextTypes,e!=null}function Ql(){Jt(Ti),Jt(li)}function Tp(e,i,m){if(li.current!==Er)throw Error(mt(168));Kt(li,i),Kt(Ti,m)}function g1(e,i,m){var y=e.stateNode;if(i=i.childContextTypes,typeof y.getChildContext!=\"function\")return m;y=y.getChildContext();for(var w in y)if(!(w in i))throw Error(mt(108,bC(e)||\"Unknown\",w));return re({},m,y)}function Jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,qr=li.current,Kt(li,e),Kt(Ti,Ti.current),!0}function Ep(e,i,m){var y=e.stateNode;if(!y)throw Error(mt(169));m?(e=g1(e,i,qr),y.__reactInternalMemoizedMergedChildContext=e,Jt(Ti),Jt(li),Kt(li,e)):Jt(Ti),Kt(Ti,m)}var Pn=null,Vh=!1,nf=!1;function x1(e){Pn===null?Pn=[e]:Pn.push(e)}function J3(e){Vh=!0,x1(e)}function Rr(){if(!nf&&Pn!==null){nf=!0;var e=0,i=Wt;try{var m=Pn;for(Wt=1;e<m.length;e++){var y=m[e];do y=y(!0);while(y!==null)}Pn=null,Vh=!1}catch(w){throw Pn!==null&&(Pn=Pn.slice(e+1)),Yx(Nc,Rr),w}finally{Wt=i,nf=!1}}return null}var Os=[],Ds=0,ql=null,_l=0,Ui=[],zi=0,_r=null,Ln=1,On=\"\";function Or(e,i){Os[Ds++]=_l,Os[Ds++]=ql,ql=e,_l=i}function y1(e,i,m){Ui[zi++]=Ln,Ui[zi++]=On,Ui[zi++]=_r,_r=e;var y=Ln;e=On;var w=32-qi(y)-1;y&=~(1<<w),m+=1;var P=32-qi(i)+w;if(30<P){var d=w-w%5;P=(y&(1<<d)-1).toString(32),y>>=d,w-=d,Ln=1<<32-qi(i)+w|m<<w|y,On=P+e}else Ln=1<<P|m<<w|y,On=e}function jc(e){e.return!==null&&(Or(e,1),y1(e,1,0))}function Kc(e){for(;e===ql;)ql=Os[--Ds],Os[Ds]=null,_l=Os[--Ds],Os[Ds]=null;for(;e===_r;)_r=Ui[--zi],Ui[zi]=null,On=Ui[--zi],Ui[zi]=null,Ln=Ui[--zi],Ui[zi]=null}var Ri=null,Pi=null,qt=!1,Qi=null;function S1(e,i){var m=Vi(5,null,null,0);m.elementType=\"DELETED\",m.stateNode=i,m.return=e,i=e.deletions,i===null?(e.deletions=[m],e.flags|=16):i.push(m)}function Cp(e,i){switch(e.tag){case 5:var m=e.type;return i=i.nodeType!==1||m.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,Ri=e,Pi=vr(i.firstChild),!0):!1;case 6:return i=e.pendingProps===\"\"||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,Ri=e,Pi=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(m=_r!==null?{id:Ln,overflow:On}:null,e.memoizedState={dehydrated:i,treeContext:m,retryLane:1073741824},m=Vi(18,null,null,0),m.stateNode=i,m.return=e,e.child=m,Ri=e,Pi=null,!0):!1;default:return!1}}function Cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wd(e){if(qt){var i=Pi;if(i){var m=i;if(!Cp(e,i)){if(Cd(e))throw Error(mt(418));i=vr(m.nextSibling);var y=Ri;i&&Cp(e,i)?S1(y,m):(e.flags=e.flags&-4097|2,qt=!1,Ri=e)}}else{if(Cd(e))throw Error(mt(418));e.flags=e.flags&-4097|2,qt=!1,Ri=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ri=e}function _o(e){if(e!==Ri)return!1;if(!qt)return wp(e),qt=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!==\"head\"&&i!==\"body\"&&!yd(e.type,e.memoizedProps)),i&&(i=Pi)){if(Cd(e))throw T1(),Error(mt(418));for(;i;)S1(e,i),i=vr(i.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var m=e.data;if(m===\"/$\"){if(i===0){Pi=vr(e.nextSibling);break t}i--}else m!==\"$\"&&m!==\"$!\"&&m!==\"$?\"||i++}e=e.nextSibling}Pi=null}}else Pi=Ri?vr(e.stateNode.nextSibling):null;return!0}function T1(){for(var e=Pi;e;)e=vr(e.nextSibling)}function ia(){Pi=Ri=null,qt=!1}function $c(e){Qi===null?Qi=[e]:Qi.push(e)}var q3=Wn.ReactCurrentBatchConfig;function La(e,i,m){if(e=m.ref,e!==null&&typeof e!=\"function\"&&typeof e!=\"object\"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(mt(309));var y=m.stateNode}if(!y)throw Error(mt(147,e));var w=y,P=\"\"+e;return i!==null&&i.ref!==null&&typeof i.ref==\"function\"&&i.ref._stringRef===P?i.ref:(i=function(d){var S=w.refs;d===null?delete S[P]:S[P]=d},i._stringRef=P,i)}if(typeof e!=\"string\")throw Error(mt(284));if(!m._owner)throw Error(mt(290,e))}return e}function tl(e,i){throw e=Object.prototype.toString.call(i),Error(mt(31,e===\"[object Object]\"?\"object with keys {\"+Object.keys(i).join(\", \")+\"}\":e))}function Ap(e){var i=e._init;return i(e._payload)}function E1(e){function i(r,u){if(e){var c=r.deletions;c===null?(r.deletions=[u],r.flags|=16):c.push(u)}}function m(r,u){if(!e)return null;for(;u!==null;)i(r,u),u=u.sibling;return null}function y(r,u){for(r=new Map;u!==null;)u.key!==null?r.set(u.key,u):r.set(u.index,u),u=u.sibling;return r}function w(r,u){return r=xr(r,u),r.index=0,r.sibling=null,r}function P(r,u,c){return r.index=c,e?(c=r.alternate,c!==null?(c=c.index,c<u?(r.flags|=2,u):c):(r.flags|=2,u)):(r.flags|=1048576,u)}function d(r){return e&&r.alternate===null&&(r.flags|=2),r}function S(r,u,c,p){return u===null||u.tag!==6?(u=uf(c,r.mode,p),u.return=r,u):(u=w(u,c),u.return=r,u)}function t(r,u,c,p){var v=c.type;return v===As?g(r,u,c.props.children,p,c.key):u!==null&&(u.elementType===v||typeof v==\"object\"&&v!==null&&v.$$typeof===tr&&Ap(v)===u.type)?(p=w(u,c.props),p.ref=La(r,u,c),p.return=r,p):(p=Bl(c.type,c.key,c.props,null,r.mode,p),p.ref=La(r,u,c),p.return=r,p)}function h(r,u,c,p){return u===null||u.tag!==4||u.stateNode.containerInfo!==c.containerInfo||u.stateNode.implementation!==c.implementation?(u=ff(c,r.mode,p),u.return=r,u):(u=w(u,c.children||[]),u.return=r,u)}function g(r,u,c,p,v){return u===null||u.tag!==7?(u=kr(c,r.mode,p,v),u.return=r,u):(u=w(u,c),u.return=r,u)}function l(r,u,c){if(typeof u==\"string\"&&u!==\"\"||typeof u==\"number\")return u=uf(\"\"+u,r.mode,c),u.return=r,u;if(typeof u==\"object\"&&u!==null){switch(u.$$typeof){case Yo:return c=Bl(u.type,u.key,u.props,null,r.mode,c),c.ref=La(r,null,u),c.return=r,c;case ws:return u=ff(u,r.mode,c),u.return=r,u;case tr:var p=u._init;return l(r,p(u._payload),c)}if(Ga(u)||Aa(u))return u=kr(u,r.mode,c,null),u.return=r,u;tl(r,u)}return null}function a(r,u,c,p){var v=u!==null?u.key:null;if(typeof c==\"string\"&&c!==\"\"||typeof c==\"number\")return v!==null?null:S(r,u,\"\"+c,p);if(typeof c==\"object\"&&c!==null){switch(c.$$typeof){case Yo:return c.key===v?t(r,u,c,p):null;case ws:return c.key===v?h(r,u,c,p):null;case tr:return v=c._init,a(r,u,v(c._payload),p)}if(Ga(c)||Aa(c))return v!==null?null:g(r,u,c,p,null);tl(r,c)}return null}function o(r,u,c,p,v){if(typeof p==\"string\"&&p!==\"\"||typeof p==\"number\")return r=r.get(c)||null,S(u,r,\"\"+p,v);if(typeof p==\"object\"&&p!==null){switch(p.$$typeof){case Yo:return r=r.get(p.key===null?c:p.key)||null,t(u,r,p,v);case ws:return r=r.get(p.key===null?c:p.key)||null,h(u,r,p,v);case tr:var x=p._init;return o(r,u,c,x(p._payload),v)}if(Ga(p)||Aa(p))return r=r.get(c)||null,g(u,r,p,v,null);tl(u,p)}return null}function n(r,u,c,p){for(var v=null,x=null,T=u,C=u=0,E=null;T!==null&&C<c.length;C++){T.index>C?(E=T,T=null):E=T.sibling;var A=a(r,T,c[C],p);if(A===null){T===null&&(T=E);break}e&&T&&A.alternate===null&&i(r,T),u=P(A,u,C),x===null?v=A:x.sibling=A,x=A,T=E}if(C===c.length)return m(r,T),qt&&Or(r,C),v;if(T===null){for(;C<c.length;C++)T=l(r,c[C],p),T!==null&&(u=P(T,u,C),x===null?v=T:x.sibling=T,x=T);return qt&&Or(r,C),v}for(T=y(r,T);C<c.length;C++)E=o(T,r,C,c[C],p),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?C:E.key),u=P(E,u,C),x===null?v=E:x.sibling=E,x=E);return e&&T.forEach(function(M){return i(r,M)}),qt&&Or(r,C),v}function s(r,u,c,p){var v=Aa(c);if(typeof v!=\"function\")throw Error(mt(150));if(c=v.call(c),c==null)throw Error(mt(151));for(var x=v=null,T=u,C=u=0,E=null,A=c.next();T!==null&&!A.done;C++,A=c.next()){T.index>C?(E=T,T=null):E=T.sibling;var M=a(r,T,A.value,p);if(M===null){T===null&&(T=E);break}e&&T&&M.alternate===null&&i(r,T),u=P(M,u,C),x===null?v=M:x.sibling=M,x=M,T=E}if(A.done)return m(r,T),qt&&Or(r,C),v;if(T===null){for(;!A.done;C++,A=c.next())A=l(r,A.value,p),A!==null&&(u=P(A,u,C),x===null?v=A:x.sibling=A,x=A);return qt&&Or(r,C),v}for(T=y(r,T);!A.done;C++,A=c.next())A=o(T,r,C,A.value,p),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?C:A.key),u=P(A,u,C),x===null?v=A:x.sibling=A,x=A);return e&&T.forEach(function(L){return i(r,L)}),qt&&Or(r,C),v}function f(r,u,c,p){if(typeof c==\"object\"&&c!==null&&c.type===As&&c.key===null&&(c=c.props.children),typeof c==\"object\"&&c!==null){switch(c.$$typeof){case Yo:t:{for(var v=c.key,x=u;x!==null;){if(x.key===v){if(v=c.type,v===As){if(x.tag===7){m(r,x.sibling),u=w(x,c.props.children),u.return=r,r=u;break t}}else if(x.elementType===v||typeof v==\"object\"&&v!==null&&v.$$typeof===tr&&Ap(v)===x.type){m(r,x.sibling),u=w(x,c.props),u.ref=La(r,x,c),u.return=r,r=u;break t}m(r,x);break}else i(r,x);x=x.sibling}c.type===As?(u=kr(c.props.children,r.mode,p,c.key),u.return=r,r=u):(p=Bl(c.type,c.key,c.props,null,r.mode,p),p.ref=La(r,u,c),p.return=r,r=p)}return d(r);case ws:t:{for(x=c.key;u!==null;){if(u.key===x)if(u.tag===4&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){m(r,u.sibling),u=w(u,c.children||[]),u.return=r,r=u;break t}else{m(r,u);break}else i(r,u);u=u.sibling}u=ff(c,r.mode,p),u.return=r,r=u}return d(r);case tr:return x=c._init,f(r,u,x(c._payload),p)}if(Ga(c))return n(r,u,c,p);if(Aa(c))return s(r,u,c,p);tl(r,c)}return typeof c==\"string\"&&c!==\"\"||typeof c==\"number\"?(c=\"\"+c,u!==null&&u.tag===6?(m(r,u.sibling),u=w(u,c),u.return=r,r=u):(m(r,u),u=uf(c,r.mode,p),u.return=r,r=u),d(r)):m(r,u)}return f}var na=E1(!0),C1=E1(!1),th=Pr(null),eh=null,Bs=null,kc=null;function Zc(){kc=Bs=eh=null}function Qc(e){var i=th.current;Jt(th),e._currentValue=i}function Ad(e,i,m){for(;e!==null;){var y=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,y!==null&&(y.childLanes|=i)):y!==null&&(y.childLanes&i)!==i&&(y.childLanes|=i),e===m)break;e=e.return}}function $s(e,i){eh=e,kc=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(yi=!0),e.firstContext=null)}function Hi(e){var i=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:i,next:null},Bs===null){if(eh===null)throw Error(mt(308));Bs=e,eh.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return i}var Vr=null;function Jc(e){Vr===null?Vr=[e]:Vr.push(e)}function w1(e,i,m,y){var w=i.interleaved;return w===null?(m.next=m,Jc(i)):(m.next=w.next,w.next=m),i.interleaved=m,zn(e,y)}function zn(e,i){e.lanes|=i;var m=e.alternate;for(m!==null&&(m.lanes|=i),m=e,e=e.return;e!==null;)e.childLanes|=i,m=e.alternate,m!==null&&(m.childLanes|=i),m=e,e=e.return;return m.tag===3?m.stateNode:null}var er=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function pr(e,i,m){var y=e.updateQueue;if(y===null)return null;if(y=y.shared,zt&2){var w=y.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),y.pending=i,zn(e,m)}return w=y.interleaved,w===null?(i.next=i,Jc(y)):(i.next=w.next,w.next=i),y.interleaved=i,zn(e,m)}function Pl(e,i,m){if(i=i.updateQueue,i!==null&&(i=i.shared,(m&4194240)!==0)){var y=i.lanes;y&=e.pendingLanes,m|=y,i.lanes=m,Gc(e,m)}}function Mp(e,i){var m=e.updateQueue,y=e.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var w=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var d={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};P===null?w=P=d:P=P.next=d,m=m.next}while(m!==null);P===null?w=P=i:P=P.next=i}else w=P=i;m={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:P,shared:y.shared,effects:y.effects},e.updateQueue=m;return}e=m.lastBaseUpdate,e===null?m.firstBaseUpdate=i:e.next=i,m.lastBaseUpdate=i}function ih(e,i,m,y){var w=e.updateQueue;er=!1;var P=w.firstBaseUpdate,d=w.lastBaseUpdate,S=w.shared.pending;if(S!==null){w.shared.pending=null;var t=S,h=t.next;t.next=null,d===null?P=h:d.next=h,d=t;var g=e.alternate;g!==null&&(g=g.updateQueue,S=g.lastBaseUpdate,S!==d&&(S===null?g.firstBaseUpdate=h:S.next=h,g.lastBaseUpdate=t))}if(P!==null){var l=w.baseState;d=0,g=h=t=null,S=P;do{var a=S.lane,o=S.eventTime;if((y&a)===a){g!==null&&(g=g.next={eventTime:o,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var n=e,s=S;switch(a=i,o=m,s.tag){case 1:if(n=s.payload,typeof n==\"function\"){l=n.call(o,l,a);break t}l=n;break t;case 3:n.flags=n.flags&-65537|128;case 0:if(n=s.payload,a=typeof n==\"function\"?n.call(o,l,a):n,a==null)break t;l=re({},l,a);break t;case 2:er=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,a=w.effects,a===null?w.effects=[S]:a.push(S))}else o={eventTime:o,lane:a,tag:S.tag,payload:S.payload,callback:S.callback,next:null},g===null?(h=g=o,t=l):g=g.next=o,d|=a;if(S=S.next,S===null){if(S=w.shared.pending,S===null)break;a=S,S=a.next,a.next=null,w.lastBaseUpdate=a,w.shared.pending=null}}while(!0);if(g===null&&(t=l),w.baseState=t,w.firstBaseUpdate=h,w.lastBaseUpdate=g,i=w.shared.interleaved,i!==null){w=i;do d|=w.lane,w=w.next;while(w!==i)}else P===null&&(w.shared.lanes=0);es|=d,e.lanes=d,e.memoizedState=l}}function Pp(e,i,m){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var y=e[i],w=y.callback;if(w!==null){if(y.callback=null,y=m,typeof w!=\"function\")throw Error(mt(191,w));w.call(y)}}}var Lo={},pn=Pr(Lo),co=Pr(Lo),vo=Pr(Lo);function Xr(e){if(e===Lo)throw Error(mt(174));return e}function _c(e,i){switch(Kt(vo,i),Kt(co,e),Kt(pn,Lo),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:sd(null,\"\");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=sd(i,e)}Jt(pn),Kt(pn,i)}function ra(){Jt(pn),Jt(co),Jt(vo)}function M1(e){Xr(vo.current);var i=Xr(pn.current),m=sd(i,e.type);i!==m&&(Kt(co,e),Kt(pn,m))}function tv(e){co.current===e&&(Jt(pn),Jt(co))}var te=Pr(0);function nh(e){for(var i=e;i!==null;){if(i.tag===13){var m=i.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data===\"$?\"||m.data===\"$!\"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rf=[];function ev(){for(var e=0;e<rf.length;e++)rf[e]._workInProgressVersionPrimary=null;rf.length=0}var Rl=Wn.ReactCurrentDispatcher,sf=Wn.ReactCurrentBatchConfig,ts=0,ne=null,be=null,ze=null,rh=!1,$a=!1,po=0,_3=0;function Je(){throw Error(mt(321))}function iv(e,i){if(i===null)return!1;for(var m=0;m<i.length&&m<e.length;m++)if(!en(e[m],i[m]))return!1;return!0}function nv(e,i,m,y,w,P){if(ts=P,ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Rl.current=e===null||e.memoizedState===null?nw:rw,e=m(y,w),$a){P=0;do{if($a=!1,po=0,25<=P)throw Error(mt(301));P+=1,ze=be=null,i.updateQueue=null,Rl.current=sw,e=m(y,w)}while($a)}if(Rl.current=sh,i=be!==null&&be.next!==null,ts=0,ze=be=ne=null,rh=!1,i)throw Error(mt(300));return e}function rv(){var e=po!==0;return po=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ne.memoizedState=ze=e:ze=ze.next=e,ze}function ji(){if(be===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var i=ze===null?ne.memoizedState:ze.next;if(i!==null)ze=i,be=e;else{if(e===null)throw Error(mt(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ze===null?ne.memoizedState=ze=e:ze=ze.next=e}return ze}function mo(e,i){return typeof i==\"function\"?i(e):i}function af(e){var i=ji(),m=i.queue;if(m===null)throw Error(mt(311));m.lastRenderedReducer=e;var y=be,w=y.baseQueue,P=m.pending;if(P!==null){if(w!==null){var d=w.next;w.next=P.next,P.next=d}y.baseQueue=w=P,m.pending=null}if(w!==null){P=w.next,y=y.baseState;var S=d=null,t=null,h=P;do{var g=h.lane;if((ts&g)===g)t!==null&&(t=t.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),y=h.hasEagerState?h.eagerState:e(y,h.action);else{var l={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};t===null?(S=t=l,d=y):t=t.next=l,ne.lanes|=g,es|=g}h=h.next}while(h!==null&&h!==P);t===null?d=y:t.next=S,en(y,i.memoizedState)||(yi=!0),i.memoizedState=y,i.baseState=d,i.baseQueue=t,m.lastRenderedState=y}if(e=m.interleaved,e!==null){w=e;do P=w.lane,ne.lanes|=P,es|=P,w=w.next;while(w!==e)}else w===null&&(m.lanes=0);return[i.memoizedState,m.dispatch]}function of(e){var i=ji(),m=i.queue;if(m===null)throw Error(mt(311));m.lastRenderedReducer=e;var y=m.dispatch,w=m.pending,P=i.memoizedState;if(w!==null){m.pending=null;var d=w=w.next;do P=e(P,d.action),d=d.next;while(d!==w);en(P,i.memoizedState)||(yi=!0),i.memoizedState=P,i.baseQueue===null&&(i.baseState=P),m.lastRenderedState=P}return[P,y]}function P1(){}function R1(e,i){var m=ne,y=ji(),w=i(),P=!en(y.memoizedState,w);if(P&&(y.memoizedState=w,yi=!0),y=y.queue,sv(O1.bind(null,m,y,e),[e]),y.getSnapshot!==i||P||ze!==null&&ze.memoizedState.tag&1){if(m.flags|=2048,go(9,L1.bind(null,m,y,w,i),void 0,null),Ve===null)throw Error(mt(349));ts&30||F1(m,i,w)}return w}function F1(e,i,m){e.flags|=16384,e={getSnapshot:i,value:m},i=ne.updateQueue,i===null?(i={lastEffect:null,stores:null},ne.updateQueue=i,i.stores=[e]):(m=i.stores,m===null?i.stores=[e]:m.push(e))}function L1(e,i,m,y){i.value=m,i.getSnapshot=y,D1(i)&&B1(e)}function O1(e,i,m){return m(function(){D1(i)&&B1(e)})}function D1(e){var i=e.getSnapshot;e=e.value;try{var m=i();return!en(e,m)}catch{return!0}}function B1(e){var i=zn(e,1);i!==null&&_i(i,e,1,-1)}function Rp(e){var i=hn();return typeof e==\"function\"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},i.queue=e,e=e.dispatch=iw.bind(null,ne,e),[i.memoizedState,e]}function go(e,i,m,y){return e={tag:e,create:i,destroy:m,deps:y,next:null},i=ne.updateQueue,i===null?(i={lastEffect:null,stores:null},ne.updateQueue=i,i.lastEffect=e.next=e):(m=i.lastEffect,m===null?i.lastEffect=e.next=e:(y=m.next,m.next=e,e.next=y,i.lastEffect=e)),e}function b1(){return ji().memoizedState}function Fl(e,i,m,y){var w=hn();ne.flags|=e,w.memoizedState=go(1|i,m,void 0,y===void 0?null:y)}function Xh(e,i,m,y){var w=ji();y=y===void 0?null:y;var P=void 0;if(be!==null){var d=be.memoizedState;if(P=d.destroy,y!==null&&iv(y,d.deps)){w.memoizedState=go(i,m,P,y);return}}ne.flags|=e,w.memoizedState=go(1|i,m,P,y)}function Fp(e,i){return Fl(8390656,8,e,i)}function sv(e,i){return Xh(2048,8,e,i)}function I1(e,i){return Xh(4,2,e,i)}function N1(e,i){return Xh(4,4,e,i)}function G1(e,i){if(typeof i==\"function\")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function U1(e,i,m){return m=m!=null?m.concat([e]):null,Xh(4,4,G1.bind(null,i,e),m)}function av(){}function z1(e,i){var m=ji();i=i===void 0?null:i;var y=m.memoizedState;return y!==null&&i!==null&&iv(i,y[1])?y[0]:(m.memoizedState=[e,i],e)}function V1(e,i){var m=ji();i=i===void 0?null:i;var y=m.memoizedState;return y!==null&&i!==null&&iv(i,y[1])?y[0]:(e=e(),m.memoizedState=[e,i],e)}function X1(e,i,m){return ts&21?(en(m,i)||(m=Kx(),ne.lanes|=m,es|=m,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=m)}function tw(e,i){var m=Wt;Wt=m!==0&&4>m?m:4,e(!0);var y=sf.transition;sf.transition={};try{e(!1),i()}finally{Wt=m,sf.transition=y}}function W1(){return ji().memoizedState}function ew(e,i,m){var y=gr(e);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},Y1(e))H1(i,m);else if(m=w1(e,i,m,y),m!==null){var w=di();_i(m,e,y,w),j1(m,i,y)}}function iw(e,i,m){var y=gr(e),w={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(Y1(e))H1(i,w);else{var P=e.alternate;if(e.lanes===0&&(P===null||P.lanes===0)&&(P=i.lastRenderedReducer,P!==null))try{var d=i.lastRenderedState,S=P(d,m);if(w.hasEagerState=!0,w.eagerState=S,en(S,d)){var t=i.interleaved;t===null?(w.next=w,Jc(i)):(w.next=t.next,t.next=w),i.interleaved=w;return}}catch{}finally{}m=w1(e,i,w,y),m!==null&&(w=di(),_i(m,e,y,w),j1(m,i,y))}}function Y1(e){var i=e.alternate;return e===ne||i!==null&&i===ne}function H1(e,i){$a=rh=!0;var m=e.pending;m===null?i.next=i:(i.next=m.next,m.next=i),e.pending=i}function j1(e,i,m){if(m&4194240){var y=i.lanes;y&=e.pendingLanes,m|=y,i.lanes=m,Gc(e,m)}}var sh={readContext:Hi,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},nw={readContext:Hi,useCallback:function(e,i){return hn().memoizedState=[e,i===void 0?null:i],e},useContext:Hi,useEffect:Fp,useImperativeHandle:function(e,i,m){return m=m!=null?m.concat([e]):null,Fl(4194308,4,G1.bind(null,i,e),m)},useLayoutEffect:function(e,i){return Fl(4194308,4,e,i)},useInsertionEffect:function(e,i){return Fl(4,2,e,i)},useMemo:function(e,i){var m=hn();return i=i===void 0?null:i,e=e(),m.memoizedState=[e,i],e},useReducer:function(e,i,m){var y=hn();return i=m!==void 0?m(i):i,y.memoizedState=y.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},y.queue=e,e=e.dispatch=ew.bind(null,ne,e),[y.memoizedState,e]},useRef:function(e){var i=hn();return e={current:e},i.memoizedState=e},useState:Rp,useDebugValue:av,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Rp(!1),i=e[0];return e=tw.bind(null,e[1]),hn().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,m){var y=ne,w=hn();if(qt){if(m===void 0)throw Error(mt(407));m=m()}else{if(m=i(),Ve===null)throw Error(mt(349));ts&30||F1(y,i,m)}w.memoizedState=m;var P={value:m,getSnapshot:i};return w.queue=P,Fp(O1.bind(null,y,P,e),[e]),y.flags|=2048,go(9,L1.bind(null,y,P,m,i),void 0,null),m},useId:function(){var e=hn(),i=Ve.identifierPrefix;if(qt){var m=On,y=Ln;m=(y&~(1<<32-qi(y)-1)).toString(32)+m,i=\":\"+i+\"R\"+m,m=po++,0<m&&(i+=\"H\"+m.toString(32)),i+=\":\"}else m=_3++,i=\":\"+i+\"r\"+m.toString(32)+\":\";return e.memoizedState=i},unstable_isNewReconciler:!1},rw={readContext:Hi,useCallback:z1,useContext:Hi,useEffect:sv,useImperativeHandle:U1,useInsertionEffect:I1,useLayoutEffect:N1,useMemo:V1,useReducer:af,useRef:b1,useState:function(){return af(mo)},useDebugValue:av,useDeferredValue:function(e){var i=ji();return X1(i,be.memoizedState,e)},useTransition:function(){var e=af(mo)[0],i=ji().memoizedState;return[e,i]},useMutableSource:P1,useSyncExternalStore:R1,useId:W1,unstable_isNewReconciler:!1},sw={readContext:Hi,useCallback:z1,useContext:Hi,useEffect:sv,useImperativeHandle:U1,useInsertionEffect:I1,useLayoutEffect:N1,useMemo:V1,useReducer:of,useRef:b1,useState:function(){return of(mo)},useDebugValue:av,useDeferredValue:function(e){var i=ji();return be===null?i.memoizedState=e:X1(i,be.memoizedState,e)},useTransition:function(){var e=of(mo)[0],i=ji().memoizedState;return[e,i]},useMutableSource:P1,useSyncExternalStore:R1,useId:W1,unstable_isNewReconciler:!1};function ki(e,i){if(e&&e.defaultProps){i=re({},i),e=e.defaultProps;for(var m in e)i[m]===void 0&&(i[m]=e[m]);return i}return i}function Md(e,i,m,y){i=e.memoizedState,m=m(y,i),m=m==null?i:re({},i,m),e.memoizedState=m,e.lanes===0&&(e.updateQueue.baseState=m)}var Wh={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,i,m){e=e._reactInternals;var y=di(),w=gr(e),P=bn(y,w);P.payload=i,m!=null&&(P.callback=m),i=pr(e,P,w),i!==null&&(_i(i,e,w,y),Pl(i,e,w))},enqueueReplaceState:function(e,i,m){e=e._reactInternals;var y=di(),w=gr(e),P=bn(y,w);P.tag=1,P.payload=i,m!=null&&(P.callback=m),i=pr(e,P,w),i!==null&&(_i(i,e,w,y),Pl(i,e,w))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var m=di(),y=gr(e),w=bn(m,y);w.tag=2,i!=null&&(w.callback=i),i=pr(e,w,y),i!==null&&(_i(i,e,y,m),Pl(i,e,y))}};function Lp(e,i,m,y,w,P,d){return e=e.stateNode,typeof e.shouldComponentUpdate==\"function\"?e.shouldComponentUpdate(y,P,d):i.prototype&&i.prototype.isPureReactComponent?!lo(m,y)||!lo(w,P):!0}function K1(e,i,m){var y=!1,w=Er,P=i.contextType;return typeof P==\"object\"&&P!==null?P=Hi(P):(w=Ei(i)?qr:li.current,y=i.contextTypes,P=(y=y!=null)?ea(e,w):Er),i=new i(m,P),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Wh,e.stateNode=i,i._reactInternals=e,y&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=w,e.__reactInternalMemoizedMaskedChildContext=P),i}function Op(e,i,m,y){e=i.state,typeof i.componentWillReceiveProps==\"function\"&&i.componentWillReceiveProps(m,y),typeof i.UNSAFE_componentWillReceiveProps==\"function\"&&i.UNSAFE_componentWillReceiveProps(m,y),i.state!==e&&Wh.enqueueReplaceState(i,i.state,null)}function Pd(e,i,m,y){var w=e.stateNode;w.props=m,w.state=e.memoizedState,w.refs={},qc(e);var P=i.contextType;typeof P==\"object\"&&P!==null?w.context=Hi(P):(P=Ei(i)?qr:li.current,w.context=ea(e,P)),w.state=e.memoizedState,P=i.getDerivedStateFromProps,typeof P==\"function\"&&(Md(e,i,P,m),w.state=e.memoizedState),typeof i.getDerivedStateFromProps==\"function\"||typeof w.getSnapshotBeforeUpdate==\"function\"||typeof w.UNSAFE_componentWillMount!=\"function\"&&typeof w.componentWillMount!=\"function\"||(i=w.state,typeof w.componentWillMount==\"function\"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount==\"function\"&&w.UNSAFE_componentWillMount(),i!==w.state&&Wh.enqueueReplaceState(w,w.state,null),ih(e,m,w,y),w.state=e.memoizedState),typeof w.componentDidMount==\"function\"&&(e.flags|=4194308)}function sa(e,i){try{var m=\"\",y=i;do m+=BC(y),y=y.return;while(y);var w=m}catch(P){w=`\nError generating stack: `+P.message+`\n`+P.stack}return{value:e,source:i,stack:w,digest:null}}function lf(e,i,m){return{value:e,source:null,stack:m??null,digest:i??null}}function Rd(e,i){try{console.error(i.value)}catch(m){setTimeout(function(){throw m})}}var aw=typeof WeakMap==\"function\"?WeakMap:Map;function $1(e,i,m){m=bn(-1,m),m.tag=3,m.payload={element:null};var y=i.value;return m.callback=function(){oh||(oh=!0,Ud=y),Rd(e,i)},m}function k1(e,i,m){m=bn(-1,m),m.tag=3;var y=e.type.getDerivedStateFromError;if(typeof y==\"function\"){var w=i.value;m.payload=function(){return y(w)},m.callback=function(){Rd(e,i)}}var P=e.stateNode;return P!==null&&typeof P.componentDidCatch==\"function\"&&(m.callback=function(){Rd(e,i),typeof y!=\"function\"&&(mr===null?mr=new Set([this]):mr.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:\"\"})}),m}function Dp(e,i,m){var y=e.pingCache;if(y===null){y=e.pingCache=new aw;var w=new Set;y.set(i,w)}else w=y.get(i),w===void 0&&(w=new Set,y.set(i,w));w.has(m)||(w.add(m),e=Sw.bind(null,e,i,m),i.then(e,e))}function Bp(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function bp(e,i,m,y,w){return e.mode&1?(e.flags|=65536,e.lanes=w,e):(e===i?e.flags|=65536:(e.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(i=bn(-1,1),i.tag=2,pr(m,i,1))),m.lanes|=1),e)}var ow=Wn.ReactCurrentOwner,yi=!1;function ui(e,i,m,y){i.child=e===null?C1(i,null,m,y):na(i,e.child,m,y)}function Ip(e,i,m,y,w){m=m.render;var P=i.ref;return $s(i,w),y=nv(e,i,m,y,P,w),m=rv(),e!==null&&!yi?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~w,Vn(e,i,w)):(qt&&m&&jc(i),i.flags|=1,ui(e,i,y,w),i.child)}function Np(e,i,m,y,w){if(e===null){var P=m.type;return typeof P==\"function\"&&!vv(P)&&P.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(i.tag=15,i.type=P,Z1(e,i,P,y,w)):(e=Bl(m.type,null,y,i,i.mode,w),e.ref=i.ref,e.return=i,i.child=e)}if(P=e.child,!(e.lanes&w)){var d=P.memoizedProps;if(m=m.compare,m=m!==null?m:lo,m(d,y)&&e.ref===i.ref)return Vn(e,i,w)}return i.flags|=1,e=xr(P,y),e.ref=i.ref,e.return=i,i.child=e}function Z1(e,i,m,y,w){if(e!==null){var P=e.memoizedProps;if(lo(P,y)&&e.ref===i.ref)if(yi=!1,i.pendingProps=y=P,(e.lanes&w)!==0)e.flags&131072&&(yi=!0);else return i.lanes=e.lanes,Vn(e,i,w)}return Fd(e,i,m,y,w)}function Q1(e,i,m){var y=i.pendingProps,w=y.children,P=e!==null?e.memoizedState:null;if(y.mode===\"hidden\")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Is,Ai),Ai|=m;else{if(!(m&1073741824))return e=P!==null?P.baseLanes|m:m,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,Kt(Is,Ai),Ai|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=P!==null?P.baseLanes:m,Kt(Is,Ai),Ai|=y}else P!==null?(y=P.baseLanes|m,i.memoizedState=null):y=m,Kt(Is,Ai),Ai|=y;return ui(e,i,w,m),i.child}function J1(e,i){var m=i.ref;(e===null&&m!==null||e!==null&&e.ref!==m)&&(i.flags|=512,i.flags|=2097152)}function Fd(e,i,m,y,w){var P=Ei(m)?qr:li.current;return P=ea(i,P),$s(i,w),m=nv(e,i,m,y,P,w),y=rv(),e!==null&&!yi?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~w,Vn(e,i,w)):(qt&&y&&jc(i),i.flags|=1,ui(e,i,m,w),i.child)}function Gp(e,i,m,y,w){if(Ei(m)){var P=!0;Jl(i)}else P=!1;if($s(i,w),i.stateNode===null)Ll(e,i),K1(i,m,y),Pd(i,m,y,w),y=!0;else if(e===null){var d=i.stateNode,S=i.memoizedProps;d.props=S;var t=d.context,h=m.contextType;typeof h==\"object\"&&h!==null?h=Hi(h):(h=Ei(m)?qr:li.current,h=ea(i,h));var g=m.getDerivedStateFromProps,l=typeof g==\"function\"||typeof d.getSnapshotBeforeUpdate==\"function\";l||typeof d.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof d.componentWillReceiveProps!=\"function\"||(S!==y||t!==h)&&Op(i,d,y,h),er=!1;var a=i.memoizedState;d.state=a,ih(i,y,d,w),t=i.memoizedState,S!==y||a!==t||Ti.current||er?(typeof g==\"function\"&&(Md(i,m,g,y),t=i.memoizedState),(S=er||Lp(i,m,S,y,a,t,h))?(l||typeof d.UNSAFE_componentWillMount!=\"function\"&&typeof d.componentWillMount!=\"function\"||(typeof d.componentWillMount==\"function\"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount==\"function\"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount==\"function\"&&(i.flags|=4194308)):(typeof d.componentDidMount==\"function\"&&(i.flags|=4194308),i.memoizedProps=y,i.memoizedState=t),d.props=y,d.state=t,d.context=h,y=S):(typeof d.componentDidMount==\"function\"&&(i.flags|=4194308),y=!1)}else{d=i.stateNode,A1(e,i),S=i.memoizedProps,h=i.type===i.elementType?S:ki(i.type,S),d.props=h,l=i.pendingProps,a=d.context,t=m.contextType,typeof t==\"object\"&&t!==null?t=Hi(t):(t=Ei(m)?qr:li.current,t=ea(i,t));var o=m.getDerivedStateFromProps;(g=typeof o==\"function\"||typeof d.getSnapshotBeforeUpdate==\"function\")||typeof d.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof d.componentWillReceiveProps!=\"function\"||(S!==l||a!==t)&&Op(i,d,y,t),er=!1,a=i.memoizedState,d.state=a,ih(i,y,d,w);var n=i.memoizedState;S!==l||a!==n||Ti.current||er?(typeof o==\"function\"&&(Md(i,m,o,y),n=i.memoizedState),(h=er||Lp(i,m,h,y,a,n,t)||!1)?(g||typeof d.UNSAFE_componentWillUpdate!=\"function\"&&typeof d.componentWillUpdate!=\"function\"||(typeof d.componentWillUpdate==\"function\"&&d.componentWillUpdate(y,n,t),typeof d.UNSAFE_componentWillUpdate==\"function\"&&d.UNSAFE_componentWillUpdate(y,n,t)),typeof d.componentDidUpdate==\"function\"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate==\"function\"&&(i.flags|=1024)):(typeof d.componentDidUpdate!=\"function\"||S===e.memoizedProps&&a===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!=\"function\"||S===e.memoizedProps&&a===e.memoizedState||(i.flags|=1024),i.memoizedProps=y,i.memoizedState=n),d.props=y,d.state=n,d.context=t,y=h):(typeof d.componentDidUpdate!=\"function\"||S===e.memoizedProps&&a===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!=\"function\"||S===e.memoizedProps&&a===e.memoizedState||(i.flags|=1024),y=!1)}return Ld(e,i,m,y,P,w)}function Ld(e,i,m,y,w,P){J1(e,i);var d=(i.flags&128)!==0;if(!y&&!d)return w&&Ep(i,m,!1),Vn(e,i,P);y=i.stateNode,ow.current=i;var S=d&&typeof m.getDerivedStateFromError!=\"function\"?null:y.render();return i.flags|=1,e!==null&&d?(i.child=na(i,e.child,null,P),i.child=na(i,null,S,P)):ui(e,i,S,P),i.memoizedState=y.state,w&&Ep(i,m,!0),i.child}function q1(e){var i=e.stateNode;i.pendingContext?Tp(e,i.pendingContext,i.pendingContext!==i.context):i.context&&Tp(e,i.context,!1),_c(e,i.containerInfo)}function Up(e,i,m,y,w){return ia(),$c(w),i.flags|=256,ui(e,i,m,y),i.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function Dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function _1(e,i,m){var y=i.pendingProps,w=te.current,P=!1,d=(i.flags&128)!==0,S;if((S=d)||(S=e!==null&&e.memoizedState===null?!1:(w&2)!==0),S?(P=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(w|=1),Kt(te,w&1),e===null)return wd(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data===\"$!\"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=y.children,e=y.fallback,P?(y=i.mode,P=i.child,d={mode:\"hidden\",children:d},!(y&1)&&P!==null?(P.childLanes=0,P.pendingProps=d):P=jh(d,y,0,null),e=kr(e,y,m,null),P.return=i,e.return=i,P.sibling=e,i.child=P,i.child.memoizedState=Dd(m),i.memoizedState=Od,e):ov(i,d));if(w=e.memoizedState,w!==null&&(S=w.dehydrated,S!==null))return lw(e,i,d,y,S,w,m);if(P){P=y.fallback,d=i.mode,w=e.child,S=w.sibling;var t={mode:\"hidden\",children:y.children};return!(d&1)&&i.child!==w?(y=i.child,y.childLanes=0,y.pendingProps=t,i.deletions=null):(y=xr(w,t),y.subtreeFlags=w.subtreeFlags&14680064),S!==null?P=xr(S,P):(P=kr(P,d,m,null),P.flags|=2),P.return=i,y.return=i,y.sibling=P,i.child=y,y=P,P=i.child,d=e.child.memoizedState,d=d===null?Dd(m):{baseLanes:d.baseLanes|m,cachePool:null,transitions:d.transitions},P.memoizedState=d,P.childLanes=e.childLanes&~m,i.memoizedState=Od,y}return P=e.child,e=P.sibling,y=xr(P,{mode:\"visible\",children:y.children}),!(i.mode&1)&&(y.lanes=m),y.return=i,y.sibling=null,e!==null&&(m=i.deletions,m===null?(i.deletions=[e],i.flags|=16):m.push(e)),i.child=y,i.memoizedState=null,y}function ov(e,i){return i=jh({mode:\"visible\",children:i},e.mode,0,null),i.return=e,e.child=i}function el(e,i,m,y){return y!==null&&$c(y),na(i,e.child,null,m),e=ov(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function lw(e,i,m,y,w,P,d){if(m)return i.flags&256?(i.flags&=-257,y=lf(Error(mt(422))),el(e,i,d,y)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(P=y.fallback,w=i.mode,y=jh({mode:\"visible\",children:y.children},w,0,null),P=kr(P,w,d,null),P.flags|=2,y.return=i,P.return=i,y.sibling=P,i.child=y,i.mode&1&&na(i,e.child,null,d),i.child.memoizedState=Dd(d),i.memoizedState=Od,P);if(!(i.mode&1))return el(e,i,d,null);if(w.data===\"$!\"){if(y=w.nextSibling&&w.nextSibling.dataset,y)var S=y.dgst;return y=S,P=Error(mt(419)),y=lf(P,y,void 0),el(e,i,d,y)}if(S=(d&e.childLanes)!==0,yi||S){if(y=Ve,y!==null){switch(d&-d){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(y.suspendedLanes|d)?0:w,w!==0&&w!==P.retryLane&&(P.retryLane=w,zn(e,w),_i(y,e,w,-1))}return cv(),y=lf(Error(mt(421))),el(e,i,d,y)}return w.data===\"$?\"?(i.flags|=128,i.child=e.child,i=Tw.bind(null,e),w._reactRetry=i,null):(e=P.treeContext,Pi=vr(w.nextSibling),Ri=i,qt=!0,Qi=null,e!==null&&(Ui[zi++]=Ln,Ui[zi++]=On,Ui[zi++]=_r,Ln=e.id,On=e.overflow,_r=i),i=ov(i,y.children),i.flags|=4096,i)}function zp(e,i,m){e.lanes|=i;var y=e.alternate;y!==null&&(y.lanes|=i),Ad(e.return,i,m)}function hf(e,i,m,y,w){var P=e.memoizedState;P===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:w}:(P.isBackwards=i,P.rendering=null,P.renderingStartTime=0,P.last=y,P.tail=m,P.tailMode=w)}function ty(e,i,m){var y=i.pendingProps,w=y.revealOrder,P=y.tail;if(ui(e,i,y.children,m),y=te.current,y&2)y=y&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,m,i);else if(e.tag===19)zp(e,m,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}y&=1}if(Kt(te,y),!(i.mode&1))i.memoizedState=null;else switch(w){case\"forwards\":for(m=i.child,w=null;m!==null;)e=m.alternate,e!==null&&nh(e)===null&&(w=m),m=m.sibling;m=w,m===null?(w=i.child,i.child=null):(w=m.sibling,m.sibling=null),hf(i,!1,w,m,P);break;case\"backwards\":for(m=null,w=i.child,i.child=null;w!==null;){if(e=w.alternate,e!==null&&nh(e)===null){i.child=w;break}e=w.sibling,w.sibling=m,m=w,w=e}hf(i,!0,m,null,P);break;case\"together\":hf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ll(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Vn(e,i,m){if(e!==null&&(i.dependencies=e.dependencies),es|=i.lanes,!(m&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(mt(153));if(i.child!==null){for(e=i.child,m=xr(e,e.pendingProps),i.child=m,m.return=i;e.sibling!==null;)e=e.sibling,m=m.sibling=xr(e,e.pendingProps),m.return=i;m.sibling=null}return i.child}function hw(e,i,m){switch(i.tag){case 3:q1(i),ia();break;case 5:M1(i);break;case 1:Ei(i.type)&&Jl(i);break;case 4:_c(i,i.stateNode.containerInfo);break;case 10:var y=i.type._context,w=i.memoizedProps.value;Kt(th,y._currentValue),y._currentValue=w;break;case 13:if(y=i.memoizedState,y!==null)return y.dehydrated!==null?(Kt(te,te.current&1),i.flags|=128,null):m&i.child.childLanes?_1(e,i,m):(Kt(te,te.current&1),e=Vn(e,i,m),e!==null?e.sibling:null);Kt(te,te.current&1);break;case 19:if(y=(m&i.childLanes)!==0,e.flags&128){if(y)return ty(e,i,m);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Kt(te,te.current),y)break;return null;case 22:case 23:return i.lanes=0,Q1(e,i,m)}return Vn(e,i,m)}var ey,Bd,iy,ny;ey=function(e,i){for(var m=i.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};Bd=function(){};iy=function(e,i,m,y){var w=e.memoizedProps;if(w!==y){e=i.stateNode,Xr(pn.current);var P=null;switch(m){case\"input\":w=ed(e,w),y=ed(e,y),P=[];break;case\"select\":w=re({},w,{value:void 0}),y=re({},y,{value:void 0}),P=[];break;case\"textarea\":w=rd(e,w),y=rd(e,y),P=[];break;default:typeof w.onClick!=\"function\"&&typeof y.onClick==\"function\"&&(e.onclick=Zl)}ad(m,y);var d;m=null;for(h in w)if(!y.hasOwnProperty(h)&&w.hasOwnProperty(h)&&w[h]!=null)if(h===\"style\"){var S=w[h];for(d in S)S.hasOwnProperty(d)&&(m||(m={}),m[d]=\"\")}else h!==\"dangerouslySetInnerHTML\"&&h!==\"children\"&&h!==\"suppressContentEditableWarning\"&&h!==\"suppressHydrationWarning\"&&h!==\"autoFocus\"&&(eo.hasOwnProperty(h)?P||(P=[]):(P=P||[]).push(h,null));for(h in y){var t=y[h];if(S=w!=null?w[h]:void 0,y.hasOwnProperty(h)&&t!==S&&(t!=null||S!=null))if(h===\"style\")if(S){for(d in S)!S.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(m||(m={}),m[d]=\"\");for(d in t)t.hasOwnProperty(d)&&S[d]!==t[d]&&(m||(m={}),m[d]=t[d])}else m||(P||(P=[]),P.push(h,m)),m=t;else h===\"dangerouslySetInnerHTML\"?(t=t?t.__html:void 0,S=S?S.__html:void 0,t!=null&&S!==t&&(P=P||[]).push(h,t)):h===\"children\"?typeof t!=\"string\"&&typeof t!=\"number\"||(P=P||[]).push(h,\"\"+t):h!==\"suppressContentEditableWarning\"&&h!==\"suppressHydrationWarning\"&&(eo.hasOwnProperty(h)?(t!=null&&h===\"onScroll\"&&Zt(\"scroll\",e),P||S===t||(P=[])):(P=P||[]).push(h,t))}m&&(P=P||[]).push(\"style\",m);var h=P;(i.updateQueue=h)&&(i.flags|=4)}};ny=function(e,i,m,y){m!==y&&(i.flags|=4)};function Oa(e,i){if(!qt)switch(e.tailMode){case\"hidden\":i=e.tail;for(var m=null;i!==null;)i.alternate!==null&&(m=i),i=i.sibling;m===null?e.tail=null:m.sibling=null;break;case\"collapsed\":m=e.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:y.sibling=null}}function qe(e){var i=e.alternate!==null&&e.alternate.child===e.child,m=0,y=0;if(i)for(var w=e.child;w!==null;)m|=w.lanes|w.childLanes,y|=w.subtreeFlags&14680064,y|=w.flags&14680064,w.return=e,w=w.sibling;else for(w=e.child;w!==null;)m|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=e,w=w.sibling;return e.subtreeFlags|=y,e.childLanes=m,i}function uw(e,i,m){var y=i.pendingProps;switch(Kc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(i),null;case 1:return Ei(i.type)&&Ql(),qe(i),null;case 3:return y=i.stateNode,ra(),Jt(Ti),Jt(li),ev(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(e===null||e.child===null)&&(_o(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Qi!==null&&(Xd(Qi),Qi=null))),Bd(e,i),qe(i),null;case 5:tv(i);var w=Xr(vo.current);if(m=i.type,e!==null&&i.stateNode!=null)iy(e,i,m,y,w),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!y){if(i.stateNode===null)throw Error(mt(166));return qe(i),null}if(e=Xr(pn.current),_o(i)){y=i.stateNode,m=i.type;var P=i.memoizedProps;switch(y[un]=i,y[fo]=P,e=(i.mode&1)!==0,m){case\"dialog\":Zt(\"cancel\",y),Zt(\"close\",y);break;case\"iframe\":case\"object\":case\"embed\":Zt(\"load\",y);break;case\"video\":case\"audio\":for(w=0;w<za.length;w++)Zt(za[w],y);break;case\"source\":Zt(\"error\",y);break;case\"img\":case\"image\":case\"link\":Zt(\"error\",y),Zt(\"load\",y);break;case\"details\":Zt(\"toggle\",y);break;case\"input\":k0(y,P),Zt(\"invalid\",y);break;case\"select\":y._wrapperState={wasMultiple:!!P.multiple},Zt(\"invalid\",y);break;case\"textarea\":Q0(y,P),Zt(\"invalid\",y)}ad(m,P),w=null;for(var d in P)if(P.hasOwnProperty(d)){var S=P[d];d===\"children\"?typeof S==\"string\"?y.textContent!==S&&(P.suppressHydrationWarning!==!0&&qo(y.textContent,S,e),w=[\"children\",S]):typeof S==\"number\"&&y.textContent!==\"\"+S&&(P.suppressHydrationWarning!==!0&&qo(y.textContent,S,e),w=[\"children\",\"\"+S]):eo.hasOwnProperty(d)&&S!=null&&d===\"onScroll\"&&Zt(\"scroll\",y)}switch(m){case\"input\":Ho(y),Z0(y,P,!0);break;case\"textarea\":Ho(y),J0(y);break;case\"select\":case\"option\":break;default:typeof P.onClick==\"function\"&&(y.onclick=Zl)}y=w,i.updateQueue=y,y!==null&&(i.flags|=4)}else{d=w.nodeType===9?w:w.ownerDocument,e===\"http://www.w3.org/1999/xhtml\"&&(e=Ox(m)),e===\"http://www.w3.org/1999/xhtml\"?m===\"script\"?(e=d.createElement(\"div\"),e.innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):typeof y.is==\"string\"?e=d.createElement(m,{is:y.is}):(e=d.createElement(m),m===\"select\"&&(d=e,y.multiple?d.multiple=!0:y.size&&(d.size=y.size))):e=d.createElementNS(e,m),e[un]=i,e[fo]=y,ey(e,i,!1,!1),i.stateNode=e;t:{switch(d=od(m,y),m){case\"dialog\":Zt(\"cancel\",e),Zt(\"close\",e),w=y;break;case\"iframe\":case\"object\":case\"embed\":Zt(\"load\",e),w=y;break;case\"video\":case\"audio\":for(w=0;w<za.length;w++)Zt(za[w],e);w=y;break;case\"source\":Zt(\"error\",e),w=y;break;case\"img\":case\"image\":case\"link\":Zt(\"error\",e),Zt(\"load\",e),w=y;break;case\"details\":Zt(\"toggle\",e),w=y;break;case\"input\":k0(e,y),w=ed(e,y),Zt(\"invalid\",e);break;case\"option\":w=y;break;case\"select\":e._wrapperState={wasMultiple:!!y.multiple},w=re({},y,{value:void 0}),Zt(\"invalid\",e);break;case\"textarea\":Q0(e,y),w=rd(e,y),Zt(\"invalid\",e);break;default:w=y}ad(m,w),S=w;for(P in S)if(S.hasOwnProperty(P)){var t=S[P];P===\"style\"?bx(e,t):P===\"dangerouslySetInnerHTML\"?(t=t?t.__html:void 0,t!=null&&Dx(e,t)):P===\"children\"?typeof t==\"string\"?(m!==\"textarea\"||t!==\"\")&&io(e,t):typeof t==\"number\"&&io(e,\"\"+t):P!==\"suppressContentEditableWarning\"&&P!==\"suppressHydrationWarning\"&&P!==\"autoFocus\"&&(eo.hasOwnProperty(P)?t!=null&&P===\"onScroll\"&&Zt(\"scroll\",e):t!=null&&Oc(e,P,t,d))}switch(m){case\"input\":Ho(e),Z0(e,y,!1);break;case\"textarea\":Ho(e),J0(e);break;case\"option\":y.value!=null&&e.setAttribute(\"value\",\"\"+Tr(y.value));break;case\"select\":e.multiple=!!y.multiple,P=y.value,P!=null?Ys(e,!!y.multiple,P,!1):y.defaultValue!=null&&Ys(e,!!y.multiple,y.defaultValue,!0);break;default:typeof w.onClick==\"function\"&&(e.onclick=Zl)}switch(m){case\"button\":case\"input\":case\"select\":case\"textarea\":y=!!y.autoFocus;break t;case\"img\":y=!0;break t;default:y=!1}}y&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return qe(i),null;case 6:if(e&&i.stateNode!=null)ny(e,i,e.memoizedProps,y);else{if(typeof y!=\"string\"&&i.stateNode===null)throw Error(mt(166));if(m=Xr(vo.current),Xr(pn.current),_o(i)){if(y=i.stateNode,m=i.memoizedProps,y[un]=i,(P=y.nodeValue!==m)&&(e=Ri,e!==null))switch(e.tag){case 3:qo(y.nodeValue,m,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(y.nodeValue,m,(e.mode&1)!==0)}P&&(i.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[un]=i,i.stateNode=y}return qe(i),null;case 13:if(Jt(te),y=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Pi!==null&&i.mode&1&&!(i.flags&128))T1(),ia(),i.flags|=98560,P=!1;else if(P=_o(i),y!==null&&y.dehydrated!==null){if(e===null){if(!P)throw Error(mt(318));if(P=i.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(mt(317));P[un]=i}else ia(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;qe(i),P=!1}else Qi!==null&&(Xd(Qi),Qi=null),P=!0;if(!P)return i.flags&65536?i:null}return i.flags&128?(i.lanes=m,i):(y=y!==null,y!==(e!==null&&e.memoizedState!==null)&&y&&(i.child.flags|=8192,i.mode&1&&(e===null||te.current&1?Ge===0&&(Ge=3):cv())),i.updateQueue!==null&&(i.flags|=4),qe(i),null);case 4:return ra(),Bd(e,i),e===null&&ho(i.stateNode.containerInfo),qe(i),null;case 10:return Qc(i.type._context),qe(i),null;case 17:return Ei(i.type)&&Ql(),qe(i),null;case 19:if(Jt(te),P=i.memoizedState,P===null)return qe(i),null;if(y=(i.flags&128)!==0,d=P.rendering,d===null)if(y)Oa(P,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=nh(e),d!==null){for(i.flags|=128,Oa(P,!1),y=d.updateQueue,y!==null&&(i.updateQueue=y,i.flags|=4),i.subtreeFlags=0,y=m,m=i.child;m!==null;)P=m,e=y,P.flags&=14680066,d=P.alternate,d===null?(P.childLanes=0,P.lanes=e,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=d.childLanes,P.lanes=d.lanes,P.child=d.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=d.memoizedProps,P.memoizedState=d.memoizedState,P.updateQueue=d.updateQueue,P.type=d.type,e=d.dependencies,P.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),m=m.sibling;return Kt(te,te.current&1|2),i.child}e=e.sibling}P.tail!==null&&ce()>aa&&(i.flags|=128,y=!0,Oa(P,!1),i.lanes=4194304)}else{if(!y)if(e=nh(d),e!==null){if(i.flags|=128,y=!0,m=e.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),Oa(P,!0),P.tail===null&&P.tailMode===\"hidden\"&&!d.alternate&&!qt)return qe(i),null}else 2*ce()-P.renderingStartTime>aa&&m!==1073741824&&(i.flags|=128,y=!0,Oa(P,!1),i.lanes=4194304);P.isBackwards?(d.sibling=i.child,i.child=d):(m=P.last,m!==null?m.sibling=d:i.child=d,P.last=d)}return P.tail!==null?(i=P.tail,P.rendering=i,P.tail=i.sibling,P.renderingStartTime=ce(),i.sibling=null,m=te.current,Kt(te,y?m&1|2:m&1),i):(qe(i),null);case 22:case 23:return dv(),y=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==y&&(i.flags|=8192),y&&i.mode&1?Ai&1073741824&&(qe(i),i.subtreeFlags&6&&(i.flags|=8192)):qe(i),null;case 24:return null;case 25:return null}throw Error(mt(156,i.tag))}function fw(e,i){switch(Kc(i),i.tag){case 1:return Ei(i.type)&&Ql(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ra(),Jt(Ti),Jt(li),ev(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return tv(i),null;case 13:if(Jt(te),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(mt(340));ia()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Jt(te),null;case 4:return ra(),null;case 10:return Qc(i.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var il=!1,si=!1,dw=typeof WeakSet==\"function\"?WeakSet:Set,Ct=null;function bs(e,i){var m=e.ref;if(m!==null)if(typeof m==\"function\")try{m(null)}catch(y){le(e,i,y)}else m.current=null}function bd(e,i,m){try{m()}catch(y){le(e,i,y)}}var Vp=!1;function cw(e,i){if(gd=Kl,e=l1(),Hc(e)){if(\"selectionStart\"in e)var m={start:e.selectionStart,end:e.selectionEnd};else t:{m=(m=e.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var w=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break t}var d=0,S=-1,t=-1,h=0,g=0,l=e,a=null;e:for(;;){for(var o;l!==m||w!==0&&l.nodeType!==3||(S=d+w),l!==P||y!==0&&l.nodeType!==3||(t=d+y),l.nodeType===3&&(d+=l.nodeValue.length),(o=l.firstChild)!==null;)a=l,l=o;for(;;){if(l===e)break e;if(a===m&&++h===w&&(S=d),a===P&&++g===y&&(t=d),(o=l.nextSibling)!==null)break;l=a,a=l.parentNode}l=o}m=S===-1||t===-1?null:{start:S,end:t}}else m=null}m=m||{start:0,end:0}}else m=null;for(xd={focusedElem:e,selectionRange:m},Kl=!1,Ct=i;Ct!==null;)if(i=Ct,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ct=e;else for(;Ct!==null;){i=Ct;try{var n=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(n!==null){var s=n.memoizedProps,f=n.memoizedState,r=i.stateNode,u=r.getSnapshotBeforeUpdate(i.elementType===i.type?s:ki(i.type,s),f);r.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var c=i.stateNode.containerInfo;c.nodeType===1?c.textContent=\"\":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(p){le(i,i.return,p)}if(e=i.sibling,e!==null){e.return=i.return,Ct=e;break}Ct=i.return}return n=Vp,Vp=!1,n}function ka(e,i,m){var y=i.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var w=y=y.next;do{if((w.tag&e)===e){var P=w.destroy;w.destroy=void 0,P!==void 0&&bd(i,m,P)}w=w.next}while(w!==y)}}function Yh(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var m=i=i.next;do{if((m.tag&e)===e){var y=m.create;m.destroy=y()}m=m.next}while(m!==i)}}function Id(e){var i=e.ref;if(i!==null){var m=e.stateNode;switch(e.tag){case 5:e=m;break;default:e=m}typeof i==\"function\"?i(e):i.current=e}}function ry(e){var i=e.alternate;i!==null&&(e.alternate=null,ry(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[un],delete i[fo],delete i[Td],delete i[Z3],delete i[Q3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sy(e){return e.tag===5||e.tag===3||e.tag===4}function Xp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,m){var y=e.tag;if(y===5||y===6)e=e.stateNode,i?m.nodeType===8?m.parentNode.insertBefore(e,i):m.insertBefore(e,i):(m.nodeType===8?(i=m.parentNode,i.insertBefore(e,m)):(i=m,i.appendChild(e)),m=m._reactRootContainer,m!=null||i.onclick!==null||(i.onclick=Zl));else if(y!==4&&(e=e.child,e!==null))for(Nd(e,i,m),e=e.sibling;e!==null;)Nd(e,i,m),e=e.sibling}function Gd(e,i,m){var y=e.tag;if(y===5||y===6)e=e.stateNode,i?m.insertBefore(e,i):m.appendChild(e);else if(y!==4&&(e=e.child,e!==null))for(Gd(e,i,m),e=e.sibling;e!==null;)Gd(e,i,m),e=e.sibling}var Ye=null,Zi=!1;function Yn(e,i,m){for(m=m.child;m!==null;)ay(e,i,m),m=m.sibling}function ay(e,i,m){if(vn&&typeof vn.onCommitFiberUnmount==\"function\")try{vn.onCommitFiberUnmount(Ih,m)}catch{}switch(m.tag){case 5:si||bs(m,i);case 6:var y=Ye,w=Zi;Ye=null,Yn(e,i,m),Ye=y,Zi=w,Ye!==null&&(Zi?(e=Ye,m=m.stateNode,e.nodeType===8?e.parentNode.removeChild(m):e.removeChild(m)):Ye.removeChild(m.stateNode));break;case 18:Ye!==null&&(Zi?(e=Ye,m=m.stateNode,e.nodeType===8?ef(e.parentNode,m):e.nodeType===1&&ef(e,m),ao(e)):ef(Ye,m.stateNode));break;case 4:y=Ye,w=Zi,Ye=m.stateNode.containerInfo,Zi=!0,Yn(e,i,m),Ye=y,Zi=w;break;case 0:case 11:case 14:case 15:if(!si&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){w=y=y.next;do{var P=w,d=P.destroy;P=P.tag,d!==void 0&&(P&2||P&4)&&bd(m,i,d),w=w.next}while(w!==y)}Yn(e,i,m);break;case 1:if(!si&&(bs(m,i),y=m.stateNode,typeof y.componentWillUnmount==\"function\"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(S){le(m,i,S)}Yn(e,i,m);break;case 21:Yn(e,i,m);break;case 22:m.mode&1?(si=(y=si)||m.memoizedState!==null,Yn(e,i,m),si=y):Yn(e,i,m);break;default:Yn(e,i,m)}}function Wp(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var m=e.stateNode;m===null&&(m=e.stateNode=new dw),i.forEach(function(y){var w=Ew.bind(null,e,y);m.has(y)||(m.add(y),y.then(w,w))})}}function Ki(e,i){var m=i.deletions;if(m!==null)for(var y=0;y<m.length;y++){var w=m[y];try{var P=e,d=i,S=d;t:for(;S!==null;){switch(S.tag){case 5:Ye=S.stateNode,Zi=!1;break t;case 3:Ye=S.stateNode.containerInfo,Zi=!0;break t;case 4:Ye=S.stateNode.containerInfo,Zi=!0;break t}S=S.return}if(Ye===null)throw Error(mt(160));ay(P,d,w),Ye=null,Zi=!1;var t=w.alternate;t!==null&&(t.return=null),w.return=null}catch(h){le(w,i,h)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)oy(i,e),i=i.sibling}function oy(e,i){var m=e.alternate,y=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ki(i,e),on(e),y&4){try{ka(3,e,e.return),Yh(3,e)}catch(s){le(e,e.return,s)}try{ka(5,e,e.return)}catch(s){le(e,e.return,s)}}break;case 1:Ki(i,e),on(e),y&512&&m!==null&&bs(m,m.return);break;case 5:if(Ki(i,e),on(e),y&512&&m!==null&&bs(m,m.return),e.flags&32){var w=e.stateNode;try{io(w,\"\")}catch(s){le(e,e.return,s)}}if(y&4&&(w=e.stateNode,w!=null)){var P=e.memoizedProps,d=m!==null?m.memoizedProps:P,S=e.type,t=e.updateQueue;if(e.updateQueue=null,t!==null)try{S===\"input\"&&P.type===\"radio\"&&P.name!=null&&Fx(w,P),od(S,d);var h=od(S,P);for(d=0;d<t.length;d+=2){var g=t[d],l=t[d+1];g===\"style\"?bx(w,l):g===\"dangerouslySetInnerHTML\"?Dx(w,l):g===\"children\"?io(w,l):Oc(w,g,l,h)}switch(S){case\"input\":id(w,P);break;case\"textarea\":Lx(w,P);break;case\"select\":var a=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!P.multiple;var o=P.value;o!=null?Ys(w,!!P.multiple,o,!1):a!==!!P.multiple&&(P.defaultValue!=null?Ys(w,!!P.multiple,P.defaultValue,!0):Ys(w,!!P.multiple,P.multiple?[]:\"\",!1))}w[fo]=P}catch(s){le(e,e.return,s)}}break;case 6:if(Ki(i,e),on(e),y&4){if(e.stateNode===null)throw Error(mt(162));w=e.stateNode,P=e.memoizedProps;try{w.nodeValue=P}catch(s){le(e,e.return,s)}}break;case 3:if(Ki(i,e),on(e),y&4&&m!==null&&m.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(s){le(e,e.return,s)}break;case 4:Ki(i,e),on(e);break;case 13:Ki(i,e),on(e),w=e.child,w.flags&8192&&(P=w.memoizedState!==null,w.stateNode.isHidden=P,!P||w.alternate!==null&&w.alternate.memoizedState!==null||(uv=ce())),y&4&&Wp(e);break;case 22:if(g=m!==null&&m.memoizedState!==null,e.mode&1?(si=(h=si)||g,Ki(i,e),si=h):Ki(i,e),on(e),y&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Ct=e,g=e.child;g!==null;){for(l=Ct=g;Ct!==null;){switch(a=Ct,o=a.child,a.tag){case 0:case 11:case 14:case 15:ka(4,a,a.return);break;case 1:bs(a,a.return);var n=a.stateNode;if(typeof n.componentWillUnmount==\"function\"){y=a,m=a.return;try{i=y,n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(s){le(y,m,s)}}break;case 5:bs(a,a.return);break;case 22:if(a.memoizedState!==null){Hp(l);continue}}o!==null?(o.return=a,Ct=o):Hp(l)}g=g.sibling}t:for(g=null,l=e;;){if(l.tag===5){if(g===null){g=l;try{w=l.stateNode,h?(P=w.style,typeof P.setProperty==\"function\"?P.setProperty(\"display\",\"none\",\"important\"):P.display=\"none\"):(S=l.stateNode,t=l.memoizedProps.style,d=t!=null&&t.hasOwnProperty(\"display\")?t.display:null,S.style.display=Bx(\"display\",d))}catch(s){le(e,e.return,s)}}}else if(l.tag===6){if(g===null)try{l.stateNode.nodeValue=h?\"\":l.memoizedProps}catch(s){le(e,e.return,s)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===e)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break t;for(;l.sibling===null;){if(l.return===null||l.return===e)break t;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:Ki(i,e),on(e),y&4&&Wp(e);break;case 21:break;default:Ki(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{t:{for(var m=e.return;m!==null;){if(sy(m)){var y=m;break t}m=m.return}throw Error(mt(160))}switch(y.tag){case 5:var w=y.stateNode;y.flags&32&&(io(w,\"\"),y.flags&=-33);var P=Xp(e);Gd(e,P,w);break;case 3:case 4:var d=y.stateNode.containerInfo,S=Xp(e);Nd(e,S,d);break;default:throw Error(mt(161))}}catch(t){le(e,e.return,t)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function vw(e,i,m){Ct=e,ly(e)}function ly(e,i,m){for(var y=(e.mode&1)!==0;Ct!==null;){var w=Ct,P=w.child;if(w.tag===22&&y){var d=w.memoizedState!==null||il;if(!d){var S=w.alternate,t=S!==null&&S.memoizedState!==null||si;S=il;var h=si;if(il=d,(si=t)&&!h)for(Ct=w;Ct!==null;)d=Ct,t=d.child,d.tag===22&&d.memoizedState!==null?jp(w):t!==null?(t.return=d,Ct=t):jp(w);for(;P!==null;)Ct=P,ly(P),P=P.sibling;Ct=w,il=S,si=h}Yp(e)}else w.subtreeFlags&8772&&P!==null?(P.return=w,Ct=P):Yp(e)}}function Yp(e){for(;Ct!==null;){var i=Ct;if(i.flags&8772){var m=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:si||Yh(5,i);break;case 1:var y=i.stateNode;if(i.flags&4&&!si)if(m===null)y.componentDidMount();else{var w=i.elementType===i.type?m.memoizedProps:ki(i.type,m.memoizedProps);y.componentDidUpdate(w,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var P=i.updateQueue;P!==null&&Pp(i,P,y);break;case 3:var d=i.updateQueue;if(d!==null){if(m=null,i.child!==null)switch(i.child.tag){case 5:m=i.child.stateNode;break;case 1:m=i.child.stateNode}Pp(i,d,m)}break;case 5:var S=i.stateNode;if(m===null&&i.flags&4){m=S;var t=i.memoizedProps;switch(i.type){case\"button\":case\"input\":case\"select\":case\"textarea\":t.autoFocus&&m.focus();break;case\"img\":t.src&&(m.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var h=i.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var l=g.dehydrated;l!==null&&ao(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}si||i.flags&512&&Id(i)}catch(a){le(i,i.return,a)}}if(i===e){Ct=null;break}if(m=i.sibling,m!==null){m.return=i.return,Ct=m;break}Ct=i.return}}function Hp(e){for(;Ct!==null;){var i=Ct;if(i===e){Ct=null;break}var m=i.sibling;if(m!==null){m.return=i.return,Ct=m;break}Ct=i.return}}function jp(e){for(;Ct!==null;){var i=Ct;try{switch(i.tag){case 0:case 11:case 15:var m=i.return;try{Yh(4,i)}catch(t){le(i,m,t)}break;case 1:var y=i.stateNode;if(typeof y.componentDidMount==\"function\"){var w=i.return;try{y.componentDidMount()}catch(t){le(i,w,t)}}var P=i.return;try{Id(i)}catch(t){le(i,P,t)}break;case 5:var d=i.return;try{Id(i)}catch(t){le(i,d,t)}}}catch(t){le(i,i.return,t)}if(i===e){Ct=null;break}var S=i.sibling;if(S!==null){S.return=i.return,Ct=S;break}Ct=i.return}}var pw=Math.ceil,ah=Wn.ReactCurrentDispatcher,lv=Wn.ReactCurrentOwner,Xi=Wn.ReactCurrentBatchConfig,zt=0,Ve=null,De=null,Ke=0,Ai=0,Is=Pr(0),Ge=0,xo=null,es=0,Hh=0,hv=0,Za=null,gi=null,uv=0,aa=1/0,Mn=null,oh=!1,Ud=null,mr=null,nl=!1,or=null,lh=0,Qa=0,zd=null,Ol=-1,Dl=0;function di(){return zt&6?ce():Ol!==-1?Ol:Ol=ce()}function gr(e){return e.mode&1?zt&2&&Ke!==0?Ke&-Ke:q3.transition!==null?(Dl===0&&(Dl=Kx()),Dl):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:_x(e.type)),e):1}function _i(e,i,m,y){if(50<Qa)throw Qa=0,zd=null,Error(mt(185));Po(e,m,y),(!(zt&2)||e!==Ve)&&(e===Ve&&(!(zt&2)&&(Hh|=m),Ge===4&&sr(e,Ke)),Ci(e,y),m===1&&zt===0&&!(i.mode&1)&&(aa=ce()+500,Vh&&Rr()))}function Ci(e,i){var m=e.callbackNode;qC(e,i);var y=jl(e,e===Ve?Ke:0);if(y===0)m!==null&&tp(m),e.callbackNode=null,e.callbackPriority=0;else if(i=y&-y,e.callbackPriority!==i){if(m!=null&&tp(m),i===1)e.tag===0?J3(Kp.bind(null,e)):x1(Kp.bind(null,e)),$3(function(){!(zt&6)&&Rr()}),m=null;else{switch($x(y)){case 1:m=Nc;break;case 4:m=Hx;break;case 16:m=Hl;break;case 536870912:m=jx;break;default:m=Hl}m=my(m,hy.bind(null,e))}e.callbackPriority=i,e.callbackNode=m}}function hy(e,i){if(Ol=-1,Dl=0,zt&6)throw Error(mt(327));var m=e.callbackNode;if(ks()&&e.callbackNode!==m)return null;var y=jl(e,e===Ve?Ke:0);if(y===0)return null;if(y&30||y&e.expiredLanes||i)i=hh(e,y);else{i=y;var w=zt;zt|=2;var P=fy();(Ve!==e||Ke!==i)&&(Mn=null,aa=ce()+500,$r(e,i));do try{xw();break}catch(S){uy(e,S)}while(!0);Zc(),ah.current=P,zt=w,De!==null?i=0:(Ve=null,Ke=0,i=Ge)}if(i!==0){if(i===2&&(w=dd(e),w!==0&&(y=w,i=Vd(e,w))),i===1)throw m=xo,$r(e,0),sr(e,y),Ci(e,ce()),m;if(i===6)sr(e,y);else{if(w=e.current.alternate,!(y&30)&&!mw(w)&&(i=hh(e,y),i===2&&(P=dd(e),P!==0&&(y=P,i=Vd(e,P))),i===1))throw m=xo,$r(e,0),sr(e,y),Ci(e,ce()),m;switch(e.finishedWork=w,e.finishedLanes=y,i){case 0:case 1:throw Error(mt(345));case 2:Dr(e,gi,Mn);break;case 3:if(sr(e,y),(y&130023424)===y&&(i=uv+500-ce(),10<i)){if(jl(e,0)!==0)break;if(w=e.suspendedLanes,(w&y)!==y){di(),e.pingedLanes|=e.suspendedLanes&w;break}e.timeoutHandle=Sd(Dr.bind(null,e,gi,Mn),i);break}Dr(e,gi,Mn);break;case 4:if(sr(e,y),(y&4194240)===y)break;for(i=e.eventTimes,w=-1;0<y;){var d=31-qi(y);P=1<<d,d=i[d],d>w&&(w=d),y&=~P}if(y=w,y=ce()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*pw(y/1960))-y,10<y){e.timeoutHandle=Sd(Dr.bind(null,e,gi,Mn),y);break}Dr(e,gi,Mn);break;case 5:Dr(e,gi,Mn);break;default:throw Error(mt(329))}}}return Ci(e,ce()),e.callbackNode===m?hy.bind(null,e):null}function Vd(e,i){var m=Za;return e.current.memoizedState.isDehydrated&&($r(e,i).flags|=256),e=hh(e,i),e!==2&&(i=gi,gi=m,i!==null&&Xd(i)),e}function Xd(e){gi===null?gi=e:gi.push.apply(gi,e)}function mw(e){for(var i=e;;){if(i.flags&16384){var m=i.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var w=m[y],P=w.getSnapshot;w=w.value;try{if(!en(P(),w))return!1}catch{return!1}}}if(m=i.child,i.subtreeFlags&16384&&m!==null)m.return=i,i=m;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sr(e,i){for(i&=~hv,i&=~Hh,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var m=31-qi(i),y=1<<m;e[m]=-1,i&=~y}}function Kp(e){if(zt&6)throw Error(mt(327));ks();var i=jl(e,0);if(!(i&1))return Ci(e,ce()),null;var m=hh(e,i);if(e.tag!==0&&m===2){var y=dd(e);y!==0&&(i=y,m=Vd(e,y))}if(m===1)throw m=xo,$r(e,0),sr(e,i),Ci(e,ce()),m;if(m===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Dr(e,gi,Mn),Ci(e,ce()),null}function fv(e,i){var m=zt;zt|=1;try{return e(i)}finally{zt=m,zt===0&&(aa=ce()+500,Vh&&Rr())}}function is(e){or!==null&&or.tag===0&&!(zt&6)&&ks();var i=zt;zt|=1;var m=Xi.transition,y=Wt;try{if(Xi.transition=null,Wt=1,e)return e()}finally{Wt=y,Xi.transition=m,zt=i,!(zt&6)&&Rr()}}function dv(){Ai=Is.current,Jt(Is)}function $r(e,i){e.finishedWork=null,e.finishedLanes=0;var m=e.timeoutHandle;if(m!==-1&&(e.timeoutHandle=-1,K3(m)),De!==null)for(m=De.return;m!==null;){var y=m;switch(Kc(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ql();break;case 3:ra(),Jt(Ti),Jt(li),ev();break;case 5:tv(y);break;case 4:ra();break;case 13:Jt(te);break;case 19:Jt(te);break;case 10:Qc(y.type._context);break;case 22:case 23:dv()}m=m.return}if(Ve=e,De=e=xr(e.current,null),Ke=Ai=i,Ge=0,xo=null,hv=Hh=es=0,gi=Za=null,Vr!==null){for(i=0;i<Vr.length;i++)if(m=Vr[i],y=m.interleaved,y!==null){m.interleaved=null;var w=y.next,P=m.pending;if(P!==null){var d=P.next;P.next=w,y.next=d}m.pending=y}Vr=null}return e}function uy(e,i){do{var m=De;try{if(Zc(),Rl.current=sh,rh){for(var y=ne.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}rh=!1}if(ts=0,ze=be=ne=null,$a=!1,po=0,lv.current=null,m===null||m.return===null){Ge=1,xo=i,De=null;break}t:{var P=e,d=m.return,S=m,t=i;if(i=Ke,S.flags|=32768,t!==null&&typeof t==\"object\"&&typeof t.then==\"function\"){var h=t,g=S,l=g.tag;if(!(g.mode&1)&&(l===0||l===11||l===15)){var a=g.alternate;a?(g.updateQueue=a.updateQueue,g.memoizedState=a.memoizedState,g.lanes=a.lanes):(g.updateQueue=null,g.memoizedState=null)}var o=Bp(d);if(o!==null){o.flags&=-257,bp(o,d,S,P,i),o.mode&1&&Dp(P,h,i),i=o,t=h;var n=i.updateQueue;if(n===null){var s=new Set;s.add(t),i.updateQueue=s}else n.add(t);break t}else{if(!(i&1)){Dp(P,h,i),cv();break t}t=Error(mt(426))}}else if(qt&&S.mode&1){var f=Bp(d);if(f!==null){!(f.flags&65536)&&(f.flags|=256),bp(f,d,S,P,i),$c(sa(t,S));break t}}P=t=sa(t,S),Ge!==4&&(Ge=2),Za===null?Za=[P]:Za.push(P),P=d;do{switch(P.tag){case 3:P.flags|=65536,i&=-i,P.lanes|=i;var r=$1(P,t,i);Mp(P,r);break t;case 1:S=t;var u=P.type,c=P.stateNode;if(!(P.flags&128)&&(typeof u.getDerivedStateFromError==\"function\"||c!==null&&typeof c.componentDidCatch==\"function\"&&(mr===null||!mr.has(c)))){P.flags|=65536,i&=-i,P.lanes|=i;var p=k1(P,S,i);Mp(P,p);break t}}P=P.return}while(P!==null)}cy(m)}catch(v){i=v,De===m&&m!==null&&(De=m=m.return);continue}break}while(!0)}function fy(){var e=ah.current;return ah.current=sh,e===null?sh:e}function cv(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ve===null||!(es&268435455)&&!(Hh&268435455)||sr(Ve,Ke)}function hh(e,i){var m=zt;zt|=2;var y=fy();(Ve!==e||Ke!==i)&&(Mn=null,$r(e,i));do try{gw();break}catch(w){uy(e,w)}while(!0);if(Zc(),zt=m,ah.current=y,De!==null)throw Error(mt(261));return Ve=null,Ke=0,Ge}function gw(){for(;De!==null;)dy(De)}function xw(){for(;De!==null&&!YC();)dy(De)}function dy(e){var i=py(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,i===null?cy(e):De=i,lv.current=null}function cy(e){var i=e;do{var m=i.alternate;if(e=i.return,i.flags&32768){if(m=fw(m,i),m!==null){m.flags&=32767,De=m;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,De=null;return}}else if(m=uw(m,i,Ai),m!==null){De=m;return}if(i=i.sibling,i!==null){De=i;return}De=i=e}while(i!==null);Ge===0&&(Ge=5)}function Dr(e,i,m){var y=Wt,w=Xi.transition;try{Xi.transition=null,Wt=1,yw(e,i,m,y)}finally{Xi.transition=w,Wt=y}return null}function yw(e,i,m,y){do ks();while(or!==null);if(zt&6)throw Error(mt(327));m=e.finishedWork;var w=e.finishedLanes;if(m===null)return null;if(e.finishedWork=null,e.finishedLanes=0,m===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var P=m.lanes|m.childLanes;if(_C(e,P),e===Ve&&(De=Ve=null,Ke=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||nl||(nl=!0,my(Hl,function(){return ks(),null})),P=(m.flags&15990)!==0,m.subtreeFlags&15990||P){P=Xi.transition,Xi.transition=null;var d=Wt;Wt=1;var S=zt;zt|=4,lv.current=null,cw(e,m),oy(m,e),z3(xd),Kl=!!gd,xd=gd=null,e.current=m,vw(m),HC(),zt=S,Wt=d,Xi.transition=P}else e.current=m;if(nl&&(nl=!1,or=e,lh=w),P=e.pendingLanes,P===0&&(mr=null),$C(m.stateNode),Ci(e,ce()),i!==null)for(y=e.onRecoverableError,m=0;m<i.length;m++)w=i[m],y(w.value,{componentStack:w.stack,digest:w.digest});if(oh)throw oh=!1,e=Ud,Ud=null,e;return lh&1&&e.tag!==0&&ks(),P=e.pendingLanes,P&1?e===zd?Qa++:(Qa=0,zd=e):Qa=0,Rr(),null}function ks(){if(or!==null){var e=$x(lh),i=Xi.transition,m=Wt;try{if(Xi.transition=null,Wt=16>e?16:e,or===null)var y=!1;else{if(e=or,or=null,lh=0,zt&6)throw Error(mt(331));var w=zt;for(zt|=4,Ct=e.current;Ct!==null;){var P=Ct,d=P.child;if(Ct.flags&16){var S=P.deletions;if(S!==null){for(var t=0;t<S.length;t++){var h=S[t];for(Ct=h;Ct!==null;){var g=Ct;switch(g.tag){case 0:case 11:case 15:ka(8,g,P)}var l=g.child;if(l!==null)l.return=g,Ct=l;else for(;Ct!==null;){g=Ct;var a=g.sibling,o=g.return;if(ry(g),g===h){Ct=null;break}if(a!==null){a.return=o,Ct=a;break}Ct=o}}}var n=P.alternate;if(n!==null){var s=n.child;if(s!==null){n.child=null;do{var f=s.sibling;s.sibling=null,s=f}while(s!==null)}}Ct=P}}if(P.subtreeFlags&2064&&d!==null)d.return=P,Ct=d;else t:for(;Ct!==null;){if(P=Ct,P.flags&2048)switch(P.tag){case 0:case 11:case 15:ka(9,P,P.return)}var r=P.sibling;if(r!==null){r.return=P.return,Ct=r;break t}Ct=P.return}}var u=e.current;for(Ct=u;Ct!==null;){d=Ct;var c=d.child;if(d.subtreeFlags&2064&&c!==null)c.return=d,Ct=c;else t:for(d=u;Ct!==null;){if(S=Ct,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Yh(9,S)}}catch(v){le(S,S.return,v)}if(S===d){Ct=null;break t}var p=S.sibling;if(p!==null){p.return=S.return,Ct=p;break t}Ct=S.return}}if(zt=w,Rr(),vn&&typeof vn.onPostCommitFiberRoot==\"function\")try{vn.onPostCommitFiberRoot(Ih,e)}catch{}y=!0}return y}finally{Wt=m,Xi.transition=i}}return!1}function $p(e,i,m){i=sa(m,i),i=$1(e,i,1),e=pr(e,i,1),i=di(),e!==null&&(Po(e,1,i),Ci(e,i))}function le(e,i,m){if(e.tag===3)$p(e,e,m);else for(;i!==null;){if(i.tag===3){$p(i,e,m);break}else if(i.tag===1){var y=i.stateNode;if(typeof i.type.getDerivedStateFromError==\"function\"||typeof y.componentDidCatch==\"function\"&&(mr===null||!mr.has(y))){e=sa(m,e),e=k1(i,e,1),i=pr(i,e,1),e=di(),i!==null&&(Po(i,1,e),Ci(i,e));break}}i=i.return}}function Sw(e,i,m){var y=e.pingCache;y!==null&&y.delete(i),i=di(),e.pingedLanes|=e.suspendedLanes&m,Ve===e&&(Ke&m)===m&&(Ge===4||Ge===3&&(Ke&130023424)===Ke&&500>ce()-uv?$r(e,0):hv|=m),Ci(e,i)}function vy(e,i){i===0&&(e.mode&1?(i=$o,$o<<=1,!($o&130023424)&&($o=4194304)):i=1);var m=di();e=zn(e,i),e!==null&&(Po(e,i,m),Ci(e,m))}function Tw(e){var i=e.memoizedState,m=0;i!==null&&(m=i.retryLane),vy(e,m)}function Ew(e,i){var m=0;switch(e.tag){case 13:var y=e.stateNode,w=e.memoizedState;w!==null&&(m=w.retryLane);break;case 19:y=e.stateNode;break;default:throw Error(mt(314))}y!==null&&y.delete(i),vy(e,m)}var py;py=function(e,i,m){if(e!==null)if(e.memoizedProps!==i.pendingProps||Ti.current)yi=!0;else{if(!(e.lanes&m)&&!(i.flags&128))return yi=!1,hw(e,i,m);yi=!!(e.flags&131072)}else yi=!1,qt&&i.flags&1048576&&y1(i,_l,i.index);switch(i.lanes=0,i.tag){case 2:var y=i.type;Ll(e,i),e=i.pendingProps;var w=ea(i,li.current);$s(i,m),w=nv(null,i,y,e,w,m);var P=rv();return i.flags|=1,typeof w==\"object\"&&w!==null&&typeof w.render==\"function\"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ei(y)?(P=!0,Jl(i)):P=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,qc(i),w.updater=Wh,i.stateNode=w,w._reactInternals=i,Pd(i,y,e,m),i=Ld(null,i,y,!0,P,m)):(i.tag=0,qt&&P&&jc(i),ui(null,i,w,m),i=i.child),i;case 16:y=i.elementType;t:{switch(Ll(e,i),e=i.pendingProps,w=y._init,y=w(y._payload),i.type=y,w=i.tag=ww(y),e=ki(y,e),w){case 0:i=Fd(null,i,y,e,m);break t;case 1:i=Gp(null,i,y,e,m);break t;case 11:i=Ip(null,i,y,e,m);break t;case 14:i=Np(null,i,y,ki(y.type,e),m);break t}throw Error(mt(306,y,\"\"))}return i;case 0:return y=i.type,w=i.pendingProps,w=i.elementType===y?w:ki(y,w),Fd(e,i,y,w,m);case 1:return y=i.type,w=i.pendingProps,w=i.elementType===y?w:ki(y,w),Gp(e,i,y,w,m);case 3:t:{if(q1(i),e===null)throw Error(mt(387));y=i.pendingProps,P=i.memoizedState,w=P.element,A1(e,i),ih(i,y,null,m);var d=i.memoizedState;if(y=d.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=P,i.memoizedState=P,i.flags&256){w=sa(Error(mt(423)),i),i=Up(e,i,y,m,w);break t}else if(y!==w){w=sa(Error(mt(424)),i),i=Up(e,i,y,m,w);break t}else for(Pi=vr(i.stateNode.containerInfo.firstChild),Ri=i,qt=!0,Qi=null,m=C1(i,null,y,m),i.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ia(),y===w){i=Vn(e,i,m);break t}ui(e,i,y,m)}i=i.child}return i;case 5:return M1(i),e===null&&wd(i),y=i.type,w=i.pendingProps,P=e!==null?e.memoizedProps:null,d=w.children,yd(y,w)?d=null:P!==null&&yd(y,P)&&(i.flags|=32),J1(e,i),ui(e,i,d,m),i.child;case 6:return e===null&&wd(i),null;case 13:return _1(e,i,m);case 4:return _c(i,i.stateNode.containerInfo),y=i.pendingProps,e===null?i.child=na(i,null,y,m):ui(e,i,y,m),i.child;case 11:return y=i.type,w=i.pendingProps,w=i.elementType===y?w:ki(y,w),Ip(e,i,y,w,m);case 7:return ui(e,i,i.pendingProps,m),i.child;case 8:return ui(e,i,i.pendingProps.children,m),i.child;case 12:return ui(e,i,i.pendingProps.children,m),i.child;case 10:t:{if(y=i.type._context,w=i.pendingProps,P=i.memoizedProps,d=w.value,Kt(th,y._currentValue),y._currentValue=d,P!==null)if(en(P.value,d)){if(P.children===w.children&&!Ti.current){i=Vn(e,i,m);break t}}else for(P=i.child,P!==null&&(P.return=i);P!==null;){var S=P.dependencies;if(S!==null){d=P.child;for(var t=S.firstContext;t!==null;){if(t.context===y){if(P.tag===1){t=bn(-1,m&-m),t.tag=2;var h=P.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?t.next=t:(t.next=g.next,g.next=t),h.pending=t}}P.lanes|=m,t=P.alternate,t!==null&&(t.lanes|=m),Ad(P.return,m,i),S.lanes|=m;break}t=t.next}}else if(P.tag===10)d=P.type===i.type?null:P.child;else if(P.tag===18){if(d=P.return,d===null)throw Error(mt(341));d.lanes|=m,S=d.alternate,S!==null&&(S.lanes|=m),Ad(d,m,i),d=P.sibling}else d=P.child;if(d!==null)d.return=P;else for(d=P;d!==null;){if(d===i){d=null;break}if(P=d.sibling,P!==null){P.return=d.return,d=P;break}d=d.return}P=d}ui(e,i,w.children,m),i=i.child}return i;case 9:return w=i.type,y=i.pendingProps.children,$s(i,m),w=Hi(w),y=y(w),i.flags|=1,ui(e,i,y,m),i.child;case 14:return y=i.type,w=ki(y,i.pendingProps),w=ki(y.type,w),Np(e,i,y,w,m);case 15:return Z1(e,i,i.type,i.pendingProps,m);case 17:return y=i.type,w=i.pendingProps,w=i.elementType===y?w:ki(y,w),Ll(e,i),i.tag=1,Ei(y)?(e=!0,Jl(i)):e=!1,$s(i,m),K1(i,y,w),Pd(i,y,w,m),Ld(null,i,y,!0,e,m);case 19:return ty(e,i,m);case 22:return Q1(e,i,m)}throw Error(mt(156,i.tag))};function my(e,i){return Yx(e,i)}function Cw(e,i,m,y){this.tag=e,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(e,i,m,y){return new Cw(e,i,m,y)}function vv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ww(e){if(typeof e==\"function\")return vv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bc)return 11;if(e===bc)return 14}return 2}function xr(e,i){var m=e.alternate;return m===null?(m=Vi(e.tag,i,e.key,e.mode),m.elementType=e.elementType,m.type=e.type,m.stateNode=e.stateNode,m.alternate=e,e.alternate=m):(m.pendingProps=i,m.type=e.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=e.flags&14680064,m.childLanes=e.childLanes,m.lanes=e.lanes,m.child=e.child,m.memoizedProps=e.memoizedProps,m.memoizedState=e.memoizedState,m.updateQueue=e.updateQueue,i=e.dependencies,m.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},m.sibling=e.sibling,m.index=e.index,m.ref=e.ref,m}function Bl(e,i,m,y,w,P){var d=2;if(y=e,typeof e==\"function\")vv(e)&&(d=1);else if(typeof e==\"string\")d=5;else t:switch(e){case As:return kr(m.children,w,P,i);case Dc:d=8,w|=8;break;case Jf:return e=Vi(12,m,i,w|2),e.elementType=Jf,e.lanes=P,e;case qf:return e=Vi(13,m,i,w),e.elementType=qf,e.lanes=P,e;case _f:return e=Vi(19,m,i,w),e.elementType=_f,e.lanes=P,e;case Mx:return jh(m,w,P,i);default:if(typeof e==\"object\"&&e!==null)switch(e.$$typeof){case wx:d=10;break t;case Ax:d=9;break t;case Bc:d=11;break t;case bc:d=14;break t;case tr:d=16,y=null;break t}throw Error(mt(130,e==null?e:typeof e,\"\"))}return i=Vi(d,m,i,w),i.elementType=e,i.type=y,i.lanes=P,i}function kr(e,i,m,y){return e=Vi(7,e,y,i),e.lanes=m,e}function jh(e,i,m,y){return e=Vi(22,e,y,i),e.elementType=Mx,e.lanes=m,e.stateNode={isHidden:!1},e}function uf(e,i,m){return e=Vi(6,e,null,i),e.lanes=m,e}function ff(e,i,m){return i=Vi(4,e.children!==null?e.children:[],e.key,i),i.lanes=m,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Aw(e,i,m,y,w){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=y,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function pv(e,i,m,y,w,P,d,S,t){return e=new Aw(e,i,m,S,t),i===1?(i=1,P===!0&&(i|=8)):i=0,P=Vi(3,null,null,i),e.current=P,P.stateNode=e,P.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(P),e}function Mw(e,i,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:y==null?null:\"\"+y,children:e,containerInfo:i,implementation:m}}function gy(e){if(!e)return Er;e=e._reactInternals;t:{if(as(e)!==e||e.tag!==1)throw Error(mt(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(Ei(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i.return}while(i!==null);throw Error(mt(171))}if(e.tag===1){var m=e.type;if(Ei(m))return g1(e,m,i)}return i}function xy(e,i,m,y,w,P,d,S,t){return e=pv(m,y,!0,e,w,P,d,S,t),e.context=gy(null),m=e.current,y=di(),w=gr(m),P=bn(y,w),P.callback=i??null,pr(m,P,w),e.current.lanes=w,Po(e,w,y),Ci(e,y),e}function Kh(e,i,m,y){var w=i.current,P=di(),d=gr(w);return m=gy(m),i.context===null?i.context=m:i.pendingContext=m,i=bn(P,d),i.payload={element:e},y=y===void 0?null:y,y!==null&&(i.callback=y),e=pr(w,i,d),e!==null&&(_i(e,w,d,P),Pl(e,w,d)),d}function uh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var m=e.retryLane;e.retryLane=m!==0&&m<i?m:i}}function mv(e,i){kp(e,i),(e=e.alternate)&&kp(e,i)}function Pw(){return null}var yy=typeof reportError==\"function\"?reportError:function(e){console.error(e)};function gv(e){this._internalRoot=e}$h.prototype.render=gv.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(mt(409));Kh(e,i,null,null)};$h.prototype.unmount=gv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;is(function(){Kh(null,e,null,null)}),i[Un]=null}};function $h(e){this._internalRoot=e}$h.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qx();e={blockedOn:null,target:e,priority:i};for(var m=0;m<rr.length&&i!==0&&i<rr[m].priority;m++);rr.splice(m,0,e),m===0&&qx(e)}};function xv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==\" react-mount-point-unstable \"))}function Zp(){}function Rw(e,i,m,y,w){if(w){if(typeof y==\"function\"){var P=y;y=function(){var h=uh(d);P.call(h)}}var d=xy(i,y,e,0,null,!1,!1,\"\",Zp);return e._reactRootContainer=d,e[Un]=d.current,ho(e.nodeType===8?e.parentNode:e),is(),d}for(;w=e.lastChild;)e.removeChild(w);if(typeof y==\"function\"){var S=y;y=function(){var h=uh(t);S.call(h)}}var t=pv(e,0,!1,null,null,!1,!1,\"\",Zp);return e._reactRootContainer=t,e[Un]=t.current,ho(e.nodeType===8?e.parentNode:e),is(function(){Kh(i,t,m,y)}),t}function Zh(e,i,m,y,w){var P=m._reactRootContainer;if(P){var d=P;if(typeof w==\"function\"){var S=w;w=function(){var t=uh(d);S.call(t)}}Kh(i,d,e,w)}else d=Rw(m,i,e,w,y);return uh(d)}kx=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var m=Ua(i.pendingLanes);m!==0&&(Gc(i,m|1),Ci(i,ce()),!(zt&6)&&(aa=ce()+500,Rr()))}break;case 13:is(function(){var y=zn(e,1);if(y!==null){var w=di();_i(y,e,1,w)}}),mv(e,1)}};Uc=function(e){if(e.tag===13){var i=zn(e,134217728);if(i!==null){var m=di();_i(i,e,134217728,m)}mv(e,134217728)}};Zx=function(e){if(e.tag===13){var i=gr(e),m=zn(e,i);if(m!==null){var y=di();_i(m,e,i,y)}mv(e,i)}};Qx=function(){return Wt};Jx=function(e,i){var m=Wt;try{return Wt=e,i()}finally{Wt=m}};hd=function(e,i,m){switch(i){case\"input\":if(id(e,m),i=m.name,m.type===\"radio\"&&i!=null){for(m=e;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+i)+'][type=\"radio\"]'),i=0;i<m.length;i++){var y=m[i];if(y!==e&&y.form===e.form){var w=zh(y);if(!w)throw Error(mt(90));Rx(y),id(y,w)}}}break;case\"textarea\":Lx(e,m);break;case\"select\":i=m.value,i!=null&&Ys(e,!!m.multiple,i,!1)}};Gx=fv;Ux=is;var Fw={usingClientEntryPoint:!1,Events:[Fo,Fs,zh,Ix,Nx,fv]},Da={findFiberByHostInstance:zr,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"},Lw={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xx(e),e===null?null:e.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Ih=rl.inject(Lw),vn=rl}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw;Oi.createPortal=function(e,i){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xv(i))throw Error(mt(200));return Mw(e,i,null,m)};Oi.createRoot=function(e,i){if(!xv(e))throw Error(mt(299));var m=!1,y=\"\",w=yy;return i!=null&&(i.unstable_strictMode===!0&&(m=!0),i.identifierPrefix!==void 0&&(y=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=pv(e,1,!1,null,null,m,!1,y,w),e[Un]=i.current,ho(e.nodeType===8?e.parentNode:e),new gv(i)};Oi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render==\"function\"?Error(mt(188)):(e=Object.keys(e).join(\",\"),Error(mt(268,e)));return e=Xx(i),e=e===null?null:e.stateNode,e};Oi.flushSync=function(e){return is(e)};Oi.hydrate=function(e,i,m){if(!kh(i))throw Error(mt(200));return Zh(null,e,i,!0,m)};Oi.hydrateRoot=function(e,i,m){if(!xv(e))throw Error(mt(405));var y=m!=null&&m.hydratedSources||null,w=!1,P=\"\",d=yy;if(m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(d=m.onRecoverableError)),i=xy(i,null,e,1,m??null,w,!1,P,d),e[Un]=i.current,ho(e),y)for(e=0;e<y.length;e++)m=y[e],w=m._getVersion,w=w(m._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[m,w]:i.mutableSourceEagerHydrationData.push(m,w);return new $h(i)};Oi.render=function(e,i,m){if(!kh(i))throw Error(mt(200));return Zh(null,e,i,!1,m)};Oi.unmountComponentAtNode=function(e){if(!kh(e))throw Error(mt(40));return e._reactRootContainer?(is(function(){Zh(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};Oi.unstable_batchedUpdates=fv;Oi.unstable_renderSubtreeIntoContainer=function(e,i,m,y){if(!kh(m))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return Zh(e,i,m,!1,y)};Oi.version=\"18.3.1-next-f1338f8080-20240426\";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(e){console.error(e)}}Sy(),Sx.exports=Oi;var yv=Sx.exports;const Ow=Ao(yv);var Ty,Qp=yv;Ty=Qp.createRoot,Qp.hydrateRoot;/**\n * @remix-run/router v1.23.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(e[y]=m[y])}return e},fh.apply(this,arguments)}var lr;(function(e){e.Pop=\"POP\",e.Push=\"PUSH\",e.Replace=\"REPLACE\"})(lr||(lr={}));const Jp=\"popstate\";function Dw(e){e===void 0&&(e={});function i(y,w){let{pathname:P,search:d,hash:S}=y.location;return Wd(\"\",{pathname:P,search:d,hash:S},w.state&&w.state.usr||null,w.state&&w.state.key||\"default\")}function m(y,w){return typeof w==\"string\"?w:Cy(w)}return bw(i,m,null,e)}function wi(e,i){if(e===!1||e===null||typeof e>\"u\")throw new Error(i)}function Ey(e,i){if(!e){typeof console<\"u\"&&console.warn(i);try{throw new Error(i)}catch{}}}function Bw(){return Math.random().toString(36).substr(2,8)}function qp(e,i){return{usr:e.state,key:e.key,idx:i}}function Wd(e,i,m,y){return m===void 0&&(m=null),fh({pathname:typeof e==\"string\"?e:e.pathname,search:\"\",hash:\"\"},typeof i==\"string\"?Qh(i):i,{state:m,key:i&&i.key||y||Bw()})}function Cy(e){let{pathname:i=\"/\",search:m=\"\",hash:y=\"\"}=e;return m&&m!==\"?\"&&(i+=m.charAt(0)===\"?\"?m:\"?\"+m),y&&y!==\"#\"&&(i+=y.charAt(0)===\"#\"?y:\"#\"+y),i}function Qh(e){let i={};if(e){let m=e.indexOf(\"#\");m>=0&&(i.hash=e.substr(m),e=e.substr(0,m));let y=e.indexOf(\"?\");y>=0&&(i.search=e.substr(y),e=e.substr(0,y)),e&&(i.pathname=e)}return i}function bw(e,i,m,y){y===void 0&&(y={});let{window:w=document.defaultView,v5Compat:P=!1}=y,d=w.history,S=lr.Pop,t=null,h=g();h==null&&(h=0,d.replaceState(fh({},d.state,{idx:h}),\"\"));function g(){return(d.state||{idx:null}).idx}function l(){S=lr.Pop;let f=g(),r=f==null?null:f-h;h=f,t&&t({action:S,location:s.location,delta:r})}function a(f,r){S=lr.Push;let u=Wd(s.location,f,r);h=g()+1;let c=qp(u,h),p=s.createHref(u);try{d.pushState(c,\"\",p)}catch(v){if(v instanceof DOMException&&v.name===\"DataCloneError\")throw v;w.location.assign(p)}P&&t&&t({action:S,location:s.location,delta:1})}function o(f,r){S=lr.Replace;let u=Wd(s.location,f,r);h=g();let c=qp(u,h),p=s.createHref(u);d.replaceState(c,\"\",p),P&&t&&t({action:S,location:s.location,delta:0})}function n(f){let r=w.location.origin!==\"null\"?w.location.origin:w.location.href,u=typeof f==\"string\"?f:Cy(f);return u=u.replace(/ $/,\"%20\"),wi(r,\"No window.location.(origin|href) available to create URL for href: \"+u),new URL(u,r)}let s={get action(){return S},get location(){return e(w,d)},listen(f){if(t)throw new Error(\"A history only accepts one active listener\");return w.addEventListener(Jp,l),t=f,()=>{w.removeEventListener(Jp,l),t=null}},createHref(f){return i(w,f)},createURL:n,encodeLocation(f){let r=n(f);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:a,replace:o,go(f){return d.go(f)}};return s}var _p;(function(e){e.data=\"data\",e.deferred=\"deferred\",e.redirect=\"redirect\",e.error=\"error\"})(_p||(_p={}));function Iw(e,i,m){return m===void 0&&(m=\"/\"),Nw(e,i,m,!1)}function Nw(e,i,m,y){let w=typeof i==\"string\"?Qh(i):i,P=My(w.pathname||\"/\",m);if(P==null)return null;let d=wy(e);Gw(d);let S=null;for(let t=0;S==null&&t<d.length;++t){let h=kw(P);S=Kw(d[t],h,y)}return S}function wy(e,i,m,y){i===void 0&&(i=[]),m===void 0&&(m=[]),y===void 0&&(y=\"\");let w=(P,d,S)=>{let t={relativePath:S===void 0?P.path||\"\":S,caseSensitive:P.caseSensitive===!0,childrenIndex:d,route:P};t.relativePath.startsWith(\"/\")&&(wi(t.relativePath.startsWith(y),'Absolute route path \"'+t.relativePath+'\" nested under path '+('\"'+y+'\" is not valid. An absolute child route path ')+\"must start with the combined path of all its parent routes.\"),t.relativePath=t.relativePath.slice(y.length));let h=Zs([y,t.relativePath]),g=m.concat(t);P.children&&P.children.length>0&&(wi(P.index!==!0,\"Index routes must not have child routes. Please remove \"+('all child routes from route path \"'+h+'\".')),wy(P.children,i,g,h)),!(P.path==null&&!P.index)&&i.push({path:h,score:Hw(h,P.index),routesMeta:g})};return e.forEach((P,d)=>{var S;if(P.path===\"\"||!((S=P.path)!=null&&S.includes(\"?\")))w(P,d);else for(let t of Ay(P.path))w(P,d,t)}),i}function Ay(e){let i=e.split(\"/\");if(i.length===0)return[];let[m,...y]=i,w=m.endsWith(\"?\"),P=m.replace(/\\?$/,\"\");if(y.length===0)return w?[P,\"\"]:[P];let d=Ay(y.join(\"/\")),S=[];return S.push(...d.map(t=>t===\"\"?P:[P,t].join(\"/\"))),w&&S.push(...d),S.map(t=>e.startsWith(\"/\")&&t===\"\"?\"/\":t)}function Gw(e){e.sort((i,m)=>i.score!==m.score?m.score-i.score:jw(i.routesMeta.map(y=>y.childrenIndex),m.routesMeta.map(y=>y.childrenIndex)))}const Uw=/^:[\\w-]+$/,zw=3,Vw=2,Xw=1,Ww=10,Yw=-2,tm=e=>e===\"*\";function Hw(e,i){let m=e.split(\"/\"),y=m.length;return m.some(tm)&&(y+=Yw),i&&(y+=Vw),m.filter(w=>!tm(w)).reduce((w,P)=>w+(Uw.test(P)?zw:P===\"\"?Xw:Ww),y)}function jw(e,i){return e.length===i.length&&e.slice(0,-1).every((y,w)=>y===i[w])?e[e.length-1]-i[i.length-1]:0}function Kw(e,i,m){let{routesMeta:y}=e,w={},P=\"/\",d=[];for(let S=0;S<y.length;++S){let t=y[S],h=S===y.length-1,g=P===\"/\"?i:i.slice(P.length)||\"/\",l=em({path:t.relativePath,caseSensitive:t.caseSensitive,end:h},g),a=t.route;if(!l&&h&&m&&!y[y.length-1].route.index&&(l=em({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},g)),!l)return null;Object.assign(w,l.params),d.push({params:w,pathname:Zs([P,l.pathname]),pathnameBase:Zw(Zs([P,l.pathnameBase])),route:a}),l.pathnameBase!==\"/\"&&(P=Zs([P,l.pathnameBase]))}return d}function em(e,i){typeof e==\"string\"&&(e={path:e,caseSensitive:!1,end:!0});let[m,y]=$w(e.path,e.caseSensitive,e.end),w=i.match(m);if(!w)return null;let P=w[0],d=P.replace(/(.)\\/+$/,\"$1\"),S=w.slice(1);return{params:y.reduce((h,g,l)=>{let{paramName:a,isOptional:o}=g;if(a===\"*\"){let s=S[l]||\"\";d=P.slice(0,P.length-s.length).replace(/(.)\\/+$/,\"$1\")}const n=S[l];return o&&!n?h[a]=void 0:h[a]=(n||\"\").replace(/%2F/g,\"/\"),h},{}),pathname:P,pathnameBase:d,pattern:e}}function $w(e,i,m){i===void 0&&(i=!1),m===void 0&&(m=!0),Ey(e===\"*\"||!e.endsWith(\"*\")||e.endsWith(\"/*\"),'Route path \"'+e+'\" will be treated as if it were '+('\"'+e.replace(/\\*$/,\"/*\")+'\" because the `*` character must ')+\"always follow a `/` in the pattern. To get rid of this warning, \"+('please change the route path to \"'+e.replace(/\\*$/,\"/*\")+'\".'));let y=[],w=\"^\"+e.replace(/\\/*\\*?$/,\"\").replace(/^\\/*/,\"/\").replace(/[\\\\.*+^${}|()[\\]]/g,\"\\\\$&\").replace(/\\/:([\\w-]+)(\\?)?/g,(d,S,t)=>(y.push({paramName:S,isOptional:t!=null}),t?\"/?([^\\\\/]+)?\":\"/([^\\\\/]+)\"));return e.endsWith(\"*\")?(y.push({paramName:\"*\"}),w+=e===\"*\"||e===\"/*\"?\"(.*)$\":\"(?:\\\\/(.+)|\\\\/*)$\"):m?w+=\"\\\\/*$\":e!==\"\"&&e!==\"/\"&&(w+=\"(?:(?=\\\\/|$))\"),[new RegExp(w,i?void 0:\"i\"),y]}function kw(e){try{return e.split(\"/\").map(i=>decodeURIComponent(i).replace(/\\//g,\"%2F\")).join(\"/\")}catch(i){return Ey(!1,'The URL path \"'+e+'\" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+(\"encoding (\"+i+\").\")),e}}function My(e,i){if(i===\"/\")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let m=i.endsWith(\"/\")?i.length-1:i.length,y=e.charAt(m);return y&&y!==\"/\"?null:e.slice(m)||\"/\"}const Zs=e=>e.join(\"/\").replace(/\\/\\/+/g,\"/\"),Zw=e=>e.replace(/\\/+$/,\"\").replace(/^\\/*/,\"/\");function Qw(e){return e!=null&&typeof e.status==\"number\"&&typeof e.statusText==\"string\"&&typeof e.internal==\"boolean\"&&\"data\"in e}const Py=[\"post\",\"put\",\"patch\",\"delete\"];new Set(Py);const Jw=[\"get\",...Py];new Set(Jw);/**\n * React Router v6.30.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(e[y]=m[y])}return e},dh.apply(this,arguments)}const qw=q.createContext(null),_w=q.createContext(null),Ry=q.createContext(null),Jh=q.createContext(null),qh=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=q.createContext(null);function Sv(){return q.useContext(Jh)!=null}function t4(){return Sv()||wi(!1),q.useContext(Jh).location}function e4(e,i){return i4(e,i)}function i4(e,i,m,y){Sv()||wi(!1);let{navigator:w,static:P}=q.useContext(Ry),{matches:d}=q.useContext(qh),S=d[d.length-1],t=S?S.params:{};S&&S.pathname;let h=S?S.pathnameBase:\"/\";S&&S.route;let g=t4(),l;if(i){var a;let r=typeof i==\"string\"?Qh(i):i;h===\"/\"||(a=r.pathname)!=null&&a.startsWith(h)||wi(!1),l=r}else l=g;let o=l.pathname||\"/\",n=o;if(h!==\"/\"){let r=h.replace(/^\\//,\"\").split(\"/\");n=\"/\"+o.replace(/^\\//,\"\").split(\"/\").slice(r.length).join(\"/\")}let s=!P&&m&&m.matches&&m.matches.length>0?m.matches:Iw(e,{pathname:n}),f=o4(s&&s.map(r=>Object.assign({},r,{params:Object.assign({},t,r.params),pathname:Zs([h,w.encodeLocation?w.encodeLocation(r.pathname).pathname:r.pathname]),pathnameBase:r.pathnameBase===\"/\"?h:Zs([h,w.encodeLocation?w.encodeLocation(r.pathnameBase).pathname:r.pathnameBase])})),d,m,y);return i&&f?q.createElement(Jh.Provider,{value:{location:dh({pathname:\"/\",search:\"\",hash:\"\",state:null,key:\"default\"},l),navigationType:lr.Pop}},f):f}function n4(){let e=f4(),i=Qw(e)?e.status+\" \"+e.statusText:e instanceof Error?e.message:JSON.stringify(e),m=e instanceof Error?e.stack:null,w={padding:\"0.5rem\",backgroundColor:\"rgba(200,200,200, 0.5)\"};return q.createElement(q.Fragment,null,q.createElement(\"h2\",null,\"Unexpected Application Error!\"),q.createElement(\"h3\",{style:{fontStyle:\"italic\"}},i),m?q.createElement(\"pre\",{style:w},m):null,null)}const r4=q.createElement(n4,null);class s4 extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,m){return m.location!==i.location||m.revalidation!==\"idle\"&&i.revalidation===\"idle\"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:m.error,location:m.location,revalidation:i.revalidation||m.revalidation}}componentDidCatch(i,m){console.error(\"React Router caught the following error during render\",i,m)}render(){return this.state.error!==void 0?q.createElement(qh.Provider,{value:this.props.routeContext},q.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a4(e){let{routeContext:i,match:m,children:y}=e,w=q.useContext(qw);return w&&w.static&&w.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(w.staticContext._deepestRenderedBoundaryId=m.route.id),q.createElement(qh.Provider,{value:i},y)}function o4(e,i,m,y){var w;if(i===void 0&&(i=[]),m===void 0&&(m=null),y===void 0&&(y=null),e==null){var P;if(!m)return null;if(m.errors)e=m.matches;else if((P=y)!=null&&P.v7_partialHydration&&i.length===0&&!m.initialized&&m.matches.length>0)e=m.matches;else return null}let d=e,S=(w=m)==null?void 0:w.errors;if(S!=null){let g=d.findIndex(l=>l.route.id&&(S==null?void 0:S[l.route.id])!==void 0);g>=0||wi(!1),d=d.slice(0,Math.min(d.length,g+1))}let t=!1,h=-1;if(m&&y&&y.v7_partialHydration)for(let g=0;g<d.length;g++){let l=d[g];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(h=g),l.route.id){let{loaderData:a,errors:o}=m,n=l.route.loader&&a[l.route.id]===void 0&&(!o||o[l.route.id]===void 0);if(l.route.lazy||n){t=!0,h>=0?d=d.slice(0,h+1):d=[d[0]];break}}}return d.reduceRight((g,l,a)=>{let o,n=!1,s=null,f=null;m&&(o=S&&l.route.id?S[l.route.id]:void 0,s=l.route.errorElement||r4,t&&(h<0&&a===0?(n=!0,f=null):h===a&&(n=!0,f=l.route.hydrateFallbackElement||null)));let r=i.concat(d.slice(0,a+1)),u=()=>{let c;return o?c=s:n?c=f:l.route.Component?c=q.createElement(l.route.Component,null):l.route.element?c=l.route.element:c=g,q.createElement(a4,{match:l,routeContext:{outlet:g,matches:r,isDataRoute:m!=null},children:c})};return m&&(l.route.ErrorBoundary||l.route.errorElement||a===0)?q.createElement(s4,{location:m.location,revalidation:m.revalidation,component:s,error:o,children:u(),routeContext:{outlet:null,matches:r,isDataRoute:!0}}):u()},null)}var Yd=function(e){return e.UseBlocker=\"useBlocker\",e.UseLoaderData=\"useLoaderData\",e.UseActionData=\"useActionData\",e.UseRouteError=\"useRouteError\",e.UseNavigation=\"useNavigation\",e.UseRouteLoaderData=\"useRouteLoaderData\",e.UseMatches=\"useMatches\",e.UseRevalidator=\"useRevalidator\",e.UseNavigateStable=\"useNavigate\",e.UseRouteId=\"useRouteId\",e}(Yd||{});function l4(e){let i=q.useContext(_w);return i||wi(!1),i}function h4(e){let i=q.useContext(qh);return i||wi(!1),i}function u4(e){let i=h4(),m=i.matches[i.matches.length-1];return m.route.id||wi(!1),m.route.id}function f4(){var e;let i=q.useContext(Fy),m=l4(Yd.UseRouteError),y=u4(Yd.UseRouteError);return i!==void 0?i:(e=m.errors)==null?void 0:e[y]}function d4(e,i){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bl(e){wi(!1)}function c4(e){let{basename:i=\"/\",children:m=null,location:y,navigationType:w=lr.Pop,navigator:P,static:d=!1,future:S}=e;Sv()&&wi(!1);let t=i.replace(/^\\/*/,\"/\"),h=q.useMemo(()=>({basename:t,navigator:P,static:d,future:dh({v7_relativeSplatPath:!1},S)}),[t,S,P,d]);typeof y==\"string\"&&(y=Qh(y));let{pathname:g=\"/\",search:l=\"\",hash:a=\"\",state:o=null,key:n=\"default\"}=y,s=q.useMemo(()=>{let f=My(g,t);return f==null?null:{location:{pathname:f,search:l,hash:a,state:o,key:n},navigationType:w}},[t,g,l,a,o,n,w]);return s==null?null:q.createElement(Ry.Provider,{value:h},q.createElement(Jh.Provider,{children:m,value:s}))}function v4(e){let{children:i,location:m}=e;return e4(Hd(i),m)}new Promise(()=>{});function Hd(e,i){i===void 0&&(i=[]);let m=[];return q.Children.forEach(e,(y,w)=>{if(!q.isValidElement(y))return;let P=[...i,w];if(y.type===q.Fragment){m.push.apply(m,Hd(y.props.children,P));return}y.type!==bl&&wi(!1),!y.props.index||!y.props.children||wi(!1);let d={id:y.props.id||P.join(\"-\"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(d.children=Hd(y.props.children,P)),m.push(d)}),m}/**\n * React Router DOM v6.30.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */const p4=\"6\";try{window.__reactRouterVersion=p4}catch{}const m4=\"startTransition\",im=xx[m4];function g4(e){let{basename:i,children:m,future:y,window:w}=e,P=q.useRef();P.current==null&&(P.current=Dw({window:w,v5Compat:!0}));let d=P.current,[S,t]=q.useState({action:d.action,location:d.location}),{v7_startTransition:h}=y||{},g=q.useCallback(l=>{h&&im?im(()=>t(l)):t(l)},[t,h]);return q.useLayoutEffect(()=>d.listen(g),[d,g]),q.useEffect(()=>d4(y),[y]),q.createElement(c4,{basename:i,children:m,location:S.location,navigationType:S.action,navigator:d,future:y})}var nm;(function(e){e.UseScrollRestoration=\"useScrollRestoration\",e.UseSubmit=\"useSubmit\",e.UseSubmitFetcher=\"useSubmitFetcher\",e.UseFetcher=\"useFetcher\",e.useViewTransitionState=\"useViewTransitionState\"})(nm||(nm={}));var rm;(function(e){e.UseFetcher=\"useFetcher\",e.UseFetchers=\"useFetchers\",e.UseScrollRestoration=\"useScrollRestoration\"})(rm||(rm={}));const x4=({children:e})=>k.jsx(k.Fragment,{children:e});var Ly={exports:{}};(function(e,i){(function(y,w){e.exports=w()})(Yi,()=>(()=>{var m={50792:d=>{var S=Object.prototype.hasOwnProperty,t=\"~\";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function g(n,s,f){this.fn=n,this.context=s,this.once=f||!1}function l(n,s,f,r,u){if(typeof f!=\"function\")throw new TypeError(\"The listener must be a function\");var c=new g(f,r||n,u),p=t?t+s:s;return n._events[p]?n._events[p].fn?n._events[p]=[n._events[p],c]:n._events[p].push(c):(n._events[p]=c,n._eventsCount++),n}function a(n,s){--n._eventsCount===0?n._events=new h:delete n._events[s]}function o(){this._events=new h,this._eventsCount=0}o.prototype.eventNames=function(){var s=[],f,r;if(this._eventsCount===0)return s;for(r in f=this._events)S.call(f,r)&&s.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},o.prototype.listeners=function(s){var f=t?t+s:s,r=this._events[f];if(!r)return[];if(r.fn)return[r.fn];for(var u=0,c=r.length,p=new Array(c);u<c;u++)p[u]=r[u].fn;return p},o.prototype.listenerCount=function(s){var f=t?t+s:s,r=this._events[f];return r?r.fn?1:r.length:0},o.prototype.emit=function(s,f,r,u,c,p){var v=t?t+s:s;if(!this._events[v])return!1;var x=this._events[v],T=arguments.length,C,E;if(x.fn){switch(x.once&&this.removeListener(s,x.fn,void 0,!0),T){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,r),!0;case 4:return x.fn.call(x.context,f,r,u),!0;case 5:return x.fn.call(x.context,f,r,u,c),!0;case 6:return x.fn.call(x.context,f,r,u,c,p),!0}for(E=1,C=new Array(T-1);E<T;E++)C[E-1]=arguments[E];x.fn.apply(x.context,C)}else{var A=x.length,M;for(E=0;E<A;E++)switch(x[E].once&&this.removeListener(s,x[E].fn,void 0,!0),T){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,f);break;case 3:x[E].fn.call(x[E].context,f,r);break;case 4:x[E].fn.call(x[E].context,f,r,u);break;default:if(!C)for(M=1,C=new Array(T-1);M<T;M++)C[M-1]=arguments[M];x[E].fn.apply(x[E].context,C)}}return!0},o.prototype.on=function(s,f,r){return l(this,s,f,r,!1)},o.prototype.once=function(s,f,r){return l(this,s,f,r,!0)},o.prototype.removeListener=function(s,f,r,u){var c=t?t+s:s;if(!this._events[c])return this;if(!f)return a(this,c),this;var p=this._events[c];if(p.fn)p.fn===f&&(!u||p.once)&&(!r||p.context===r)&&a(this,c);else{for(var v=0,x=[],T=p.length;v<T;v++)(p[v].fn!==f||u&&!p[v].once||r&&p[v].context!==r)&&x.push(p[v]);x.length?this._events[c]=x.length===1?x[0]:x:a(this,c)}return this},o.prototype.removeAllListeners=function(s){var f;return s?(f=t?t+s:s,this._events[f]&&a(this,f)):(this._events=new h,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,d.exports=o},11517:(d,S,t)=>{/**\n * @author       samme\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(38829),g=function(l,a,o,n){for(var s=l[0],f=1;f<l.length;f++){var r=l[f];h(r,s,a,o,n),s=r}return l};d.exports=g},80318:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"angle\",a,o,n,s)};d.exports=g},60757:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){for(var l=0;l<t.length;l++){var a=t[l];h.call(g,a)}return t};d.exports=S},69927:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){g===void 0&&(g=0);for(var l=g;l<t.length;l++){var a=t[l],o=!0;for(var n in h)a[n]!==h[n]&&(o=!1);if(o)return a}return null};d.exports=S},32265:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){g===void 0&&(g=0);for(var l=t.length-1;l>=g;l--){var a=t[l],o=!0;for(var n in h)a[n]!==h[n]&&(o=!1);if(o)return a}return null};d.exports=S},94420:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(11879),g=t(60461),l=t(95540),a=t(29747),o=t(41481),n=new o({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),s=function(f,r){r===void 0&&(r={});var u=r.hasOwnProperty(\"width\"),c=r.hasOwnProperty(\"height\"),p=l(r,\"width\",-1),v=l(r,\"height\",-1),x=l(r,\"cellWidth\",1),T=l(r,\"cellHeight\",x),C=l(r,\"position\",g.TOP_LEFT),E=l(r,\"x\",0),A=l(r,\"y\",0),M=0,L=0,O=p*x,R=v*T;n.setPosition(E,A),n.setSize(x,T);for(var F=0;F<f.length;F++)if(h(f[F],n,C),u&&p===-1)n.x+=x;else if(c&&v===-1)n.y+=T;else if(c&&!u){if(L+=T,n.y+=T,L===R&&(L=0,M+=x,n.y=A,n.x+=x,M===O))break}else if(M+=x,n.x+=x,M===O&&(M=0,L+=T,n.x=E,n.y+=T,L===R))break;return f};d.exports=s},41721:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"alpha\",a,o,n,s)};d.exports=g},67285:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"x\",a,o,n,s)};d.exports=g},9074:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s,f,r){return o==null&&(o=a),h(l,\"x\",a,n,f,r),h(l,\"y\",o,s,f,r)};d.exports=g},75222:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"y\",a,o,n,s)};d.exports=g},22983:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l){g===void 0&&(g=0),l===void 0&&(l=6.28);for(var a=g,o=(l-g)/t.length,n=h.x,s=h.y,f=h.radius,r=0;r<t.length;r++)t[r].x=n+f*Math.cos(a),t[r].y=s+f*Math.sin(a),a+=o;return t};d.exports=S},95253:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l){g===void 0&&(g=0),l===void 0&&(l=6.28);for(var a=g,o=(l-g)/t.length,n=h.width/2,s=h.height/2,f=0;f<t.length;f++)t[f].x=h.x+n*Math.cos(a),t[f].y=h.y+s*Math.sin(a),a+=o;return t};d.exports=S},88505:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(15258),g=t(26708),l=function(a,o,n){var s;n?s=g(o,n,a.length):s=h(o,a.length);for(var f=0;f<a.length;f++){var r=a[f],u=s[f];r.x=u.x,r.y=u.y}return a};d.exports=l},41346:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(14649),g=t(86003),l=t(49498),a=function(o,n,s){s===void 0&&(s=0);var f=h(n,!1,o.length);s>0?g(f,s):s<0&&l(f,Math.abs(s));for(var r=0;r<o.length;r++)o[r].x=f[r].x,o[r].y=f[r].y;return o};d.exports=a},11575:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(84993),g=function(l,a,o){var n=h({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},o),s=h({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},o),f=h({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},o);n.pop(),s.pop(),f.pop(),n=n.concat(s,f);for(var r=n.length/l.length,u=0,c=0;c<l.length;c++){var p=l[c],v=n[Math.floor(u)];p.x=v.x,p.y=v.y,u+=r}return l};d.exports=g},29953:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){for(var l=0;l<t.length;l++){var a=t[l];a.anims&&a.anims.play(h,g)}return t};d.exports=S},66979:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l,a,o){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=1);var n,s=0,f=t.length;if(o===1)for(n=a;n<f;n++)t[n][h]+=g+s*l,s++;else for(n=a;n>=0;n--)t[n][h]+=g+s*l,s++;return t};d.exports=S},43967:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l,a,o){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=1);var n,s=0,f=t.length;if(o===1)for(n=a;n<f;n++)t[n][h]=g+s*l,s++;else for(n=a;n>=0;n--)t[n][h]=g+s*l,s++;return t};d.exports=S},88926:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(28176),g=function(l,a){for(var o=0;o<l.length;o++)h(a,l[o]);return l};d.exports=g},33286:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(24820),g=function(l,a){for(var o=0;o<l.length;o++)h(a,l[o]);return l};d.exports=g},96e3:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(65822),g=function(l,a){for(var o=0;o<l.length;o++)h(a,l[o]);return l};d.exports=g},28789:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(26597),g=function(l,a){for(var o=0;o<l.length;o++)h(a,l[o]);return l};d.exports=g},97154:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(90260),g=function(l,a){for(var o=0;o<l.length;o++)h(a,l[o]);return l};d.exports=g},20510:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"rotation\",a,o,n,s)};d.exports=g},91051:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(1163),g=t(20339),l=function(a,o,n){for(var s=o.x,f=o.y,r=0;r<a.length;r++){var u=a[r];h(u,s,f,n,Math.max(1,g(u.x,u.y,s,f)))}return a};d.exports=l},76332:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(1163),g=function(l,a,o,n){var s=a.x,f=a.y;if(n===0)return l;for(var r=0;r<l.length;r++)h(l[r],s,f,o,n);return l};d.exports=g},61619:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"scaleX\",a,o,n,s)};d.exports=g},94868:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s,f,r){return o==null&&(o=a),h(l,\"scaleX\",a,n,f,r),h(l,\"scaleY\",o,s,f,r)};d.exports=g},95532:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66979),g=function(l,a,o,n,s){return h(l,\"scaleY\",a,o,n,s)};d.exports=g},8689:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"alpha\",a,o,n,s)};d.exports=g},2645:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n){return h(l,\"blendMode\",a,0,o,n)};d.exports=g},32372:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"depth\",a,o,n,s)};d.exports=g},85373:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){for(var l=0;l<t.length;l++)t[l].setInteractive(h,g);return t};d.exports=S},81583:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s,f,r){return o==null&&(o=a),h(l,\"originX\",a,n,f,r),h(l,\"originY\",o,s,f,r),l.forEach(function(u){u.updateDisplayOrigin()}),l};d.exports=g},79939:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"rotation\",a,o,n,s)};d.exports=g},2699:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s,f,r){return o==null&&(o=a),h(l,\"scaleX\",a,n,f,r),h(l,\"scaleY\",o,s,f,r)};d.exports=g},98739:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"scaleX\",a,o,n,s)};d.exports=g},98476:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"scaleY\",a,o,n,s)};d.exports=g},6207:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s,f,r){return o==null&&(o=a),h(l,\"scrollFactorX\",a,n,f,r),h(l,\"scrollFactorY\",o,s,f,r)};d.exports=g},6607:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"scrollFactorX\",a,o,n,s)};d.exports=g},72248:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"scrollFactorY\",a,o,n,s)};d.exports=g},14036:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l,a){for(var o=0;o<t.length;o++)t[o].setTint(h,g,l,a);return t};d.exports=S},50159:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n){return h(l,\"visible\",a,0,o,n)};d.exports=g},77597:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"x\",a,o,n,s)};d.exports=g},83194:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s,f,r){return o==null&&(o=a),h(l,\"x\",a,n,f,r),h(l,\"y\",o,s,f,r)};d.exports=g},67678:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(43967),g=function(l,a,o,n,s){return h(l,\"y\",a,o,n,s)};d.exports=g},35850:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(26099),g=function(l,a,o,n,s){n===void 0&&(n=0),s===void 0&&(s=new h);var f,r,u=l.length;if(u===1)f=l[0].x,r=l[0].y,l[0].x=a,l[0].y=o;else{var c=1,p=0;n===0&&(p=u-1,c=u-2),f=l[p].x,r=l[p].y,l[p].x=a,l[p].y=o;for(var v=0;v<u;v++)if(!(c>=u||c===-1)){var x=l[c],T=x.x,C=x.y;x.x=f,x.y=r,f=T,r=C,n===0?c--:c++}}return s.x=f,s.y=r,s};d.exports=g},8628:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(33680),g=function(l){return h(l)};d.exports=g},21837:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(7602),g=function(l,a,o,n,s){s===void 0&&(s=!1);var f=Math.abs(n-o)/l.length,r;if(s)for(r=0;r<l.length;r++)l[r][a]+=h(r*f,o,n);else for(r=0;r<l.length;r++)l[r][a]=h(r*f,o,n);return l};d.exports=g},21910:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(54261),g=function(l,a,o,n,s){s===void 0&&(s=!1);var f=Math.abs(n-o)/l.length,r;if(s)for(r=0;r<l.length;r++)l[r][a]+=h(r*f,o,n);else for(r=0;r<l.length;r++)l[r][a]=h(r*f,o,n);return l};d.exports=g},62054:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][h]+=(l+g)/2:t[0][h]=(l+g)/2,t;var o=Math.abs(l-g)/(t.length-1),n;if(a)for(n=0;n<t.length;n++)t[n][h]+=n*o+g;else for(n=0;n<t.length;n++)t[n][h]=n*o+g;return t};d.exports=S},79815:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};d.exports=S},39665:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @author       samme <samme.npm@gmail.com>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(15994),g=function(l,a,o){o===void 0&&(o=0);for(var n=0;n<l.length;n++){var s=l[n];s.x=h(s.x,a.left-o,a.right+o),s.y=h(s.y,a.top-o,a.bottom+o)}return l};d.exports=g},61061:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(45319),g=t(83419),l=t(74943),a=t(81957),o=t(41138),n=t(35154),s=t(90126),f=new g({initialize:function(u,c,p){this.manager=u,this.key=c,this.type=\"frame\",this.frames=this.getFrames(u.textureManager,n(p,\"frames\",[]),n(p,\"defaultTextureKey\",null),n(p,\"sortFrames\",!0)),this.frameRate=n(p,\"frameRate\",null),this.duration=n(p,\"duration\",null),this.msPerFrame,this.skipMissedFrames=n(p,\"skipMissedFrames\",!0),this.delay=n(p,\"delay\",0),this.repeat=n(p,\"repeat\",0),this.repeatDelay=n(p,\"repeatDelay\",0),this.yoyo=n(p,\"yoyo\",!1),this.showBeforeDelay=n(p,\"showBeforeDelay\",!1),this.showOnStart=n(p,\"showOnStart\",!1),this.hideOnComplete=n(p,\"hideOnComplete\",!1),this.randomFrame=n(p,\"randomFrame\",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(r,u,c,p){c===null&&p===null?(r.frameRate=24,r.duration=24/u*1e3):c&&p===null?(r.duration=c,r.frameRate=u/(c/1e3)):(r.frameRate=p,r.duration=u/p*1e3),r.msPerFrame=1e3/r.frameRate},addFrame:function(r){return this.addFrameAt(this.frames.length,r)},addFrameAt:function(r,u){var c=this.getFrames(this.manager.textureManager,u);if(c.length>0){if(r===0)this.frames=c.concat(this.frames);else if(r===this.frames.length)this.frames=this.frames.concat(c);else{var p=this.frames.slice(0,r),v=this.frames.slice(r);this.frames=p.concat(c,v)}this.updateFrameSequence()}return this},checkFrame:function(r){return r>=0&&r<this.frames.length},getFirstTick:function(r){r.accumulator=0,r.nextTick=r.frameRate===r.currentAnim.frameRate&&r.currentFrame.duration||r.msPerFrame},getFrameAt:function(r){return this.frames[r]},getFrames:function(r,u,c,p){p===void 0&&(p=!0);var v=[],x,T,C=1,E,A;if(typeof u==\"string\"){if(A=u,!r.exists(A))return console.warn('Texture \"%s\" not found',A),v;var M=r.get(A),L=M.getFrameNames();p&&s(L),u=[],L.forEach(function(b){u.push({key:A,frame:b})})}if(!Array.isArray(u)||u.length===0)return v;for(E=0;E<u.length;E++){var O=u[E],R=n(O,\"key\",c);if(R){var F=n(O,\"frame\",0),D=r.getFrame(R,F);if(!D){console.warn('Texture \"%s\" not found',R);continue}T=new o(R,F,C,D),T.duration=n(O,\"duration\",0),T.isFirst=!x,x&&(x.nextFrame=T,T.prevFrame=x),v.push(T),x=T,C++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var B=1/(v.length-1);for(E=0;E<v.length;E++)v[E].progress=E*B}return v},getNextTick:function(r){r.accumulator-=r.nextTick,r.nextTick=r.frameRate===r.currentAnim.frameRate&&r.currentFrame.duration||r.msPerFrame},getFrameByProgress:function(r){return r=h(r,0,1),a(r,this.frames,\"progress\")},nextFrame:function(r){var u=r.currentFrame;u.isLast?r.yoyo?this.handleYoyoFrame(r,!1):r.repeatCounter>0?r.inReverse&&r.forward?r.forward=!1:this.repeatAnimation(r):r.complete():this.updateAndGetNextTick(r,u.nextFrame)},handleYoyoFrame:function(r,u){if(u||(u=!1),r.inReverse===!u&&r.repeatCounter>0){(r.repeatDelay===0||r.pendingRepeat)&&(r.forward=u),this.repeatAnimation(r);return}if(r.inReverse!==u&&r.repeatCounter===0){r.complete();return}r.forward=u;var c=u?r.currentFrame.nextFrame:r.currentFrame.prevFrame;this.updateAndGetNextTick(r,c)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(r){var u=r.currentFrame;u.isFirst?r.yoyo?this.handleYoyoFrame(r,!0):r.repeatCounter>0?r.inReverse&&!r.forward?this.repeatAnimation(r):(r.forward=!0,this.repeatAnimation(r)):r.complete():this.updateAndGetNextTick(r,u.prevFrame)},updateAndGetNextTick:function(r,u){r.setCurrentFrame(u),this.getNextTick(r)},removeFrame:function(r){var u=this.frames.indexOf(r);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(r){return this.frames.splice(r,1),this.updateFrameSequence(),this},repeatAnimation:function(r){if(r._pendingStop===2){if(r._pendingStopValue===0)return r.stop();r._pendingStopValue--}r.repeatDelay>0&&!r.pendingRepeat?(r.pendingRepeat=!0,r.accumulator-=r.nextTick,r.nextTick+=r.repeatDelay):(r.repeatCounter--,r.forward?r.setCurrentFrame(r.currentFrame.nextFrame):r.setCurrentFrame(r.currentFrame.prevFrame),r.isPlaying&&(this.getNextTick(r),r.handleRepeat()))},toJSON:function(){var r={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){r.frames.push(u.toJSON())}),r},updateFrameSequence:function(){for(var r=this.frames.length,u=1/(r-1),c,p=0;p<r;p++)c=this.frames[p],c.index=p+1,c.isFirst=!1,c.isLast=!1,c.progress=p*u,p===0?(c.isFirst=!0,r===1?(c.isLast=!0,c.nextFrame=c,c.prevFrame=c):(c.isLast=!1,c.prevFrame=this.frames[r-1],c.nextFrame=this.frames[p+1])):p===r-1&&r>1?(c.isLast=!0,c.prevFrame=this.frames[r-2],c.nextFrame=this.frames[0]):r>1&&(c.prevFrame=this.frames[p-1],c.nextFrame=this.frames[p+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var r=0;r<this.frames.length;r++)this.frames[r].destroy();this.frames=[],this.manager=null}});d.exports=f},41138:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=new h({initialize:function(a,o,n,s,f){f===void 0&&(f=!1),this.textureKey=a,this.textureFrame=o,this.index=n,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});d.exports=g},60848:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(42099),g=t(83419),l=t(90330),a=t(50792),o=t(74943),n=t(8443),s=t(95540),f=t(35154),r=t(36383),u=t(20283),c=t(41836),p=new g({Extends:a,initialize:function(x){a.call(this),this.game=x,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name=\"AnimationManager\",x.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(v,x,T){var C=this.anims,E=this.mixes,A=typeof v==\"string\"?v:v.key,M=typeof x==\"string\"?x:x.key;if(C.has(A)&&C.has(M)){var L=E.get(A);L||(L={}),L[M]=T,E.set(A,L)}return this},removeMix:function(v,x){var T=this.mixes,C=typeof v==\"string\"?v:v.key,E=T.get(C);if(E)if(x){var A=typeof x==\"string\"?x:x.key;E.hasOwnProperty(A)&&delete E[A]}else x||T.delete(C);return this},getMix:function(v,x){var T=this.mixes,C=typeof v==\"string\"?v:v.key,E=typeof x==\"string\"?x:x.key,A=T.get(C);return A&&A.hasOwnProperty(E)?A[E]:0},add:function(v,x){return this.anims.has(v)?(console.warn(\"Animation key exists: \"+v),this):(x.key=v,this.anims.set(v,x),this.emit(o.ADD_ANIMATION,v,x),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,x,T){var C=[],E=this.game.cache.json.get(v);if(!E)return console.warn(\"No Aseprite data found for: \"+v),C;var A=this,M=f(E,\"meta\",null),L=f(E,\"frames\",null);if(M&&L){var O=f(M,\"frameTags\",[]);O.forEach(function(R){var F=[],D=s(R,\"name\",null),B=s(R,\"from\",0),b=s(R,\"to\",0),G=s(R,\"direction\",\"forward\");if(D&&(!x||x&&x.indexOf(D)>-1)){for(var z=0,V=B;V<=b;V++){var I=V.toString(),N=L[I];if(N){var W=s(N,\"duration\",r.MAX_SAFE_INTEGER);F.push({key:v,frame:I,duration:W}),z+=W}}G===\"reverse\"&&(F=F.reverse());var U={key:D,frames:F,duration:z,yoyo:G===\"pingpong\"},Y;T?T.anims&&(Y=T.anims.create(U)):Y=A.create(U),Y&&C.push(Y)}})}return C},create:function(v){var x=v.key,T=!1;return x&&(T=this.get(x),T?console.warn(\"AnimationManager key already exists: \"+x):(T=new h(this,x,v),this.anims.set(x,T),this.emit(o.ADD_ANIMATION,x,T))),T},fromJSON:function(v,x){x===void 0&&(x=!1),x&&this.anims.clear(),typeof v==\"string\"&&(v=JSON.parse(v));var T=[];if(v.hasOwnProperty(\"anims\")&&Array.isArray(v.anims)){for(var C=0;C<v.anims.length;C++)T.push(this.create(v.anims[C]));v.hasOwnProperty(\"globalTimeScale\")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty(\"key\")&&v.type===\"frame\"&&T.push(this.create(v));return T},generateFrameNames:function(v,x){var T=f(x,\"prefix\",\"\"),C=f(x,\"start\",0),E=f(x,\"end\",0),A=f(x,\"suffix\",\"\"),M=f(x,\"zeroPad\",0),L=f(x,\"outputArray\",[]),O=f(x,\"frames\",!1);if(!this.textureManager.exists(v))return console.warn('Texture \"%s\" not found',v),L;var R=this.textureManager.get(v);if(!R)return L;var F;if(x)for(O||(O=u(C,E)),F=0;F<O.length;F++){var D=T+c(O[F],M,\"0\",1)+A;R.has(D)?L.push({key:v,frame:D}):console.warn('Frame \"%s\" not found in texture \"%s\"',D,v)}else for(O=R.getFrameNames(),F=0;F<O.length;F++)L.push({key:v,frame:O[F]});return L},generateFrameNumbers:function(v,x){var T=f(x,\"start\",0),C=f(x,\"end\",-1),E=f(x,\"first\",!1),A=f(x,\"outputArray\",[]),M=f(x,\"frames\",!1);if(!this.textureManager.exists(v))return console.warn('Texture \"%s\" not found',v),A;var L=this.textureManager.get(v);if(!L)return A;E&&L.has(E)&&A.push({key:v,frame:E}),M||(C===-1&&(C=L.frameTotal-2),M=u(T,C));for(var O=0;O<M.length;O++){var R=M[O];L.has(R)?A.push({key:v,frame:R}):console.warn('Frame \"%s\" not found in texture \"%s\"',R,v)}return A},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var x=this.textureManager.get(v),T=x.key,C=this.anims.getArray(),E=[],A=0;A<C.length;A++)for(var M=C[A],L=M.frames,O=0;O<L.length;O++)if(L[O].textureKey===T){E.push(M.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(v,x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)x[T].anims.play(v);return this},staggerPlay:function(v,x,T,C){T===void 0&&(T=0),C===void 0&&(C=!0),Array.isArray(x)||(x=[x]);var E=x.length;C||E--;for(var A=0;A<x.length;A++){var M=T<0?Math.abs(T)*(E-A):T*A;x[A].anims.playAfterDelay(v,M)}return this},remove:function(v){var x=this.get(v);return x&&(this.emit(o.REMOVE_ANIMATION,v,x),this.anims.delete(v),this.removeMix(v)),x},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(v){var x={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==\"\"?x.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(T,C){x.anims.push(C.toJSON())}),x},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});d.exports=p},9674:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(42099),g=t(30976),l=t(83419),a=t(90330),o=t(74943),n=t(95540),s=new l({initialize:function(r){this.parent=r,this.animationManager=r.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(f){var r=this.parent;if(f===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,r;Array.isArray(f)||(f=[f]);for(var u=0;u<f.length;u++){var c=f[u];this.nextAnim?this.nextAnimsQueue.push(c):this.nextAnim=c}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:\"\"},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:\"\"},load:function(f){this.isPlaying&&this.stop();var r=this.animationManager,u=typeof f==\"string\"?f:n(f,\"key\",null),c=this.exists(u)?this.get(u):r.get(u);if(!c)console.warn(\"Missing animation: \"+u);else{this.currentAnim=c;var p=c.getTotalFrames(),v=n(f,\"frameRate\",c.frameRate),x=n(f,\"duration\",c.duration);c.calculateDuration(this,p,x,v),this.delay=n(f,\"delay\",c.delay),this.repeat=n(f,\"repeat\",c.repeat),this.repeatDelay=n(f,\"repeatDelay\",c.repeatDelay),this.yoyo=n(f,\"yoyo\",c.yoyo),this.showBeforeDelay=n(f,\"showBeforeDelay\",c.showBeforeDelay),this.showOnStart=n(f,\"showOnStart\",c.showOnStart),this.hideOnComplete=n(f,\"hideOnComplete\",c.hideOnComplete),this.skipMissedFrames=n(f,\"skipMissedFrames\",c.skipMissedFrames),this.randomFrame=n(f,\"randomFrame\",c.randomFrame),this.timeScale=n(f,\"timeScale\",this.timeScale);var T=n(f,\"startFrame\",0);T>p&&(T=0),this.randomFrame&&(T=g(0,p-1));var C=c.frames[T];T===0&&!this.forward&&(C=c.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(f){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),f!==void 0&&this.setCurrentFrame(f),this.parent},resume:function(f){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),f!==void 0&&this.setCurrentFrame(f),this.parent},playAfterDelay:function(f,r){if(!this.isPlaying)this.delayCounter=r,this.play(f,!0);else{var u=this.nextAnim,c=this.nextAnimsQueue;u&&c.unshift(u),this.nextAnim=f,this._pendingStop=1,this._pendingStopValue=r}return this.parent},playAfterRepeat:function(f,r){if(r===void 0&&(r=1),!this.isPlaying)this.play(f);else{var u=this.nextAnim,c=this.nextAnimsQueue;u&&c.unshift(u),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this.nextAnim=f,this._pendingStop=2,this._pendingStopValue=r}return this.parent},play:function(f,r){r===void 0&&(r=!1);var u=this.currentAnim,c=this.parent,p=typeof f==\"string\"?f:f.key;if(r&&this.isPlaying&&u.key===p)return c;if(u&&this.isPlaying){var v=this.animationManager.getMix(u.key,f);if(v>0)return this.playAfterDelay(f,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f)},playReverse:function(f,r){r===void 0&&(r=!1);var u=typeof f==\"string\"?f:f.key;return r&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f))},startAnimation:function(f){this.load(f);var r=this.currentAnim,u=this.parent;return r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,r.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(f,r){var u=this.currentAnim;if(u){var c=this.currentFrame,p=this.parent,v=c.textureFrame;p.emit(f,u,c,p,v),r&&p.emit(r+u.key,u,c,p,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var f=this.currentFrame;if(!f)return 0;var r=f.progress;return this.inReverse&&(r*=-1),r},setProgress:function(f){return this.forward||(f=1-f),this.setCurrentFrame(this.currentAnim.getFrameByProgress(f)),this.parent},setRepeat:function(f){return this.repeatCounter=f===-1?Number.MAX_VALUE:f,this.parent},globalRemove:function(f,r){r===void 0&&(r=this.currentAnim),this.isPlaying&&r.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(f,r){f===void 0&&(f=!1),r===void 0&&(r=!1);var u=this.currentAnim,c=this.parent;return u?(r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!f,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(f)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(f)}return this.parent},stopAfterDelay:function(f){return this._pendingStop=1,this._pendingStopValue=f,this.parent},stopAfterRepeat:function(f){return f===void 0&&(f=1),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=f,this.parent},stopOnFrame:function(f){return this._pendingStop=3,this._pendingStopValue=f,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(f,r){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=r*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=r,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do this.forward?u.nextFrame(this):u.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}},setCurrentFrame:function(f){var r=this.parent;return this.currentFrame=f,r.texture=f.frame.texture,r.frame=f.frame,r.isCropped&&r.frame.updateCropUVs(r._crop,r.flipX,r.flipY),f.setAlpha&&(r.alpha=f.alpha),r.setSizeToFrame(),r._originComponent&&(f.frame.customPivot?r.setOrigin(f.frame.pivotX,f.frame.pivotY):r.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===f&&this.stop()),r},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(f){return this.anims?this.anims.get(f):null},exists:function(f){return this.anims?this.anims.has(f):!1},create:function(f){var r=f.key,u=!1;return r&&(u=this.get(r),u?console.warn(\"Animation key already exists: \"+r):(u=new h(this,r,f),this.anims||(this.anims=new a),this.anims.set(r,u))),u},createFromAseprite:function(f,r){return this.animationManager.createFromAseprite(f,r,this.parent)},generateFrameNames:function(f,r){return this.animationManager.generateFrameNames(f,r)},generateFrameNumbers:function(f,r){return this.animationManager.generateFrameNumbers(f,r)},remove:function(f){var r=this.get(f);return r&&(this.currentAnim===r&&this.stop(),this.anims.delete(f)),r},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});d.exports=s},57090:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"add\"},25312:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationcomplete\"},89580:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationcomplete-\"},52860:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationrepeat\"},63850:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationrestart\"},99085:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationstart\"},28087:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationstop\"},1794:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"animationupdate\"},52562:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"pauseall\"},57953:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"remove\"},68339:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"resumeall\"},74943:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(90330),l=t(50792),a=t(24736),o=new h({initialize:function(){this.entries=new g,this.events=new l},add:function(n,s){return this.entries.set(n,s),this.events.emit(a.ADD,this,n,s),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var s=this.get(n);return s&&(this.entries.delete(n),this.events.emit(a.REMOVE,this,n,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});d.exports=o},24047:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(2161),g=t(83419),l=t(8443),a=new g({initialize:function(n){this.game=n,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new h),this.custom[o]},destroy:function(){for(var o=[\"binary\",\"bitmapFont\",\"json\",\"physics\",\"shader\",\"audio\",\"video\",\"text\",\"html\",\"obj\",\"tilemap\",\"xml\"],n=0;n<o.length;n++)this[o[n]].destroy(),this[o[n]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});d.exports=a},51464:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"add\"},59261:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"remove\"},24736:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(31401),l=t(39506),a=t(50792),o=t(19715),n=t(87841),s=t(61340),f=t(80333),r=t(26099),u=new h({Extends:a,Mixins:[g.AlphaSingle,g.Visible],initialize:function(p,v,x,T){p===void 0&&(p=0),v===void 0&&(v=0),x===void 0&&(x=0),T===void 0&&(T=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name=\"\",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=p,this._y=v,this._width=x,this._height=T,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=f(\"rgba(0,0,0,0)\"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new r(x/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,p){return c===void 0&&(c=.5),p===void 0&&(p=c),this.originX=c,this.originY=p,this},getScroll:function(c,p,v){v===void 0&&(v=new r);var x=this.width*.5,T=this.height*.5;return v.x=c-x,v.y=p-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(c){var p=this.width*.5;return this.midPoint.x=c,this.scrollX=c-p,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var p=this.height*.5;return this.midPoint.y=c,this.scrollY=c-p,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,p){return this.centerOnX(c),this.centerOnY(p),this},centerToBounds:function(){if(this.useBounds){var c=this._bounds,p=this.width*.5,v=this.height*.5;this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-p,this.scrollY=c.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(c){if(this.disableCull)return c;var p=this.matrix.matrix,v=p[0],x=p[1],T=p[2],C=p[3],E=v*C-x*T;if(!E)return c;var A=p[4],M=p[5],L=this.scrollX,O=this.scrollY,R=this.width,F=this.height,D=this.y,B=D+F,b=this.x,G=b+R,z=this.culledObjects,V=c.length;E=1/E,z.length=0;for(var I=0;I<V;++I){var N=c[I];if(!N.hasOwnProperty(\"width\")||N.parentContainer){z.push(N);continue}var W=N.width,U=N.height,Y=N.x-L*N.scrollFactorX-W*N.originX,X=N.y-O*N.scrollFactorY-U*N.originY,H=Y*v+X*T+A,$=Y*x+X*C+M,Z=(Y+W)*v+(X+U)*T+A,Q=(Y+W)*x+(X+U)*C+M;Z>b&&H<G&&Q>D&&$<B&&z.push(N)}return z},getWorldPoint:function(c,p,v){v===void 0&&(v=new r);var x=this.matrix.matrix,T=x[0],C=x[1],E=x[2],A=x[3],M=x[4],L=x[5],O=T*A-C*E;if(!O)return v.x=c,v.y=p,v;O=1/O;var R=A*O,F=-C*O,D=-E*O,B=T*O,b=(E*L-A*M)*O,G=(C*M-T*L)*O,z=Math.cos(this.rotation),V=Math.sin(this.rotation),I=this.zoomX,N=this.zoomY,W=this.scrollX,U=this.scrollY,Y=c+(W*z-U*V)*I,X=p+(W*V+U*z)*N;return v.x=Y*R+X*D+b,v.y=Y*F+X*B+G,v},ignore:function(c){var p=this.id;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var x=c[v];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=p}return this},clampX:function(c){var p=this._bounds,v=this.displayWidth,x=p.x+(v-this.width)/2,T=Math.max(x,x+p.width-v);return c<x?c=x:c>T&&(c=T),c},clampY:function(c){var p=this._bounds,v=this.displayHeight,x=p.y+(v-this.height)/2,T=Math.max(x,x+p.height-v);return c<x?c=x:c>T&&(c=T),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=l(c),this},setBackgroundColor:function(c){return c===void 0&&(c=\"rgba(0,0,0,0)\"),this.backgroundColor=f(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,p,v,x,T){return T===void 0&&(T=!1),this._bounds.setTo(c,p,v,x),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new n);var p=this._bounds;return c.setTo(p.x,p.y,p.width,p.height),c},setName:function(c){return c===void 0&&(c=\"\"),this.name=c,this},setPosition:function(c,p){return p===void 0&&(p=c),this.x=c,this.y=p,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c,p){p===void 0&&(p=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=c,this.isSceneCamera=p;var v=c.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(c,p){return p===void 0&&(p=c),this.scrollX=c,this.scrollY=p,this},setSize:function(c,p){return p===void 0&&(p=c),this.width=c,this.height=p,this},setViewport:function(c,p,v,x){return this.x=c,this.y=p,this.width=v,this.height=x,this},setZoom:function(c,p){return c===void 0&&(c=1),p===void 0&&(p=c),c===0&&(c=.001),p===0&&(p=.001),this.zoomX=c,this.zoomY=p,this},setMask:function(c,p){return p===void 0&&(p=!0),this.mask=c,this._maskCamera=p?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},setIsSceneCamera:function(c){return this.isSceneCamera=c,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,p=this.sceneManager;c&&!this._customViewport?p.customViewports++:!c&&this._customViewport&&p.customViewports--,this.dirty=!0,this._customViewport=c}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){c!==this._scrollX&&(this._scrollX=c,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(c){c!==this._scrollY&&(this._scrollY=c,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});d.exports=u},38058:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(71911),g=t(67502),l=t(45319),a=t(83419),o=t(31401),n=t(20052),s=t(19715),f=t(28915),r=t(87841),u=t(26099),c=new a({Extends:h,Mixins:[o.PostPipeline],initialize:function(v,x,T,C){h.call(this,v,x,T,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(p,v){if(p===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=p,this.deadzone.height=v):this.deadzone=new r(0,0,p,v),this._follow){var x=this.width/2,T=this.height/2,C=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(C,E),this.scrollX=C-x,this.scrollY=E-T}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(p,v,x,T,C,E){return this.fadeEffect.start(!1,p,v,x,T,!0,C,E)},fadeOut:function(p,v,x,T,C,E){return this.fadeEffect.start(!0,p,v,x,T,!0,C,E)},fadeFrom:function(p,v,x,T,C,E,A){return this.fadeEffect.start(!1,p,v,x,T,C,E,A)},fade:function(p,v,x,T,C,E,A){return this.fadeEffect.start(!0,p,v,x,T,C,E,A)},flash:function(p,v,x,T,C,E,A){return this.flashEffect.start(p,v,x,T,C,E,A)},shake:function(p,v,x,T,C){return this.shakeEffect.start(p,v,x,T,C)},pan:function(p,v,x,T,C,E,A){return this.panEffect.start(p,v,x,T,C,E,A)},rotateTo:function(p,v,x,T,C,E,A){return this.rotateToEffect.start(p,v,x,T,C,E,A)},zoomTo:function(p,v,x,T,C,E){return this.zoomEffect.start(p,v,x,T,C,E)},preRender:function(){this.renderList.length=0;var p=this.width,v=this.height,x=p*.5,T=v*.5,C=this.zoomX,E=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(C)&&Number.isInteger(E);var M=p*this.originX,L=v*this.originY,O=this._follow,R=this.deadzone,F=this.scrollX,D=this.scrollY;R&&g(R,this.midPoint.x,this.midPoint.y);var B=!1;if(O&&!this.panEffect.isRunning){var b=this.lerp,G=O.x-this.followOffset.x,z=O.y-this.followOffset.y;R?(G<R.x?F=f(F,F-(R.x-G),b.x):G>R.right&&(F=f(F,F+(G-R.right),b.x)),z<R.y?D=f(D,D-(R.y-z),b.y):z>R.bottom&&(D=f(D,D+(z-R.bottom),b.y))):(F=f(F,G-M,b.x),D=f(D,z-L,b.y)),B=!0}this.roundPixels&&(F=Math.floor(F),D=Math.floor(D)),this.useBounds&&(F=this.clampX(F),D=this.clampY(D)),this.scrollX=F,this.scrollY=D;var V=F+x,I=D+T;this.midPoint.set(V,I);var N=Math.floor(p/C+.5),W=Math.floor(v/E+.5),U=Math.floor(V-N/2+.5),Y=Math.floor(I-W/2+.5);this.worldView.setTo(U,Y,N,W),A.applyITRS(Math.floor(this.x+M+.5),Math.floor(this.y+L+.5),this.rotation,C,E),A.translate(-M,-L),this.shakeEffect.preRender(),B&&this.emit(s.FOLLOW_UPDATE,this,O)},setLerp:function(p,v){return p===void 0&&(p=1),v===void 0&&(v=p),this.lerp.set(p,v),this},setFollowOffset:function(p,v){return p===void 0&&(p=0),v===void 0&&(v=0),this.followOffset.set(p,v),this},startFollow:function(p,v,x,T,C,E){v===void 0&&(v=!1),x===void 0&&(x=1),T===void 0&&(T=x),C===void 0&&(C=0),E===void 0&&(E=C),this._follow=p,this.roundPixels=v,x=l(x,0,1),T=l(T,0,1),this.lerp.set(x,T),this.followOffset.set(C,E);var A=this.width/2,M=this.height/2,L=p.x-C,O=p.y-E;return this.midPoint.set(L,O),this.scrollX=L-A,this.scrollY=O-M,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(p,v){this.visible&&(this.rotateToEffect.update(p,v),this.panEffect.update(p,v),this.zoomEffect.update(p,v),this.shakeEffect.update(p,v),this.flashEffect.update(p,v),this.fadeEffect.update(p,v))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});d.exports=c},32743:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(38058),g=t(83419),l=t(95540),a=t(37277),o=t(37303),n=t(97480),s=t(44594),f=new g({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(s.BOOT,this.boot,this),u.sys.events.on(s.START,this.start,this)},boot:function(){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,r.scale.width,r.scale.height).setScene(this.scene),r.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(s.UPDATE,this.update,this),u.once(s.SHUTDOWN,this.shutdown,this)},add:function(r,u,c,p,v,x){r===void 0&&(r=0),u===void 0&&(u=0),c===void 0&&(c=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),v===void 0&&(v=!1),x===void 0&&(x=\"\");var T=new h(r,u,c,p);return T.setName(x),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(r,u){u===void 0&&(u=!1);var c=this.cameras.indexOf(r);return c===-1?(r.id=this.getNextID(),r.setRoundPixels(this.roundPixels),this.cameras.push(r),u&&(this.main=r),r):null},getNextID:function(){for(var r=this.cameras,u=1,c=0;c<32;c++){for(var p=!1,v=0;v<r.length;v++){var x=r[v];if(x&&x.id===u){p=!0;continue}}if(p)u=u<<1;else return u}return 0},getTotal:function(r){r===void 0&&(r=!1);for(var u=0,c=this.cameras,p=0;p<c.length;p++){var v=c[p];(!r||r&&v.visible)&&u++}return u},fromJSON:function(r){Array.isArray(r)||(r=[r]);for(var u=this.scene.sys.scale.width,c=this.scene.sys.scale.height,p=0;p<r.length;p++){var v=r[p],x=l(v,\"x\",0),T=l(v,\"y\",0),C=l(v,\"width\",u),E=l(v,\"height\",c),A=this.add(x,T,C,E);A.name=l(v,\"name\",\"\"),A.zoom=l(v,\"zoom\",1),A.rotation=l(v,\"rotation\",0),A.scrollX=l(v,\"scrollX\",0),A.scrollY=l(v,\"scrollY\",0),A.roundPixels=l(v,\"roundPixels\",!1),A.visible=l(v,\"visible\",!0);var M=l(v,\"backgroundColor\",!1);M&&A.setBackgroundColor(M);var L=l(v,\"bounds\",null);if(L){var O=l(L,\"x\",0),R=l(L,\"y\",0),F=l(L,\"width\",u),D=l(L,\"height\",c);A.setBounds(O,R,F,D)}}return this},getCamera:function(r){for(var u=this.cameras,c=0;c<u.length;c++)if(u[c].name===r)return u[c];return null},getCamerasBelowPointer:function(r){for(var u=this.cameras,c=r.x,p=r.y,v=[],x=0;x<u.length;x++){var T=u[x];T.visible&&T.inputEnabled&&o(T,c,p)&&v.unshift(T)}return v},remove:function(r,u){u===void 0&&(u=!0),Array.isArray(r)||(r=[r]);for(var c=0,p=this.cameras,v=0;v<r.length;v++){var x=p.indexOf(r[v]);x!==-1&&(u?p[x].destroy():p[x].renderList=[],p.splice(x,1),c++)}return!this.main&&p[0]&&(this.main=p[0]),c},render:function(r,u){for(var c=this.scene,p=this.cameras,v=0;v<p.length;v++){var x=p[v];if(x.visible&&x.alpha>0){x.preRender();var T=this.getVisibleChildren(u.getChildren(),x);r.render(c,T,x)}}},getVisibleChildren:function(r,u){return r.filter(function(c){return c.willRender(u)})},resetAll:function(){for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(r,u){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(r,u)},onResize:function(r,u,c,p,v){for(var x=0;x<this.cameras.length;x++){var T=this.cameras[x];T._x===0&&T._y===0&&T._width===p&&T._height===v&&T.setSize(u.width,u.height)}},resize:function(r,u){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(r,u)},shutdown:function(){this.main=void 0;for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();this.cameras=[];var u=this.systems.events;u.off(s.UPDATE,this.update,this),u.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register(\"CameraManager\",f,\"cameras\"),d.exports=f},5020:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(45319),g=t(83419),l=t(19715),a=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,n,s,f,r,u,c,p){if(o===void 0&&(o=!0),n===void 0&&(n=1e3),s===void 0&&(s=0),f===void 0&&(f=0),r===void 0&&(r=0),u===void 0&&(u=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=o,this.progress=0,this.red=s,this.green=f,this.blue=r,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p;var v=o?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(v,this.camera,this,n,s,f,r),this.camera},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return o.fillStyle=\"rgba(\"+this.red+\",\"+this.green+\",\"+this.blue+\",\"+this.alpha+\")\",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,f=this.red/255,r=this.green/255,u=this.blue/255;return o.drawFillRect(s.x,s.y,s.width,s.height,n(u,r,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});d.exports=a},10662:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(45319),g=t(83419),l=t(19715),a=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,n,s,f,r,u,c){return o===void 0&&(o=250),n===void 0&&(n=255),s===void 0&&(s=255),f===void 0&&(f=255),r===void 0&&(r=!1),u===void 0&&(u=null),c===void 0&&(c=this.camera.scene),!r&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=n,this.green=s,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=c,this.camera.emit(l.FLASH_START,this.camera,this,o,n,s,f),this.camera)},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var n=this.camera;return o.fillStyle=\"rgba(\"+this.red+\",\"+this.green+\",\"+this.blue+\",\"+this.alpha+\")\",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning)return!1;var s=this.camera,f=this.red/255,r=this.green/255,u=this.blue/255;return o.drawFillRect(s.x,s.y,s.width,s.height,n(u,r,f,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});d.exports=a},20359:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(45319),g=t(83419),l=t(62640),a=t(19715),o=t(26099),n=new g({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,f,r,u,c,p,v){r===void 0&&(r=1e3),u===void 0&&(u=l.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),v===void 0&&(v=this.camera.scene);var x=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(s,f),x.getScroll(s,f,this.current),typeof u==\"string\"&&l.hasOwnProperty(u)?this.ease=l[u]:typeof u==\"function\"&&(this.ease=u),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,r,s,f)),x},update:function(s,f){if(this.isRunning){this._elapsed+=f;var r=h(this._elapsed/this.duration,0,1);this.progress=r;var u=this.camera;if(this._elapsed<this.duration){var c=this.ease(r);u.getScroll(this.destination.x,this.destination.y,this.current);var p=this.source.x+(this.current.x-this.source.x)*c,v=this.source.y+(this.current.y-this.source.y)*c;u.setScroll(p,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,r,p,v)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,r,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});d.exports=n},34208:(d,S,t)=>{/**\n * @author       Jason Nicholls <nicholls.jason@gmail.com>\n * @copyright    2018 Photon Storm Ltd.\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n */var h=t(45319),g=t(83419),l=t(19715),a=t(62640),o=new g({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,s,f,r,u,c,p){f===void 0&&(f=1e3),r===void 0&&(r=a.Linear),u===void 0&&(u=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var v=n;n<0?(v=-1*n,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;v=v-Math.floor(v/x)*x;var T=this.camera;if(!u&&this.isRunning)return T;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=T.rotation,this.destination=v,typeof r==\"string\"&&a.hasOwnProperty(r)?this.ease=a[r]:typeof r==\"function\"&&(this.ease=r),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.shortestPath){var C=0,E=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+x)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+x)-this.destination,C<E?this.clockwise=!0:C>E&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,f,v),T},update:function(n,s){if(this.isRunning){this._elapsed+=s;var f=h(this._elapsed/this.duration,0,1);this.progress=f;var r=this.camera;if(this._elapsed<this.duration){var u=this.ease(f);this.current=r.rotation;var c=0,p=360*Math.PI/180,v=this.destination,x=this.current;this.clockwise===!1&&(v=this.current,x=this.destination),v>=x?c=Math.abs(v-x):c=Math.abs(v+p)-x;var T=0;this.clockwise?T=r.rotation+c*u:T=r.rotation-c*u,r.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,f,T)}else r.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});d.exports=o},30330:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(45319),g=t(83419),l=t(19715),a=t(26099),o=new g({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,s,f,r,u){return n===void 0&&(n=100),s===void 0&&(s=.05),f===void 0&&(f=!1),r===void 0&&(r=null),u===void 0&&(u=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof s==\"number\"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=u,this.camera.emit(l.SHAKE_START,this.camera,this,n,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,s){if(this.isRunning)if(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,r=this.camera.width,u=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*f.x*r*2-f.x*r)*c,this._offsetY=(Math.random()*f.y*u*2-f.y*u)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});d.exports=o},45641:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(45319),g=t(83419),l=t(62640),a=t(19715),o=new g({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,s,f,r,u,c){s===void 0&&(s=1e3),f===void 0&&(f=l.Linear),r===void 0&&(r=!1),u===void 0&&(u=null),c===void 0&&(c=this.camera.scene);var p=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=p.zoom,this.destination=n,typeof f==\"string\"&&l.hasOwnProperty(f)?this.ease=l[f]:typeof f==\"function\"&&(this.ease=f),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=c,this.camera.emit(a.ZOOM_START,this.camera,this,s,n)),p},update:function(n,s){this.isRunning&&(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});d.exports=o},20052:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"cameradestroy\"},32726:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerafadeincomplete\"},87807:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerafadeinstart\"},45917:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerafadeoutcomplete\"},95666:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerafadeoutstart\"},47056:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"cameraflashcomplete\"},91261:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"cameraflashstart\"},45047:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"followupdate\"},81927:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerapancomplete\"},74264:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerapanstart\"},54419:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"postrender\"},79330:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"prerender\"},93183:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerarotatecomplete\"},80112:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerarotatestart\"},62252:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerashakecomplete\"},86017:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerashakestart\"},539:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerazoomcomplete\"},51892:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"camerazoomstart\"},19715:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(35154),l=new h({initialize:function(o){this.camera=g(o,\"camera\",null),this.left=g(o,\"left\",null),this.right=g(o,\"right\",null),this.up=g(o,\"up\",null),this.down=g(o,\"down\",null),this.zoomIn=g(o,\"zoomIn\",null),this.zoomOut=g(o,\"zoomOut\",null),this.zoomSpeed=g(o,\"zoomSpeed\",.01),this.minZoom=g(o,\"minZoom\",.001),this.maxZoom=g(o,\"maxZoom\",1e3),this.speedX=0,this.speedY=0;var n=g(o,\"speed\",null);typeof n==\"number\"?(this.speedX=n,this.speedY=n):(this.speedX=g(o,\"speed.x\",0),this.speedY=g(o,\"speed.y\",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});d.exports=l},58818:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(35154),l=new h({initialize:function(o){this.camera=g(o,\"camera\",null),this.left=g(o,\"left\",null),this.right=g(o,\"right\",null),this.up=g(o,\"up\",null),this.down=g(o,\"down\",null),this.zoomIn=g(o,\"zoomIn\",null),this.zoomOut=g(o,\"zoomOut\",null),this.zoomSpeed=g(o,\"zoomSpeed\",.01),this.minZoom=g(o,\"minZoom\",.001),this.maxZoom=g(o,\"maxZoom\",1e3),this.accelX=0,this.accelY=0;var n=g(o,\"acceleration\",null);typeof n==\"number\"?(this.accelX=n,this.accelY=n):(this.accelX=g(o,\"acceleration.x\",0),this.accelY=g(o,\"acceleration.y\",0)),this.dragX=0,this.dragY=0;var s=g(o,\"drag\",null);typeof s==\"number\"?(this.dragX=s,this.dragY=s):(this.dragX=g(o,\"drag.x\",0),this.dragY=g(o,\"drag.y\",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=g(o,\"maxSpeed\",null);typeof f==\"number\"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=g(o,\"maxSpeed.x\",0),this.maxSpeedY=g(o,\"maxSpeed.y\",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*a|0),this._speedY!==0&&(o.scrollY-=this._speedY*a|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});d.exports=l},38865:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h={VERSION:\"3.90.0\",LOG_VERSION:\"v390\",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};d.exports=h},69547:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(8054),l=t(42363),a=t(82264),o=t(95540),n=t(35154),s=t(41212),f=t(29747),r=t(75508),u=t(36060),c=t(80333),p=new h({initialize:function(x){x===void 0&&(x={});var T=[\"#ff0000\",\"#ffff00\",\"#00ff00\",\"#00ffff\",\"#000000\"],C=\"#ffffff\",E=n(x,\"scale\",null);this.width=n(E,\"width\",1024,x),this.height=n(E,\"height\",768,x),this.zoom=n(E,\"zoom\",1,x),this.parent=n(E,\"parent\",void 0,x),this.scaleMode=n(E,E?\"mode\":\"scaleMode\",0,x),this.expandParent=n(E,\"expandParent\",!0,x),this.autoRound=n(E,\"autoRound\",!1,x),this.autoCenter=n(E,\"autoCenter\",0,x),this.resizeInterval=n(E,\"resizeInterval\",500,x),this.fullscreenTarget=n(E,\"fullscreenTarget\",null,x),this.minWidth=n(E,\"min.width\",0,x),this.maxWidth=n(E,\"max.width\",0,x),this.minHeight=n(E,\"min.height\",0,x),this.maxHeight=n(E,\"max.height\",0,x),this.snapWidth=n(E,\"snap.width\",0,x),this.snapHeight=n(E,\"snap.height\",0,x),this.renderType=n(x,\"type\",g.AUTO),this.canvas=n(x,\"canvas\",null),this.context=n(x,\"context\",null),this.canvasStyle=n(x,\"canvasStyle\",null),this.customEnvironment=n(x,\"customEnvironment\",!1),this.sceneConfig=n(x,\"scene\",null),this.seed=n(x,\"seed\",[(Date.now()*Math.random()).toString()]),r.RND=new r.RandomDataGenerator(this.seed),this.gameTitle=n(x,\"title\",\"\"),this.gameURL=n(x,\"url\",\"https://phaser.io/\"+g.LOG_VERSION),this.gameVersion=n(x,\"version\",\"\"),this.autoFocus=n(x,\"autoFocus\",!0),this.stableSort=n(x,\"stableSort\",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=n(x,\"dom.createContainer\",!1),this.domPointerEvents=n(x,\"dom.pointerEvents\",\"none\"),this.inputKeyboard=n(x,\"input.keyboard\",!0),this.inputKeyboardEventTarget=n(x,\"input.keyboard.target\",window),this.inputKeyboardCapture=n(x,\"input.keyboard.capture\",[]),this.inputMouse=n(x,\"input.mouse\",!0),this.inputMouseEventTarget=n(x,\"input.mouse.target\",null),this.inputMousePreventDefaultDown=n(x,\"input.mouse.preventDefaultDown\",!0),this.inputMousePreventDefaultUp=n(x,\"input.mouse.preventDefaultUp\",!0),this.inputMousePreventDefaultMove=n(x,\"input.mouse.preventDefaultMove\",!0),this.inputMousePreventDefaultWheel=n(x,\"input.mouse.preventDefaultWheel\",!0),this.inputTouch=n(x,\"input.touch\",a.input.touch),this.inputTouchEventTarget=n(x,\"input.touch.target\",null),this.inputTouchCapture=n(x,\"input.touch.capture\",!0),this.inputActivePointers=n(x,\"input.activePointers\",1),this.inputSmoothFactor=n(x,\"input.smoothFactor\",0),this.inputWindowEvents=n(x,\"input.windowEvents\",!0),this.inputGamepad=n(x,\"input.gamepad\",!1),this.inputGamepadEventTarget=n(x,\"input.gamepad.target\",window),this.disableContextMenu=n(x,\"disableContextMenu\",!1),this.audio=n(x,\"audio\",{}),this.hideBanner=n(x,\"banner\",null)===!1,this.hidePhaser=n(x,\"banner.hidePhaser\",!1),this.bannerTextColor=n(x,\"banner.text\",C),this.bannerBackgroundColor=n(x,\"banner.background\",T),this.gameTitle===\"\"&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(x,\"fps\",null),this.disablePreFX=n(x,\"disablePreFX\",!1),this.disablePostFX=n(x,\"disablePostFX\",!1);var A=n(x,\"render\",null);this.pipeline=n(A,\"pipeline\",null,x),this.autoMobilePipeline=n(A,\"autoMobilePipeline\",!0,x),this.defaultPipeline=n(A,\"defaultPipeline\",u.MULTI_PIPELINE,x),this.antialias=n(A,\"antialias\",!0,x),this.antialiasGL=n(A,\"antialiasGL\",!0,x),this.mipmapFilter=n(A,\"mipmapFilter\",\"\",x),this.desynchronized=n(A,\"desynchronized\",!1,x),this.roundPixels=n(A,\"roundPixels\",!1,x),this.pixelArt=n(A,\"pixelArt\",this.zoom!==1,x),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(A,\"transparent\",!1,x),this.clearBeforeRender=n(A,\"clearBeforeRender\",!0,x),this.preserveDrawingBuffer=n(A,\"preserveDrawingBuffer\",!1,x),this.premultipliedAlpha=n(A,\"premultipliedAlpha\",!0,x),this.failIfMajorPerformanceCaveat=n(A,\"failIfMajorPerformanceCaveat\",!1,x),this.powerPreference=n(A,\"powerPreference\",\"default\",x),this.batchSize=n(A,\"batchSize\",4096,x),this.maxTextures=n(A,\"maxTextures\",-1,x),this.maxLights=n(A,\"maxLights\",10,x);var M=n(x,\"backgroundColor\",0);this.backgroundColor=c(M),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=n(x,\"callbacks.preBoot\",f),this.postBoot=n(x,\"callbacks.postBoot\",f),this.physics=n(x,\"physics\",{}),this.defaultPhysicsSystem=n(this.physics,\"default\",!1),this.loaderBaseURL=n(x,\"loader.baseURL\",\"\"),this.loaderPath=n(x,\"loader.path\",\"\"),this.loaderMaxParallelDownloads=n(x,\"loader.maxParallelDownloads\",a.os.android?6:32),this.loaderCrossOrigin=n(x,\"loader.crossOrigin\",void 0),this.loaderResponseType=n(x,\"loader.responseType\",\"\"),this.loaderAsync=n(x,\"loader.async\",!0),this.loaderUser=n(x,\"loader.user\",\"\"),this.loaderPassword=n(x,\"loader.password\",\"\"),this.loaderTimeout=n(x,\"loader.timeout\",0),this.loaderMaxRetries=n(x,\"loader.maxRetries\",2),this.loaderWithCredentials=n(x,\"loader.withCredentials\",!1),this.loaderImageLoadType=n(x,\"loader.imageLoadType\",\"XHR\"),this.loaderLocalScheme=n(x,\"loader.localScheme\",[\"file://\",\"capacitor://\"]),this.glowFXQuality=n(x,\"fx.glow.quality\",.1),this.glowFXDistance=n(x,\"fx.glow.distance\",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=n(x,\"plugins\",null),O=l.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:s(L)&&(this.installGlobalPlugins=o(L,\"global\",[]),this.installScenePlugins=o(L,\"scene\",[]),Array.isArray(L.default)?O=L.default:Array.isArray(L.defaultMerge)&&(O=O.concat(L.defaultMerge)))),this.defaultPlugins=O;var R=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg\";this.defaultImage=n(x,\"images.default\",R+\"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==\"),this.missingImage=n(x,\"images.missing\",R+\"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==\"),this.whiteImage=n(x,\"images.white\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC\"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});d.exports=p},86054:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(20623),g=t(27919),l=t(8054),a=t(89357),o=function(n){var s=n.config;if((s.customEnvironment||s.canvas)&&s.renderType===l.AUTO)throw new Error(\"Must set explicit renderType in custom environment\");if(!s.customEnvironment&&!s.canvas&&s.renderType!==l.HEADLESS)if(s.renderType===l.AUTO&&(s.renderType=a.webGL?l.WEBGL:l.CANVAS),s.renderType===l.WEBGL){if(!a.webGL)throw new Error(\"Cannot create WebGL context, aborting.\")}else if(s.renderType===l.CANVAS){if(!a.canvas)throw new Error(\"Cannot create Canvas context, aborting.\")}else throw new Error(\"Unknown value for renderer type: \"+s.renderType);s.antialias||g.disableSmoothing();var f=n.scale.baseSize,r=f.width,u=f.height;if(s.canvas?(n.canvas=s.canvas,n.canvas.width=r,n.canvas.height=u):n.canvas=g.create(n,r,u,s.renderType),s.canvasStyle&&(n.canvas.style=s.canvasStyle),s.antialias||h.setCrisp(n.canvas),s.renderType!==l.HEADLESS){var c,p;c=t(68627),p=t(74797),s.renderType===l.WEBGL?n.renderer=new p(n):(n.renderer=new c(n),n.context=n.renderer.gameContext)}};d.exports=o},96391:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(8054),g=function(l){var a=l.config;if(!a.hideBanner){var o=\"WebGL\";a.renderType===h.CANVAS?o=\"Canvas\":a.renderType===h.HEADLESS&&(o=\"Headless\");var n=a.audio,s=l.device.audio,f;if(s.webAudio&&!n.disableWebAudio?f=\"Web Audio\":n.noAudio||!s.webAudio&&!s.audioData?f=\"No Audio\":f=\"HTML5 Audio\",l.device.browser.ie)window.console&&console.log(\"Phaser v\"+h.VERSION+\" / https://phaser.io\");else{var r=\"\",u=[r];if(Array.isArray(a.bannerBackgroundColor)){var c;a.bannerBackgroundColor.forEach(function(v){r=r.concat(\"%c \"),u.push(\"background: \"+v),c=v}),u[u.length-1]=\"color: \"+a.bannerTextColor+\"; background: \"+c}else r=r.concat(\"%c \"),u.push(\"color: \"+a.bannerTextColor+\"; background: \"+a.bannerBackgroundColor);u.push(\"background: transparent\"),a.gameTitle&&(r=r.concat(a.gameTitle),a.gameVersion&&(r=r.concat(\" v\"+a.gameVersion)),a.hidePhaser||(r=r.concat(\" / \")));var p=\"\";a.hidePhaser||(r=r.concat(\"Phaser v\"+h.VERSION+p+\" (\"+o+\" | \"+f+\")\")),r=r.concat(\" %c \"+a.gameURL),u[0]=r,console.log.apply(console,u)}}};d.exports=g},50127:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40366),g=t(60848),l=t(24047),a=t(27919),o=t(83419),n=t(69547),s=t(83719),f=t(86054),r=t(45893),u=t(96391),c=t(82264),p=t(57264),v=t(50792),x=t(8443),T=t(7003),C=t(37277),E=t(77332),A=t(76531),M=t(60903),L=t(69442),O=t(17130),R=t(65898),F=t(51085),D=t(14747),B=new o({initialize:function(G){this.config=new n(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new g(this),this.textures=new O(this),this.cache=new l(this),this.registry=new r(this,new v),this.input=new T(this,this.config),this.scene=new M(this,this.config.sceneConfig),this.device=c,this.scale=new A(this,this.config),this.sound=null,this.sound=D.create(this),this.loop=new R(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){if(!C.hasCore(\"EventEmitter\")){console.warn(\"Aborting. Core Plugins missing.\");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),s(this),u(this),h(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(x.BOOT)},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var b=this.events;b.on(x.HIDDEN,this.onHidden,this),b.on(x.VISIBLE,this.onVisible,this),b.on(x.BLUR,this.onBlur,this),b.on(x.FOCUS,this.onFocus,this)},step:function(b,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(x.PRE_STEP,b,G),z.emit(x.STEP,b,G),this.scene.update(b,G),z.emit(x.POST_STEP,b,G);var V=this.renderer;V.preRender(),z.emit(x.PRE_RENDER,V,b,G),this.scene.render(V),V.postRender(),z.emit(x.POST_RENDER,V,b,G)}},headlessStep:function(b,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(x.PRE_STEP,b,G),z.emit(x.STEP,b,G),this.scene.update(b,G),z.emit(x.POST_STEP,b,G),this.scene.isProcessing=!1,z.emit(x.PRE_RENDER,null,b,G),z.emit(x.POST_RENDER,null,b,G)}},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME,this.loop.pauseDuration)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(x.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});d.exports=B},65898:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(35154),l=t(29747),a=t(43092),o=new h({initialize:function(s,f){this.game=s,this.raf=new a,this.started=!1,this.running=!1,this.minFps=g(f,\"min\",5),this.targetFps=g(f,\"target\",60),this.fpsLimit=g(f,\"limit\",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=g(f,\"forceSetTimeOut\",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(f,\"deltaHistory\",10),this.panicMax=g(f,\"panicMax\",120),this.rawDelta=0,this.now=0,this.smoothStep=g(f,\"smoothStep\",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var s=this.deltaIndex,f=this.deltaHistory,r=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=f[s],n=Math.min(n,this._min)),f[s]=n,this.deltaIndex++,this.deltaIndex>=r&&(this.deltaIndex=0);for(var u=0,c=0;c<r;c++)u+=f[c];return u/=r,u},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var s=Math.max(0,n-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var s=Math.max(0,n-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,s),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var s=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+s));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});d.exports=o},51085:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(8443),g=function(l){var a,o=l.events;if(document.hidden!==void 0)a=\"visibilitychange\";else{var n=[\"webkit\",\"moz\",\"ms\"];n.forEach(function(f){document[f+\"Hidden\"]!==void 0&&(document.hidden=function(){return document[f+\"Hidden\"]},a=f+\"visibilitychange\")})}var s=function(f){document.hidden||f.type===\"pause\"?o.emit(h.HIDDEN):o.emit(h.VISIBLE)};a&&document.addEventListener(a,s,!1),window.onblur=function(){o.emit(h.BLUR)},window.onfocus=function(){o.emit(h.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};d.exports=g},97217:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"blur\"},47548:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"boot\"},19814:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"contextlost\"},68446:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"destroy\"},41700:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"focus\"},25432:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"hidden\"},65942:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"pause\"},59211:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"postrender\"},47789:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"poststep\"},39066:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"prerender\"},460:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"prestep\"},16175:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"ready\"},42331:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"resume\"},11966:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"step\"},32969:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"systemready\"},94830:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"visible\"},8443:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(5290),g=t(27919),l=t(35154),a=function(o){var n=l(o,\"data\",[]),s=l(o,\"canvas\",null),f=l(o,\"palette\",h),r=l(o,\"pixelWidth\",1),u=l(o,\"pixelHeight\",r),c=l(o,\"resizeCanvas\",!0),p=l(o,\"clearCanvas\",!0),v=l(o,\"preRender\",null),x=l(o,\"postRender\",null),T=Math.floor(Math.abs(n[0].length*r)),C=Math.floor(Math.abs(n.length*u));s||(s=g.create2D(this,T,C),c=!1,p=!1),c&&(s.width=T,s.height=C);var E=s.getContext(\"2d\",{willReadFrequently:!0});p&&E.clearRect(0,0,T,C),v&&v(s,E);for(var A=0;A<n.length;A++)for(var M=n[A],L=0;L<M.length;L++){var O=M[L];O!==\".\"&&O!==\" \"&&(E.fillStyle=f[O],E.fillRect(L*r,A*u,r,u))}return x&&x(s,E),s};d.exports=a},15822:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={0:\"#000\",1:\"#9D9D9D\",2:\"#FFF\",3:\"#BE2633\",4:\"#E06F8B\",5:\"#493C2B\",6:\"#A46422\",7:\"#EB8931\",8:\"#F7E26B\",9:\"#2F484E\",A:\"#44891A\",B:\"#A3CE27\",C:\"#1B2632\",D:\"#005784\",E:\"#31A2F2\",F:\"#B2DCEF\"}},23816:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={0:\"#000\",1:\"#fff\",2:\"#8b4131\",3:\"#7bbdc5\",4:\"#8b41ac\",5:\"#6aac41\",6:\"#3931a4\",7:\"#d5de73\",8:\"#945a20\",9:\"#5a4100\",A:\"#bd736a\",B:\"#525252\",C:\"#838383\",D:\"#acee8b\",E:\"#7b73de\",F:\"#acacac\"}},9866:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={0:\"#000\",1:\"#2234d1\",2:\"#0c7e45\",3:\"#44aacc\",4:\"#8a3622\",5:\"#5c2e78\",6:\"#aa5c3d\",7:\"#b5b5b5\",8:\"#5e606e\",9:\"#4c81fb\",A:\"#6cd947\",B:\"#7be2f9\",C:\"#eb8a60\",D:\"#e23d69\",E:\"#ffd93f\",F:\"#fff\"}},77552:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={0:\"#000\",1:\"#191028\",2:\"#46af45\",3:\"#a1d685\",4:\"#453e78\",5:\"#7664fe\",6:\"#833129\",7:\"#9ec2e8\",8:\"#dc534b\",9:\"#e18d79\",A:\"#d6b97b\",B:\"#e9d8a1\",C:\"#216c4b\",D:\"#d365c8\",E:\"#afaab9\",F:\"#f5f4eb\"}},92259:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={0:\"#000\",1:\"#191028\",2:\"#46af45\",3:\"#a1d685\",4:\"#453e78\",5:\"#7664fe\",6:\"#833129\",7:\"#9ec2e8\",8:\"#dc534b\",9:\"#e18d79\",A:\"#d6b97b\",B:\"#e9d8a1\",C:\"#216c4b\",D:\"#d365c8\",E:\"#afaab9\",F:\"#fff\"}},57763:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(36316),l=t(80021),a=t(26099),o=new h({Extends:l,initialize:function(s,f,r,u){l.call(this,\"CubicBezierCurve\"),Array.isArray(s)&&(u=new a(s[6],s[7]),r=new a(s[4],s[5]),f=new a(s[2],s[3]),s=new a(s[0],s[1])),this.p0=s,this.p1=f,this.p2=r,this.p3=u},getStartPoint:function(n){return n===void 0&&(n=new a),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,s){s===void 0&&(s=new a);var f=this.p0,r=this.p1,u=this.p2,c=this.p3;return s.set(g(n,f.x,r.x,u.x,c.x),g(n,f.y,r.y,u.y,c.y))},draw:function(n,s){s===void 0&&(s=32);var f=this.getPoints(s);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var r=1;r<f.length;r++)n.lineTo(f[r].x,f[r].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(n){var s=n.points,f=new a(s[0],s[1]),r=new a(s[2],s[3]),u=new a(s[4],s[5]),c=new a(s[6],s[7]);return new o(f,r,u,c)},d.exports=o},80021:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(19217),l=t(87841),a=t(26099),o=new h({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(n,s){return s===void 0&&(s=32),n.strokePoints(this.getPoints(s))},getBounds:function(n,s){n||(n=new l),s===void 0&&(s=16);var f=this.getLength();s>f&&(s=f/2);var r=Math.max(1,Math.round(f/s));return g(this.getSpacedPoints(r),n)},getDistancePoints:function(n){var s=this.getLength(),f=Math.max(1,s/n);return this.getSpacedPoints(f)},getEndPoint:function(n){return n===void 0&&(n=new a),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],f,r=this.getPoint(0,this._tmpVec2A),u=0;s.push(0);for(var c=1;c<=n;c++)f=this.getPoint(c/n,this._tmpVec2B),u+=f.distance(r),s.push(u),r.copy(f);return this.cacheArcLengths=s,s},getPointAt:function(n,s){var f=this.getUtoTmapping(n);return this.getPoint(f,s)},getPoints:function(n,s,f){f===void 0&&(f=[]),n||(s?n=this.getLength()/s:n=this.defaultDivisions);for(var r=0;r<=n;r++)f.push(this.getPoint(r/n));return f},getRandomPoint:function(n){return n===void 0&&(n=new a),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,s,f){f===void 0&&(f=[]),n||(s?n=this.getLength()/s:n=this.defaultDivisions);for(var r=0;r<=n;r++){var u=this.getUtoTmapping(r/n,null,n);f.push(this.getPoint(u))}return f},getStartPoint:function(n){return n===void 0&&(n=new a),this.getPointAt(0,n)},getTangent:function(n,s){s===void 0&&(s=new a);var f=1e-4,r=n-f,u=n+f;return r<0&&(r=0),u>1&&(u=1),this.getPoint(r,this._tmpVec2A),this.getPoint(u,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,s){var f=this.getUtoTmapping(n);return this.getTangent(f,s)},getTFromDistance:function(n,s){return n<=0?0:this.getUtoTmapping(0,n,s)},getUtoTmapping:function(n,s,f){var r=this.getLengths(f),u=0,c=r.length,p;s?p=Math.min(s,r[c-1]):p=n*r[c-1];for(var v=0,x=c-1,T;v<=x;)if(u=Math.floor(v+(x-v)/2),T=r[u]-p,T<0)v=u+1;else if(T>0)x=u-1;else{x=u;break}if(u=x,r[u]===p)return u/(c-1);var C=r[u],E=r[u+1],A=E-C,M=(p-C)/A;return(u+M)/(c-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});d.exports=o},73825:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(80021),l=t(39506),a=t(35154),o=t(43396),n=t(26099),s=new h({Extends:g,initialize:function(r,u,c,p,v,x,T,C){if(typeof r==\"object\"){var E=r;r=a(E,\"x\",0),u=a(E,\"y\",0),c=a(E,\"xRadius\",0),p=a(E,\"yRadius\",c),v=a(E,\"startAngle\",0),x=a(E,\"endAngle\",360),T=a(E,\"clockwise\",!1),C=a(E,\"rotation\",0)}else p===void 0&&(p=c),v===void 0&&(v=0),x===void 0&&(x=360),T===void 0&&(T=!1),C===void 0&&(C=0);g.call(this,\"EllipseCurve\"),this.p0=new n(r,u),this._xRadius=c,this._yRadius=p,this._startAngle=l(v),this._endAngle=l(x),this._clockwise=T,this._rotation=l(C)},getStartPoint:function(f){return f===void 0&&(f=new n),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,r){r===void 0&&(r=new n);for(var u=Math.PI*2,c=this._endAngle-this._startAngle,p=Math.abs(c)<Number.EPSILON;c<0;)c+=u;for(;c>u;)c-=u;c<Number.EPSILON&&(p?c=0:c=u),this._clockwise&&!p&&(c===u?c=-u:c=c-u);var v=this._startAngle+f*c,x=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var C=Math.cos(this._rotation),E=Math.sin(this._rotation),A=x-this.p0.x,M=T-this.p0.y;x=A*C-M*E+this.p0.x,T=A*E+M*C+this.p0.y}return r.set(x,T)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return o(this._startAngle)},set:function(f){this._startAngle=l(f)}},endAngle:{get:function(){return o(this._endAngle)},set:function(f){this._endAngle=l(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return o(this._rotation)},set:function(f){this._rotation=l(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});s.fromJSON=function(f){return new s(f)},d.exports=s},33951:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(80021),l=t(19217),a=t(87841),o=t(26099),n=new h({Extends:g,initialize:function(f,r){g.call(this,\"LineCurve\"),Array.isArray(f)&&(r=new o(f[2],f[3]),f=new o(f[0],f[1])),this.p0=f,this.p1=r,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new a),l([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new o),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,f){return f===void 0&&(f=new o),s===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),f)},getPointAt:function(s,f){return this.getPoint(s,f)},getTangent:function(s,f){return f===void 0&&(f=new o),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(s,f,r){var u;if(f){var c=this.getLengths(r),p=c[c.length-1],v=Math.min(f,p);u=v/p}else u=s;return u},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(s){var f=s.points,r=new o(f[0],f[1]),u=new o(f[2],f[3]);return new n(r,u)},d.exports=n},14744:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(80021),l=t(32112),a=t(26099),o=new h({Extends:g,initialize:function(s,f,r){g.call(this,\"QuadraticBezierCurve\"),Array.isArray(s)&&(r=new a(s[4],s[5]),f=new a(s[2],s[3]),s=new a(s[0],s[1])),this.p0=s,this.p1=f,this.p2=r},getStartPoint:function(n){return n===void 0&&(n=new a),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,s){s===void 0&&(s=new a);var f=this.p0,r=this.p1,u=this.p2;return s.set(l(n,f.x,r.x,u.x),l(n,f.y,r.y,u.y))},draw:function(n,s){s===void 0&&(s=32);var f=this.getPoints(s);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var r=1;r<f.length;r++)n.lineTo(f[r].x,f[r].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(n){var s=n.points,f=new a(s[0],s[1]),r=new a(s[2],s[3]),u=new a(s[4],s[5]);return new o(f,r,u)},d.exports=o},42534:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(87842),g=t(83419),l=t(80021),a=t(26099),o=new g({Extends:l,initialize:function(s){s===void 0&&(s=[]),l.call(this,\"SplineCurve\"),this.points=[],this.addPoints(s)},addPoints:function(n){for(var s=0;s<n.length;s++){var f=new a;typeof n[s]==\"number\"?(f.x=n[s],f.y=n[s+1],s++):Array.isArray(n[s])?(f.x=n[s][0],f.y=n[s][1]):(f.x=n[s].x,f.y=n[s].y),this.points.push(f)}return this},addPoint:function(n,s){var f=new a(n,s);return this.points.push(f),f},getStartPoint:function(n){return n===void 0&&(n=new a),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,s){s===void 0&&(s=new a);var f=this.points,r=(f.length-1)*n,u=Math.floor(r),c=r-u,p=f[u===0?u:u-1],v=f[u],x=f[u>f.length-2?f.length-1:u+1],T=f[u>f.length-3?f.length-1:u+2];return s.set(h(c,p.x,v.x,x.x,T.x),h(c,p.y,v.y,x.y,T.y))},toJSON:function(){for(var n=[],s=0;s<this.points.length;s++)n.push(this.points[s].x),n.push(this.points[s].y);return{type:this.type,points:n}}});o.fromJSON=function(n){return new o(n.points)},d.exports=o},25410:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(26099),l=new h({initialize:function(o,n){this.active=!1,this.p0=new g(o,n)},getPoint:function(a,o){return o===void 0&&(o=new g),o.copy(this.p0)},getPointAt:function(a,o){return this.getPoint(a,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:\"MoveTo\",points:[this.p0.x,this.p0.y]}}});d.exports=l},46669:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(46728),l=t(73825),a=t(39429),o=t(33951),n=t(68618),s=t(14744),f=t(87841),r=t(42534),u=t(26099),c=t(36383),p=new h({initialize:function(x,T){x===void 0&&(x=0),T===void 0&&(T=0),this.name=\"\",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof x==\"object\"?this.fromJSON(x):this.startPoint.set(x,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,x,T){return x===void 0&&(x=!1),this.ellipseTo(v,v,0,360,x,T)},closePath:function(){var v=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return v.equals(x)||this.curves.push(new o(x,v)),this},cubicBezierTo:function(v,x,T,C,E,A){var M=this.getEndPoint(),L,O,R;return v instanceof u?(L=v,O=x,R=T):(L=new u(T,C),O=new u(E,A),R=new u(v,x)),this.add(new g(M,L,O,R))},quadraticBezierTo:function(v,x,T,C){var E=this.getEndPoint(),A,M;return v instanceof u?(A=v,M=x):(A=new u(T,C),M=new u(v,x)),this.add(new s(E,A,M))},draw:function(v,x){for(var T=0;T<this.curves.length;T++){var C=this.curves[T];C.active&&C.draw(v,x)}return v},ellipseTo:function(v,x,T,C,E,A){var M=new l(0,0,v,x,T,C,E,A),L=this.getEndPoint(this._tmpVec2A),O=M.getStartPoint(this._tmpVec2B);return L.subtract(O),M.x=L.x,M.y=L.y,this.add(M)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var x=0;x<v.curves.length;x++){var T=v.curves[x];switch(T.type){case\"LineCurve\":this.add(o.fromJSON(T));break;case\"EllipseCurve\":this.add(l.fromJSON(T));break;case\"SplineCurve\":this.add(r.fromJSON(T));break;case\"CubicBezierCurve\":this.add(g.fromJSON(T));break;case\"QuadraticBezierCurve\":this.add(s.fromJSON(T));break}}return this},getBounds:function(v,x){v===void 0&&(v=new f),x===void 0&&(x=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new f,C=c.MIN_SAFE_INTEGER,E=c.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var M=this.curves[A];M.active&&(M.getBounds(T,x),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),C=Math.max(C,T.right),E=Math.max(E,T.bottom))}return v.right=C,v.bottom=E,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],x=0,T=0;T<this.curves.length;T++)x+=this.curves[T].getLength(),v.push(x);return this.cacheLengths=v,v},getCurveAt:function(v){for(var x=v*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=x)return this.curves[C];C++}return null},getEndPoint:function(v){return v===void 0&&(v=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,x){x===void 0&&(x=new u);for(var T=v*this.getLength(),C=this.getCurveLengths(),E=0;E<C.length;){if(C[E]>=T){var A=C[E]-T,M=this.curves[E],L=M.getLength(),O=L===0?0:1-A/L;return M.getPointAt(O,x)}E++}return null},getPoints:function(v,x){!v&&!x&&(v=this.defaultDivisions);for(var T=[],C,E=0;E<this.curves.length;E++){var A=this.curves[E];if(A.active)for(var M=A.getResolution(v),L=A.getPoints(M,x),O=0;O<L.length;O++){var R=L[O];C&&C.equals(R)||(T.push(R),C=R)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var x=[],T=0;T<=v;T++)x.push(this.getPoint(T/v));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,x){x===void 0&&(x=new u);for(var T=v*this.getLength(),C=this.getCurveLengths(),E=0;E<C.length;){if(C[E]>=T){var A=C[E]-T,M=this.curves[E],L=M.getLength(),O=L===0?0:1-A/L;return M.getTangentAt(O,x)}E++}return null},lineTo:function(v,x){v instanceof u?this._tmpVec2B.copy(v):typeof v==\"object\"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,x);var T=this.getEndPoint(this._tmpVec2A);return this.add(new o([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new r(v))},moveTo:function(v,x){return v instanceof u?this.add(new n(v.x,v.y)):this.add(new n(v,x))},toJSON:function(){for(var v=[],x=0;x<this.curves.length;x++)v.push(this.curves[x].toJSON());return{type:\"Path\",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register(\"path\",function(v,x){return new p(v,x)}),d.exports=p},45893:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(24882),l=new h({initialize:function(o,n){this.parent=o,this.events=n,n||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty(\"sys\")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(a){var o=this.list;if(Array.isArray(a)){for(var n=[],s=0;s<a.length;s++)n.push(o[a[s]]);return n}else return o[a]},getAll:function(){var a={};for(var o in this.list)this.list.hasOwnProperty(o)&&(a[o]=this.list[o]);return a},query:function(a){var o={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(a)&&(o[n]=this.list[n]);return o},set:function(a,o){if(this._frozen)return this;if(typeof a==\"string\")return this.setValue(a,o);for(var n in a)this.setValue(n,a[n]);return this},inc:function(a,o){if(this._frozen)return this;o===void 0&&(o=1);var n=this.get(a);return n===void 0&&(n=0),this.set(a,n+o),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,o){if(this._frozen)return this;if(this.has(a))this.values[a]=o;else{var n=this,s=this.list,f=this.events,r=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return s[a]},set:function(u){if(!n._frozen){var c=s[a];s[a]=u,f.emit(g.CHANGE_DATA,r,a,u,c),f.emit(g.CHANGE_DATA_KEY+a,r,u,c)}}}),s[a]=o,f.emit(g.SET_DATA,r,a,o)}return this},each:function(a,o){for(var n=[this.parent,null,void 0],s=1;s<arguments.length;s++)n.push(arguments[s]);for(var f in this.list)n[1]=f,n[2]=this.list[f],a.apply(o,n);return this},merge:function(a,o){o===void 0&&(o=!0);for(var n in a)a.hasOwnProperty(n)&&(o||!o&&!this.has(n))&&this.setValue(n,a[n]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var o=0;o<a.length;o++)this.removeValue(a[o]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var o=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,o)}return this},pop:function(a){var o=void 0;return!this._frozen&&this.has(a)&&(o=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,o)),o},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var o in this.list)this.list[o]!==void 0&&a++;return a}}});d.exports=l},63646:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(45893),l=t(37277),a=t(44594),o=new h({Extends:g,initialize:function(s){g.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(a.BOOT,this.boot,this),s.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});l.register(\"DataManagerPlugin\",o,\"data\"),d.exports=o},10700:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"changedata\"},93608:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"changedata-\"},60883:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"destroy\"},69780:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"removedata\"},22166:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports=\"setdata\"},24882:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts==\"function\")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement(\"audio\"),o=!!a.canPlayType;try{if(o){var n=function(r,u){var c=a.canPlayType(\"audio/\"+r).replace(/^no$/,\"\");return u?!!(c||a.canPlayType(\"audio/\"+u).replace(/^no$/,\"\")):!!c};if(g.ogg=n('ogg; codecs=\"vorbis\"'),g.opus=n('ogg; codecs=\"opus\"',\"opus\"),g.mp3=n(\"mpeg\"),g.wav=n(\"wav\"),g.m4a=n(\"x-m4a\"),g.aac=n(\"aac\"),g.flac=n(\"flac\",\"x-flac\"),g.webm=n('webm; codecs=\"vorbis\"'),a.canPlayType('audio/mp4; codecs=\"ec-3\"')!==\"\"){if(h.edge)g.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\\d+)_(\\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(s===10&&f>=11||s>10)&&(g.dolby=!0)}}}}catch{}return g}d.exports=l()},84148:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var a=navigator.userAgent;return/Edg\\/\\d+/.test(a)?(g.edge=!0,g.es2019=!0):/OPR/.test(a)?(g.opera=!0,g.es2019=!0):/Chrome\\/(\\d+)/.test(a)&&!h.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\\D+(\\d+)/.test(a)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\\/(?!.*CriOS)/.test(a)&&h.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\\d+\\.\\d+);/.test(a)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\\/(\\d+\\.\\d+(\\.\\d+)?) Safari/.test(a)&&!h.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/.test(a)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(g.silk=!0),g}d.exports=l()},89289:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var n=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/\",s=\"AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==\",f=new Image;return f.onload=function(){var r=new Image;r.onload=function(){var u=h.create2D(r,6),c=u.getContext(\"2d\",{willReadFrequently:!0});if(c.globalCompositeOperation=\"multiply\",c.drawImage(f,0,0),c.drawImage(r,2,0),!c.getImageData(2,0,1,1))return!1;var p=c.getImageData(2,0,1,1).data;h.remove(r),g.supportNewBlendModes=p[0]===255&&p[1]===0&&p[2]===0},r.src=n+\"/wCKxvRF\"+s},f.src=n+\"AP804Oa6\"+s,!1}function a(){var n=h.create2D(this,2),s=n.getContext(\"2d\",{willReadFrequently:!0});s.fillStyle=\"rgba(10, 20, 30, 0.5)\",s.fillRect(0,0,1,1);var f=s.getImageData(0,0,1,1);if(f===null)return!1;s.putImageData(f,1,0);var r=s.getImageData(1,0,1,1),u=r.data[0]===f.data[0]&&r.data[1]===f.data[1]&&r.data[2]===f.data[2]&&r.data[3]===f.data[3];return h.remove(this),u}function o(){return typeof importScripts!=\"function\"&&document!==void 0&&(g.supportNewBlendModes=l(),g.supportInverseAlpha=a()),g}d.exports=o()},89357:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(25892),g=t(84148),l=t(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var s=new ArrayBuffer(4),f=new Uint8Array(s),r=new Uint32Array(s);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,r[0]===3569595041?!0:r[0]===2712847316?!1:null}function n(){if(typeof importScripts==\"function\")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var s=!1,f=function(){if(window.WebGLRenderingContext)try{var r=l.createWebGL(this),u=r.getContext(\"webgl\")||r.getContext(\"experimental-webgl\"),c=l.create2D(this),p=c.getContext(\"2d\",{willReadFrequently:!0}),v=p.createImageData(1,1);return s=v.data instanceof Uint8ClampedArray,l.remove(r),l.remove(c),!!u}catch{return!1}return!1};return a.webGL=f(),a.worker=!!window.Worker,a.pointerLock=\"pointerLockElement\"in document||\"mozPointerLockElement\"in document||\"webkitPointerLockElement\"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(a.getUserMedia=!1),!h.iOS&&(g.ie||g.firefox||g.chrome)&&(a.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<\"u\"&&typeof Uint8Array<\"u\"&&typeof Uint32Array<\"u\"&&(a.littleEndian=o()),a.support32bit=typeof ArrayBuffer<\"u\"&&typeof Uint8ClampedArray<\"u\"&&typeof Int32Array<\"u\"&&a.littleEndian!==null&&s,a}d.exports=n()},91639:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S={available:!1,cancel:\"\",keyboard:!1,request:\"\"};function t(){if(typeof importScripts==\"function\")return S;var h,g=\"Fullscreen\",l=\"FullScreen\",a=[\"request\"+g,\"request\"+l,\"webkitRequest\"+g,\"webkitRequest\"+l,\"msRequest\"+g,\"msRequest\"+l,\"mozRequest\"+l,\"mozRequest\"+g];for(h=0;h<a.length;h++)if(document.documentElement[a[h]]){S.available=!0,S.request=a[h];break}var o=[\"cancel\"+l,\"exit\"+g,\"webkitCancel\"+l,\"webkitExit\"+g,\"msCancel\"+l,\"msExit\"+g,\"mozCancel\"+l,\"mozExit\"+g];if(S.available){for(h=0;h<o.length;h++)if(document[o[h]]){S.cancel=o[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\\/5\\.1(?:\\.\\d+)? Safari\\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,\"active\",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}d.exports=t()},31784:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts==\"function\"||((\"ontouchstart\"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),\"onwheel\"in window||h.ie&&\"WheelEvent\"in window?g.wheelEvent=\"wheel\":\"onmousewheel\"in window?g.wheelEvent=\"mousewheel\":h.firefox&&\"MouseScrollEvent\"in window&&(g.wheelEvent=\"DOMMouseScroll\")),g}d.exports=l()},25892:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts==\"function\")return S;var h=navigator.userAgent;/Windows/.test(h)?S.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\\/(\\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(h)?S.android=!0:/Linux/.test(h)?S.linux=!0:/iP[ao]d|iPhone/i.test(h)?(S.iOS=!0,navigator.appVersion.match(/OS (\\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=h.toLowerCase().indexOf(\"iphone\")!==-1,S.iPad=h.toLowerCase().indexOf(\"ipad\")!==-1):/Kindle/.test(h)||/\\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?S.kindle=!0:/CrOS/.test(h)&&(S.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var g=/Silk/.test(h);return(S.windows||S.macOS||S.linux&&!g||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!=\"function\"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<\"u\"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions==\"object\"&&(S.nodeWebkit=!!process.versions[\"node-webkit\"],S.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}d.exports=t()},43267:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts==\"function\")return g;var a=document.createElement(\"video\"),o=!!a.canPlayType,n=/^no$/;try{o&&(a.canPlayType('video/ogg; codecs=\"theora\"').replace(n,\"\")&&(g.ogg=!0),a.canPlayType('video/mp4; codecs=\"avc1.42E01E\"').replace(n,\"\")&&(g.h264=!0,g.mp4=!0),a.canPlayType(\"video/x-m4v\").replace(n,\"\")&&(g.m4v=!0),a.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(n,\"\")&&(g.webm=!0),a.canPlayType('video/webm; codecs=\"vp9\"').replace(n,\"\")&&(g.vp9=!0),a.canPlayType('application/x-mpegURL; codecs=\"avc1.42E01E\"').replace(n,\"\")&&(g.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),g.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++){var r=h(s[f],\"url\",s[f]);if(r.indexOf(\"blob:\")===0)return{url:r,type:\"\"};var u;if(r.indexOf(\"data:\")===0?u=r.split(\",\")[0].match(/\\/(.*?);/):u=r.match(/\\.([a-zA-Z0-9]+)($|\\?)/),u=h(s[f],\"type\",u?u[1]:\"\").toLowerCase(),g[u])return{url:r,type:u}}return null},g}d.exports=l()},82264:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=new Float32Array(20),l=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,o){a===void 0&&(a=0),o===void 0&&(o=!1);var n=a;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],o)},saturate:function(a,o){a===void 0&&(a=0),o===void 0&&(o=!1);var n=a*2/3+1,s=(n-1)*-.5;return this.multiply([n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0],o)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,o){a===void 0&&(a=0),o===void 0&&(o=!1),a=a/180*Math.PI;var n=Math.cos(a),s=Math.sin(a),f=.213,r=.715,u=.072;return this.multiply([f+n*(1-f)+s*-f,r+n*-r+s*-r,u+n*-u+s*(1-u),0,0,f+n*-f+s*.143,r+n*(1-r)+s*.14,u+n*-u+s*-.283,0,0,f+n*-f+s*-(1-f),r+n*-r+s*r,u+n*(1-u)+s*u,0,0,0,0,0,1,0],o)},grayscale:function(a,o){return a===void 0&&(a=1),o===void 0&&(o=!1),this.saturate(-a,o)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(l.BLACK_WHITE,a)},contrast:function(a,o){a===void 0&&(a=0),o===void 0&&(o=!1);var n=a+1,s=-.5*(n-1);return this.multiply([n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0],o)},negative:function(a){return a===void 0&&(a=!1),this.multiply(l.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(l.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(l.SEPIA,a)},night:function(a,o){return a===void 0&&(a=.1),o===void 0&&(o=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],o)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(l.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(l.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(l.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(l.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(l.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(l.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(l.SHIFT_BGR,a)},multiply:function(a,o){o===void 0&&(o=!1),o||this.reset();var n=this._matrix,s=g;return s.set(n),n.set([s[0]*a[0]+s[1]*a[5]+s[2]*a[10]+s[3]*a[15],s[0]*a[1]+s[1]*a[6]+s[2]*a[11]+s[3]*a[16],s[0]*a[2]+s[1]*a[7]+s[2]*a[12]+s[3]*a[17],s[0]*a[3]+s[1]*a[8]+s[2]*a[13]+s[3]*a[18],s[0]*a[4]+s[1]*a[9]+s[2]*a[14]+s[3]*a[19]+s[4],s[5]*a[0]+s[6]*a[5]+s[7]*a[10]+s[8]*a[15],s[5]*a[1]+s[6]*a[6]+s[7]*a[11]+s[8]*a[16],s[5]*a[2]+s[6]*a[7]+s[7]*a[12]+s[8]*a[17],s[5]*a[3]+s[6]*a[8]+s[7]*a[13]+s[8]*a[18],s[5]*a[4]+s[6]*a[9]+s[7]*a[14]+s[8]*a[19]+s[9],s[10]*a[0]+s[11]*a[5]+s[12]*a[10]+s[13]*a[15],s[10]*a[1]+s[11]*a[6]+s[12]*a[11]+s[13]*a[16],s[10]*a[2]+s[11]*a[7]+s[12]*a[12]+s[13]*a[17],s[10]*a[3]+s[11]*a[8]+s[12]*a[13]+s[13]*a[18],s[10]*a[4]+s[11]*a[9]+s[12]*a[14]+s[13]*a[19]+s[14],s[15]*a[0]+s[16]*a[5]+s[17]*a[10]+s[18]*a[15],s[15]*a[1]+s[16]*a[6]+s[17]*a[11]+s[18]*a[16],s[15]*a[2]+s[16]*a[7]+s[17]*a[12]+s[18]*a[17],s[15]*a[3]+s[16]*a[8]+s[17]*a[13]+s[18]*a[18],s[15]*a[4]+s[16]*a[9]+s[17]*a[14]+s[18]*a[19]+s[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],d.exports=l},51767:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(29747),l=new h({initialize:function(o,n,s){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(o,n,s)},set:function(a,o,n){return a===void 0&&(a=0),o===void 0&&(o=0),n===void 0&&(n=0),this._rgb=[a,o,n],this.onChange(),this},equals:function(a,o,n){var s=this._rgb;return s[0]===a&&s[1]===o&&s[2]===n},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});d.exports=l},60461:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};d.exports=S},54312:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(35893),l=t(86327),a=t(88417),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)+f),l(n,h(s)+r),n};d.exports=o},46768:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(26541),l=t(86327),a=t(385),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)-f),l(n,h(s)+r),n};d.exports=o},35827:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(54380),l=t(86327),a=t(40136),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)+f),l(n,h(s)+r),n};d.exports=o},46871:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(66786),g=t(35893),l=t(7702),a=function(o,n,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),h(o,g(n)+s,l(n)+f),o};d.exports=a},5198:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(7702),g=t(26541),l=t(20786),a=t(385),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)-f),l(n,h(s)+r),n};d.exports=o},11879:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(60461),g=[];g[h.BOTTOM_CENTER]=t(54312),g[h.BOTTOM_LEFT]=t(46768),g[h.BOTTOM_RIGHT]=t(35827),g[h.CENTER]=t(46871),g[h.LEFT_CENTER]=t(5198),g[h.RIGHT_CENTER]=t(80503),g[h.TOP_CENTER]=t(89698),g[h.TOP_LEFT]=t(922),g[h.TOP_RIGHT]=t(21373),g[h.LEFT_BOTTOM]=g[h.BOTTOM_LEFT],g[h.LEFT_TOP]=g[h.TOP_LEFT],g[h.RIGHT_BOTTOM]=g[h.BOTTOM_RIGHT],g[h.RIGHT_TOP]=g[h.TOP_RIGHT];var l=function(a,o,n,s,f){return g[n](a,o,s,f)};d.exports=l},80503:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(7702),g=t(54380),l=t(20786),a=t(40136),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)+f),l(n,h(s)+r),n};d.exports=o},89698:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(35893),g=t(17717),l=t(88417),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,h(s)+f),a(n,g(s)-r),n};d.exports=o},922:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(26541),g=t(17717),l=t(385),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,h(s)-f),a(n,g(s)-r),n};d.exports=o},21373:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(54380),g=t(17717),l=t(40136),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,h(s)+f),a(n,g(s)-r),n};d.exports=o},91660:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(60461),g=t(79291),l={In:t(91660),To:t(16694)};l=g(!1,l,h),d.exports=l},21578:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(35893),l=t(88417),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,g(s)+f),a(n,h(s)+r),n};d.exports=o},10210:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(26541),l=t(385),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,g(s)-f),a(n,h(s)+r),n};d.exports=o},82341:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(54380),l=t(40136),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,g(s)+f),a(n,h(s)+r),n};d.exports=o},87958:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(26541),l=t(86327),a=t(40136),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)-f),l(n,h(s)+r),n};d.exports=o},40080:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(7702),g=t(26541),l=t(20786),a=t(40136),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)-f),l(n,h(s)+r),n};d.exports=o},88466:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(26541),g=t(17717),l=t(40136),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,h(s)-f),a(n,g(s)-r),n};d.exports=o},38829:(d,S,t)=>{/**\n * @author       samme\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(60461),g=[];g[h.BOTTOM_CENTER]=t(21578),g[h.BOTTOM_LEFT]=t(10210),g[h.BOTTOM_RIGHT]=t(82341),g[h.LEFT_BOTTOM]=t(87958),g[h.LEFT_CENTER]=t(40080),g[h.LEFT_TOP]=t(88466),g[h.RIGHT_BOTTOM]=t(19211),g[h.RIGHT_CENTER]=t(34609),g[h.RIGHT_TOP]=t(48741),g[h.TOP_CENTER]=t(49440),g[h.TOP_LEFT]=t(81288),g[h.TOP_RIGHT]=t(61323);var l=function(a,o,n,s,f){return g[n](a,o,s,f)};d.exports=l},19211:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(54380),l=t(86327),a=t(385),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)+f),l(n,h(s)+r),n};d.exports=o},34609:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(7702),g=t(54380),l=t(20786),a=t(385),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,g(s)+f),l(n,h(s)+r),n};d.exports=o},48741:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(54380),g=t(17717),l=t(385),a=t(66737),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),l(n,h(s)+f),a(n,g(s)-r),n};d.exports=o},49440:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(35893),g=t(17717),l=t(86327),a=t(88417),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,h(s)+f),l(n,g(s)-r),n};d.exports=o},81288:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(26541),g=t(17717),l=t(86327),a=t(385),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,h(s)-f),l(n,g(s)-r),n};d.exports=o},61323:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(54380),g=t(17717),l=t(86327),a=t(40136),o=function(n,s,f,r){return f===void 0&&(f=0),r===void 0&&(r=0),a(n,h(s)+f),l(n,g(s)-r),n};d.exports=o},16694:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(88417),g=t(20786),l=function(a,o,n){return h(a,o),g(a,n)};d.exports=l},62235:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.y+t.height-t.height*t.originY};d.exports=S},72873:(d,S,t)=>{/**\n * @author       samme\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62235),g=t(26541),l=t(54380),a=t(17717),o=t(87841),n=function(s,f){f===void 0&&(f=new o);var r=g(s),u=a(s);return f.x=r,f.y=u,f.width=l(s)-r,f.height=h(s)-u,f};d.exports=n},35893:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.x-t.width*t.originX+t.width*.5};d.exports=S},7702:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.y-t.height*t.originY+t.height*.5};d.exports=S},26541:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.x-t.width*t.originX};d.exports=S},87431:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.width*t.originX};d.exports=S},46928:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.height*t.originY};d.exports=S},54380:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.x+t.width-t.width*t.originX};d.exports=S},17717:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t.y-t.height*t.originY};d.exports=S},86327:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){return t.y=h-t.height+t.height*t.originY,t};d.exports=S},88417:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){var g=t.width*t.originX;return t.x=h+g-t.width*.5,t};d.exports=S},20786:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){var g=t.height*t.originY;return t.y=h+g-t.height*.5,t};d.exports=S},385:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){return t.x=h+t.width*t.originX,t};d.exports=S},40136:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){return t.x=h-t.width+t.width*t.originX,t};d.exports=S},66737:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){return t.y=h+t.height*t.originY,t};d.exports=S},58724:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S={setCrisp:function(t){var h=[\"optimizeSpeed\",\"-moz-crisp-edges\",\"-o-crisp-edges\",\"-webkit-optimize-contrast\",\"optimize-contrast\",\"crisp-edges\",\"pixelated\"];return h.forEach(function(g){t.style[\"image-rendering\"]=g}),t.style.msInterpolationMode=\"nearest-neighbor\",t},setBicubic:function(t){return t.style[\"image-rendering\"]=\"auto\",t.style.msInterpolationMode=\"bicubic\",t}};d.exports=S},27919:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(8054),g=t(68703),l=[],a=!1,o=function(){var n=function(T,C,E,A,M){C===void 0&&(C=1),E===void 0&&(E=1),A===void 0&&(A=h.CANVAS),M===void 0&&(M=!1);var L,O=r(A);return O===null?(O={parent:T,canvas:document.createElement(\"canvas\"),type:A},A===h.CANVAS&&l.push(O),L=O.canvas):(O.parent=T,L=O.canvas),M&&(O.parent=L),L.width=C,L.height=E,a&&A===h.CANVAS&&g.disable(L.getContext(\"2d\",{willReadFrequently:!1})),L},s=function(T,C,E){return n(T,C,E,h.CANVAS)},f=function(T,C,E){return n(T,C,E,h.WEBGL)},r=function(T){if(T===void 0&&(T=h.CANVAS),T===h.WEBGL)return null;for(var C=0;C<l.length;C++){var E=l[C];if(!E.parent&&E.type===T)return E}return null},u=function(T){var C=T instanceof HTMLCanvasElement;l.forEach(function(E){(C&&E.canvas===T||!C&&E.parent===T)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},c=function(){var T=0;return l.forEach(function(C){C.parent&&T++}),T},p=function(){return l.length-c()},v=function(){a=!0},x=function(){a=!1};return{create2D:s,create:n,createWebGL:f,disableSmoothing:v,enableSmoothing:x,first:r,free:p,pool:l,remove:u,total:c}};d.exports=o()},68703:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=\"\",t=function(){var h=function(o){for(var n=[\"i\",\"webkitI\",\"msI\",\"mozI\",\"oI\"],s=0;s<n.length;s++){var f=n[s]+\"mageSmoothingEnabled\";if(f in o)return f}return null},g=function(o){return S===\"\"&&(S=h(o)),S&&(o[S]=!0),o},l=function(o){return S===\"\"&&(S=h(o)),S&&(o[S]=!1),o},a=function(o){return S!==null?o[S]:null};return{disable:l,enable:g,getPrefix:h,isEnabled:a}};d.exports=t()},65208:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){return h===void 0&&(h=\"none\"),t.style.msTouchAction=h,t.style[\"ms-touch-action\"]=h,t.style[\"touch-action\"]=h,t};d.exports=S},91610:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){h===void 0&&(h=\"none\");var g=[\"-webkit-\",\"-khtml-\",\"-moz-\",\"-ms-\",\"\"];return g.forEach(function(l){t.style[l+\"user-select\"]=h}),t.style[\"-webkit-touch-callout\"]=h,t.style[\"-webkit-tap-highlight-color\"]=\"rgba(0, 0, 0, 0)\",t};d.exports=S},26253:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(37589),l=t(1e3),a=t(7537),o=t(87837),n=new h({initialize:function(f,r,u,c){f===void 0&&(f=0),r===void 0&&(r=0),u===void 0&&(u=0),c===void 0&&(c=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba=\"\",this.setTo(f,r,u,c)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,f,r,u,c){return u===void 0&&(u=255),c===void 0&&(c=!0),this._locked=!0,this.red=s,this.green=f,this.blue=r,this.alpha=u,this._locked=!1,this.update(c)},setGLTo:function(s,f,r,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=s,this.greenGL=f,this.blueGL=r,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty(\"a\")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,f,r){return a(s,f,r,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var f=this.r,r=this.g,u=this.b,c=this.a;return this._color=g(f,r,u),this._color32=l(f,r,u,c),this._rgba=\"rgba(\"+f+\",\"+r+\",\"+u+\",\"+c/255+\")\",s&&o(f,r,u,this),this},updateHSV:function(){var s=this.r,f=this.g,r=this.b;return o(s,f,r,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,f){s===void 0&&(s=0),f===void 0&&(f=255);var r=Math.floor(s+Math.random()*(f-s)),u=Math.floor(s+Math.random()*(f-s)),c=Math.floor(s+Math.random()*(f-s));return this.setTo(r,u,c)},randomGray:function(s,f){s===void 0&&(s=0),f===void 0&&(f=255);var r=Math.floor(s+Math.random()*(f-s));return this.setTo(r,r,r)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var f=this.r,r=this.g,u=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(s/100)))),r=Math.max(0,Math.min(255,r-Math.round(255*-(s/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(s/100)))),this.setTo(f,r,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,a(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,a(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,a(this._h,this._s,s,this)}}});d.exports=n},92728:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(37589),g=function(l){l===void 0&&(l=1024);var a=[],o=255,n,s=255,f=0,r=0;for(n=0;n<=o;n++)a.push({r:s,g:n,b:r,color:h(s,n,r)});for(f=255,n=o;n>=0;n--)a.push({r:n,g:f,b:r,color:h(n,f,r)});for(s=0,n=0;n<=o;n++,f--)a.push({r:s,g:f,b:n,color:h(s,f,n)});for(f=0,r=255,n=0;n<=o;n++,r--,s++)a.push({r:s,g:f,b:r,color:h(s,f,r)});if(l===1024)return a;var u=[],c=0,p=1024/l;for(n=0;n<l;n++)u.push(a[Math.floor(c)]),c+=p;return u};d.exports=g},91588:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};d.exports=S},62957:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){var h=t.toString(16);return h.length===1?\"0\"+h:h};d.exports=S},37589:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){return t<<16|h<<8|g};d.exports=S},1e3:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l){return l<<24|t<<16|h<<8|g};d.exports=S},62183:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40987),g=t(89528),l=function(a,o,n){var s=n,f=n,r=n;if(o!==0){var u=n<.5?n*(1+o):n+o-n*o,c=2*n-u;s=g(c,u,a+1/3),f=g(c,u,a),r=g(c,u,a-1/3)}var p=new h;return p.setGLTo(s,f,r,1)};d.exports=l},27939:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(7537),g=function(l,a){l===void 0&&(l=1),a===void 0&&(a=1);for(var o=[],n=0;n<=359;n++)o.push(h(n/359,l,a));return o};d.exports=g},7537:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(37589);function g(a,o,n,s){var f=(a+o*6)%6,r=Math.min(f,4-f,1);return Math.round(255*(s-s*n*Math.max(0,r)))}var l=function(a,o,n,s){o===void 0&&(o=1),n===void 0&&(n=1);var f=g(5,a,o,n),r=g(3,a,o,n),u=g(1,a,o,n);return s?s.setTo?s.setTo(f,r,u,s.alpha,!0):(s.r=f,s.g=r,s.b=u,s.color=h(f,r,u),s):{r:f,g:r,b:u,color:h(f,r,u)}};d.exports=l},70238:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40987),g=function(l){var a=new h;l=l.replace(/^(?:#|0x)?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(r,u,c,p){return u+u+c+c+p+p});var o=/^(?:#|0x)?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(l);if(o){var n=parseInt(o[1],16),s=parseInt(o[2],16),f=parseInt(o[3],16);a.setTo(n,s,f)}return a};d.exports=g},89528:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?t+(h-t)*6*g:g<.5?h:g<.6666666666666666?t+(h-t)*(.6666666666666666-g)*6:t};d.exports=S},30100:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40987),g=t(90664),l=function(a){var o=g(a);return new h(o.r,o.g,o.b,o.a)};d.exports=l},90664:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};d.exports=S},13699:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(28915),g=t(37589),l=function(n,s,f,r,u,c,p,v){p===void 0&&(p=100),v===void 0&&(v=0);var x=v/p,T=h(n,r,x),C=h(s,u,x),E=h(f,c,x);return{r:T,g:C,b:E,a:255,color:g(T,C,E)}},a=function(n,s,f,r){return f===void 0&&(f=100),r===void 0&&(r=0),l(n.r,n.g,n.b,s.r,s.g,s.b,f,r)},o=function(n,s,f,r,u,c){return u===void 0&&(u=100),c===void 0&&(c=0),l(n.r,n.g,n.b,s,f,r,u,c)};d.exports={RGBWithRGB:l,ColorWithRGB:o,ColorWithColor:a}},68957:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40987),g=function(l){return new h(l.r,l.g,l.b,l.a)};d.exports=g},87388:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40987),g=function(l){var a=new h,o=/^rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d+(?:\\.\\d+)?))?\\s*\\)$/.exec(l.toLowerCase());if(o){var n=parseInt(o[1],10),s=parseInt(o[2],10),f=parseInt(o[3],10),r=o[4]!==void 0?parseFloat(o[4]):1;a.setTo(n,s,f,r*255)}return a};d.exports=g},87837:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h,g,l){l===void 0&&(l={h:0,s:0,v:0}),t/=255,h/=255,g/=255;var a=Math.min(t,h,g),o=Math.max(t,h,g),n=o-a,s=0,f=o===0?0:n/o,r=o;return o!==a&&(o===t?s=(h-g)/n+(h<g?6:0):o===h?s=(g-t)/n+2:o===g&&(s=(t-h)/n+4),s/=6),l.hasOwnProperty(\"_h\")?(l._h=s,l._s=f,l._v=r):(l.h=s,l.s=f,l.v=r),l};d.exports=S},75723:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(62957),g=function(l,a,o,n,s){return n===void 0&&(n=255),s===void 0&&(s=\"#\"),s===\"#\"?\"#\"+((1<<24)+(l<<16)+(a<<8)+o).toString(16).slice(1,7):\"0x\"+h(n)+h(l)+h(a)+h(o)};d.exports=g},85386:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(30976),g=t(40987),l=function(a,o){return a===void 0&&(a=0),o===void 0&&(o=255),new g(h(a,o),h(a,o),h(a,o))};d.exports=l},80333:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(70238),g=t(30100),l=t(68957),a=t(87388),o=function(n){var s=typeof n;switch(s){case\"string\":return n.substr(0,3).toLowerCase()===\"rgb\"?a(n):h(n);case\"number\":return g(n);case\"object\":return l(n)}};d.exports=o},3956:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),d.exports=h},27460:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(39429),l=new h({initialize:function(o,n,s,f,r,u){n||(n=o.sys.make.image({x:s,y:f,key:r,frame:u,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,o,n){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,n)},postRenderWebGL:function(a,o,n){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register(\"bitmapMask\",function(a,o,n,s,f){return new l(this.scene,a,o,n,s,f)}),d.exports=l},80661:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=new h({initialize:function(a,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,a,o){var n=l.gl;l.flush(),l.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:o}),this.applyStencil(l,o,!0),l.maskCount++},applyStencil:function(l,a,o){var n=l.gl,s=this.geometryMask,f=l.maskCount,r=255;n.colorMask(!1,!1,!1,!1),o?(n.stencilFunc(n.EQUAL,f,r),n.stencilOp(n.KEEP,n.KEEP,n.INCR),f++):(n.stencilFunc(n.EQUAL,f+1,r),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=f,s.renderWebGL(l,s,a),l.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,f,r):n.stencilFunc(n.EQUAL,f,r)},postRenderWebGL:function(l){var a=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var o=l.currentMask;if(l.maskStack.length===0)o.mask=null,a.disable(a.STENCIL_TEST);else{var n=l.maskStack[l.maskStack.length-1];n.mask.applyStencil(l,n.camera,!1),l.currentCameraMask.mask!==n.mask?(o.mask=n.mask,o.camera=n.camera):o.mask=null}},preRenderCanvas:function(l,a,o){var n=this.geometryMask;l.currentContext.save(),n.renderCanvas(l,n,o,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});d.exports=g},69781:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=new h({initialize:function(a,o,n,s){(!o||o===\"\")&&(o=[\"precision mediump float;\",\"uniform vec2 resolution;\",\"varying vec2 fragCoord;\",\"void main () {\",\"    vec2 uv = fragCoord / resolution.xy;\",\"    gl_FragColor = vec4(uv.xyx, 1.0);\",\"}\"].join(`\n`)),(!n||n===\"\")&&(n=[\"precision mediump float;\",\"uniform mat4 uProjectionMatrix;\",\"uniform mat4 uViewMatrix;\",\"uniform vec2 uResolution;\",\"attribute vec2 inPosition;\",\"varying vec2 fragCoord;\",\"varying vec2 outTexCoord;\",\"void main () {\",\"   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);\",\"   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);\",\"   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);\",\"}\"].join(`\n`)),s===void 0&&(s=null),this.key=a,this.fragmentSrc=o,this.vertexSrc=n,this.uniforms=s}});d.exports=g},40366:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t,h){var g;if(h)typeof h==\"string\"?g=document.getElementById(h):typeof h==\"object\"&&h.nodeType===1&&(g=h);else if(t.parentElement||h===null)return t;return g||(g=document.body),g.appendChild(t),t};d.exports=S},83719:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(40366),g=function(l){var a=l.config;if(!(!a.parent||!a.domCreateContainer)){var o=document.createElement(\"div\");o.style.cssText=[\"display: block;\",\"width: \"+l.scale.width+\"px;\",\"height: \"+l.scale.height+\"px;\",\"padding: 0; margin: 0;\",\"position: absolute;\",\"overflow: hidden;\",\"pointer-events: \"+a.domPointerEvents+\";\",\"transform: scale(1);\",\"transform-origin: left top;\"].join(\" \"),l.domContainer=o,h(o,a.parent)}};d.exports=g},57264:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(25892),g=function(l){if(document.readyState===\"complete\"||document.readyState===\"interactive\"){l();return}var a=function(){document.removeEventListener(\"deviceready\",a,!0),document.removeEventListener(\"DOMContentLoaded\",a,!0),window.removeEventListener(\"load\",a,!0),l()};document.body?h.cordova?document.addEventListener(\"deviceready\",a,!1):(document.addEventListener(\"DOMContentLoaded\",a,!0),window.addEventListener(\"load\",a,!0)):window.setTimeout(a,20)};d.exports=g},57811:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),g={w:0,h:0},l=document.createElement(\"div\");return l.setAttribute(\"style\",\"position: fixed; height: 100vh; width: 0; top: 0\"),document.documentElement.appendChild(l),g.w=h===90?l.offsetHeight:window.innerWidth,g.h=h===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?g.h:g.w};d.exports=S},45818:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(13560),g=function(l,a){var o=window.screen,n=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(n&&typeof n.type==\"string\")return n.type;if(typeof n==\"string\")return n;if(typeof window.orientation==\"number\")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia(\"(orientation: portrait)\").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia(\"(orientation: landscape)\").matches)return h.ORIENTATION.LANDSCAPE}else return a>l?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};d.exports=g},74403:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){var h;return t!==\"\"&&(typeof t==\"string\"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};d.exports=S},56836:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){var h=\"\";try{if(window.DOMParser){var g=new DOMParser;h=g.parseFromString(t,\"text/xml\")}else h=new ActiveXObject(\"Microsoft.XMLDOM\"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName(\"parsererror\").length?null:h};d.exports=S},35846:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};d.exports=S},43092:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(29747),l=new h({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function n(s){o.callback(s),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){o.isRunning&&(o.timeOutID=window.setTimeout(n,o.delay)),o.callback(window.performance.now())}},start:function(a,o,n){this.isRunning||(this.callback=a,this.isSetTimeOut=o,this.delay=n,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});d.exports=l},84902:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};d.exports=h},47565:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(50792),l=t(37277),a=new h({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register(\"EventEmitter\",a,\"events\"),d.exports=a},93055:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */d.exports={EventEmitter:t(47565)}},20122:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s){s===void 0&&(s=1),g.call(this,l.BARREL,n),this.amount=s}});d.exports=a},32251:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u,c,p){f===void 0&&(f=1),r===void 0&&(r=1),u===void 0&&(u=1),c===void 0&&(c=1),p===void 0&&(p=4),g.call(this,l.BLOOM,n),this.steps=p,this.offsetX=f,this.offsetY=r,this.blurStrength=u,this.strength=c,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});d.exports=a},9047:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u,c,p){s===void 0&&(s=0),f===void 0&&(f=2),r===void 0&&(r=2),u===void 0&&(u=1),p===void 0&&(p=4),g.call(this,l.BLUR,n),this.quality=s,this.x=f,this.y=r,this.steps=p,this.strength=u,this.glcolor=[1,1,1],c!=null&&(this.color=c)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});d.exports=a},27885:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u,c,p,v){s===void 0&&(s=.5),f===void 0&&(f=1),r===void 0&&(r=.2),u===void 0&&(u=!1),c===void 0&&(c=1),p===void 0&&(p=1),v===void 0&&(v=1),g.call(this,l.BOKEH,n),this.radius=s,this.amount=f,this.contrast=r,this.isTiltShift=u,this.strength=v,this.blurX=c,this.blurY=p}});d.exports=a},12578:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u,c){s===void 0&&(s=8),u===void 0&&(u=1),c===void 0&&(c=.005),g.call(this,l.CIRCLE,n),this.scale=u,this.feather=c,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],f!=null&&(this.color=f),r!=null&&(this.backgroundColor=r)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor2;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});d.exports=a},15802:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(89422),l=t(14811),a=new h({Extends:g,initialize:function(n){g.call(this),this.type=l.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});d.exports=a},72898:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=new h({initialize:function(a,o){this.type=a,this.gameObject=o,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});d.exports=g},44553:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r){s===void 0&&(s=\"__WHITE\"),f===void 0&&(f=.005),r===void 0&&(r=.005),g.call(this,l.DISPLACEMENT,n),this.x=f,this.y=r,this.glTexture,this.setTexture(s)},setTexture:function(o){var n=this.gameObject.scene.sys.textures.getFrame(o);return n&&(this.glTexture=n.glTexture),this}});d.exports=a},68531:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u){f===void 0&&(f=4),r===void 0&&(r=0),u===void 0&&(u=!1),g.call(this,l.GLOW,n),this.outerStrength=f,this.innerStrength=r,this.knockout=u,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});d.exports=a},37102:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u,c,p,v,x){r===void 0&&(r=.2),u===void 0&&(u=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=1),x===void 0&&(x=0),g.call(this,l.GRADIENT,n),this.alpha=r,this.size=x,this.fromX=u,this.fromY=c,this.toX=p,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),f!=null&&(this.color2=f)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor1;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor2;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}}});d.exports=a},86886:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s){s===void 0&&(s=1),g.call(this,l.PIXELATE,n),this.amount=s}});d.exports=a},92322:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u,c,p,v){s===void 0&&(s=0),f===void 0&&(f=0),r===void 0&&(r=.1),u===void 0&&(u=1),p===void 0&&(p=6),v===void 0&&(v=1),g.call(this,l.SHADOW,n),this.x=s,this.y=f,this.decay=r,this.power=u,this.glcolor=[0,0,0,1],this.samples=p,this.intensity=v,c!==void 0&&(this.color=c)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});d.exports=a},39563:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u){s===void 0&&(s=.5),f===void 0&&(f=.5),r===void 0&&(r=3),u===void 0&&(u=!1),g.call(this,l.SHINE,n),this.speed=s,this.lineWidth=f,this.gradient=r,this.reveal=u}});d.exports=a},56448:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u){s===void 0&&(s=.5),f===void 0&&(f=.5),r===void 0&&(r=.5),u===void 0&&(u=.5),g.call(this,l.VIGNETTE,n),this.x=s,this.y=f,this.radius=r,this.strength=u}});d.exports=a},38433:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(72898),l=t(14811),a=new h({Extends:g,initialize:function(n,s,f,r,u){s===void 0&&(s=.1),f===void 0&&(f=0),r===void 0&&(r=0),u===void 0&&(u=!1),g.call(this,l.WIPE,n),this.progress=0,this.wipeWidth=s,this.direction=f,this.axis=r,this.reveal=u}});d.exports=a},14811:d=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};d.exports=S},66064:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(79291),g=t(14811),l={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};l=h(!1,l,g),d.exports=l},25305:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(10312),g=t(23568),l=function(a,o,n){o.x=g(n,\"x\",0),o.y=g(n,\"y\",0),o.depth=g(n,\"depth\",0),o.flipX=g(n,\"flipX\",!1),o.flipY=g(n,\"flipY\",!1);var s=g(n,\"scale\",null);typeof s==\"number\"?o.setScale(s):s!==null&&(o.scaleX=g(s,\"x\",1),o.scaleY=g(s,\"y\",1));var f=g(n,\"scrollFactor\",null);typeof f==\"number\"?o.setScrollFactor(f):f!==null&&(o.scrollFactorX=g(f,\"x\",1),o.scrollFactorY=g(f,\"y\",1)),o.rotation=g(n,\"rotation\",0);var r=g(n,\"angle\",null);r!==null&&(o.angle=r),o.alpha=g(n,\"alpha\",1);var u=g(n,\"origin\",null);if(typeof u==\"number\")o.setOrigin(u);else if(u!==null){var c=g(u,\"x\",.5),p=g(u,\"y\",.5);o.setOrigin(c,p)}o.blendMode=g(n,\"blendMode\",h.NORMAL),o.visible=g(n,\"visible\",!0);var v=g(n,\"add\",!0);return v&&a.sys.displayList.add(o),o.preUpdate&&a.sys.updateList.add(o),o};d.exports=l},13059:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(23568),g=function(l,a){var o=h(a,\"anims\",null);if(o===null)return l;if(typeof o==\"string\")l.anims.play(o);else if(typeof o==\"object\"){var n=l.anims,s=h(o,\"key\",void 0);if(s){var f=h(o,\"startFrame\",void 0),r=h(o,\"delay\",0),u=h(o,\"repeat\",0),c=h(o,\"repeatDelay\",0),p=h(o,\"yoyo\",!1),v=h(o,\"play\",!1),x=h(o,\"delayedPlay\",0),T={key:s,delay:r,repeat:u,repeatDelay:c,yoyo:p,startFrame:f};v?n.play(T):x>0?n.playAfterDelay(T,x):n.load(T)}}return l};d.exports=g},8050:(d,S,t)=>{/**\n * @author       Richard Davey <rich@phaser.io>\n * @copyright    2013-2025 Phaser Studio Inc.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */var h=t(83419),g=t(73162),l=t(37277),a=t(51708),o=t(4459","size_bytes":360000},"client/src/components/CapybaraAdventure.tsx":{"content":"import React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport { Unity, useUnityContext } from \"react-unity-webgl\";\nimport { Button } from \"./ui/button\";\nimport { Card } from \"./ui/card\";\nimport { Trophy, Star, Coins, ArrowLeft } from \"lucide-react\";\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  distanceTraveled: number;\n  coinsCollected: number;\n  gamesPlayed: number;\n}\n\ninterface CapybaraAdventureProps {\n  onBackToMenu?: () => void;\n}\n\nexport const CapybaraAdventure: React.FC<CapybaraAdventureProps> = ({ onBackToMenu }) => {\n  const [gameStats, setGameStats] = useState<GameStats>({\n    score: 0,\n    highScore: 0,\n    distanceTraveled: 0,\n    coinsCollected: 0,\n    gamesPlayed: 0\n  });\n  \n  const [showGame, setShowGame] = useState(false);\n  const [gameReady, setGameReady] = useState(false);\n\n  const { unityProvider, loadingProgression, isLoaded, sendMessage, addEventListener, removeEventListener } = useUnityContext({\n    loaderUrl: \"unity/Build/CapybaraAdventure.loader.js\",\n    dataUrl: \"unity/Build/CapybaraAdventure.data\",\n    frameworkUrl: \"unity/Build/CapybaraAdventure.framework.js\",\n    codeUrl: \"unity/Build/CapybaraAdventure.wasm\",\n  });\n\n  // Handle Unity events for stats tracking and rewards\n  const handleScoreUpdate = useCallback((score: number) => {\n    setGameStats(prev => ({\n      ...prev,\n      score,\n      highScore: Math.max(prev.highScore, score)\n    }));\n  }, []);\n\n  const handleGameEnd = useCallback((finalScore: number, coins: number, distance: number) => {\n    setGameStats(prev => ({\n      ...prev,\n      score: finalScore,\n      highScore: Math.max(prev.highScore, finalScore),\n      coinsCollected: prev.coinsCollected + coins,\n      distanceTraveled: prev.distanceTraveled + distance,\n      gamesPlayed: prev.gamesPlayed + 1\n    }));\n\n    // Calculate Solana rewards based on performance\n    calculateRewards(finalScore, coins, distance);\n  }, []);\n\n  const calculateRewards = (score: number, coins: number, distance: number) => {\n    // Reward calculation logic - can be customized\n    const baseReward = Math.floor(score / 100) * 0.001; // 0.001 SOL per 100 points\n    const coinBonus = coins * 0.0001; // 0.0001 SOL per coin\n    const distanceBonus = Math.floor(distance / 1000) * 0.0005; // 0.0005 SOL per 1000m\n    \n    const totalReward = baseReward + coinBonus + distanceBonus;\n    \n    if (totalReward > 0) {\n      // Here you would integrate with your Solana reward system\n      console.log(`Earned ${totalReward} SOL rewards!`);\n      // TODO: Call your Solana reward distribution API\n    }\n  };\n\n  useEffect(() => {\n    if (isLoaded) {\n      setGameReady(true);\n    }\n  }, [isLoaded]);\n\n  useEffect(() => {\n    addEventListener(\"ScoreUpdated\", handleScoreUpdate);\n    addEventListener(\"GameEnded\", handleGameEnd);\n    \n    return () => {\n      removeEventListener(\"ScoreUpdated\", handleScoreUpdate);\n      removeEventListener(\"GameEnded\", handleGameEnd);\n    };\n  }, [addEventListener, removeEventListener, handleScoreUpdate, handleGameEnd]);\n\n  const startGame = () => {\n    if (gameReady) {\n      setShowGame(true);\n      // Send start command to Unity\n      sendMessage(\"GameManager\", \"StartGame\");\n    }\n  };\n\n  const pauseGame = () => {\n    sendMessage(\"GameManager\", \"PauseGame\");\n  };\n\n  const resumeGame = () => {\n    sendMessage(\"GameManager\", \"ResumeGame\");\n  };\n\n  if (!showGame) {\n    return (\n      <div className=\"min-h-screen relative overflow-y-auto\" style={{ height: '100vh' }}>\n        {/* Game Background */}\n        <div \n          className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n          style={{ \n            backgroundImage: `url('/images/AAA_capybara_wetland_background_ab88ce49.png')`,\n            filter: 'brightness(0.6) contrast(1.1)'\n          }}\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-black/40\" />\n        \n        <div className=\"relative z-10 container mx-auto px-6 py-8 max-w-4xl\">\n          {onBackToMenu && (\n            <Button \n              onClick={onBackToMenu} \n              variant=\"outline\" \n              className=\"mb-4 text-amber-100 border-amber-400/30 hover:bg-amber-500/20 backdrop-blur-sm\"\n            >\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Menu\n            </Button>\n          )}\n\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-5xl md:text-6xl font-bold text-white mb-4\">\n              Capybara\n              <span className=\"text-amber-300\"> Adventure</span>\n            </h1>\n            <p className=\"text-xl text-amber-100 mb-6\">\n              Jump through endless islands and earn Solana rewards!\n            </p>\n          </div>\n\n          {/* Game Stats */}\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n            <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n              <Trophy className=\"h-8 w-8 text-yellow-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.highScore}</h3>\n              <p className=\"text-amber-100\">Best Score</p>\n            </Card>\n            <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n              <Star className=\"h-8 w-8 text-blue-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.gamesPlayed}</h3>\n              <p className=\"text-amber-100\">Games Played</p>\n            </Card>\n            <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n              <Coins className=\"h-8 w-8 text-green-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.coinsCollected}</h3>\n              <p className=\"text-amber-100\">Coins Collected</p>\n            </Card>\n            <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n              <div className=\"h-8 w-8 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2 text-white font-bold\">\n                m\n              </div>\n              <h3 className=\"text-2xl font-bold text-white\">{Math.round(gameStats.distanceTraveled)}</h3>\n              <p className=\"text-amber-100\">Distance Traveled</p>\n            </Card>\n          </div>\n\n          {/* Game Loading or Play Button */}\n          <div className=\"text-center\">\n            {!gameReady ? (\n              <div className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 rounded-lg p-8\">\n                <h2 className=\"text-2xl font-bold text-white mb-4\">Loading Game...</h2>\n                <div className=\"w-full bg-amber-700/30 rounded-full h-4 mb-4\">\n                  <div \n                    className=\"bg-gradient-to-r from-amber-500 to-emerald-500 h-4 rounded-full transition-all duration-300\"\n                    style={{ width: `${Math.round(loadingProgression * 100)}%` }}\n                  ></div>\n                </div>\n                <p className=\"text-amber-100\">{Math.round(loadingProgression * 100)}% Complete</p>\n                <p className=\"text-sm text-amber-200 mt-2\">\n                  Note: The Unity game files need to be placed in the public/unity/Build/ directory\n                </p>\n              </div>\n            ) : (\n              <Button \n                onClick={startGame}\n                className=\"bg-gradient-to-r from-amber-500 to-emerald-600 hover:from-amber-600 hover:to-emerald-700 text-white font-bold px-12 py-4 text-xl\"\n              >\n                Start Adventure!\n              </Button>\n            )}\n          </div>\n\n          {/* Game Instructions */}\n          <Card className=\"mt-8 bg-amber-900/20 backdrop-blur-md border-amber-500/30\">\n            <div className=\"p-6\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">How to Play</h2>\n              <div className=\"text-amber-100 space-y-2\">\n                <p>ðŸ¾ <strong>Control:</strong> Tap/click to jump with varying strength</p>\n                <p>ðŸï¸ <strong>Goal:</strong> Jump between islands and travel as far as possible</p>\n                <p>ðŸ’° <strong>Collect:</strong> Gather coins to increase your rewards</p>\n                <p>ðŸ† <strong>Earn:</strong> Higher scores = more Solana token rewards</p>\n                <p>âš¡ <strong>Challenge:</strong> Precision jumping is key to survival</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full h-full\">\n      {/* Game Controls Overlay */}\n      <div className=\"absolute top-4 right-4 z-50 flex gap-2\">\n        <Button\n          onClick={pauseGame}\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"bg-black/50 text-white border-white/30\"\n        >\n          Pause\n        </Button>\n        <Button\n          onClick={() => setShowGame(false)}\n          variant=\"outline\" \n          size=\"sm\"\n          className=\"bg-black/50 text-white border-white/30\"\n        >\n          Menu\n        </Button>\n      </div>\n\n      {/* Unity Game */}\n      <Fragment>\n        {!isLoaded && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-black/80 z-40\">\n            <div className=\"text-center text-white\">\n              <p className=\"text-xl mb-4\">Loading Game...</p>\n              <div className=\"w-64 bg-gray-700 rounded-full h-4\">\n                <div \n                  className=\"bg-gradient-to-r from-amber-500 to-emerald-500 h-4 rounded-full transition-all\"\n                  style={{ width: `${Math.round(loadingProgression * 100)}%` }}\n                ></div>\n              </div>\n              <p className=\"mt-2\">{Math.round(loadingProgression * 100)}%</p>\n            </div>\n          </div>\n        )}\n        <Unity \n          unityProvider={unityProvider}\n          style={{ \n            visibility: isLoaded ? \"visible\" : \"hidden\",\n            width: \"100%\", \n            height: \"100vh\",\n            display: \"block\"\n          }} \n        />\n      </Fragment>\n    </div>\n  );\n};","size_bytes":10095},"CapybaraGame/README.md":{"content":"# Save the Capybara\n\n<p align=\"center\">\n   <img src=\"https://github.com/revenkogrisha/CapybaraAdventure/blob/main/GameGif.gif\">\n</p>\n\n<p align=\"center\">\n   <img src=\"https://img.shields.io/badge/Engine-Unity%202021.3.16f1-blueviolet?style=&logo=unity\" alt=\"Engine\">\n   <img src=\"https://img.shields.io/badge/Platform-Android 7+%20-brightgreen?style=&logo=android\" alt=\"Platform\">\n   <img src=\"https://img.shields.io/badge/Play_Market-Available%20-brightgreen?style=&logo=google play\" alt=\"Distribution\">\n   <img src=\"https://img.shields.io/badge/Version-1.2.2-blue\" alt=\"Game Version\">\n   <img src=\"https://img.shields.io/badge/Release Date-13.05.2023-red\" alt=\"Release Date\">\n   <img src=\"https://img.shields.io/badge/License-Apache--2.0%20-yellow?style=&logo=apache\" alt=\"License\">\n</p>\n\n## About this game\n\n**Save the Capybara** is an epic endless runner that will take you on an adventure to save adorable capybaras! Master precision jumping mechanics as you navigate through floating islands, collecting $CAPY tokens and rewards. Experience the thrill of island-hopping survival gameplay with blockchain integration on Solana. Save the Capybara combines engaging endless runner mechanics with play-to-earn rewards for the ultimate gaming experience.\n\n>[!NOTE]\nLooking for **fresh code**? Check out [Capybara World](https://github.com/revenkogrisha/CapybaraWorld) repository!\n   \n## Links\n\n* **Play-to-Earn on Solana blockchain with $CAPY rewards**\n* **[Yandex Games](https://yandex.ru/games/app/230164?draft=true&lang=ru)**\n\n## About the project\n\n* **Release Date:** May 13, 2023\n* **Last Update:** October 16, 2023\n* Project was made with **[Unity Engine](https://unity.com/)**\n* **Engine Version:** 2021.3.16f1\n\n### Built With\n\n* [Zenject](https://github.com/modesttree/Zenject) - Dependency Injection Container for Unity\n* [UniTask](https://github.com/Cysharp/UniTask) - better async/await for Unity (v2.4.1)\n* [UnityAds](https://unity.com/ru/products/unity-ads) - UnityAds SDK v4.4.2\n* [Localization](https://docs.unity3d.com/Packages/com.unity.localization@1.0/manual/index.html) - official localization package for Unity\n* [Universal RP](https://unity.com/ru/srp/universal-render-pipeline) - Scriptable Render Pipeline made by Unity\n* [Cinemachine](https://unity.com/unity/features/editor/art-and-design/cinemachine) - Advanced camera for Unity\n* [DOTween](http://dotween.demigiant.com/) - Animation engine for Unity\n* [NightPool](https://github.com/MeeXaSiK/NightPool) - Fast object pool for Unity\n* [Appodeal*](https://github.com/appodeal/appodeal-android-sdk) - Appodeal SDK v3.0.2\n\n**( * - Used in previous versions )**\n\n>[!NOTE]\n>Some of the systems implemented in the project may seem over-engineered for this project size - it's true, I was practicing my skills, don't worry :) But I will be happy if you notice something strange like that and notify me, e.g. put it in the [issues](https://github.com/revenkogrisha/CapybaraAdventure/issues)\n\n## Authors\n\n* **[Grisha Revenko](https://github.com/revenkogrisha)** - *Game & UI Design, Code, Mediation, Publishing*\n* **[Kristina](https://t.me/krisdvg_10)** - *Graphics, Game Design*\n\nSee the list of [contributors](https://github.com/revenkogrisha/CapybaraAdventure/contributors) who and how participated in this project.  \n**Extra thanks to all** of those who was helping to test the game during its development! Love you!\n\n## Contributing\n\n* My pleasure to you to contribute to my project! Feel free to go\n* If you notice any bug or just have some suggestion, do not hesitate to create an [issue](https://github.com/revenkogrisha/CapybaraAdventure/issues)\n\n## License\n\nThis project is licensed under the Apache-2.0 License - see the [LICENSE](LICENSE) file for details\n\n## Acknowledgments\n\n* [PluginYG](https://github.com/JustPlay-Max/PluginYG/tree/main) - Unity plugin used for publishing on Yandex Games platform\n* [Privacy Policy Generator](https://github.com/nisrulz/app-privacy-policy-generator) - used for publishing onto Google Play Market\n* [Freesound.org](https://freesound.org/) - taken some sounds from there\n* [DALLE-2](https://openai.com/product/dall-e-2) - used for creating some UI assets\n","size_bytes":4171},"CapybaraGame/Assets/Scripts/FirebaseService.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing Firebase;\nusing Firebase.Analytics;\nusing Firebase.Crashlytics;\nusing Firebase.Extensions;\nusing UnityEngine;\n\nnamespace Core.Common.ThirdParty\n{\n    public enum EventName\n    {\n    }\n    \n    public static class FirebaseService\n    {\n        private const bool IsAnalyticsCollectionEnabled = true;\n        private const bool IsCrashlyticsCollectionEnabled = true;\n        private const bool IsReportUncaughtAsFatal = true;\n        \n        private static FirebaseApp _firebaseInstance = null;\n\n        private static bool IsInitialized => _firebaseInstance != null;\n\n        public static void Initialize()\n        {\n            if (Application.internetReachability == NetworkReachability.NotReachable)\n                return;\n                \n            try\n            {\n                _firebaseInstance = null;\n\n                FirebaseApp.CheckAndFixDependenciesAsync().ContinueWithOnMainThread(task => \n                {\n                    if (task.Result == DependencyStatus.Available) \n                    {\n                        _firebaseInstance = FirebaseApp.DefaultInstance;\n\n                        InitializeAnalytics();\n                        InitializeCrashlytics();\n\n                        Debug.Log($\"Firebase services were successfully initialized!\");\n                    } \n                    else \n                    {\n                        Debug.LogError($\"{nameof(FirebaseService)}::{nameof(Initialize)}: Could not resolve all Firebase dependencies: {task.Result}\");\n    \n                        if (task.Exception != null)\n                            Debug.LogError($\"{nameof(FirebaseService)}::{nameof(Initialize)}: Exception while resolution: {task.Exception.Message} \\n {task.Exception.StackTrace}\");\n    \n                        return;\n                    }\n                });\n            }\n            catch (Exception ex)\n            {\n                Debug.LogError($\"{nameof(FirebaseService)}::{nameof(Initialize)}: {ex.Message} \\n {ex.StackTrace}\");\n                _firebaseInstance = null;\n            }\n        }\n\n        public static void LogEvent(EventName name) => \n            LogEvent(name.ToString(), null);\n\n        public static void LogEvent(EventName name, params Parameter[] parameters) => \n            LogEvent(name.ToString(), parameters);\n\n        private static void InitializeAnalytics()\n        {\n            FirebaseAnalytics.SetAnalyticsCollectionEnabled(IsAnalyticsCollectionEnabled);\n        }\n\n        private static void InitializeCrashlytics()\n        {\n            Crashlytics.IsCrashlyticsCollectionEnabled = IsCrashlyticsCollectionEnabled;\n            Crashlytics.ReportUncaughtExceptionsAsFatal = IsReportUncaughtAsFatal;\n        }\n\n        private static void LogEvent(string name, IEnumerable<Parameter> parameters)\n        {\n            try\n            {\n                if (IsInitialized == false)\n                {\n                    Debug.LogError($\"{nameof(FirebaseService)}: Tried to log event before initialization!\");\n                    return;\n                }\n    \n                if (parameters == null)\n                {\n                    FirebaseAnalytics.LogEvent(name);\n                    Debug.Log($\"Event '{name}' was successfully logged!\");\n                    return;\n                }\n    \n                FirebaseAnalytics.LogEvent(name, parameters.ToArray());\n\n                Debug.Log($\"{nameof(FirebaseService)}: Event '{name}' was successfully logged!\");\n            }\n            catch (Exception ex)\n            {\n                Debug.Log($\"{nameof(FirebaseService)}::{nameof(LogEvent)}: {ex.Message} \\n {ex.StackTrace}\");\n                _firebaseInstance = null;\n            }\n        }\n    }\n}","size_bytes":3784},"client/src/components/CapybaraAdventureGame.tsx":{"content":"import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport { Trophy, ArrowLeft, Heart, Zap } from 'lucide-react';\n\ninterface CapybaraAdventureGameProps {\n  onBackToMenu?: () => void;\n}\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  gamesPlayed: number;\n}\n\nexport const CapybaraAdventureGame: React.FC<CapybaraAdventureGameProps> = ({ onBackToMenu }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const gameStateRef = useRef<any>(null);\n  const animationFrameRef = useRef<number>(0);\n  \n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capybara-adventure-stats');\n    return saved ? JSON.parse(saved) : {\n      score: 0,\n      highScore: 0,\n      gamesPlayed: 0\n    };\n  });\n  \n  const [isGameRunning, setIsGameRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n\n  const initializeGame = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const gameState = {\n      capybara: {\n        x: canvas.width / 2,\n        y: canvas.height / 2,\n        width: 60,\n        height: 40,\n        speed: 200,\n        health: 3\n      },\n      collectibles: [],\n      obstacles: [],\n      score: 0,\n      keys: {},\n      gameRunning: true,\n      lastTime: 0\n    };\n\n    // Input handling\n    const handleKeyDown = (e: KeyboardEvent) => {\n      gameState.keys[e.key] = true;\n      e.preventDefault();\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      gameState.keys[e.key] = false;\n      e.preventDefault();\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    const spawnCollectible = () => {\n      const item = {\n        x: Math.random() * (canvas.width - 30),\n        y: Math.random() * (canvas.height - 30),\n        width: 25,\n        height: 25,\n        type: 'pumpkin'\n      };\n      gameState.collectibles.push(item);\n    };\n\n    const spawnObstacle = () => {\n      const obstacle = {\n        x: Math.random() * (canvas.width - 40),\n        y: Math.random() * (canvas.height - 40),\n        width: 40,\n        height: 40,\n        type: 'danger'\n      };\n      gameState.obstacles.push(obstacle);\n    };\n\n    const isColliding = (rect1: any, rect2: any) => {\n      return rect1.x < rect2.x + rect2.width &&\n             rect1.x + rect1.width > rect2.x &&\n             rect1.y < rect2.y + rect2.height &&\n             rect1.y + rect1.height > rect2.y;\n    };\n\n    const update = (deltaTime: number) => {\n      if (!gameState.gameRunning || isPaused) return;\n      \n      const modifier = deltaTime / 1000;\n      \n      // Move capybara\n      if (gameState.keys['ArrowUp'] || gameState.keys['w'] || gameState.keys['W']) {\n        gameState.capybara.y = Math.max(0, gameState.capybara.y - gameState.capybara.speed * modifier);\n      }\n      if (gameState.keys['ArrowDown'] || gameState.keys['s'] || gameState.keys['S']) {\n        gameState.capybara.y = Math.min(canvas.height - gameState.capybara.height, gameState.capybara.y + gameState.capybara.speed * modifier);\n      }\n      if (gameState.keys['ArrowLeft'] || gameState.keys['a'] || gameState.keys['A']) {\n        gameState.capybara.x = Math.max(0, gameState.capybara.x - gameState.capybara.speed * modifier);\n      }\n      if (gameState.keys['ArrowRight'] || gameState.keys['d'] || gameState.keys['D']) {\n        gameState.capybara.x = Math.min(canvas.width - gameState.capybara.width, gameState.capybara.x + gameState.capybara.speed * modifier);\n      }\n      \n      // Check collectible collisions\n      gameState.collectibles.forEach((item: any, index: number) => {\n        if (isColliding(gameState.capybara, item)) {\n          gameState.collectibles.splice(index, 1);\n          gameState.score += 10;\n        }\n      });\n      \n      // Check obstacle collisions\n      gameState.obstacles.forEach((obstacle: any) => {\n        if (isColliding(gameState.capybara, obstacle)) {\n          gameState.capybara.health -= 1;\n          // Remove the obstacle that hit us\n          const index = gameState.obstacles.indexOf(obstacle);\n          gameState.obstacles.splice(index, 1);\n          \n          if (gameState.capybara.health <= 0) {\n            gameState.gameRunning = false;\n            endGame(gameState.score);\n          }\n        }\n      });\n      \n      // Spawn new items periodically\n      if (Math.random() < 0.02) spawnCollectible();\n      if (Math.random() < 0.01) spawnObstacle();\n    };\n\n    const drawRect = (obj: any, color: string) => {\n      ctx.fillStyle = color;\n      ctx.fillRect(obj.x, obj.y, obj.width, obj.height);\n    };\n\n    const drawCapybara = () => {\n      // Body\n      ctx.fillStyle = '#8B4513';\n      ctx.fillRect(gameState.capybara.x, gameState.capybara.y, gameState.capybara.width, gameState.capybara.height);\n      \n      // Face\n      ctx.fillStyle = '#654321';\n      ctx.fillRect(gameState.capybara.x + gameState.capybara.width - 15, gameState.capybara.y + 5, 10, 15);\n      \n      // Eyes\n      ctx.fillStyle = '#000';\n      ctx.fillRect(gameState.capybara.x + gameState.capybara.width - 12, gameState.capybara.y + 8, 2, 2);\n      ctx.fillRect(gameState.capybara.x + gameState.capybara.width - 8, gameState.capybara.y + 8, 2, 2);\n      \n      // Nose\n      ctx.fillStyle = '#333';\n      ctx.fillRect(gameState.capybara.x + gameState.capybara.width - 10, gameState.capybara.y + 12, 2, 2);\n    };\n\n    const render = () => {\n      // Clear canvas with wetland background\n      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n      gradient.addColorStop(0, '#87CEEB'); // Sky blue\n      gradient.addColorStop(1, '#90EE90'); // Light green\n      ctx.fillStyle = gradient;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \n      // Draw game objects\n      drawCapybara();\n      \n      // Draw collectibles (pumpkins)\n      gameState.collectibles.forEach((item: any) => {\n        drawRect(item, '#FFD700'); // Gold\n        // Add a simple pumpkin pattern\n        ctx.fillStyle = '#FFA500';\n        ctx.fillRect(item.x + 5, item.y + 3, 15, 19);\n        ctx.fillStyle = '#228B22';\n        ctx.fillRect(item.x + 10, item.y, 5, 8);\n      });\n      \n      // Draw obstacles (red dangers)\n      gameState.obstacles.forEach((obstacle: any) => {\n        drawRect(obstacle, '#FF6347'); // Tomato red\n        // Add danger symbol\n        ctx.fillStyle = '#FFFF00';\n        ctx.font = '20px Arial';\n        ctx.fillText('!', obstacle.x + 15, obstacle.y + 25);\n      });\n      \n      // Draw HUD\n      ctx.fillStyle = '#333';\n      ctx.font = '20px Arial';\n      ctx.fillText(`Score: ${gameState.score}`, 10, 30);\n      ctx.fillText(`Health: ${'â¤ï¸'.repeat(gameState.capybara.health)}`, 10, 60);\n      \n      // Draw instructions\n      ctx.font = '14px Arial';\n      ctx.fillText('Use WASD or Arrow Keys to move', 10, canvas.height - 40);\n      ctx.fillText('Collect golden pumpkins, avoid red dangers!', 10, canvas.height - 20);\n      \n      if (isPaused) {\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = '#FFF';\n        ctx.font = '30px Arial';\n        ctx.fillText('PAUSED', canvas.width/2 - 60, canvas.height/2);\n        ctx.font = '16px Arial';\n        ctx.fillText('Press P to resume', canvas.width/2 - 70, canvas.height/2 + 30);\n      }\n    };\n\n    const gameLoop = (currentTime: number) => {\n      const deltaTime = currentTime - gameState.lastTime;\n      gameState.lastTime = currentTime;\n      \n      update(deltaTime);\n      render();\n      \n      if (gameState.gameRunning || isPaused) {\n        animationFrameRef.current = requestAnimationFrame(gameLoop);\n      }\n    };\n\n    const endGame = (finalScore: number) => {\n      setIsGameRunning(false);\n      const newHighScore = Math.max(gameStats.highScore, finalScore);\n      const newStats = {\n        score: finalScore,\n        highScore: newHighScore,\n        gamesPlayed: gameStats.gamesPlayed + 1\n      };\n      \n      setGameStats(newStats);\n      localStorage.setItem('capybara-adventure-stats', JSON.stringify(newStats));\n      \n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n\n    // Handle pause\n    const handlePause = (e: KeyboardEvent) => {\n      if (e.key === 'p' || e.key === 'P') {\n        setIsPaused(prev => !prev);\n      }\n    };\n    window.addEventListener('keydown', handlePause);\n\n    // Initialize game\n    spawnCollectible();\n    spawnCollectible();\n    gameLoop(0);\n\n    gameStateRef.current = {\n      ...gameState,\n      cleanup: () => {\n        window.removeEventListener('keydown', handleKeyDown);\n        window.removeEventListener('keyup', handleKeyUp);\n        window.removeEventListener('keydown', handlePause);\n        if (animationFrameRef.current) {\n          cancelAnimationFrame(animationFrameRef.current);\n        }\n      }\n    };\n\n  }, [gameStats, isPaused]);\n\n  const startGame = () => {\n    setIsGameRunning(true);\n    setIsPaused(false);\n    initializeGame();\n  };\n\n  const pauseResumeGame = () => {\n    setIsPaused(prev => !prev);\n  };\n\n  const resetGame = () => {\n    if (gameStateRef.current?.cleanup) {\n      gameStateRef.current.cleanup();\n    }\n    setIsGameRunning(false);\n    setIsPaused(false);\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (gameStateRef.current?.cleanup) {\n        gameStateRef.current.cleanup();\n      }\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"min-h-screen p-4 bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-700\">\n      {/* Header */}\n      <div className=\"max-w-6xl mx-auto mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button onClick={onBackToMenu} variant=\"outline\" size=\"sm\" className=\"bg-white/10 border-white/30\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Menu\n            </Button>\n            <h1 className=\"text-3xl font-bold text-white\">Capybara Adventure</h1>\n          </div>\n          <div className=\"flex gap-2\">\n            {isGameRunning && (\n              <Button onClick={pauseResumeGame} variant=\"secondary\" size=\"sm\">\n                {isPaused ? 'â–¶ï¸ Resume' : 'â¸ï¸ Pause'}\n              </Button>\n            )}\n            <Button onClick={resetGame} variant=\"destructive\" size=\"sm\">\n              ðŸ”„ Reset\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-4 mb-6\">\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-yellow-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Current Score</p>\n                <p className=\"text-xl font-bold text-white\">{gameStats.score}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-amber-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">High Score</p>\n                <p className=\"text-xl font-bold text-white\">{gameStats.highScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Heart className=\"w-5 h-5 text-red-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Games Played</p>\n                <p className=\"text-xl font-bold text-white\">{gameStats.gamesPlayed}</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n\n      {/* Game Area */}\n      <div className=\"max-w-6xl mx-auto flex flex-col items-center\">\n        <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/30\">\n          {!isGameRunning ? (\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">Ready for Adventure?</h2>\n              <p className=\"text-white/80 mb-6\">\n                Help the capybara collect golden pumpkins while avoiding red dangers!\n              </p>\n              <Button onClick={startGame} size=\"lg\" className=\"bg-emerald-600 hover:bg-emerald-700\">\n                ðŸ¹ Start Adventure\n              </Button>\n            </div>\n          ) : (\n            <canvas \n              ref={canvasRef}\n              width={800}\n              height={500}\n              className=\"border-2 border-emerald-400/50 rounded-lg bg-gradient-to-b from-sky-200 to-green-300\"\n            />\n          )}\n        </div>\n\n        {/* Instructions */}\n        <div className=\"mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/30\">\n          <h3 className=\"text-lg font-semibold text-white mb-2\">How to Play:</h3>\n          <div className=\"text-white/80 space-y-1\">\n            <p>â€¢ Use <kbd className=\"bg-white/20 px-2 py-1 rounded\">WASD</kbd> or <kbd className=\"bg-white/20 px-2 py-1 rounded\">Arrow Keys</kbd> to move</p>\n            <p>â€¢ Collect ðŸ¥‡ golden pumpkins for points</p>\n            <p>â€¢ Avoid â— red dangers (they reduce health)</p>\n            <p>â€¢ Press <kbd className=\"bg-white/20 px-2 py-1 rounded\">P</kbd> to pause/resume</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":13864},"client/src/components/CapybaraDefense.tsx":{"content":"import React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport { Unity, useUnityContext } from \"react-unity-webgl\";\nimport { Button } from \"./ui/button\";\nimport { Card } from \"./ui/card\";\nimport { Trophy, Shield, Coins, ArrowLeft, Heart, Zap, Timer } from \"lucide-react\";\n\ninterface GameStats {\n  capybarasSaved: number;\n  totalScore: number;\n  bestSurvivalTime: number;\n  tokensEarned: number;\n  gamesPlayed: number;\n  currentStreak: number;\n}\n\ninterface CapybaraDefenseProps {\n  onBackToMenu?: () => void;\n}\n\nexport const CapybaraDefense: React.FC<CapybaraDefenseProps> = ({ onBackToMenu }) => {\n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capybara-defense-stats');\n    return saved ? JSON.parse(saved) : {\n      capybarasSaved: 0,\n      totalScore: 0,\n      bestSurvivalTime: 0,\n      tokensEarned: 0,\n      gamesPlayed: 0,\n      currentStreak: 0\n    };\n  });\n  \n  const [showGame, setShowGame] = useState(false);\n  const [gameReady, setGameReady] = useState(false);\n  const [unityError, setUnityError] = useState<string | null>(null);\n\n  const { unityProvider, loadingProgression, isLoaded, sendMessage, addEventListener, removeEventListener } = useUnityContext({\n    loaderUrl: \"unity-build/Build/WebGLBuild.loader.js\",\n    dataUrl: \"unity-build/Build/WebGLBuild.data.unityweb\",\n    frameworkUrl: \"unity-build/Build/WebGLBuild.framework.js.unityweb\",\n    codeUrl: \"unity-build/Build/WebGLBuild.wasm.unityweb\",\n    companyName: \"Capybara Team\",\n    productName: \"Save the Capybara\",\n    productVersion: \"1.0.0\",\n    streamingAssetsUrl: \"unity-build/StreamingAssets\",\n  });\n\n  // Unity will load automatically through the provider\n\n  // Handle Unity events for the survival defense game\n  const handleCapybaraSaved = useCallback((count: number) => {\n    setGameStats(prev => ({\n      ...prev,\n      capybarasSaved: prev.capybarasSaved + count\n    }));\n  }, []);\n\n  const handleGameComplete = useCallback((survivalTime: number, capybarasProtected: number, finalScore: number) => {\n    const newStats = {\n      capybarasSaved: gameStats.capybarasSaved + capybarasProtected,\n      totalScore: gameStats.totalScore + finalScore,\n      bestSurvivalTime: Math.max(gameStats.bestSurvivalTime, survivalTime),\n      tokensEarned: gameStats.tokensEarned,\n      gamesPlayed: gameStats.gamesPlayed + 1,\n      currentStreak: capybarasProtected > 0 ? gameStats.currentStreak + 1 : 0\n    };\n\n    // Calculate $CAPY rewards based on protection performance\n    const tokensEarned = calculateTokenRewards(survivalTime, capybarasProtected, finalScore);\n    newStats.tokensEarned += tokensEarned;\n    \n    setGameStats(newStats);\n  }, [gameStats]);\n\n  const calculateTokenRewards = (survivalTime: number, capybarasProtected: number, score: number) => {\n    // Reward calculation for capybara protection game\n    const timeBonus = Math.floor(survivalTime / 30) * 0.002; // 0.002 $CAPY per 30 seconds survived\n    const protectionBonus = capybarasProtected * 0.005; // 0.005 $CAPY per capybara saved\n    const scoreBonus = Math.floor(score / 500) * 0.001; // 0.001 $CAPY per 500 points\n    const streakMultiplier = Math.min(gameStats.currentStreak * 0.1, 1.0); // Up to 100% bonus for streaks\n    \n    const baseReward = timeBonus + protectionBonus + scoreBonus;\n    const totalReward = baseReward * (1 + streakMultiplier);\n    \n    if (totalReward > 0) {\n      console.log(`Earned ${totalReward.toFixed(6)} $CAPY for protecting ${capybarasProtected} capybaras!`);\n      // TODO: Integrate with actual Solana reward distribution\n    }\n    \n    return totalReward;\n  };\n\n  // Save stats to localStorage\n  useEffect(() => {\n    localStorage.setItem('capybara-defense-stats', JSON.stringify(gameStats));\n  }, [gameStats]);\n\n  useEffect(() => {\n    if (isLoaded) {\n      setGameReady(true);\n    }\n  }, [isLoaded]);\n\n  useEffect(() => {\n    addEventListener(\"CapybaraSaved\", handleCapybaraSaved);\n    addEventListener(\"GameComplete\", handleGameComplete);\n    \n    return () => {\n      removeEventListener(\"CapybaraSaved\", handleCapybaraSaved);\n      removeEventListener(\"GameComplete\", handleGameComplete);\n    };\n  }, [addEventListener, removeEventListener, handleCapybaraSaved, handleGameComplete]);\n\n  const startGame = () => {\n    if (gameReady) {\n      setShowGame(true);\n      sendMessage(\"GameManager\", \"StartDefenseMode\");\n    }\n  };\n\n  const pauseGame = () => {\n    sendMessage(\"GameManager\", \"PauseGame\");\n  };\n\n  const resumeGame = () => {\n    sendMessage(\"GameManager\", \"ResumeGame\");\n  };\n\n  if (!showGame) {\n    return (\n      <div className=\"min-h-screen relative overflow-y-auto\" style={{ height: '100vh' }}>\n        {/* Game Background */}\n        <div \n          className=\"fixed inset-0 bg-cover bg-center bg-no-repeat -z-10\"\n          style={{ \n            backgroundImage: `url('/images/AAA_capybara_wetland_background_ab88ce49.png')`,\n            filter: 'brightness(0.7) contrast(1.2)',\n            backgroundAttachment: 'fixed'\n          }}\n        />\n        <div className=\"fixed inset-0 bg-gradient-to-t from-emerald-900/60 via-emerald-700/20 to-blue-800/40 -z-10\" />\n        \n        <div className=\"relative z-10 container mx-auto px-6 py-8 max-w-4xl\">\n          {onBackToMenu && (\n            <Button \n              onClick={onBackToMenu} \n              variant=\"outline\" \n              className=\"mb-4 text-emerald-100 border-emerald-400/30 hover:bg-emerald-500/20 backdrop-blur-sm\"\n            >\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Menu\n            </Button>\n          )}\n\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-5xl md:text-6xl font-bold text-white mb-4\">\n              Save the\n              <span className=\"text-emerald-300\"> Capybara</span>\n            </h1>\n            <p className=\"text-xl text-emerald-100 mb-6\">\n              Protect our beloved capybaras from the buzzing danger and earn $CAPY rewards!\n            </p>\n          </div>\n\n          {/* Game Stats Dashboard */}\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8\">\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 p-4 text-center\">\n              <Heart className=\"h-8 w-8 text-pink-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.capybarasSaved}</h3>\n              <p className=\"text-emerald-100\">Capybaras Saved</p>\n            </Card>\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 p-4 text-center\">\n              <Timer className=\"h-8 w-8 text-blue-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.bestSurvivalTime}s</h3>\n              <p className=\"text-emerald-100\">Best Survival</p>\n            </Card>\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 p-4 text-center\">\n              <Zap className=\"h-8 w-8 text-yellow-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.currentStreak}</h3>\n              <p className=\"text-emerald-100\">Win Streak</p>\n            </Card>\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 p-4 text-center\">\n              <Trophy className=\"h-8 w-8 text-amber-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.totalScore.toLocaleString()}</h3>\n              <p className=\"text-emerald-100\">Total Score</p>\n            </Card>\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 p-4 text-center\">\n              <Coins className=\"h-8 w-8 text-green-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.tokensEarned.toFixed(4)}</h3>\n              <p className=\"text-emerald-100\">$CAPY Earned</p>\n            </Card>\n            <Card className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 p-4 text-center\">\n              <Shield className=\"h-8 w-8 text-purple-400 mx-auto mb-2\" />\n              <h3 className=\"text-2xl font-bold text-white\">{gameStats.gamesPlayed}</h3>\n              <p className=\"text-emerald-100\">Missions Completed</p>\n            </Card>\n          </div>\n\n          {/* Unity WebGL Game Section */}\n          <div className=\"w-full mb-8\">\n            <div className=\"bg-emerald-900/20 backdrop-blur-md border-emerald-500/30 rounded-lg p-4\">\n              {!gameReady ? (\n                <div className=\"text-center p-8\">\n                  <h2 className=\"text-2xl font-bold text-white mb-4\">Loading Game...</h2>\n                  <div className=\"w-full bg-emerald-700/30 rounded-full h-4 mb-4\">\n                    <div \n                      className=\"bg-gradient-to-r from-emerald-500 to-blue-500 h-4 rounded-full transition-all duration-300\"\n                      style={{ width: `${Math.round(loadingProgression * 100)}%` }}\n                    ></div>\n                  </div>\n                  <p className=\"text-emerald-100\">{Math.round(loadingProgression * 100)}% Ready</p>\n                  {unityError && (\n                    <div className=\"mt-4 p-4 bg-red-900/20 border border-red-500/30 rounded-lg\">\n                      <p className=\"text-red-200 text-sm\">{unityError}</p>\n                      <p className=\"text-red-300 text-xs mt-2\">\n                        Check browser console (F12) for detailed error messages.\n                      </p>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"relative w-full\" style={{ height: '600px' }}>\n                  <Unity \n                    unityProvider={unityProvider} \n                    style={{\n                      width: '100%',\n                      height: '100%',\n                      borderRadius: '12px',\n                      overflow: 'hidden'\n                    }}\n                  />\n                  \n                  {/* Game Controls Overlay */}\n                  <div className=\"absolute top-4 right-4 flex gap-2\">\n                    <Button\n                      onClick={pauseGame}\n                      size=\"sm\"\n                      className=\"bg-black/50 hover:bg-black/70 text-white backdrop-blur-sm\"\n                    >\n                      â¸ï¸ Pause\n                    </Button>\n                    <Button\n                      onClick={resumeGame}\n                      size=\"sm\"\n                      className=\"bg-black/50 hover:bg-black/70 text-white backdrop-blur-sm\"\n                    >\n                      â–¶ï¸ Resume\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Game Description */}\n          <Card className=\"mt-8 bg-emerald-900/20 backdrop-blur-md border-emerald-500/30\">\n            <div className=\"p-6\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">ðŸ¾ Mission Briefing</h2>\n              <div className=\"text-emerald-100 space-y-3\">\n                <p>\n                  <strong>ðŸš¨ Situation:</strong> Swarms of aggressive bees are threatening our peaceful capybara sanctuary! \n                  As the chief protector, you must use advanced defense systems to keep them safe.\n                </p>\n                <div className=\"grid md:grid-cols-2 gap-4 mt-4\">\n                  <div>\n                    <h3 className=\"font-semibold text-white mb-2\">ðŸŽ® How to Play:</h3>\n                    <ul className=\"space-y-1 text-sm\">\n                      <li>â€¢ ðŸ—ï¸ Build magical barriers to block bee swarms</li>\n                      <li>â€¢ âš¡ Use power-ups to strengthen your defenses</li>\n                      <li>â€¢ ðŸ’– Keep all capybaras safe to earn maximum rewards</li>\n                      <li>â€¢ â±ï¸ Survive as long as possible for bonus points</li>\n                    </ul>\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-white mb-2\">ðŸ’° Rewards System:</h3>\n                    <ul className=\"space-y-1 text-sm\">\n                      <li>â€¢ ðŸ¾ +0.005 $CAPY per capybara saved</li>\n                      <li>â€¢ â° +0.002 $CAPY per 30 seconds survived</li>\n                      <li>â€¢ ðŸ† Score bonuses for perfect protection</li>\n                      <li>â€¢ ðŸ”¥ Streak multipliers up to 100% extra</li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Card>\n\n          {/* Unity Build Status */}\n          <Card className=\"mt-6 bg-gradient-to-r from-purple-500/20 to-emerald-500/20 backdrop-blur-md border-purple-400/30\">\n            <div className=\"p-4 text-center\">\n              <h3 className=\"text-lg font-bold text-white mb-2\">ðŸŽ¯ Ready to Build Your Unity Game?</h3>\n              <p className=\"text-purple-100 text-sm\">\n                Create the capybara defense mechanics in Unity, then build for WebGL and place the files in the unity/Build folder. \n                The game will automatically connect to our $CAPY reward system!\n              </p>\n            </div>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full h-full\">\n      {/* Game Controls Overlay */}\n      <div className=\"absolute top-4 right-4 z-50 flex gap-2\">\n        <Button\n          onClick={pauseGame}\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"bg-black/50 text-white border-white/30\"\n        >\n          Pause\n        </Button>\n        <Button\n          onClick={() => setShowGame(false)}\n          variant=\"outline\" \n          size=\"sm\"\n          className=\"bg-black/50 text-white border-white/30\"\n        >\n          Menu\n        </Button>\n      </div>\n\n      {/* Unity Game */}\n      <Fragment>\n        {!isLoaded && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-emerald-900/80 z-40\">\n            <div className=\"text-center text-white\">\n              <div className=\"text-6xl mb-4\">ðŸ›¡ï¸</div>\n              <p className=\"text-xl mb-4\">Initializing Defense Systems...</p>\n              <div className=\"w-64 bg-emerald-700 rounded-full h-4\">\n                <div \n                  className=\"bg-gradient-to-r from-emerald-400 to-blue-500 h-4 rounded-full transition-all\"\n                  style={{ width: `${Math.round(loadingProgression * 100)}%` }}\n                ></div>\n              </div>\n              <p className=\"mt-2\">{Math.round(loadingProgression * 100)}%</p>\n            </div>\n          </div>\n        )}\n        <Unity \n          unityProvider={unityProvider}\n          style={{ \n            visibility: isLoaded ? \"visible\" : \"hidden\",\n            width: \"100%\", \n            height: \"100vh\",\n            display: \"block\"\n          }} \n        />\n      </Fragment>\n    </div>\n  );\n};","size_bytes":14919},"client/src/components/CapybaraDemo.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport { Trophy, Star, Coins, ArrowLeft } from 'lucide-react';\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  distanceTraveled: number;\n  coinsCollected: number;\n  gamesPlayed: number;\n}\n\ninterface CapybaraDemoProps {\n  onBackToMenu?: () => void;\n}\n\nexport const CapybaraDemo: React.FC<CapybaraDemoProps> = ({ onBackToMenu }) => {\n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capybara-stats');\n    return saved ? JSON.parse(saved) : {\n      score: 0,\n      highScore: 0,\n      distanceTraveled: 0,\n      coinsCollected: 0,\n      gamesPlayed: 0\n    };\n  });\n  \n  const [showGame, setShowGame] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentScore, setCurrentScore] = useState(0);\n  const [currentCoins, setCurrentCoins] = useState(0);\n  const [currentDistance, setCurrentDistance] = useState(0);\n  const [gameInterval, setGameInterval] = useState<NodeJS.Timeout | null>(null);\n\n  // Save stats to localStorage whenever they change\n  useEffect(() => {\n    localStorage.setItem('capybara-stats', JSON.stringify(gameStats));\n  }, [gameStats]);\n\n  const calculateRewards = (score: number, coins: number, distance: number) => {\n    // Reward calculation logic matching the Unity integration\n    const baseReward = Math.floor(score / 100) * 0.001; // 0.001 SOL per 100 points\n    const coinBonus = coins * 0.0001; // 0.0001 SOL per coin\n    const distanceBonus = Math.floor(distance / 1000) * 0.0005; // 0.0005 SOL per 1000m\n    \n    const totalReward = baseReward + coinBonus + distanceBonus;\n    \n    if (totalReward > 0) {\n      console.log(`Demo: Would earn ${totalReward.toFixed(6)} SOL rewards!`);\n      // In real implementation, this would call your Solana reward system\n    }\n    \n    return totalReward;\n  };\n\n  const startGame = () => {\n    setShowGame(true);\n    setIsPlaying(true);\n    setCurrentScore(0);\n    setCurrentCoins(0);\n    setCurrentDistance(0);\n    \n    // Simulate game progression\n    const interval = setInterval(() => {\n      setCurrentScore(s => s + Math.floor(Math.random() * 10) + 5);\n      setCurrentDistance(d => d + Math.floor(Math.random() * 15) + 10);\n      \n      // Random coin collection\n      if (Math.random() > 0.7) {\n        setCurrentCoins(c => c + 1);\n      }\n    }, 200);\n    \n    setGameInterval(interval);\n    \n    // Auto-end game after random time (10-30 seconds for demo)\n    setTimeout(() => {\n      endGame();\n    }, Math.random() * 20000 + 10000);\n  };\n\n  const endGame = useCallback(() => {\n    if (gameInterval) {\n      clearInterval(gameInterval);\n      setGameInterval(null);\n    }\n    \n    setIsPlaying(false);\n    \n    // Update stats\n    const newStats = {\n      score: currentScore,\n      highScore: Math.max(gameStats.highScore, currentScore),\n      distanceTraveled: gameStats.distanceTraveled + currentDistance,\n      coinsCollected: gameStats.coinsCollected + currentCoins,\n      gamesPlayed: gameStats.gamesPlayed + 1\n    };\n    \n    setGameStats(newStats);\n    \n    // Calculate rewards\n    const rewards = calculateRewards(currentScore, currentCoins, currentDistance);\n    \n    setTimeout(() => {\n      alert(`Game Over!\\nScore: ${currentScore}\\nCoins: ${currentCoins}\\nDistance: ${currentDistance}m\\nSOL Earned: ${rewards.toFixed(6)}`);\n      setShowGame(false);\n    }, 1000);\n  }, [currentScore, currentCoins, currentDistance, gameStats, gameInterval]);\n\n  const pauseGame = () => {\n    if (gameInterval) {\n      clearInterval(gameInterval);\n      setGameInterval(null);\n      setIsPlaying(false);\n    }\n  };\n\n  const resumeGame = () => {\n    if (!isPlaying && showGame) {\n      const interval = setInterval(() => {\n        setCurrentScore(s => s + Math.floor(Math.random() * 10) + 5);\n        setCurrentDistance(d => d + Math.floor(Math.random() * 15) + 10);\n        \n        if (Math.random() > 0.7) {\n          setCurrentCoins(c => c + 1);\n        }\n      }, 200);\n      \n      setGameInterval(interval);\n      setIsPlaying(true);\n    }\n  };\n\n  if (showGame) {\n    return (\n      <div className=\"relative w-full h-full bg-gradient-to-b from-blue-400 via-green-400 to-green-600 overflow-hidden\">\n        {/* Game Controls Overlay */}\n        <div className=\"absolute top-4 right-4 z-50 flex gap-2\">\n          {isPlaying ? (\n            <Button\n              onClick={pauseGame}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"bg-black/50 text-white border-white/30\"\n            >\n              Pause\n            </Button>\n          ) : (\n            <Button\n              onClick={resumeGame}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"bg-black/50 text-white border-white/30\"\n            >\n              Resume\n            </Button>\n          )}\n          <Button\n            onClick={endGame}\n            variant=\"outline\" \n            size=\"sm\"\n            className=\"bg-black/50 text-white border-white/30\"\n          >\n            End Game\n          </Button>\n        </div>\n\n        {/* Game Stats Overlay */}\n        <div className=\"absolute top-4 left-4 z-50 bg-black/50 text-white p-4 rounded-lg\">\n          <div className=\"text-sm space-y-1\">\n            <div>Score: {currentScore}</div>\n            <div>Distance: {currentDistance}m</div>\n            <div>Coins: {currentCoins}</div>\n            <div>{isPlaying ? 'ðŸƒ Running...' : 'â¸ï¸ Paused'}</div>\n          </div>\n        </div>\n\n        {/* Demo Game Visual */}\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center text-white\">\n            <div className=\"text-6xl mb-4 animate-bounce\">ðŸ¹</div>\n            <div className=\"text-xl mb-2\">Capybara Adventure Demo</div>\n            <div className=\"text-sm opacity-75\">\n              This is a demo version. Install the real Unity game for full experience!\n            </div>\n            \n            {/* Floating islands animation */}\n            <div className=\"mt-8 relative\">\n              <div className=\"absolute animate-pulse\">ðŸï¸</div>\n              <div className=\"absolute left-20 animate-pulse delay-1000\">ðŸï¸</div>\n              <div className=\"absolute left-40 animate-pulse delay-2000\">ðŸï¸</div>\n            </div>\n          </div>\n        </div>\n\n        {!isPlaying && (\n          <div className=\"absolute inset-0 bg-black/30 flex items-center justify-center\">\n            <div className=\"text-white text-center\">\n              <div className=\"text-2xl mb-4\">Game Paused</div>\n              <Button onClick={resumeGame} className=\"bg-green-500 hover:bg-green-600\">\n                Resume Adventure\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen relative overflow-y-auto\" style={{ height: '100vh' }}>\n      {/* Game Background */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n        style={{ \n          backgroundImage: `url('/images/AAA_capybara_wetland_background_ab88ce49.png')`,\n          filter: 'brightness(0.6) contrast(1.1)'\n        }}\n      />\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-black/40\" />\n      \n      <div className=\"relative z-10 container mx-auto px-6 py-8 max-w-4xl\">\n        {onBackToMenu && (\n          <Button \n            onClick={onBackToMenu} \n            variant=\"outline\" \n            className=\"mb-4 text-amber-100 border-amber-400/30 hover:bg-amber-500/20 backdrop-blur-sm\"\n          >\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\n            Back to Menu\n          </Button>\n        )}\n\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-5xl md:text-6xl font-bold text-white mb-4\">\n            Capybara\n            <span className=\"text-amber-300\"> Adventure</span>\n          </h1>\n          <p className=\"text-xl text-amber-100 mb-6\">\n            Jump through endless islands and earn Solana rewards!\n          </p>\n          <div className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 rounded-lg p-4 mb-4\">\n            <p className=\"text-amber-200\">\n              ðŸŽ® <strong>Demo Version</strong> - This shows the integration concept.<br/>\n              Build the real Unity game to replace this demo!\n            </p>\n          </div>\n        </div>\n\n        {/* Game Stats */}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n            <Trophy className=\"h-8 w-8 text-yellow-400 mx-auto mb-2\" />\n            <h3 className=\"text-2xl font-bold text-white\">{gameStats.highScore}</h3>\n            <p className=\"text-amber-100\">Best Score</p>\n          </Card>\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n            <Star className=\"h-8 w-8 text-blue-400 mx-auto mb-2\" />\n            <h3 className=\"text-2xl font-bold text-white\">{gameStats.gamesPlayed}</h3>\n            <p className=\"text-amber-100\">Games Played</p>\n          </Card>\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n            <Coins className=\"h-8 w-8 text-green-400 mx-auto mb-2\" />\n            <h3 className=\"text-2xl font-bold text-white\">{gameStats.coinsCollected}</h3>\n            <p className=\"text-amber-100\">Coins Collected</p>\n          </Card>\n          <Card className=\"bg-amber-900/20 backdrop-blur-md border-amber-500/30 p-4 text-center\">\n            <div className=\"h-8 w-8 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2 text-white font-bold\">\n              m\n            </div>\n            <h3 className=\"text-2xl font-bold text-white\">{Math.round(gameStats.distanceTraveled)}</h3>\n            <p className=\"text-amber-100\">Distance Traveled</p>\n          </Card>\n        </div>\n\n        {/* Play Button */}\n        <div className=\"text-center mb-8\">\n          <Button \n            onClick={startGame}\n            className=\"bg-gradient-to-r from-amber-500 to-emerald-600 hover:from-amber-600 hover:to-emerald-700 text-white font-bold px-12 py-4 text-xl\"\n          >\n            Start Demo Adventure!\n          </Button>\n        </div>\n\n        {/* Game Instructions */}\n        <Card className=\"mb-8 bg-amber-900/20 backdrop-blur-md border-amber-500/30\">\n          <div className=\"p-6\">\n            <h2 className=\"text-2xl font-bold text-white mb-4\">How to Play</h2>\n            <div className=\"text-amber-100 space-y-2\">\n              <p>ðŸ¾ <strong>Control:</strong> Tap/click to jump with varying strength</p>\n              <p>ðŸï¸ <strong>Goal:</strong> Jump between islands and travel as far as possible</p>\n              <p>ðŸ’° <strong>Collect:</strong> Gather coins to increase your rewards</p>\n              <p>ðŸ† <strong>Earn:</strong> Higher scores = more Solana token rewards</p>\n              <p>âš¡ <strong>Challenge:</strong> Precision jumping is key to survival</p>\n            </div>\n          </div>\n        </Card>\n\n        {/* Unity Build Instructions */}\n        <Card className=\"bg-gradient-to-r from-purple-500/20 to-blue-500/20 backdrop-blur-md border-purple-400/30\">\n          <div className=\"p-6\">\n            <h2 className=\"text-2xl font-bold text-white mb-4\">ðŸŽ¯ Build the Real Game</h2>\n            <div className=\"text-blue-100 space-y-3\">\n              <p><strong>1. Download Unity Hub</strong> and install Unity 2021.3.16f1</p>\n              <p><strong>2. Clone the repository:</strong></p>\n              <code className=\"block bg-black/30 p-2 rounded text-sm\">\n                git clone https://github.com/revenkogrisha/CapybaraAdventure.git\n              </code>\n              <p><strong>3. Open in Unity</strong> and switch to WebGL platform</p>\n              <p><strong>4. Build</strong> and copy the 4 files (.loader.js, .data, .framework.js, .wasm) to:</p>\n              <code className=\"block bg-black/30 p-2 rounded text-sm\">\n                client/public/unity/Build/\n              </code>\n              <p><strong>5. Restart</strong> the server - your real Unity game will replace this demo!</p>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n};","size_bytes":12400},"client/src/components/UnityGameLoader.tsx":{"content":"import React, { useEffect, useRef, useState } from 'react';\nimport { Button } from './ui/button';\nimport { Loader2, Play, RotateCcw } from 'lucide-react';\n\ninterface UnityGameLoaderProps {\n  onScoreUpdate?: (score: number) => void;\n  onGameComplete?: (survivalTime: number, capybarasProtected: number, finalScore: number) => void;\n  onCapybaraSaved?: (count: number) => void;\n  onLoadingProgress?: (progress: number) => void;\n  onGameReady?: () => void;\n  showLoadingScreen?: boolean;\n}\n\nexport const UnityGameLoader: React.FC<UnityGameLoaderProps> = ({\n  onScoreUpdate,\n  onGameComplete,\n  onCapybaraSaved,\n  onLoadingProgress,\n  onGameReady,\n  showLoadingScreen = true\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [loadingProgress, setLoadingProgress] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n  const [gameInstance, setGameInstance] = useState<any>(null);\n\n  useEffect(() => {\n    // Listen for Unity messages\n    const handleUnityMessage = (event: MessageEvent) => {\n      if (event.data && typeof event.data === 'object') {\n        switch (event.data.type) {\n          case 'UNITY_SCORE_UPDATE':\n            onScoreUpdate?.(event.data.score);\n            break;\n          case 'UNITY_GAME_COMPLETE':\n            onGameComplete?.(\n              event.data.survivalTime,\n              event.data.capybarasProtected,\n              event.data.finalScore\n            );\n            break;\n          case 'UNITY_CAPYBARA_SAVED':\n            onCapybaraSaved?.(event.data.count);\n            break;\n        }\n      }\n    };\n\n    window.addEventListener('message', handleUnityMessage);\n    return () => window.removeEventListener('message', handleUnityMessage);\n  }, [onScoreUpdate, onGameComplete, onCapybaraSaved]);\n\n  const loadUnityGame = async () => {\n    if (!canvasRef.current) return;\n\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Check if Unity WebGL files exist\n      const buildUrl = '/unity-build/Build';\n      \n      // Create Unity configuration  \n      const config = {\n        dataUrl: `${buildUrl}/WebGLBuild.data.br`,\n        frameworkUrl: `${buildUrl}/WebGLBuild.framework.js.br`,\n        codeUrl: `${buildUrl}/WebGLBuild.wasm.br`,\n        loaderUrl: `${buildUrl}/WebGLBuild.loader.js`,\n        streamingAssetsUrl: 'StreamingAssets',\n        companyName: 'Save Capybara Team',\n        productName: 'Save the Capybara',\n        productVersion: '1.0.0',\n      };\n\n      // Load Unity game\n      const canvas = canvasRef.current;\n      const loadingBar = document.getElementById('unity-loading-bar');\n      const progressBarFull = document.getElementById('unity-progress-bar-full');\n\n      // @ts-ignore - Unity WebGL runtime\n      window.createUnityInstance(canvas, config, (progress: number) => {\n        const progressPercent = Math.round(progress * 100);\n        setLoadingProgress(progressPercent);\n        onLoadingProgress?.(progressPercent);\n        if (progressBarFull) {\n          progressBarFull.style.width = 100 * progress + '%';\n        }\n      }).then((unityInstance: any) => {\n        setGameInstance(unityInstance);\n        setIsLoading(false);\n        onGameReady?.();\n        if (loadingBar) {\n          loadingBar.style.display = 'none';\n        }\n      }).catch((message: string) => {\n        setError(`Failed to load Unity game: ${message}`);\n        setIsLoading(false);\n      });\n\n    } catch (err) {\n      setError('Failed to initialize Unity WebGL');\n      setIsLoading(false);\n    }\n  };\n\n  const restartGame = () => {\n    if (gameInstance) {\n      // Send restart message to Unity\n      gameInstance.SendMessage('WebGLRewardManager', 'StartGame');\n    }\n  };\n\n  return (\n    <div className=\"unity-game-container relative w-full h-full bg-black rounded-lg overflow-hidden\">\n      {/* Unity Canvas */}\n      <canvas\n        ref={canvasRef}\n        id=\"unity-canvas\"\n        className=\"w-full h-full block\"\n        style={{\n          width: '100%',\n          height: '100%',\n          background: 'linear-gradient(135deg, #1a1a2e, #16213e, #0f3460)',\n        }}\n      />\n\n      {/* Loading Screen */}\n      {isLoading && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-amber-900/90 via-orange-900/90 to-red-900/90 backdrop-blur-sm\">\n          <div className=\"text-center max-w-md px-6\">\n            <div className=\"mb-6\">\n              <div className=\"w-20 h-20 mx-auto mb-4 rounded-full bg-amber-500/20 flex items-center justify-center\">\n                <Loader2 className=\"w-10 h-10 text-amber-300 animate-spin\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-white mb-2\">Loading Capybara Adventure</h3>\n              <p className=\"text-amber-200 text-sm\">Preparing your island-hopping experience...</p>\n            </div>\n\n            {/* Loading Progress Bar */}\n            <div id=\"unity-loading-bar\" className=\"w-full bg-amber-800/30 rounded-full h-3 mb-4\">\n              <div\n                id=\"unity-progress-bar-full\"\n                className=\"bg-gradient-to-r from-amber-400 to-orange-500 h-3 rounded-full transition-all duration-300\"\n                style={{ width: `${loadingProgress}%` }}\n              />\n            </div>\n            <div className=\"text-amber-100 text-sm\">{loadingProgress}% loaded</div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Screen */}\n      {error && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-red-900/90 backdrop-blur-sm text-white p-6\">\n          <div className=\"text-center max-w-md\">\n            <h3 className=\"text-xl font-bold mb-4\">Game Loading Failed</h3>\n            <p className=\"text-red-200 mb-6 text-sm\">{error}</p>\n            <Button \n              onClick={loadUnityGame}\n              className=\"bg-red-600 hover:bg-red-700 text-white\"\n            >\n              <RotateCcw className=\"w-4 h-4 mr-2\" />\n              Retry Loading\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Game Controls (shown when game is loaded) */}\n      {!isLoading && !error && (\n        <div className=\"absolute top-4 right-4 flex gap-2\">\n          <Button\n            onClick={restartGame}\n            size=\"sm\"\n            className=\"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg\"\n          >\n            <RotateCcw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      )}\n\n      {/* Initial Load Button */}\n      {!gameInstance && !isLoading && !error && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-amber-900/80 via-orange-900/80 to-emerald-900/80 backdrop-blur-sm\">\n          <Button\n            onClick={loadUnityGame}\n            size=\"lg\"\n            className=\"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-lg shadow-xl transform hover:scale-105 transition-all\"\n          >\n            <Play className=\"w-6 h-6 mr-3\" />\n            Start Capybara Adventure\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};","size_bytes":7166},"client/src/components/UnityLoadingScreen.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { UnityGameLoader } from './UnityGameLoader';\n\nconst backgroundImage = '/images/AAA_capybara_wetland_background_ab88ce49.png';\nconst heroImage = '/images/AAA_capybara_hero_character_0a40b727.png';\n\ninterface UnityLoadingScreenProps {\n  onScoreUpdate?: (score: number) => void;\n  onGameComplete?: (survivalTime: number, capybarasProtected: number, finalScore: number) => void;\n  onCapybaraSaved?: (count: number) => void;\n}\n\nexport const UnityLoadingScreen: React.FC<UnityLoadingScreenProps> = ({\n  onScoreUpdate,\n  onGameComplete,\n  onCapybaraSaved\n}) => {\n  const [progress, setProgress] = useState(0);\n  const [loadingText, setLoadingText] = useState('Loading Capybara Adventure...');\n  const [gameLoaded, setGameLoaded] = useState(false);\n  const [showGame, setShowGame] = useState(false);\n\n  const loadingMessages = [\n    'Loading Capybara Adventure...',\n    'Preparing island worlds...',\n    'Setting up precision jumping mechanics...',\n    'Connecting reward system...',\n    'Ready to jump!'\n  ];\n\n  const handleUnityLoadingProgress = (unityProgress: number) => {\n    setProgress(unityProgress);\n    \n    // Update loading text based on progress\n    const messageIndex = Math.floor((unityProgress / 100) * loadingMessages.length);\n    if (messageIndex < loadingMessages.length) {\n      setLoadingText(loadingMessages[messageIndex]);\n    }\n  };\n\n  const handleGameReady = () => {\n    setGameLoaded(true);\n    setTimeout(() => {\n      setShowGame(true);\n    }, 500);\n  };\n\n  // Auto-start Unity loading\n  useEffect(() => {\n    // Start loading immediately\n    console.log('Unity loading screen mounted');\n  }, []);\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center relative overflow-hidden\">\n      {/* Background */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n        style={{ \n          backgroundImage: `url(${backgroundImage})`,\n          filter: 'brightness(0.6) contrast(1.1)'\n        }}\n      />\n      \n      {/* Overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40\" />\n      \n      {/* Unity Game Canvas (hidden behind loading screen initially) */}\n      {showGame && (\n        <div className=\"absolute inset-0 z-10\">\n          <UnityGameLoader \n            onLoadingProgress={handleUnityLoadingProgress}\n            onGameReady={handleGameReady}\n            onScoreUpdate={onScoreUpdate}\n            onGameComplete={onGameComplete}\n            onCapybaraSaved={onCapybaraSaved}\n            showLoadingScreen={false}\n          />\n        </div>\n      )}\n\n      {/* Loading Screen Overlay */}\n      <div className={`absolute inset-0 z-20 flex flex-col items-center justify-center transition-opacity duration-1000 ${showGame ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>\n        <div className=\"relative z-10 text-center\">\n          {/* Capybara character with loading animation */}\n          <motion.div\n            className=\"mb-8\"\n            animate={{ \n              y: [0, -10, 0],\n              rotate: [0, 2, -2, 0]\n            }}\n            transition={{ \n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }}\n          >\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 bg-gradient-to-br from-yellow-300/40 to-green-300/40 rounded-full blur-3xl scale-150\" />\n              <img \n                src={heroImage} \n                alt=\"Loading Capybara\" \n                className=\"w-48 h-48 object-contain drop-shadow-2xl relative z-10\"\n              />\n              \n              {/* Spinning sparkles */}\n              <motion.div\n                className=\"absolute inset-0 flex items-center justify-center\"\n                animate={{ rotate: 360 }}\n                transition={{ duration: 3, repeat: Infinity, ease: \"linear\" }}\n              >\n                <div className=\"w-64 h-64 relative\">\n                  <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 text-2xl\">âœ¨</div>\n                  <div className=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-2xl\">âœ¨</div>\n                  <div className=\"absolute left-0 top-1/2 transform -translate-y-1/2 text-2xl\">âœ¨</div>\n                  <div className=\"absolute right-0 top-1/2 transform -translate-y-1/2 text-2xl\">âœ¨</div>\n                </div>\n              </motion.div>\n            </div>\n          </motion.div>\n          \n          {/* Loading text */}\n          <motion.h2 \n            className=\"text-3xl font-bold text-amber-100 mb-8\"\n            key={loadingText}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n          >\n            {loadingText}\n          </motion.h2>\n          \n          {/* Progress bar */}\n          <div className=\"w-80 mx-auto\">\n            <div className=\"bg-amber-900/30 rounded-full h-4 backdrop-blur-sm border border-amber-500/30\">\n              <motion.div \n                className=\"bg-gradient-to-r from-amber-400 via-yellow-400 to-amber-400 h-full rounded-full relative overflow-hidden\"\n                style={{ width: `${progress}%` }}\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.3 }}\n              >\n                {/* Animated shimmer effect */}\n                <motion.div\n                  className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent\"\n                  animate={{ x: ['-100%', '200%'] }}\n                  transition={{ duration: 1.5, repeat: Infinity, ease: \"easeInOut\" }}\n                />\n              </motion.div>\n            </div>\n            \n            {/* Progress percentage */}\n            <motion.p \n              className=\"text-amber-200 text-lg mt-4 font-light\"\n              animate={{ opacity: [1, 0.5, 1] }}\n              transition={{ duration: 1.5, repeat: Infinity }}\n            >\n              {progress}%\n            </motion.p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":6239},"client/src/pages/Game.tsx":{"content":"import React, { useState } from 'react';\nimport { UnityGameLoader } from '../components/UnityGameLoader';\nimport { Button } from '../components/ui/button';\nimport { Card, CardContent } from '../components/ui/card';\nimport { ArrowLeft, Coins, Trophy, Timer, Heart } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface GamePageProps {\n  onBack: () => void;\n}\n\nexport const GamePage: React.FC<GamePageProps> = ({ onBack }) => {\n  const [currentScore, setCurrentScore] = useState(0);\n  const [totalCapybarasSaved, setTotalCapybarasSaved] = useState(0);\n  const [longestSurvivalTime, setLongestSurvivalTime] = useState(0);\n  const [totalCapyTokensEarned, setTotalCapyTokensEarned] = useState(0);\n\n  const handleScoreUpdate = (score: number) => {\n    setCurrentScore(score);\n  };\n\n  const handleGameComplete = (survivalTime: number, capybarasProtected: number, finalScore: number) => {\n    // Calculate $CAPY rewards\n    const survivalReward = Math.floor(survivalTime / 30) * 0.002; // 0.002 $CAPY per 30 seconds\n    const protectionReward = capybarasProtected * 0.005; // 0.005 $CAPY per capybara saved\n    const totalReward = survivalReward + protectionReward;\n\n    // Update stats\n    setTotalCapybarasSaved(prev => prev + capybarasProtected);\n    setLongestSurvivalTime(prev => Math.max(prev, survivalTime));\n    setTotalCapyTokensEarned(prev => prev + totalReward);\n\n    // Show completion message\n    console.log(`Game Complete! Earned ${totalReward.toFixed(3)} $CAPY tokens`);\n    \n    // Here you would typically send rewards to the user's wallet\n    // or update their balance in your backend\n  };\n\n  const handleCapybaraSaved = (count: number) => {\n    // Real-time capybara save tracking\n    console.log(`Capybara saved! +${count * 0.005} $CAPY`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-emerald-50\">\n      {/* Header */}\n      <div className=\"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-amber-200 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <Button\n              onClick={onBack}\n              variant=\"ghost\"\n              className=\"text-amber-700 hover:text-amber-800 hover:bg-amber-100\"\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Menu\n            </Button>\n\n            <h1 className=\"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent\">\n              Capybara Adventure\n            </h1>\n\n            <div className=\"flex items-center gap-4 text-sm\">\n              <div className=\"flex items-center text-emerald-600\">\n                <Coins className=\"w-4 h-4 mr-1\" />\n                {totalCapyTokensEarned.toFixed(3)} $CAPY\n              </div>\n              <div className=\"flex items-center text-amber-600\">\n                <Trophy className=\"w-4 h-4 mr-1\" />\n                {currentScore}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[calc(100vh-120px)]\">\n          \n          {/* Game Area */}\n          <div className=\"lg:col-span-3\">\n            <Card className=\"h-full bg-white/50 backdrop-blur-sm border-amber-200 shadow-xl\">\n              <CardContent className=\"p-6 h-full\">\n                <div className=\"h-full rounded-lg overflow-hidden shadow-inner\">\n                  <UnityGameLoader\n                    onScoreUpdate={handleScoreUpdate}\n                    onGameComplete={handleGameComplete}\n                    onCapybaraSaved={handleCapybaraSaved}\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Stats Sidebar */}\n          <div className=\"space-y-4\">\n            {/* Current Game Stats */}\n            <Card className=\"bg-white/50 backdrop-blur-sm border-amber-200\">\n              <CardContent className=\"p-4\">\n                <h3 className=\"font-bold text-amber-800 mb-3 flex items-center\">\n                  <Trophy className=\"w-4 h-4 mr-2\" />\n                  Current Game\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-amber-600\">Score:</span>\n                    <span className=\"font-semibold text-amber-800\">{currentScore}</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Overall Stats */}\n            <Card className=\"bg-white/50 backdrop-blur-sm border-emerald-200\">\n              <CardContent className=\"p-4\">\n                <h3 className=\"font-bold text-emerald-800 mb-3 flex items-center\">\n                  <Heart className=\"w-4 h-4 mr-2\" />\n                  All-Time Stats\n                </h3>\n                <div className=\"space-y-3 text-sm\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-emerald-600\">Capybaras Saved:</span>\n                    <motion.span \n                      className=\"font-semibold text-emerald-800\"\n                      key={totalCapybarasSaved}\n                      initial={{ scale: 1.2, color: '#059669' }}\n                      animate={{ scale: 1, color: '#065f46' }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      {totalCapybarasSaved}\n                    </motion.span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-emerald-600\">Best Survival:</span>\n                    <span className=\"font-semibold text-emerald-800 flex items-center\">\n                      <Timer className=\"w-3 h-3 mr-1\" />\n                      {longestSurvivalTime}s\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-emerald-600\">Total Earned:</span>\n                    <motion.span \n                      className=\"font-semibold text-emerald-800 flex items-center\"\n                      key={totalCapyTokensEarned}\n                      initial={{ scale: 1.2, color: '#059669' }}\n                      animate={{ scale: 1, color: '#065f46' }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      <Coins className=\"w-3 h-3 mr-1\" />\n                      {totalCapyTokensEarned.toFixed(3)} $CAPY\n                    </motion.span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Rewards Info */}\n            <Card className=\"bg-white/50 backdrop-blur-sm border-orange-200\">\n              <CardContent className=\"p-4\">\n                <h3 className=\"font-bold text-orange-800 mb-3\">Reward System</h3>\n                <div className=\"space-y-2 text-xs text-orange-700\">\n                  <div className=\"flex justify-between\">\n                    <span>Per Capybara Saved:</span>\n                    <span className=\"font-semibold\">+0.005 $CAPY</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Per 30s Survival:</span>\n                    <span className=\"font-semibold\">+0.002 $CAPY</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":7604},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/README.md":{"content":"# NightPool\n* Fast Game Object Pool for Unity by [**Night Train Code**](https://www.youtube.com/c/NightTrainCode/)\n* Spawn objects fast!\n* Awesome performance\n* Easy to use\n\n## Navigation\n\n* [Main](#nightpool)\n* [Installation](#installation)\n* [How to use](#how-to-use)\n* [Game Objects pre-caching](#game-objects-pre-caching)\n* [OnSpawn & OnDespawn events](#ipoolitem)\n* [NightPoolDespawner](#night-pool-despawner)\n* [Other features](#other-features)\n\n## Installation\n\n1. Install `NightPool` in your Unity project\n2. Add component `NightPoolEntry` on any `GameObject` in scene\n\n## How to use\n\nReplace `Instantiate()` and `Destroy()` methods with `NightPool.Spawn()` or `NightPool.Despawn()` in your code.\n\n`Old variant:`\n\n```csharp\nprivate void Spawn()\n{\n    _spawnedGameObject = Instantiate(prefab, transform.position, Quaternion.identity);\n}\n        \nprivate void Despawn()\n{\n    Destroy(_spawnedGameObject, 3f);\n}\n```\n\n`New variant:`\n\n```csharp\nprivate void Spawn()\n{\n    _spawnedGameObject = NightPool.Spawn(prefab, transform.position, Quaternion.identity);\n}\n        \nprivate void Despawn()\n{\n    NightPool.Despawn(_spawnedGameObject, 3f);\n}\n```\n\n## Game Objects pre-caching\n\nTo pre-cache objects on `Awake()` you can create PoolPreset `Create -> Source -> Pool -> PoolPreset`\n\nAnd add objects for pool in list:\n\n| Parameters | Info |\n| ------ | ------ |\n| `Prefab` | Object to spawn |\n| `Size` | Spawn count |\n\nAt the end set created `PoolPreset` in `NightPoolEntry`\n\n## IPoolItem\n\nIf you want to invoke methods `OnSpawn()` and `OnDespawn()` on poolable GameObject, implement interface `IPoolItem` on GameObject\n\n```csharp\n    public class Unit : MonoBehaviour, IPoolItem\n    {\n        void IPoolItem.OnSpawn()\n        {\n            Debug.Log(\"Unit Spawned\");\n        }\n        \n        void IPoolItem.OnDespawn()\n        {\n            Debug.Log(\"Unit Despawned\");\n        }\n    }\n```\n\n## Night Pool Despawner\n\nYou can add component `NightPoolDespawner` on any prefab that will be spawned and must be despawned after a certain amount of time. This time is set in the field `TimeToDespawn`.\n\n## Other features\n\n**`NightPool`**\n\n| Method or Event | Info |\n| ------ | ------ |\n| `Action<GameObject> OnObjectSpawned` | This `Action` called on any object spawned |\n| `Action<GameObject> OnObjectDespawned` | This `Action` called on any object despawned |\n| `NightPool.InstallPoolItems()` | Pre-caches game objects by `PoolPreset` |\n| `NightPool.DestroyPool(gameObject)` | Destroys pool by `GameObject` or `Pool`|\n| `NightPool.DestroyAllPools()` | Destroys all pools |\n| `NightPool.GetPoolByPrefab()` | Returns `Pool` by prefab |\n| `NightPool.Reset()` | Resets the `NightPool`. Called in `NightPoolEntry` in `OnDestroy` |\n\n**`Poolable`** added to any object created using the NightPool\n\n| Property | Info |\n| ------ | ------ |\n| `Pool` | Pool of the current poolable object |\n| `Prefab` | Prefab of the current poolable object |\n| `IsActive` | Means the object is enabled or disabled |\n\n**`Pool`** creates for each prefab that was used to spawn object\n\n| Property or Method | Info |\n| ------ | ------ |\n| `Prefab` | Prefab of the current pool |\n| `PoolablesParent` | Parent transform for each spawned game object of the current pool |\n| `Poolables` | All spawned poolables of the current Pool |\n| `GetFreeObject()` | Returns unused poolable object |\n| `PopulatePool()` | Populates pool by spawn new poolable objects |\n| `IncludePoolable()` | Includes new poolable objects in pool |\n| `ExcludePoolable()` | Excludes existing spawned objects from pool |\n","size_bytes":3552},"CapybaraGame/Assets/Plugins/com.mitay-walle.ui-circle-segmented-1.1.0/LICENSE.md":{"content":"MIT License\n\nCopyright (c) 2022 mitay-walle Dmitry Lazarev-Lobachev\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n","size_bytes":1092},"CapybaraGame/Assets/Plugins/com.mitay-walle.ui-circle-segmented-1.1.0/README.md":{"content":"# Unity3d UICircleSegmented\r\nCustom graphic for uGUI, circle splitted to segments \r\n\r\n![](https://github.com/mitay-walle/Unity3d-UICircleSegmented/blob/master/Documentation/Inspector_preview.png)\r\n![](https://github.com/mitay-walle/Unity3d-UICircleSegmented/blob/master/Documentation/samples_animated.gif)\r\n![](https://github.com/mitay-walle/Unity3d-UICircleSegmented/blob/master/Documentation/wheel_select.gif)\r\n# Features\r\n- UPM Package\r\n- fill floating\r\n- fill per-sprite-segment\r\n- fill per-vertex\r\n- skip offset\r\n- intersecting (overlapping) segments\r\n- sprite round\r\n- rotate offset\r\n- round gradient\r\n- GC-free\r\n- Handle / Inverted Handle Fill ( Select Wheel )\r\n\r\n# TODO\r\n- border / outline mode\r\n","size_bytes":704},"CapybaraGame/Assets/Scripts/Ad/AdInterstitial.cs":{"content":"using UnityEngine;\nusing UnityEngine.Advertisements;\n\nnamespace SaveTheCapybara.Ad\n{\n    public class AdInterstitial : MonoBehaviour, IUnityAdsLoadListener, IUnityAdsShowListener\n    {\n        private const string AndroidAdID = \"Interstitial_Android\";\n        private const string IOSAdID = \"Interstitial_iOS\";\n\n        [SerializeField, Range(0f, 100f)] private float _showChance = 30f;\n\n        private AdTimer _adTimer = AdTimer.Instance;\n        private string _adID;\n\n        private void Awake()\n        {\n            _adID = (Application.platform == RuntimePlatform.IPhonePlayer) ? IOSAdID : AndroidAdID;\n\n            Advertisement.Load(_adID, this);\n        }\n\n        public bool TryShowWithChance()\n        {\n            if (_adTimer.CanShowAd == false)\n            {\n                print(\"Ad blocked by timer or No Ads!\");\n                return false;\n            }\n\n            int randomChance = Random.Range(0, 101);\n            if (randomChance <= _showChance)\n            {\n                Show();\n                return true;\n            }\n\n            return false;\n        }\n\n        private void Show()\n        {\n            Advertisement.Show(_adID, this);\n        }\n\n        #region Callbacks\n        public void OnUnityAdsAdLoaded(string placementId)\n        {\n            Debug.Log(\"Ad's loaded\" + placementId);\n        }\n\n        public void OnUnityAdsFailedToLoad(string placementId, UnityAdsLoadError error, string message)\n        {\n            Debug.Log($\"Ad's load error: {error.ToString()} - {message}\");\n            Advertisement.Load(_adID, this);\n        }\n\n        public void OnUnityAdsShowFailure(string placementId, UnityAdsShowError error, string message)\n        {\n            Debug.Log($\"Ad's show error: {error.ToString()} - {message}\");\n            Advertisement.Load(_adID, this);\n        }\n\n        public void OnUnityAdsShowStart(string placementId) {  }\n\n        public void OnUnityAdsShowClick(string placementId) {  }\n\n        public void OnUnityAdsShowComplete(string placementId, UnityAdsShowCompletionState showCompletionState)\n        {\n            Advertisement.Load(_adID, this);\n            _adTimer.BlockAdForPeriod();\n        }\n        #endregion\n    }\n}","size_bytes":2213},"CapybaraGame/Assets/Scripts/Ad/AdRewarded.cs":{"content":"using System;\nusing SaveTheCapybara.UI;\nusing UnityEngine;\nusing UnityEngine.Advertisements;\n\nnamespace SaveTheCapybara.Ad\n{\n    public class AdRewarded : MonoBehaviour, IUnityAdsLoadListener, IUnityAdsShowListener\n    {\n        private const string AndroidAdID = \"Rewarded_Android\";\n        private const string IOSAdID = \"Rewarded_iOS\";\n\n        [SerializeField] private UIButton _showButton;\n\n        private string _adID;\n\n        public event Action OnRewardGotten;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            _adID = (Application.platform == RuntimePlatform.IPhonePlayer) ? IOSAdID : AndroidAdID;\n\n            SwitchButtonStatus(false);\n\n            Advertisement.Load(_adID, this);\n        }\n\n        private void OnEnable()\n        {\n            _showButton.OnClicked += Show;\n        }\n\n        private void OnDisable()\n        {\n            _showButton.OnClicked -= Show;\n        }\n\n        #endregion\n\n        public void Show()\n        {\n            Advertisement.Show(_adID, this);\n        }\n\n        private void SwitchButtonStatus(bool value) => _showButton.Interactable = value;\n\n        #region Callbacks\n        public void OnUnityAdsAdLoaded(string placementId)\n        {\n            if (placementId.Equals(_adID))\n                SwitchButtonStatus(true);\n            else\n                Advertisement.Load(_adID, this);\n\n\n            Debug.Log(\"Ad's loaded: \" + placementId);\n        }\n\n        public void OnUnityAdsFailedToLoad(string placementId, UnityAdsLoadError error, string message)\n        {\n            Debug.Log($\"Ad's load error: {error.ToString()} - {message}\");\n        }\n\n        public void OnUnityAdsShowFailure(string placementId, UnityAdsShowError error, string message)\n        {\n            Debug.Log($\"Ad's show error: {error.ToString()} - {message}\");\n        }\n\n        public void OnUnityAdsShowStart(string placementId) {  }\n\n        public void OnUnityAdsShowClick(string placementId) {  }\n\n        public void OnUnityAdsShowComplete(string placementId, UnityAdsShowCompletionState showCompletionState)\n        {\n            if (showCompletionState.Equals(UnityAdsShowCompletionState.COMPLETED))\n            {\n                OnRewardGotten?.Invoke();\n                Debug.Log(\"Ad's completed & player's rewarded!\");\n            }\n        }\n        #endregion\n    }\n}","size_bytes":2356},"CapybaraGame/Assets/Scripts/Ad/AdTimer.cs":{"content":"using System;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Cysharp.Threading.Tasks;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Ad\n{\n    [DefaultExecutionOrder(0)]\n    public class AdTimer : MonoBehaviour\n    {\n        public const int StartBlockPeriodInSeconds = 30;\n        public const int BlockPeriodInSeconds = 45;\n\n        public static AdTimer Instance { get; private set; }\n\n        private bool _canShowAd = true;\n        private CancellationToken _cancellationToken;\n\n        public bool NoAds { get; private set; } = false;\n        public bool CanShowAd => NoAds == false && _canShowAd == true;\n\n        private void Awake()\n        {\n            if (Instance == this)\n                return;\n            else if (Instance != null)\n                throw new InvalidOperationException(\"AdTimer is a singleton. There can be only one instance of it.\");\n\n            _cancellationToken = this.GetCancellationTokenOnDestroy();\n\n            Instance = this;\n        }\n\n        private void Start()\n        {\n            BlockAdForPeriod(StartBlockPeriodInSeconds);\n        }\n\n        public void BlockAdForPeriod(int blockPeriod = BlockPeriodInSeconds)\n        {\n            BlockAd(blockPeriod, _cancellationToken).Forget();\n        }\n\n        public void SetNoAds(bool noAds)\n        {\n            NoAds = noAds;\n        }\n\n        private async UniTask BlockAd(int period, CancellationToken token)\n        {\n            _canShowAd = false;\n\n            var delay = TimeSpan.FromSeconds(period);\n            await Task.Delay(delay, token);\n\n            _canShowAd = true;\n        }\n    }\n}\n","size_bytes":1614},"CapybaraGame/Assets/Scripts/Ad/UnityAdsStartup.cs":{"content":"using UnityEngine;\nusing UnityEngine.Advertisements;\n\nnamespace SaveTheCapybara.Ad\n{\n    public class UnityAdsStartup : MonoBehaviour, IUnityAdsInitializationListener\n    {\n        private const string AndroidGameID = \"5253776\";\n        private const string IOSGameID = \"5253777\";\n\n        private bool _testMode = false;\n        private string gameID;\n\n        private void Awake()\n        {\n            #if UNITY_EDITOR\n            _testMode = true;\n            #endif\n\n            gameID = (Application.platform == RuntimePlatform.IPhonePlayer) ? IOSGameID : AndroidGameID;\n\n            Advertisement.Initialize(gameID, _testMode, this);\n        }\n\n        public void OnInitializationComplete()\n        {\n            Debug.Log(\"Initialized successfully!\");\n        }\n\n        public void OnInitializationFailed(UnityAdsInitializationError error, string message)\n        {\n            Debug.Log($\"Initialization Error: {error.ToString()} - {message}\");\n        }\n    }\n}","size_bytes":973},"CapybaraGame/Assets/Scripts/Audio/AudioCollection.cs":{"content":"using System.Linq;\nusing UnityEngine;\n\nnamespace Core.Audio\n{\n    [CreateAssetMenu(fileName = \"Audio Collection\", menuName = \"Collections/Audio\")]\n    public class AudioCollection : ScriptableObject\n    {\n        [SerializeField] private NamedAudio[] _audio;\n\n        public NamedAudio[] Audio => _audio;\n\n        private void OnValidate()\n        {\n            bool isUnique = _audio.GroupBy(x => x.Name).All(grouping => grouping.Count() == 1);\n\n            if (isUnique == false)\n                throw new UnityException(\"Audio collection contains duplicates.\");\n        }\n    }\n}\n","size_bytes":583},"CapybaraGame/Assets/Scripts/Audio/AudioConfig.cs":{"content":"using UnityEngine;\n\nnamespace Core.Audio\n{\n    [CreateAssetMenu(fileName = \"Audio Config\", menuName = \"Configs/Audio Config\")]\n    public class AudioConfig : ScriptableObject\n    {\n        [SerializeField, Range(-80f, 20f)] private float _volumeOffValue = -80f;\n\n        [Space]\n        [SerializeField, Range(-80f, 20f)] private float _musicVolume = -15f;\n        [SerializeField, Range(-80f, 20f)] private float _soundsVolume = 0f;\n\n        public float VolumeOffValue => _volumeOffValue;\n\n        public float MusicVolume => _musicVolume;\n        public float SoundsVolume => _soundsVolume;\n    }\n}","size_bytes":601},"CapybaraGame/Assets/Scripts/Audio/AudioName.cs":{"content":"namespace Core.Audio\n{\n    public enum AudioName\n    {\n        // Music\n        MainTheme = 0,\n\n        // SFX\n        Button = 1,\n        HeroDash = 2,\n        HeroJump = 3,\n        GameWin = 4,\n        GameLost = 5,\n        HeroSpawn = 6,\n        CoinsSpent = 7,\n        FoodBite = 8,\n        EnemyDeath = 9,\n        HeroCollect = 10,\n        ChestBreak = 11,\n        HeroGrapple = 12\n    }\n}","size_bytes":394},"CapybaraGame/Assets/Scripts/Audio/NamedAudio.cs":{"content":"using System;\nusing UnityEngine;\n\nnamespace Core.Audio\n{\n    [Serializable]\n    public struct NamedAudio\n    {\n        public AudioName Name;\n        public AudioClip Clip; \n    }\n}","size_bytes":181},"CapybaraGame/Assets/Scripts/Audio/UnityAudioHandler.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\nusing UnityEngine;\nusing UnityEngine.Audio;\n\nnamespace Core.Audio\n{\n    public class UnityAudioHandler : MonoBehaviour, IAudioHandler\n    {\n        [Header(\"Assets\")]\n        [SerializeField] private AudioCollection _collection;\n\n        [Header(\"Components\")]\n        [SerializeField] private AudioSource _musicSource;\n        [SerializeField] private AudioSource _soundsSource;\n        [SerializeField] private AudioSource _uiSource;\n\n        [Header(\"Mixer Groups\")]\n        [SerializeField] private AudioMixerGroup _masterGroup;\n        [SerializeField] private AudioMixerGroup _musicGroup;\n        [SerializeField] private AudioMixerGroup _soundsGroup;\n\n        private Dictionary<AudioName, AudioClip> _clips;\n\n        private void Awake()\n        {\n            _clips = _collection.Audio.ToDictionary(audio => audio.Name, audio => audio.Clip);\n\n            _musicSource.loop = true;\n            _soundsSource.loop = false;\n        }\n\n        public void StartMusic(AudioName name)\n        {\n            if (_musicSource.isPlaying == true) \n                return;\n            \n            _musicSource.clip = _clips[name];\n            _musicSource.Play();\n        }\n\n        public void PlaySound(AudioName name, bool isUI = false)\n        {   \n            if (isUI == true)\n                _uiSource.PlayOneShot(_clips[name]);\n            else\n                _soundsSource.PlayOneShot(_clips[name]);\n        }\n\n        public void SetMasterVolume(float volume) =>\n            _masterGroup.audioMixer.SetFloat(_masterGroup.name, volume);\n\n        public void SetMusicVolume(float volume) => \n            _musicGroup.audioMixer.SetFloat(_musicGroup.name, volume);\n\n        public void SetSoundsVolume(float volume) => \n            _soundsGroup.audioMixer.SetFloat(_soundsGroup.name, volume);\n    }\n}","size_bytes":1859},"CapybaraGame/Assets/Scripts/Extensions/MyUniTask.cs":{"content":"using System;\nusing System.Threading;\nusing Cysharp.Threading.Tasks;\n\nnamespace SaveTheCapybara.Other\n{\n    public static class MyUniTask\n    {\n        public static UniTask Delay(int seconds)\n        {\n            return Delay((float)seconds);\n        }\n\n        public static UniTask Delay(float seconds)\n        {\n            TimeSpan delay = TimeSpan.FromSeconds(seconds);\n            return UniTask.Delay(delay);\n        }\n\n        public static UniTask Delay(int seconds, CancellationToken token)\n        {\n            return Delay((float)seconds, token);\n        }\n\n        public static UniTask Delay(float seconds, CancellationToken token)\n        {\n            TimeSpan delay = TimeSpan.FromSeconds(seconds);\n            return UniTask.Delay(delay, cancellationToken: token);\n        }\n    }\n}","size_bytes":803},"CapybaraGame/Assets/Scripts/Factories/HeroFactory.cs":{"content":"using SaveTheCapybara.Other;\nusing Core.Player;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class HeroFactory\n    {\n        private readonly Hero _heroPrefab;\n        private readonly Vector3 _spawnPosition;\n        private readonly Transform _parent;\n        private readonly HeroSkins _heroSkins;\n\n        public HeroFactory(\n            Hero prefab,\n            Vector3 spawnPosition,\n            HeroSkins heroSkins,\n            Transform parent = null)\n        {\n            _heroPrefab = prefab;\n            _spawnPosition = spawnPosition;\n            _parent = parent;\n            _heroSkins = heroSkins;\n        }\n\n        public Hero Create()\n        {\n            Hero hero = DIContainerRef.Container.InstantiatePrefabForComponent<Hero>(\n                _heroPrefab, \n                _spawnPosition, \n                Quaternion.identity, \n                _parent);\n            \n            // NEW (HeroSkins)\n            if (_heroSkins.Current.Name != SkinName.Capybuddy)\n                hero.SkinSetter.Set(_heroSkins.Current);\n\n            return hero;\n        }\n    }\n}","size_bytes":1104},"CapybaraGame/Assets/Scripts/Game/AppStartup.cs":{"content":"using SaveTheCapybara.Other;\nusing Core.Common.ThirdParty;\nusing IngameDebugConsole;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Game\n{\n    public class AppStartup : MonoBehaviour\n    {\n        [SerializeField] private DebugLogManager _ingameDebugLogManager;\n        \n        private LoadingScreenProvider _loaderProvider;\n\n        private async void Start()\n        {\n            // NEW\n            if (Debug.isDebugBuild == false)\n                Object.Destroy(_ingameDebugLogManager.gameObject);\n            \n            FirebaseService.Initialize();\n            // â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“\n            \n            Application.targetFrameRate = 60;\n\n            await _loaderProvider.LoadGameAsync();\n        }\n\n        [Inject]\n        private void Construct(LoadingScreenProvider provider)\n        {\n            _loaderProvider = provider;\n        }\n    }\n}\n","size_bytes":888},"CapybaraGame/Assets/Scripts/Game/GameOverHandler.cs":{"content":"using System;\nusing SaveTheCapybara.Player;\nusing Cysharp.Threading.Tasks;\n\nnamespace SaveTheCapybara.Game\n{\n    public class GameOverHandler\n    {\n        private readonly Hero _hero;\n        private readonly PauseManager _pauseManager;\n\n        public bool IsPaused => _pauseManager.IsPaused;\n        public bool WasGameContinuedBefore { get; private set; } = false;\n \n        public event Action OnGameHasOver;\n        public event Action OnGameFinished;\n        public event Action OnGameUIConcealPrompted;\n\n        public GameOverHandler(Hero hero, PauseManager pause)\n        {\n            _hero = hero;\n            _pauseManager = pause;\n        }\n\n        public void Enable()\n        {\n            _hero.OnDeath += HandleHeroDeath;\n            _hero.OnLevelFinished += HandleHeroFinished;\n        }\n\n        public void Disable()\n        {\n            _hero.OnDeath -= HandleHeroDeath;\n            _hero.OnLevelFinished -= HandleHeroFinished;\n        }\n\n        public void HandleHeroRevival()\n        {\n            if (IsPaused == true)\n                _pauseManager.SetPaused(false);\n\n            _hero.Revive();\n            WasGameContinuedBefore = true;\n        }\n\n        private void HandleHeroDeath()\n        {\n            if (IsPaused == false)\n                _pauseManager.SetPaused(true);\n\n            OnGameHasOver?.Invoke();\n        }\n        \n        private void HandleHeroFinished(float delay)\n        {\n            OnGameUIConcealPrompted?.Invoke();\n            \n            HandleHeroFinishedAsync(delay).Forget();\n        }\n\n        private async UniTask HandleHeroFinishedAsync(float delay)\n        {\n            await UniTask.Delay(TimeSpan.FromSeconds(delay));\n            \n            if (IsPaused == false)\n                _pauseManager.SetPaused(true);\n            \n            OnGameFinished?.Invoke();\n        }\n    }\n}","size_bytes":1855},"CapybaraGame/Assets/Scripts/Game/GameStartup.cs":{"content":"using SaveTheCapybara.Player;\nusing UnityEngine;\nusing Zenject;\nusing SaveTheCapybara.UI;\nusing System;\nusing SaveTheCapybara.Level;\nusing System.Threading.Tasks;\nusing Core.Audio;\nusing Core.Player;\n\nnamespace SaveTheCapybara.Game\n{\n    [DisallowMultipleComponent]\n    public class GameStartup : MonoBehaviour\n    {\n        [Header(\"Prefabs\")]\n        [SerializeField] private Hero _heroPrefab;\n\n        [Header(\"Level Elements\")]\n        [SerializeField] private FollowerObject _deadlyYBorder;\n\n        [Header(\"UI Elements\")]\n        [SerializeField] private UIText _scoreText;\n        [SerializeField] private CoinsUIContainer _coinsUIContainer;\n\n        #region Injected Variables\n        private MenuProvider _menuProvider;\n        private GameMenu _menu;\n        private Score _score;\n        private LevelGenerator _levelGenerator;\n        private HeroSpawnMarker _heroSpawnMarker;\n        private PauseManager _pauseManager;\n        private GameUI _gameUI;\n        private GameOverScreenProvider _gameOverScreenProvider;\n        private GameFinishedScreenProvider _gameFinishedScreenProvider;\n        private PlayerData _playerData;\n        private LevelPlaythrough _levelPlaythrough;\n        #endregion\n\n        private ScorePresenter _scorePresenter;\n        private GameOverHandler _gameOverHandler;\n        private GameOverHandlerPresenter _gameOverHandlerPresenter;\n        private HeroPresenter _heroPresenter;\n        private CoinsPresenter _coinsPresenter;\n        private QuestPresenter _questPresenter;\n        private HeroSkins _heroSkins;\n        private IAudioHandler _audioHandler;\n\n        #region MonoBehaviour\n\n        private void OnDisable()\n        {\n            _menu.OnMenuWorkHasOver -= UnloadMenu;\n            \n            _gameOverHandler?.Disable();\n            _heroPresenter?.Disable();\n            _gameOverHandlerPresenter?.Disable();\n            _scorePresenter?.Disable();\n            _coinsPresenter?.Disable();\n            _questPresenter?.Disable();\n        }\n\n        private async void Start()\n        {\n            _audioHandler.StartMusic(AudioName.MainTheme);\n            \n            _levelGenerator.CreateBackground();\n            \n            await LoadAndRevealMenu();\n            _menu.OnMenuWorkHasOver += UnloadMenu;\n\n            SetupCoins();\n\n            GenerateLevel();\n        }\n\n        #endregion\n\n        [Inject]\n        private void Construct(\n            MenuProvider menuProvider,\n            Score score,\n            LevelGenerator levelGenerator,\n            HeroSpawnMarker spawnMarker,\n            PauseManager pauseManager,\n            GameUI gameUI,\n            GameOverScreenProvider gameOverScreenProvider,\n            GameFinishedScreenProvider gameFinishedScreenProvider,\n            PlayerData playerData,\n            HeroSkins heroSkins,\n            LevelPlaythrough levelPlaythrough,\n            IAudioHandler audioHandler)\n        {\n            _menuProvider = menuProvider;\n            _score = score;\n            _levelGenerator = levelGenerator; \n            _heroSpawnMarker = spawnMarker;\n            _pauseManager = pauseManager;\n            _gameUI = gameUI;\n            _gameOverScreenProvider = gameOverScreenProvider;\n            _gameFinishedScreenProvider = gameFinishedScreenProvider;\n            _playerData = playerData;\n            _heroSkins = heroSkins;\n            _levelPlaythrough = levelPlaythrough;\n            _audioHandler = audioHandler;\n        }\n\n        public void StartGame()\n        {\n            _levelPlaythrough.Clear();\n            \n            Hero hero = CreateHero();\n\n            _heroPresenter = new HeroPresenter(hero, _gameUI);\n                 \n            _heroPresenter.Enable();\n            \n            SetupScore(hero);\n\n            _deadlyYBorder.Init(hero.transform);\n\n            _levelGenerator.InitHeroTransform(hero);\n\n            SetupGameOverSystem(hero);\n\n            _pauseManager.SetPaused(false);\n\n            _questPresenter = new QuestPresenter(_levelGenerator, _gameUI);\n            _questPresenter.Enable();\n            _gameUI.Reveal();\n        }\n\n        private async Task LoadAndRevealMenu()\n        {\n            _menu = await _menuProvider.Load();\n            _menu.Reveal();\n        }\n\n        private void GenerateLevel()\n        {\n            _levelGenerator.SpawnStartPlatform();\n            _levelGenerator.GenerateDefaultAmount();\n        }\n\n        private void UnloadMenu()\n        {\n            _menuProvider.Unload();\n        }\n\n        private Hero CreateHero()\n        {\n            Transform spawnMarkerTransform = _heroSpawnMarker.transform;\n            Vector3 spawnPosition = spawnMarkerTransform.position;\n            \n            var heroFactory = \n                new HeroFactory(_heroPrefab, spawnPosition, _heroSkins);\n                \n            return heroFactory.Create();\n        }\n\n        private void SetupScore(Hero hero)\n        {\n            _score.InitHero(hero);\n            _score.StartCount();\n\n            _scorePresenter = new ScorePresenter(_score, _scoreText);\n            _scorePresenter.Enable();\n        }\n\n        private void SetupCoins()\n        {\n            _coinsPresenter = new(_playerData, _coinsUIContainer);\n            _coinsPresenter.Init();\n            _coinsPresenter.Enable();\n        }\n\n        private void SetupGameOverSystem(Hero hero)\n        {\n            InitGameOverHandler(hero);\n            InitGameOverHandlerPresenter();\n        }\n\n        private void InitGameOverHandler(Hero hero)\n        {\n            _gameOverHandler = new GameOverHandler(hero, _pauseManager);\n            _gameOverHandler.Enable();\n        }\n\n        private void InitGameOverHandlerPresenter()\n        {\n            if (_gameOverHandler == null)\n                throw new NullReferenceException(\"GameOverHandler instance is null! Init it first because it's needed in GameOverHandlerPresenter initialization.\");\n\n            _gameOverHandlerPresenter = new GameOverHandlerPresenter(\n                _gameOverHandler,\n                _gameUI,\n                _gameOverScreenProvider,\n                _gameFinishedScreenProvider,\n                _score);\n\n            _gameOverHandlerPresenter.Enable();\n        }\n    }\n}","size_bytes":6216},"CapybaraGame/Assets/Scripts/Game/IPauseHandler.cs":{"content":"namespace SaveTheCapybara.Game\n{\n    public interface IPauseHandler\n    {\n        public void SetPaused(bool isPaused);\n    }\n}","size_bytes":127},"CapybaraGame/Assets/Scripts/Game/LocalizationManager.cs":{"content":"using UnityEngine.Localization.Settings;\nusing UnityEngine.Localization;\nusing System.Collections.Generic;\nusing Cysharp.Threading.Tasks;\n\nnamespace SaveTheCapybara.Game\n{\n    public class LocalizationManager\n    {\n        private int _currentLanguageIndex = 0;\n\n        private List<Locale> AvailableLocales => LocalizationSettings.AvailableLocales.Locales;\n\n        public int CurrentLanguageIndex => _currentLanguageIndex;\n\n        public async void NextLanguage()\n        {\n            _currentLanguageIndex++;\n            if (_currentLanguageIndex >= AvailableLocales.Count)\n                _currentLanguageIndex = 0;\n\n            await SetLanguage(_currentLanguageIndex);\n        }\n\n        public async UniTask SetLanguage(int index)\n        {\n            await UniTask.WaitUntil(() => AvailableLocales.Count > 0);\n            LocalizationSettings.SelectedLocale = AvailableLocales[index];\n            _currentLanguageIndex = index;\n        }\n    }\n}\n","size_bytes":958},"CapybaraGame/Assets/Scripts/Game/PauseManager.cs":{"content":"using System.Collections.Generic;\n\nnamespace SaveTheCapybara.Game\n{\n    public class PauseManager : IPauseHandler\n    {\n        private readonly List<IPauseHandler> _handlers =\n            new List<IPauseHandler>();\n\n        public void Register(IPauseHandler handler)\n        {\n            _handlers.Add(handler);\n        }\n\n        public void Unregister(IPauseHandler handler)\n        {\n            _handlers.Remove(handler);\n        }\n\n        public bool IsPaused { get; private set; }\n\n        public void SetPaused(bool isPaused)\n        {\n            IsPaused = isPaused;\n\n            foreach (var handler in _handlers)\n                handler.SetPaused(isPaused);\n        }\n    }\n}\n","size_bytes":691},"CapybaraGame/Assets/Scripts/Game/SceneLoader.cs":{"content":"using System.Threading;\nusing Cysharp.Threading.Tasks;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace SaveTheCapybara.Game\n{\n    public class SceneLoader : MonoBehaviour\n    {\n        private const int PregameCutsceneSceneID = 1;\n        private const int GameSceneID = 2;\n\n        public async UniTask LoadGame(CancellationToken cancellationToken = default)\n        {\n            await SceneManager\n                .LoadSceneAsync(GameSceneID)\n                .WithCancellation(cancellationToken);\n        }\n\n        public async UniTask LoadPregameCutscene(CancellationToken cancellationToken = default)\n        {\n            await SceneManager\n                .LoadSceneAsync(PregameCutsceneSceneID)\n                .WithCancellation(cancellationToken);\n        }\n    }\n}","size_bytes":792},"CapybaraGame/Assets/Scripts/Installers/CanvasInstaller.cs":{"content":"using UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class CanvasInstaller : MonoInstaller\n    {\n        [SerializeField] private Canvas _canvas;\n\n        public override void InstallBindings()\n        {\n            Container\n                .Bind<Canvas>()\n                .FromInstance(_canvas)\n                .AsSingle();\n        }\n    }\n}\n","size_bytes":376},"CapybaraGame/Assets/Scripts/Installers/GameStartupInstaller.cs":{"content":"using SaveTheCapybara.Game;\nusing SaveTheCapybara.UI;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class GameStartupInstaller : MonoInstaller\n    {\n        [SerializeField] private GameStartup _gameStartup;\n        [SerializeField] private GameUI _inGameUI;\n\n        public override void InstallBindings()\n        {\n            BindGameStartup();\n            BindInGameUI();\n        }\n\n        private void BindGameStartup()\n        {\n            Container\n                .Bind<GameStartup>()\n                .FromInstance(_gameStartup)\n                .AsSingle()\n                .NonLazy();\n        }\n\n        private void BindInGameUI()\n        {\n            Container\n                .Bind<GameUI>()\n                .FromInstance(_inGameUI)\n                .AsSingle()\n                .NonLazy();\n        }\n    }\n}","size_bytes":859},"CapybaraGame/Assets/Scripts/Installers/HeroInstaller.cs":{"content":"using SaveTheCapybara.Player;\nusing UnityEngine;\nusing Zenject;\n\npublic class HeroInstaller : MonoInstaller\n{\n    [SerializeField] private HeroSpawnMarker _heroSpawnMarker;\n    [SerializeField] private MainCamera _mainCamera;\n\n    public override void InstallBindings()\n    {\n        BindHeroSpawnMarker();\n        BindMainCamera();\n    }\n\n    private void BindHeroSpawnMarker()\n    {\n        Container\n            .Bind<HeroSpawnMarker>()\n            .FromInstance(_heroSpawnMarker)\n            .AsSingle()\n            .NonLazy();\n    }\n\n    private void BindMainCamera()\n    {\n        Container\n            .Bind<MainCamera>()\n            .FromInstance(_mainCamera)\n            .AsSingle()\n            .NonLazy();\n    }\n}","size_bytes":723},"CapybaraGame/Assets/Scripts/Installers/LevelGeneratorInstaller.cs":{"content":"using UnityEngine;\nusing Zenject;\nusing SaveTheCapybara.Level;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class LevelGeneratorInstaller : MonoInstaller\n    {\n        [SerializeField] private LevelGenerator _instance;\n\n        public override void InstallBindings()\n        {\n            Container   \n                .Bind<LevelGenerator>()\n                .FromInstance(_instance)\n                .AsSingle();\n        }\n    }\n}\n","size_bytes":436},"CapybaraGame/Assets/Scripts/Installers/LoadingScreenProviderInstaller.cs":{"content":"using SaveTheCapybara.Other;\nusing Zenject;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class LoadingScreenProviderInstaller : MonoInstaller\n    {\n        public override void InstallBindings()\n        {\n            Container\n                .Bind<LoadingScreenProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n    }\n}\n","size_bytes":354},"CapybaraGame/Assets/Scripts/Installers/ProjectContextInstaller.cs":{"content":"using SaveTheCapybara.Game;\nusing SaveTheCapybara.Level;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.Save;\nusing Core.Audio;\nusing Core.Player;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class ProjectContextInstaller : MonoInstaller\n    {\n        // NEW\n        [SerializeField] private PurchaseManager _purchaseManager;\n        \n        [Space]\n        [SerializeField] private Score _score;\n        [SerializeField] private SaveService _saveService;\n        \n        [Space]\n        [SerializeField] private SkinsCollection _skinsCollection;\n        [SerializeField] private UnityAudioHandler _unityAudioHandler;\n        \n        public override void InstallBindings()\n        {\n            // NEW\n            BindLevelPlaythrough();\n            BindLevelNumberHolder();\n            BindPlayerData();\n            BindPurchaseManager();\n            \n            BindSaveSystem();\n            BindPauseManager();\n            // NEW\n            BindScore();\n            \n            BindLocalizationManager();\n            BindSaveService();\n            \n            // NEW\n            BindHeroSkins();\n            BindAudioHandler();\n        }\n\n        private void BindSaveSystem()\n        {\n            Container\n                .Bind<ISaveSystem>()\n                .To<JsonSaveSystem>()\n                .FromNew()\n                .AsSingle()\n                .Lazy();\n        }\n\n        private void BindLevelNumberHolder()\n        {\n            Container\n                .Bind<LevelNumberHolder>()\n                .FromNew()\n                .AsSingle()\n                .NonLazy();\n        }\n        \n        private void BindPurchaseManager()\n        {\n            Container\n                .Bind<PurchaseManager>()\n                .FromInstance(_purchaseManager)\n                .AsSingle()\n                .NonLazy();\n        }\n\n        private void BindPauseManager()\n        {\n            Container\n                .Bind<PauseManager>()\n                .FromNew()\n                .AsSingle()\n                .Lazy();\n        }\n        \n        private void BindLevelPlaythrough()\n        {\n            Container\n                .Bind<LevelPlaythrough>()\n                .FromNew()\n                .AsSingle()\n                .Lazy();\n        }\n\n        private void BindScore()\n        {\n            Container\n                .Bind<Score>()\n                .FromInstance(_score)\n                .AsSingle()\n                .NonLazy();\n        }\n\n        private void BindPlayerData()\n        {\n            Container\n                .Bind<PlayerData>()\n                .FromNew()\n                .AsSingle()\n                .NonLazy();\n        }\n\n        private void BindLocalizationManager()\n        {\n            Container\n                .Bind<LocalizationManager>()\n                .FromNew()\n                .AsSingle()\n                .NonLazy();\n        }\n\n        private void BindSaveService()\n        {\n            Container\n                .Bind<SaveService>()\n                .FromInstance(_saveService)\n                .AsSingle()\n                .NonLazy();\n        }\n\n        private void BindHeroSkins()\n        {\n            Container\n                .Bind<HeroSkins>()\n                .FromNew()\n                .AsSingle()\n                .WithArguments(_skinsCollection)\n                .NonLazy();\n        }\n        \n        private void BindAudioHandler()\n        {\n            Container\n                .Bind<IAudioHandler>()\n                .To<UnityAudioHandler>()\n                .FromInstance(_unityAudioHandler)\n                .AsSingle()\n                .Lazy();\n        }\n    }\n}\n","size_bytes":3667},"CapybaraGame/Assets/Scripts/Installers/SceneContextInstaller.cs":{"content":"using SaveTheCapybara.Other;\nusing Zenject;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class SceneContextInstaller : MonoInstaller\n    {\n        DiContainer _container;\n\n        public override void InstallBindings()\n        {\n            DIContainerRef.Container = _container;\n        }\n\n        [Inject]\n        private void Construct(DiContainer container)\n        {\n            _container = container;\n        }\n    }\n}\n","size_bytes":432},"CapybaraGame/Assets/Scripts/Installers/UIProvidersInstaller.cs":{"content":"using Zenject;\nusing UnityEngine;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.UI;\nusing SaveTheCapybara.Game;\n\nnamespace SaveTheCapybara.Installers\n{\n    public class UIProvidersInstaller : MonoInstaller\n    {\n        [SerializeField] private Canvas _canvas;\n        [SerializeField] private GameUI _gameUI;\n        [SerializeField] private GameStartup _gameStartup;\n        \n        public override void InstallBindings()\n        {\n            BindUpgradeScreenProvider();\n            BindShopScreenProvider();\n            BindGameOverScreenProvider();\n            BindGameFinishedScreenProvider();\n            BindPauseScreenProvider();\n            BindMenuProvider();\n        }\n\n        private void BindUpgradeScreenProvider()\n        {\n            Container\n                .Bind<UpgradeScreenProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n        \n        private void BindShopScreenProvider()\n        {\n            Container\n                .Bind<ShopScreenProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n\n        private void BindGameOverScreenProvider()\n        {\n            Container\n                .Bind<GameOverScreenProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n        \n        private void BindGameFinishedScreenProvider()\n        {\n            Container\n                .Bind<GameFinishedScreenProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n\n        private void BindPauseScreenProvider()\n        {\n            Container\n                .Bind<PauseScreenProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n\n        private void BindMenuProvider()\n        {\n            Container\n                .Bind<MenuProvider>()\n                .FromNew()\n                .AsSingle();\n        }\n    }\n}","size_bytes":1865},"CapybaraGame/Assets/Scripts/Level/ChestSpawnMarker.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class ChestSpawnMarker : SpawnMarker {  }\n}","size_bytes":88},"CapybaraGame/Assets/Scripts/Level/Cutscene.cs":{"content":"using SaveTheCapybara.Other;\nusing SaveTheCapybara.Player;\nusing UnityEngine;\nusing Zenject;\nusing Cysharp.Threading.Tasks;\nusing System.Threading;\nusing SaveTheCapybara.UI;\n\nnamespace SaveTheCapybara.Level\n{\n    public class Cutscene : MonoBehaviour\n    {\n        private const string Cutscene0 = nameof(Cutscene0);\n        private const string ZoomHero = nameof(ZoomHero);\n        private const string ZoomDark = nameof(ZoomDark);\n\n        [SerializeField] private Animator _cutsceneAnimator;\n        [SerializeField] private UIButton _skipButton;\n\n        private CancellationToken _cancellationToken;\n        private readonly float _cutsceneChangeInterval = 1.5f;\n        private int _cutscene0Id = Animator.StringToHash(Cutscene0);\n        private int _zoomHeroId = Animator.StringToHash(ZoomHero);\n        private int _zoomDarkId = Animator.StringToHash(ZoomDark);\n\n        #region Injected fields\n        private LoadingScreenProvider _loaderProvider;\n        private PlayerData _playerData;\n        #endregion\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            _cancellationToken = this.GetCancellationTokenOnDestroy();\n        }\n        \n        private void OnEnable()\n        {\n            _skipButton.OnClicked += LoadGame;\n        }\n        \n        private void OnDisable()\n        {\n            _skipButton.OnClicked -= LoadGame;\n        }\n\n        private void Start()\n        {\n            if (_playerData.IsCutsceneWatched == true)\n                _skipButton.gameObject.SetActive(true);\n\n            PerformCutscene(_cancellationToken).Forget();\n        }\n        \n        #endregion\n\n        [Inject]\n        private void Construct(LoadingScreenProvider provider, PlayerData playerData)\n        {\n            _loaderProvider = provider;\n            _playerData = playerData;\n        }\n\n        private async UniTask PerformCutscene(CancellationToken token)\n        {\n            await MyUniTask.Delay(_cutsceneChangeInterval, token);\n\n            _cutsceneAnimator.SetBool(_zoomHeroId, true);\n\n            await MyUniTask.Delay(_cutsceneChangeInterval, token);\n\n            _cutsceneAnimator.SetBool(_cutscene0Id, true);\n            _cutsceneAnimator.SetBool(_zoomHeroId, false);\n\n            await MyUniTask.Delay(_cutsceneChangeInterval, token);\n\n            _cutsceneAnimator.SetBool(_zoomDarkId, true);\n\n            await MyUniTask.Delay(_cutsceneChangeInterval, token);\n\n            _cutsceneAnimator.SetBool(_cutscene0Id, false);\n\n            await MyUniTask.Delay(_cutsceneChangeInterval, token);\n\n            _playerData.IsCutsceneWatched = true;\n\n            LoadGame();\n        }\n\n        private async void LoadGame()\n        {\n            await _loaderProvider.LoadGameAsync();\n        }\n    }\n}","size_bytes":2759},"CapybaraGame/Assets/Scripts/Level/Enemy.cs":{"content":"using UnityEngine;\nusing SaveTheCapybara.Other;\n\nnamespace SaveTheCapybara.Level\n{\n    public class Enemy : MonoBehaviour\n    {\n        public const int DefeatRewardCoins = 10;\n        private const string DeadEnemy = nameof(DeadEnemy);\n\n        [Header(\"Components\")]\n        [SerializeField] private ParticlesPlayer _deathParticles;\n        [SerializeField] private MovingObject _movement;\n\n        [Header(\"Death Settings\")]\n        [SerializeField] private float _disappearDelayInSeconds = 1.2f;\n\n        private int _deathLayer;\n\n        private void Awake()\n        {\n            _deathLayer = LayerMask.NameToLayer(DeadEnemy);\n        }\n\n        public void GetKicked(Vector2 force)\n        {\n            Rigidbody2D rigidbody2D = _movement.Rigidbody2D;\n            rigidbody2D.AddForce(force, ForceMode2D.Impulse);\n        }\n\n        public void PerformDeath()\n        {\n            _movement.BecomePhysical();\n            gameObject.layer = _deathLayer;\n            Invoke(nameof(Disappear), _disappearDelayInSeconds);\n        }\n\n        private void Disappear()\n        {\n            _deathParticles.SpawnTillDuration();\n            Destroy(gameObject);\n        }\n\n    }\n}\n","size_bytes":1183},"CapybaraGame/Assets/Scripts/Level/EnemySpawnMarker.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class EnemySpawnMarker : SpawnMarker {  }\n}\n","size_bytes":89},"CapybaraGame/Assets/Scripts/Level/FallingIsland.cs":{"content":"using System.Threading;\nusing SaveTheCapybara.Other;\nusing Cysharp.Threading.Tasks;\nusing NTC.Global.Pool;\nusing UnityEngine;\nusing UnityEngine.Serialization;\nusing UnityTools;\n\nnamespace SaveTheCapybara.Level\n{\n    public class FallingIsland : MonoBehaviour, IPoolItem\n    {\n        [Header(\"Components\")]\n        [SerializeField] private Rigidbody2D _rigidBody2D;\n\n        [Header(\"Trigger Chance\")]\n        [SerializeField, Range(0, 101)] private int _triggerChance = 40;\n\n        [FormerlySerializedAs(\"_moveDirection\")]\n        [Header(\"Falling Settings\")]\n        [SerializeField] private Vector3 _moveDirectionVector = Vector3.down;\n        [SerializeField] private float _delayBeforeFalling = 1.7f;\n        [SerializeField] private float _delayBeforeRigidbodyFreeze = 2f;\n        [SerializeField] private float _fallSpeed = 10f;\n        [SerializeField] private float _moveDownDuration = 0.2f;\n        [SerializeField] private float _moveDownDistance = 1.4f;\n\n        [Header(\"Particle Effect\")]\n        [SerializeField] private ParticleSystem _particleEffect;\n\n        private bool _isTriggered = false;\n        private Vector3 _initialLocalPosition;\n        private CancellationToken _cancellationToken;\n\n        public void OnSpawn()\n        {\n            _cancellationToken = this.GetCancellationTokenOnDestroy();\n            FreezeRigidBody();\n        }\n\n        public void OnDespawn()\n        {\n            Vector2 newPosition = transform.localPosition;\n            newPosition.y = _initialLocalPosition.y;\n            transform.localPosition = newPosition;\n            _isTriggered = false;\n        }\n\n        public async UniTask TriggerFalling(CancellationToken token = default)\n        {\n            if (token == default)\n                token = _cancellationToken;\n                \n            bool shallTrigger = Tools.GetChance(_triggerChance);\n            if (_isTriggered == true || shallTrigger == false)\n                return;\n\n            _isTriggered = true;\n\n            TryPlayParticles();\n\n            _initialLocalPosition = transform.localPosition;\n            MoveDownSmoothly(token).Forget();\n\n            // NEW\n            // await MyUniTask.Delay(_delayBeforeFalling, token);\n            // StartFalling(token).Forget();\n        }\n\n        private void TryPlayParticles()\n        {\n            if (_particleEffect == null)\n                return;\n\n            _particleEffect.Play();\n        }\n\n        private async UniTask MoveDownSmoothly(CancellationToken token)\n        {\n            float elapsedTime = 0f;\n            Vector3 targetPosition = transform.localPosition + _moveDirectionVector * _moveDownDistance;\n\n            while (elapsedTime < _moveDownDuration)\n            {\n                MoveToPosition(targetPosition, elapsedTime / _moveDownDuration);\n                elapsedTime += Time.deltaTime;\n                await UniTask.NextFrame(token);\n            }\n\n            MoveToPosition(targetPosition, 1f);\n        }\n\n        private async UniTask StartFalling(CancellationToken token)\n        {\n            _rigidBody2D.bodyType = RigidbodyType2D.Dynamic;\n            _rigidBody2D.velocity = Vector2.down * _fallSpeed;\n\n            await MyUniTask.Delay(_delayBeforeRigidbodyFreeze, token);\n\n            FreezeRigidBody();\n        }\n\n        private void MoveToPosition(Vector3 targetPosition, float time)\n        {\n            transform.localPosition = Vector3.Lerp(_initialLocalPosition, targetPosition, time);\n        }\n\n        private void FreezeRigidBody()\n        {\n            if (this == null)\n                return;\n                \n            _rigidBody2D.bodyType = RigidbodyType2D.Static;\n            _rigidBody2D.constraints = RigidbodyConstraints2D.FreezeRotation;\n        }\n    }\n}\n","size_bytes":3757},"CapybaraGame/Assets/Scripts/Level/FollowerObject.cs":{"content":"using UnityEngine;\nusing System;\nusing Cysharp.Threading.Tasks;\nusing SaveTheCapybara.Other;\n\nnamespace SaveTheCapybara.Level\n{\n    public class FollowerObject : MonoBehaviour\n    {\n        [Header(\"Components\")]\n        [SerializeField] private Transform _toFollow;\n        \n        [Header(\"Settings\")]\n        [SerializeField] private float _updateIntervalInSeconds = 1f;\n        [SerializeField] private bool _ignoreXMovement;\n        [SerializeField] private bool _ignoreYMovement;\n\n        private Transform _transform;\n\n        public bool IsFollowObjectInitialized => _toFollow != null;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            _transform = transform;\n        }\n\n        private void Start()\n        {\n            Follow().Forget();\n        }\n\n        #endregion\n\n        public void Init(Transform toFollow)\n        {\n            if (IsFollowObjectInitialized == true)\n                throw new InvalidOperationException(\"Object to follow has been already initialized! You cannot do it more than once\");\n\n            _toFollow = toFollow;\n        }\n\n        private async UniTask Follow()\n        {\n            while (this != null)\n            {\n                await UniTask.WaitUntil(() => IsFollowObjectInitialized == true);\n\n                Vector3 movedPosition = GetMovedPosition();\n                _transform.position = movedPosition;\n\n                await MyUniTask.Delay(_updateIntervalInSeconds);\n            }\n        }\n\n        private Vector3 GetMovedPosition()\n        {\n            Vector3 movedPosition = _transform.position;\n            if (_ignoreXMovement == false)\n                movedPosition = MoveX(movedPosition);\n\n            if (_ignoreYMovement == false)\n                movedPosition = MoveY(movedPosition);\n\n            return movedPosition;\n        }\n\n        private Vector2 MoveX(Vector2 movedPosition)\n        {\n            Vector3 toFollowPosition = _toFollow.position;\n            movedPosition.x = toFollowPosition.x;\n\n            return movedPosition;\n        }\n\n        private Vector2 MoveY(Vector2 movedPosition)\n        {\n            Vector3 toFollowPosition = _toFollow.position;\n            movedPosition.y = toFollowPosition.y;\n\n            return movedPosition;\n        }\n    }\n}","size_bytes":2277},"CapybaraGame/Assets/Scripts/Level/FoodSpawnMarker.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class FoodSpawnMarker : SpawnMarker {  }\n}","size_bytes":87},"CapybaraGame/Assets/Scripts/Level/LevelElementsSpawner.cs":{"content":"using UnityEngine;\nusing NTC.Global.Pool;\nusing SaveTheCapybara.Player;\nusing UnityTools;\nusing SaveTheCapybara.Other;\n\nnamespace SaveTheCapybara.Level\n{\n    public class LevelElementsSpawner\n    {\n        private const int SwordChestsLimit = 2;\n \n        private readonly LevelElementsSpawnerConfig _config;\n        private int _swordChestsAmount = 0;\n\n        private bool CanSpawnSwordChest => SwordChestsLimit > _swordChestsAmount;\n\n        public LevelElementsSpawner(LevelElementsSpawnerConfig config)\n        {\n            _config = config;\n        }\n\n        public void SpawnChests(Platform platformInGame)\n        {\n            ChestSpawnMarker[] markers = platformInGame.ChestMarkers;\n            foreach (var marker in markers)\n            {\n                if (marker == null)\n                    return;\n                \n                bool isChanceSucceeded = Tools.GetChance(marker.SpawnChance);\n                if (isChanceSucceeded == false || marker.HasActiveObject == true)\n                    continue;\n\n                bool isSwordChestSpawn = Tools.GetChance(_config.SwordChestSpawnChance);\n                Chest chest = isSwordChestSpawn == true && CanSpawnSwordChest == true\n                    ? SpawnSwordChest()\n                    : SpawnSimpleChest();\n\n                Vector3 position = marker.Position;\n                marker.SpawnedObject = chest.gameObject;\n                chest.transform.SetParent(platformInGame.transform);\n                chest.transform.position = position;\n            }\n        }\n\n        public void SpawnTreasureChests(Platform platformInGame)\n        {\n            TreasureChestSpawnMarker[] markers = platformInGame.TreasureChestMarkers;\n            foreach (var marker in markers)\n            {\n                if (marker == null)\n                    return;\n                \n                bool isChanceSucceeded = Tools.GetChance(marker.SpawnChance);\n                if (isChanceSucceeded == false || marker.HasActiveObject == true)\n                    continue;\n\n                TreasureChest chest = DIContainerRef.Container\n                    .InstantiatePrefabForComponent<TreasureChest>(_config.TreasureChestPrefab);\n\n                Vector3 position = marker.Position;\n                marker.SpawnedObject = chest.gameObject;\n                chest.transform.SetParent(platformInGame.transform);\n                chest.transform.position = position;\n            }\n        }\n        public void SpawnMelonChests(Platform platformInGame)\n        {\n            MelonChestSpawnMarker[] markers = platformInGame.MelonChestMarkers;\n            foreach (var marker in markers)\n            {\n                if (marker == null)\n                    return;\n                \n                bool isChanceSucceeded = Tools.GetChance(marker.SpawnChance);\n                if (isChanceSucceeded == false || marker.HasActiveObject == true)\n                    continue;\n\n                MelonChest chest = DIContainerRef.Container\n                    .InstantiatePrefabForComponent<MelonChest>(_config.MelonChestPrefab);\n\n                Vector3 position = marker.Position;\n                marker.SpawnedObject = chest.gameObject;\n                chest.transform.SetParent(platformInGame.transform);\n                chest.transform.position = position;\n            }\n        }\n\n        public void SpawnFood(Platform platformInGame)\n        {\n            FoodSpawnMarker[] markers = platformInGame.FoodMarkers;\n            foreach (var marker in markers)\n            {\n                if (marker == null)\n                    return;\n                \n                bool isChanceSucceeded = Tools.GetChance(marker.SpawnChance);\n                if (isChanceSucceeded == false || marker.HasActiveObject == true)\n                    continue;\n\n                Vector3 position = marker.Position;\n                Food food = NightPool.Spawn(_config.FoodPrefab, position, Quaternion.identity);\n\n                marker.SpawnedObject = food.gameObject;\n                food.transform.SetParent(platformInGame.transform);\n            }\n        }\n\n        public void SpawnEnemies(Platform platformInGame)\n        {\n            EnemySpawnMarker[] markers = platformInGame.EnemyMarkers;\n            foreach (var marker in markers)\n            {\n                if (marker == null)\n                    return;\n                \n                bool isChanceSucceeded = Tools.GetChance(marker.SpawnChance);\n                if (isChanceSucceeded == false || marker.HasActiveObject == true)\n                    continue;\n\n                Vector3 position = marker.Position;\n                Enemy enemy = NightPool.Spawn(_config.EnemyPrefab, position);\n\n                marker.SpawnedObject = enemy.gameObject;\n                enemy.transform.SetParent(platformInGame.transform);\n            }\n        }\n\n        private Chest SpawnSimpleChest()\n        {\n            Chest chest = DIContainerRef.Container\n                    .InstantiatePrefabForComponent<Chest>(_config.ChestPrefab);\n\n            return chest;\n        }\n\n        private Chest SpawnSwordChest()\n        {\n            Chest chest = NightPool.Spawn(_config.SwordChestPrefab);\n            _swordChestsAmount++;\n            return chest;\n        }\n    }\n}","size_bytes":5262},"CapybaraGame/Assets/Scripts/Level/LevelElementsSpawnerConfig.cs":{"content":"using SaveTheCapybara.Player;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Level\n{\n    [CreateAssetMenu(\n        fileName = \"LevelElementsSpawnerConfig\",\n        menuName = \"Configs/Level Elements Spawner Config\")]\n    public class LevelElementsSpawnerConfig : ScriptableObject\n    {\n        [Header(\"Element Prefabs\")]\n        [SerializeField] public Food _foodPrefab;\n        [SerializeField] public SimpleChest _chestPrefab;\n        [SerializeField] public TreasureChest _treasureChestPrefab;\n        [SerializeField] public MelonChest _melonChestPrefab;\n        [SerializeField] public SwordChest _swordChestPrefab;\n        [SerializeField] public Enemy _enemyPrefab;\n\n\n        [Header(\"Chest Spawn Settings\")]\n        [SerializeField, Range(0, 101)] private int _swordChestSpawnChance = 20;\n\n        [Header(\"Chest Spawn Settings\")] [SerializeField]\n        private Vector2 _backgroundSpawnPosition = new(0f, 2.5f); \n\n        public Food FoodPrefab => _foodPrefab;\n        public SimpleChest ChestPrefab => _chestPrefab;\n        public TreasureChest TreasureChestPrefab => _treasureChestPrefab;\n        public MelonChest MelonChestPrefab => _melonChestPrefab;\n        public SwordChest SwordChestPrefab => _swordChestPrefab;\n        public Enemy EnemyPrefab => _enemyPrefab;\n        public int SwordChestSpawnChance => _swordChestSpawnChance;\n        public Vector2 BackgroundSpawnPosition => _backgroundSpawnPosition;\n    }\n}\n","size_bytes":1433},"CapybaraGame/Assets/Scripts/Level/LevelGenerator.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing NTC.Global.Pool;\nusing SaveTheCapybara.Player;\nusing UnityTools;\nusing Random = UnityEngine.Random;\nusing Cysharp.Threading.Tasks;\nusing System.Threading;\nusing SaveTheCapybara.Other;\nusing Core.Level;\nusing Zenject;\n\nnamespace SaveTheCapybara.Level\n{\n    public class LevelGenerator : MonoBehaviour\n    {\n        public const float HeroPositionCheckFrequency = 0.5f;\n        public const int SpecialPlatformSequentialNumber = 6;\n        public const int LocationChangeSequentialNumber = 10;\n        public const int QuestPlatformSequentialNumber = 16;\n        public const float BackgroundLerpDuration = 3.5f;\n\n        [Header(\"Components\")]\n        [SerializeField] private LevelElementsSpawnerConfig _config;\n\n        [Header(\"Platform Generation Settings\")]\n        [SerializeField] private Transform _platformsParent;\n        [SerializeField] private int _platformsAmountToGenerate = 5;\n        [SerializeField] private float _XstartPoint = 0f;\n        [SerializeField] private float _platformsY = -2f;\n\n        [Header(\"Platforms\")]\n        [SerializeField] private SimplePlatform _startPlatform;\n        [SerializeField] private SpecialPlatform _questPlatform;\n        [SerializeField] private LocationsCollection _locations;\n        \n        [Header(\"Platforms\")]\n        [SerializeField] private Background _backgroundPrefab;\n\n        private readonly Queue<Platform> _platformsOnLevel = new();\n        private Camera _camera;\n        private BackgroundHandler _backgroundHandler;\n        private LevelElementsSpawner _spawner;\n        private Transform _heroTransform;\n        private bool _heroIsInitialized = false;\n        private int _platformNumber = 0;\n        private float _lastGeneratedPlatformX = 0f;\n        private Color _defaultBackground;\n        private bool _isQuestCompleted = false;\n        private CancellationToken _cancellationToken;\n        private LevelNumberHolder _levelNumberHolder;\n\n        private int LocationNumber\n        {\n            get => _levelNumberHolder.LocationNumber;\n            set => _levelNumberHolder.LocationNumber = value;\n        }\n\n        private string PlatformName => $\"Platform â„–{_platformNumber}\";\n        private Location CurrentLocation => _locations.Collection[LocationNumber];\n        public float QuestPlatformXPosition => Platform.Length * QuestPlatformSequentialNumber;\n        private float HeroX => _heroTransform.position.x;\n        private bool IsNowSpecialPlatformTurn \n        {\n            get\n            {\n                return _platformNumber % SpecialPlatformSequentialNumber == 0\n                && _platformNumber > 0;\n            }\n        }\n\n        private bool IsNowQuestPlatformTurn\n        {\n            get\n            {\n                return _platformNumber % QuestPlatformSequentialNumber == 0\n                && _platformNumber > 0 && _isQuestCompleted == false;\n            }\n        }\n\n        private bool IsNowLocationChangeTurn \n        {\n            get\n            {\n                return _platformNumber % LocationChangeSequentialNumber == 0\n                && _platformNumber > 0;\n            }\n        }\n\n        private bool IsLevelMidPointXLessHeroX\n        {\n            get\n            {\n                float midPointX = GetLevelMidPointX();\n                return midPointX < HeroX;\n\n                float GetLevelMidPointX()\n                {\n                    Platform oldestPlatform = _platformsOnLevel.Peek();\n                    float oldestPlatformX = oldestPlatform.transform.position.x;\n                    return (_lastGeneratedPlatformX + oldestPlatformX) / 2f;\n                }\n            }\n        }\n\n        public event Action<float> OnHeroXPositionUpdated;\n\n        private void Awake()\n        {\n            _lastGeneratedPlatformX = _XstartPoint;\n            _camera = Camera.main;\n            _backgroundHandler = new(_backgroundPrefab);\n            _spawner = new(_config);\n            _cancellationToken = this.GetCancellationTokenOnDestroy();\n\n            _defaultBackground = _camera.backgroundColor;\n            \n            // NEW\n            \n            _levelNumberHolder.LevelsToComplete = CurrentLocation.LevelsToComplete;\n            \n            // TODO: optimize!!!\n            if (_levelNumberHolder.Level < 2 || _levelNumberHolder.AreLocationsInitialized == true)\n            {\n                _levelNumberHolder.AreLocationsInitialized = true;\n                return;\n            }\n            \n            for (int i = 2; i <= _levelNumberHolder.Level; i++)\n                OnNextLevel(i);\n            \n            _levelNumberHolder.AreLocationsInitialized = true;\n        }\n\n        private void OnEnable()\n        {\n            _levelNumberHolder.OnLevelChanged += OnNextLevel;\n        }\n        \n        private void OnDisable()\n        {\n            _levelNumberHolder.OnLevelChanged -= OnNextLevel;\n        }\n\n        private void Start()\n        {\n            // ChangeBackgroundColor();\n\n            CheckPlayerPosition().Forget();\n        }\n\n        [Inject]\n        private void Construct(LevelNumberHolder levelNumberHolder)\n        {\n            _levelNumberHolder = levelNumberHolder;\n        }\n        \n        public void OnNextLevel(int levelNumber)\n        {\n            if (CurrentLocation.LevelsToComplete < levelNumber)\n            {\n                ChangeLocation();\n                _levelNumberHolder.LevelsToComplete = CurrentLocation.LevelsToComplete;\n            }\n        }\n\n        public void SpawnStartPlatform()\n        {\n            GeneratePlatform(CurrentLocation.StartPlatform);\n        }\n        \n        public void GenerateDefaultAmount()\n        {\n            for (var i = 0; i < _platformsAmountToGenerate; i++)\n                GenerateRandomPlatform();\n        }\n\n        public void CreateBackground()\n        {\n            _backgroundHandler.CreateBackground(_config.BackgroundSpawnPosition, CurrentLocation.BackgroundPreset);\n        }\n\n        public void InitHeroTransform(Hero hero)\n        {\n            if (_heroIsInitialized == true)\n                throw new InvalidOperationException(\"Hero had been already initialized before! You can do it only once.\");\n\n            _heroTransform = hero.transform;\n            _heroIsInitialized = true;\n        }\n\n        private async UniTask CheckPlayerPosition()\n        {\n            while (this != null)\n            {\n                await UniTask.WaitUntil(() => _heroIsInitialized == true);\n\n                OnHeroXPositionUpdated?.Invoke(HeroX);\n\n                if (IsLevelMidPointXLessHeroX == true) \n                {\n                    DespawnOldestPlatform();\n                    GenerateRandomPlatform();\n                }\n\n                await MyUniTask.Delay(HeroPositionCheckFrequency);\n            }\n        }\n\n        private void GenerateRandomPlatform()\n        {\n            if (IsNowLocationChangeTurn == true)\n            {\n                // NEW\n                // ChangeLocation();\n                // ChangeBackgroundColor();\n            }\n \n            Location currentLocation = CurrentLocation;\n            SimplePlatform[] simplePlatforms = currentLocation.SimplePlatforms;\n            SpecialPlatform[] specialPlatforms = currentLocation.SpecialPlatforms;\n\n            Platform randomPlatform;\n            if (IsNowQuestPlatformTurn == true)\n            {\n                randomPlatform = _questPlatform;\n                _isQuestCompleted = true;\n            }\n            else\n            {\n                randomPlatform = IsNowSpecialPlatformTurn\n                    ? GetRandomPlatform(specialPlatforms)\n                    : GetRandomPlatform(simplePlatforms);\n            }\n\n            GeneratePlatform(randomPlatform);\n        }\n\n        private void ChangeLocation()\n        {\n            LocationNumber++;\n                \n            int locationsLength = _locations.Collection.Length;\n            if (LocationNumber >= locationsLength)\n                LocationNumber = _locations.Collection.GetRandomIndex();\n        }\n\n        [Obsolete]\n        private void ChangeBackgroundColor()\n        {\n            Location currentLocation = CurrentLocation;\n            Color newBackground;\n            if (currentLocation.UseDefaultBackground == true)\n                newBackground = _defaultBackground;\n            else\n                newBackground = currentLocation.BackgroundColor;\n\n            LerpBackground(newBackground, _cancellationToken).Forget();\n        }\n\n        private async UniTask LerpBackground(Color newBackground, CancellationToken token)\n        {\n            float elapsedTime = 0;\n            Color currentBackground = _camera.backgroundColor;\n            while (elapsedTime < BackgroundLerpDuration)\n            {\n                float time = elapsedTime / BackgroundLerpDuration;\n                _camera.backgroundColor = Color.Lerp(currentBackground, newBackground, time);\n\n                elapsedTime += Time.deltaTime;\n                await UniTask.NextFrame(token);\n            }\n        }\n\n        private T GetRandomPlatform<T>(T[] platformPrefabs)\n            where T : Platform\n        {\n            int random = Random.Range(0, platformPrefabs.Length);\n            return platformPrefabs[random];\n        }\n\n        private void GeneratePlatform(Platform platformPrefab)\n        {\n            Platform platform = SpawnPlatform(platformPrefab);\n            platform.transform.SetParent(_platformsParent);\n            platform.name = PlatformName;\n\n            SpawnElements(platform);\n\n            _lastGeneratedPlatformX += Platform.Length;\n            _platformNumber++;\n            _platformsOnLevel.Enqueue(platform);\n        }\n\n        private Platform SpawnPlatform(Platform platformPrefab)\n        {\n            var position = new Vector3(_lastGeneratedPlatformX, _platformsY);\n            Platform platform = NightPool.Spawn(\n                platformPrefab,\n                position,\n                Quaternion.identity);\n            \n            return platform;\n        }\n\n        private void SpawnElements(Platform platform)\n        {\n            _spawner.SpawnFood(platform);\n            _spawner.SpawnChests(platform);\n            _spawner.SpawnTreasureChests(platform);\n            _spawner.SpawnMelonChests(platform);\n            _spawner.SpawnEnemies(platform);\n        }\n\n        private void DespawnOldestPlatform()\n        {\n            Platform oldestPlatformInGame = _platformsOnLevel.Dequeue();\n            NightPool.Despawn(oldestPlatformInGame);\n        }\n    }\n}","size_bytes":10578},"CapybaraGame/Assets/Scripts/Level/LevelNumberHolder.cs":{"content":"using System;\nusing SaveTheCapybara.Save;\n\nnamespace SaveTheCapybara.Level\n{\n    public class LevelNumberHolder\n    {\n        private int _level = 1;\n        private int _locationNumber = 0;\n        private int _levelsToComplete = 0;\n        \n        public int Level => _level;\n\n        public int LocationNumber\n        {\n            get => _locationNumber;\n            set => _locationNumber = value;\n        }\n\n        public int LevelsToComplete\n        {\n            get => _levelsToComplete;\n            set => _levelsToComplete = value;\n        }\n\n        public bool AreLocationsInitialized { get; set; } = false;\n\n        public event Action<int> OnLevelChanged;\n\n        public void NextLevel()\n        {\n            _level++;\n            OnLevelChanged?.Invoke(_level);\n        }\n\n        public void Load(SaveData saveData)\n        {\n            _level = saveData.Level;\n        }\n    }\n}","size_bytes":901},"CapybaraGame/Assets/Scripts/Level/Location.cs":{"content":"using UnityEngine;\nusing System;\nusing Core.Level;\n\nnamespace SaveTheCapybara.Level\n{\n    [Serializable]\n    [CreateAssetMenu(fileName = \"New Location\", menuName = \"Location\")]\n    public class Location : ScriptableObject\n    {\n        [SerializeField] private bool _useDefaultBackground = true;\n        [SerializeField] private Color _backgroundColor;\n        [SerializeField] private int _levelsToComplete = 4;\n        [SerializeField] private SimplePlatform _startPlatform;\n        [SerializeField] private SimplePlatform[] _simplePlatforms;\n        [SerializeField] private SpecialPlatform[] _specialPlatforms;\n        [SerializeField] private BackgroundPreset _backgroundPreset;\n\n        [Space]\n        [SerializeField] private LocationPresentation _locationMenuPresentationPrefab;\n\n        public bool UseDefaultBackground => _useDefaultBackground;\n        public Color BackgroundColor => _backgroundColor;\n        public SimplePlatform[] SimplePlatforms => _simplePlatforms;\n        public SpecialPlatform[] SpecialPlatforms => _specialPlatforms;\n        public BackgroundPreset BackgroundPreset => _backgroundPreset;\n        public int LevelsToComplete => _levelsToComplete;\n        public SimplePlatform StartPlatform => _startPlatform;\n\n        public LocationPresentation LocationMenuPresentationPrefab => _locationMenuPresentationPrefab;\n    }\n}\n","size_bytes":1359},"CapybaraGame/Assets/Scripts/Level/LocationPresentation.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Level\n{\n    public class LocationPresentation : MonoBehaviour\n    {\n        \n    }\n}","size_bytes":130},"CapybaraGame/Assets/Scripts/Level/LocationsCollection.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Level\n{\n    [CreateAssetMenu(fileName = \"LocationsCollection\", menuName = \"Collections/Locations\")]\n    public class LocationsCollection : ScriptableObject\n    {\n        [SerializeField] private Location[] _collection;\n\n        public Location[] Collection => _collection;\n    }\n}","size_bytes":326},"CapybaraGame/Assets/Scripts/Level/MelonChestSpawnMarker.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class MelonChestSpawnMarker : SpawnMarker {  }\n}","size_bytes":93},"CapybaraGame/Assets/Scripts/Level/MovingDirection.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public enum MovingDirection\n    {\n        Left = -1,\n        Right = 1\n    }\n}\n","size_bytes":117},"CapybaraGame/Assets/Scripts/Level/MovingObject.cs":{"content":"using UnityEngine;\nusing NTC.Global.Pool;\nusing Cysharp.Threading.Tasks;\nusing System.Threading;\nusing SaveTheCapybara.Other;\n\nnamespace SaveTheCapybara.Level\n{\n    public class MovingObject : MonoBehaviour, IPoolItem\n    {\n        private const float DirectionBlockInSeconds = 0.1f;\n\n        [Header(\"Components\")]\n        [SerializeField] private Rigidbody2D _rigidBody2D;\n        [SerializeField] private Collider2D _collider2D;\n\n        [Header(\"Movement Settings\")]\n        [SerializeField, Min(0f)] private float _leftOffset = 0f;\n        [SerializeField, Min(0f)] private float _rightOffset = 0f;\n        [SerializeField] private MovingDirection _startDirection = MovingDirection.Left;\n        [SerializeField, Min(0f)] private float _speed = 2f;\n        [SerializeField] private bool _enabled = true;\n\n        [Header(\"Reflection\")]\n        [SerializeField] private bool _reflectObject = true;\n\n        private float _leftBorder;\n        private float _rightBorder;\n        private MovingDirection _currentDirection;\n        private Transform _transform;\n        private bool _canChangeDirection = true;\n        private CancellationToken _cancellationToken;\n\n        public bool IsDirectedLeft => _currentDirection == MovingDirection.Left;\n        public Rigidbody2D Rigidbody2D => _rigidBody2D;\n\n        #region MonoBehaviour\n\n        private void Update()\n        {\n            if (_enabled == true)\n            {\n                CheckBordersAndChangeDirection();\n                Move();\n            }\n        }\n        \n        #endregion\n\n        public void OnSpawn()\n        {\n            InitFields();\n        }\n\n        public void OnDespawn()\n        {\n            Destroy(gameObject);\n        }\n\n        public void InitFields()\n        {\n            _transform = transform;\n\n            float originalX = _transform.position.x;\n            _leftBorder = originalX - _leftOffset;\n            _rightBorder = originalX + _rightOffset;\n            _currentDirection = _startDirection;\n            _cancellationToken = this.GetCancellationTokenOnDestroy();\n        }\n        \n        public void BecomePhysical()\n        {\n            _enabled = false;\n            _collider2D.isTrigger = false;\n            _rigidBody2D.bodyType = RigidbodyType2D.Dynamic;\n        }\n\n        private void CheckBordersAndChangeDirection()\n        {\n            float posX = _transform.position.x;\n            if (posX < _leftBorder || posX > _rightBorder)\n                TryChangeDirection();\n        }\n\n        private void Move()\n        {\n            float directedSpeed = GetDirectedSpeed();\n            var velocity = new Vector2(directedSpeed, 0f);\n\n            _rigidBody2D.velocity = velocity;\n        }\n\n        private float GetDirectedSpeed()\n        {\n            return _speed * (float)_currentDirection;\n        }\n\n        private void TryChangeDirection()\n        {\n            if (_canChangeDirection == false)\n                return;\n\n            _currentDirection = IsDirectedLeft \n                ? MovingDirection.Right \n                : MovingDirection.Left;\n\n            if (_reflectObject == true)\n                Reflect();\n\n            BlockDirectionForDuration(_cancellationToken).Forget();\n        }\n\n        private void Reflect()\n        {\n            Vector3 reflected = _transform.localScale;\n            reflected.x *= -1f;\n\n            _transform.localScale = reflected; \n        }\n\n        private async UniTask BlockDirectionForDuration(CancellationToken token)\n        {\n            _canChangeDirection = false;\n\n            await MyUniTask.Delay(DirectionBlockInSeconds, token);\n\n            _canChangeDirection = true;\n        }\n    }\n}","size_bytes":3673},"CapybaraGame/Assets/Scripts/Level/Platform.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Level\n{\n    public class Platform : MonoBehaviour\n    {\n        public const float Length = 30f;\n\n        [Header(\"Markers\")]\n        [SerializeField] private FoodSpawnMarker[] _foodMarkers;\n        [SerializeField] private ChestSpawnMarker[] _chestMarkers;\n        [SerializeField] private TreasureChestSpawnMarker[] _treasureChestMarkers;\n        [SerializeField] private MelonChestSpawnMarker[] _melonChestMarkers;\n        [SerializeField] private EnemySpawnMarker[] _enemyMarkers;\n\n        public FoodSpawnMarker[] FoodMarkers => _foodMarkers;\n        public ChestSpawnMarker[] ChestMarkers => _chestMarkers;\n        public TreasureChestSpawnMarker[] TreasureChestMarkers => _treasureChestMarkers;\n        public MelonChestSpawnMarker[] MelonChestMarkers => _melonChestMarkers;\n        public EnemySpawnMarker[] EnemyMarkers => _enemyMarkers;\n\n        protected void OnDrawGizmos()\n        {\n            float halfWidth = 15f;\n\n            Color gizmosColor = Color.red;\n\n            Gizmos.color = gizmosColor;\n\n            Vector3 center = transform.position;\n            Vector3 leftTop = center + Vector3.left * halfWidth + Vector3.up;\n            Vector3 leftBottom = center + Vector3.left * halfWidth + Vector3.down;\n            Vector3 rightTop = center + Vector3.right * halfWidth + Vector3.up;\n            Vector3 rightBottom = center + Vector3.right * halfWidth + Vector3.down;\n\n            Gizmos.DrawLine(leftTop, leftBottom);\n            Gizmos.DrawLine(rightTop, rightBottom);\n            Gizmos.DrawLine(leftTop, rightTop);\n            Gizmos.DrawLine(leftBottom, rightBottom);\n        }\n    }\n}\n","size_bytes":1661},"CapybaraGame/Assets/Scripts/Level/SimplePlatform.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class SimplePlatform : Platform { }\n}\n","size_bytes":83},"CapybaraGame/Assets/Scripts/Level/SpawnMarker.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Level\n{\n    public abstract class SpawnMarker : MonoBehaviour\n    {\n        [Tooltip(\"Fill in value as percent\")]\n        [SerializeField, Range(0, 101)] private int _spawnChance = 35;\n\n        private Transform _transform;\n\n        public Vector3 Position => _transform.position;\n        public int SpawnChance => _spawnChance;\n        public GameObject SpawnedObject { get; set; }\n        public bool HasActiveObject => SpawnedObject != null && SpawnedObject.activeSelf == true;\n\n        private void Awake()\n        {\n            _transform = transform;\n        }\n    }\n}\n","size_bytes":621},"CapybaraGame/Assets/Scripts/Level/SpecialPlatform.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class SpecialPlatform : Platform { }\n}\n","size_bytes":84},"CapybaraGame/Assets/Scripts/Level/TreasureChestSpawnMarker.cs":{"content":"namespace SaveTheCapybara.Level\n{\n    public class TreasureChestSpawnMarker : SpawnMarker {  }\n}","size_bytes":96},"CapybaraGame/Assets/Scripts/Player/DeadlyForPlayerObject.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class DeadlyForPlayerObject : MonoBehaviour { }\n}\n","size_bytes":116},"CapybaraGame/Assets/Scripts/Player/HeightCheckService.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class HeightCheckService\n    {\n        private readonly Collider2D _collider;\n        private readonly LayerMask _testLayer;\n        private readonly Transform _groundCheckTransform;\n        private readonly float _groundCheckRadius;\n        private readonly float _heightTest;\n\n        public HeightCheckService(\n            Collider2D collider, \n            LayerMask layer, \n            float testRadius,\n            Transform groundCheckTransform,\n            float groundCheckRadius)\n        {\n            _collider = collider;\n            _testLayer = layer;\n            _groundCheckTransform = groundCheckTransform;\n            _groundCheckRadius = groundCheckRadius;\n\n            _heightTest = _collider.bounds.extents.y + testRadius;\n        }\n\n        public bool IsNotGrounded\n        {\n            get\n            {\n                Vector3 colliderCenter = _collider.bounds.center;\n                RaycastHit2D hit = Physics2D.Raycast(colliderCenter, Vector2.down, _heightTest, _testLayer);\n                \n                Collider2D ground = Physics2D.OverlapCircle(_groundCheckTransform.position, _groundCheckRadius, _testLayer);\n\n                return hit.collider == null && ground == null;\n            }\n        }\n    }\n}\n","size_bytes":1307},"CapybaraGame/Assets/Scripts/Player/Hero.cs":{"content":"using System;\nusing UnityEngine;\nusing Zenject;\nusing NTC.Global.Pool;\nusing UnityTools;\nusing SaveTheCapybara.Game;\nusing SaveTheCapybara.Level;\nusing SaveTheCapybara.Other;\nusing Core.Audio;\nusing Core.Player;\nusing Cysharp.Threading.Tasks;\n\nnamespace SaveTheCapybara.Player\n{\n    public class Hero : MonoBehaviour, IPhysicalObject, IPauseHandler\n    {\n        private const float HeightTestRadius = 0.03f;\n        private const float GameFinishedDelay = 7f;\n        private const float DisableFOVAnimationOnDistance = 100f;\n\n        [Header(\"Components\")]\n        [SerializeField] private Animator _animator;\n        [SerializeField] private Rigidbody2D _rigidBody2D;\n        [SerializeField] private Collider2D _collider;\n        [Tooltip(\"Optional (Can be null)\")]\n        [SerializeField] private ParticlesPlayer _jumpParticlesPlayer;\n        [SerializeField] private HeroSkinSetter _heroSkinSetter;\n\n        [Header(\"Fight\")]\n        [SerializeField] private GameObject _sword;\n        [SerializeField] private float _kickForce = 8f;\n\n        [Header(\"Jump Settings\")]\n        [SerializeField] private float _duration = 0.8f;\n        [SerializeField] private AnimationCurve _jumpCurve;\n        [SerializeField] private AnimationCurve _jumpXAccelCurve;\n        \n        [Header(\"*NEW* Ground Check Settings\")]\n        [SerializeField] private LayerMask _ground;\n        [SerializeField] private Transform _groundCheckTransform;\n        [SerializeField] private float _groundCheckRadius = 0.35f;\n\n        [Header(\"*NEW* Anim Force\")]\n        [SerializeField] private Vector2 _animJumpForce = new(0f, 2f);\n        [SerializeField] private Vector2 _animForceOnFinish = new (-8f, 0f);\n        [SerializeField] private float _handleFinishDelay = 1.5f;\n\n        [Header(\"*NEW* Main Camera\")]\n        [SerializeField] private float _jumpFOV = 6.25f;\n        [SerializeField] private float _landingFOV = MainCamera.DefaultFOV;\n        [SerializeField] private float _fovLerpDuration = 0.25f;\n        [SerializeField] private float _focusFOV = 2.5f;\n        [SerializeField] private float _focusFOVLerpDuration = 5f;\n\n        [Header(\"Audio\")]\n        [SerializeField] private HeroAudioPlayer _audioPlayer;\n        \n        private HeroAnimator _heroAnimator;\n        private PauseManager _pauseManager;\n        private bool _isDead = false;\n        private bool _hasJumped = false;\n        private bool _hasSword = false;\n        private Enemy _enemyToKick = null;\n        private IAudioHandler _audioHandler;\n        private MainCamera _mainCamera;\n        private PlayerData _playerData;\n\n        public HeroJump Jump { get; private set; }\n        public bool IsPaused => _pauseManager.IsPaused;\n        public bool ShouldPlayParticles => _jumpParticlesPlayer != null;\n        public Transform Transform => transform;\n        public Rigidbody2D Rigidbody2D => _rigidBody2D;\n        public HeroSkinSetter SkinSetter => _heroSkinSetter;\n\n        public event Action OnDeath;\n        public event Action<float> OnLevelFinished;\n        public event Action OnFoodEaten;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            _sword.SetActive(false);\n            InitFields();\n        }\n\n        private void Start()\n        {\n            _mainCamera.SetFollow(transform);\n        }\n\n        private void OnEnable()\n        {\n            _pauseManager.Register(this);\n            Jump.OnJumped += AnimateJump;\n            Jump.OnJumped += HandleCameraOnJump;\n            Jump.OnJumped += PlayJumpSound;\n            Jump.OnLanded += AnimateJumpEnd;\n            Jump.OnLanded += HasLanded;\n            Jump.OnLanded += HandleCameraOnLanding;\n            Jump.OnJumped += RemoveParent;\n\n            if (ShouldPlayParticles == true)\n                Jump.OnJumped += SpawnParticles;\n        }\n\n        private void OnDisable()\n        {\n            _pauseManager.Unregister(this);\n            Jump.OnJumped -= AnimateJump;\n            Jump.OnJumped -= HandleCameraOnJump;\n            Jump.OnJumped -= PlayJumpSound;\n            Jump.OnLanded -= AnimateJumpEnd;\n            Jump.OnLanded -= HasLanded;\n            Jump.OnLanded -= HandleCameraOnLanding;\n            Jump.OnJumped -= RemoveParent;\n\n            if (ShouldPlayParticles == true)\n                Jump.OnJumped -= SpawnParticles;\n        }\n\n        private void Update()\n        {\n            if (IsPaused == true)\n                return;\n\n            Jump.TryJump();\n        }\n\n        private void OnTriggerEnter2D(Collider2D other)\n        {\n            if (IsPaused == true || _isDead == true)\n                return;\n            \n            HandleDeadlyObjectCollision(other);\n            HandleEnemyCollision(other);\n            HandleFoodCollision(other);\n            HandleSwordChestCollision(other);\n            HandleChestCollision(other);\n        }\n\n        private void OnCollisionEnter2D(Collision2D other)\n        {\n            HandleFallingIslandCollision(other);\n        }\n\n        private void OnCollisionExit2D(Collision2D other)\n        {\n            HandleFallingIslandExit(other);\n        }\n\n        #endregion\n        \n        [Inject]\n        private void Construct(PauseManager pauseManager, IAudioHandler audioHandler, MainCamera mainCamera, PlayerData playerData)\n        {\n            _pauseManager = pauseManager;\n            _audioHandler = audioHandler;\n            _mainCamera = mainCamera;\n            _playerData = playerData;\n        }\n\n        public void SetPaused(bool isPaused)\n        {\n            if (isPaused == true)\n                DisableRigidbody();\n            else\n                EnableRigidbody();\n        }\n\n        public void GetSword()\n        {\n            _heroAnimator.DoHit();\n            \n            if (_hasSword == true)\n                return;\n\n            _hasSword = true;\n            _heroAnimator.GetSword();\n            _audioPlayer.PlaySword();\n        }\n\n        public void Kick()\n        {\n            if (_enemyToKick == null)\n                return;\n\n            var force = Vector2.right * _kickForce;\n            _enemyToKick.GetKicked(force);\n            _audioHandler.PlaySound(AudioName.EnemyDeath);\n\n            _enemyToKick = null;\n            \n            _playerData.AddEnemyDefeatedReward();\n        }\n\n        public void ActivateSwordObject()\n        {\n            _sword.SetActive(true);\n        }\n\n        public void Revive()\n        {\n            _heroAnimator.SetDeath(false);\n            transform.position = Jump.LastJump;\n            _isDead = false;\n            EnableRigidbody();\n        }\n\n        public void AddRigidbodyForceUp()\n        {\n            _rigidBody2D.AddForce(_animJumpForce, ForceMode2D.Impulse);\n        }\n\n        private void InitFields()\n        {\n            HeightCheckService heightTestService = new(_collider,\n                _ground,\n                HeightTestRadius,\n                _groundCheckTransform,\n                _groundCheckRadius);\n            \n            Jump = new HeroJump(\n                this,\n                _jumpCurve,\n                _jumpXAccelCurve,\n                heightTestService,\n                _duration);\n\n            _heroAnimator = new HeroAnimator(_animator);\n            \n            _audioPlayer.AudioHandler = _audioHandler;\n\n            _mainCamera.SetDefaultFOV();\n        }\n\n        private void HasLanded()\n        {\n            _hasJumped = false;\n        }\n        \n        private void PlayJumpSound()\n        {\n            if (_hasJumped == true)\n                return;\n\n            _hasJumped = true;\n            _audioPlayer.PlayJump();\n        }\n\n        public void PlayFoodSound()\n        {\n            _audioPlayer.PlayEat();\n        }\n\n        private void AnimateJump()\n        {\n            _heroAnimator.SetAsJumping();\n        }\n\n        private void HandleCameraOnJump()\n        {\n            if (_mainCamera != null && transform.position.x < DisableFOVAnimationOnDistance)\n                _mainCamera.SetLerpFOV(_jumpFOV, _fovLerpDuration);\n        }\n        \n        private void HandleCameraOnLanding()\n        {\n            if (_mainCamera != null && transform.position.x < DisableFOVAnimationOnDistance)\n                _mainCamera.SetLerpFOV(_landingFOV, _fovLerpDuration);\n        }\n        \n        private void AnimateJumpEnd()\n        {\n            _heroAnimator.EndJumping();\n        }\n\n        private void SpawnParticles() =>\n             _jumpParticlesPlayer.SpawnTillDuration();\n\n        private void HandleDeadlyObjectCollision(Collider2D other)\n        {\n            Tools.InvokeIfNotNull<DeadlyForPlayerObject>(other, PerformDeath);\n        }\n\n        private void HandleEnemyCollision(Collider2D other)\n        {\n            Tools.InvokeIfNotNull<Enemy>(other, InteractWithEnemy);\n        }\n\n        private void HandleFoodCollision(Collider2D other)\n        {\n            Tools.InvokeIfNotNull<Food>(other, EatFood);\n        }\n\n        private void HandleChestCollision(Collider2D other)\n        {\n            Tools.InvokeIfNotNull<Chest>(other, OpenChest);\n        }\n\n        private void HandleSwordChestCollision(Collider2D other)\n        {\n            Tools.InvokeIfNotNull<SwordChest>(other, GetSword);\n        }\n\n        private void HandleFallingIslandCollision(Collision2D other)\n        {\n            Tools.InvokeIfNotNull<FallingIsland>(other, LandOnFallingIsland);\n        }\n\n        private void HandleFallingIslandExit(Collision2D other)\n        {\n            Tools.InvokeIfNotNull<FallingIsland>(other, RemoveParent);\n        }\n\n        private void PerformDeath()\n        {\n            _heroAnimator.SetDeath(true);\n            _audioPlayer.PlayGameOver();\n            \n            DisableRigidbody();\n            _isDead = true;\n\n            OnDeath?.Invoke();\n        }\n\n        private void InteractWithEnemy(Enemy enemy)\n        {\n            if (_hasSword == false)\n            {\n                PerformDeath();\n                return;\n            }\n\n            _enemyToKick = enemy;\n            _heroAnimator.DoHit();\n\n            enemy.PerformDeath();\n        }\n\n        private void EatFood(Food food)\n        {\n            if (_isDead == true)\n                return;\n            \n            _heroAnimator.EatFood();\n            OnFoodEaten?.Invoke();\n            NightPool.Despawn(food);\n        }\n\n        private void EnableRigidbody()\n        {\n            _rigidBody2D.simulated = true;\n        }\n\n        private void DisableRigidbody()\n        {\n            _rigidBody2D.simulated = false;\n        }\n\n        private void OpenChest<T>(T chest)\n            where T : Chest\n        {\n            _heroAnimator.DoHit();\n            _audioPlayer.PlayCollected();\n            \n            chest.Open();\n\n            // NEW\n            if (chest is TreasureChest)\n            {\n                HandleTreasureChest();\n            }\n        }\n\n        private void LandOnFallingIsland(FallingIsland island)\n        {\n            transform.SetParent(island.transform, true);\n            island.TriggerFalling().Forget();\n        }\n\n        private void RemoveParent()\n        {\n            transform.SetParent(null, true);\n        }\n\n        // NEW\n        private void HandleTreasureChest()\n        {\n            OnLevelFinished?.Invoke(GameFinishedDelay);\n            _audioPlayer.PlayGameFinished();\n            \n            // DisableRigidbody();\n            \n            print(1);\n            _mainCamera.SetLerpFOV(_focusFOV, _focusFOVLerpDuration);\n            \n            Invoke(nameof(HandleFinishAnim), _handleFinishDelay);\n        }\n\n        private void HandleFinishAnim()\n        {\n            _mainCamera.SetFollow(default);\n            _rigidBody2D.AddForce(_animForceOnFinish, ForceMode2D.Impulse);\n            _heroAnimator.SetFinished();\n        }\n    }\n}","size_bytes":11780},"CapybaraGame/Assets/Scripts/Player/HeroAnimator.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class HeroAnimator\n    {\n        public const string IsJumping = nameof(IsJumping);\n        public const string GotSword = nameof(GotSword);\n        public const string Hit = nameof(Hit);\n        public const string Eat = nameof(Eat);\n        public const string Dead = nameof(Dead);\n        public const string Finished = nameof(Finished);\n        \n        private readonly Animator _animator;\n        private readonly int _isJumpingHash = Animator.StringToHash(IsJumping);\n        private readonly int _gotSwordHash = Animator.StringToHash(GotSword);\n        private readonly int _hitHash = Animator.StringToHash(Hit);\n        private readonly int _eatHash = Animator.StringToHash(Eat);\n        private readonly int _deadHash = Animator.StringToHash(Dead);\n        private readonly int _finishedHash = Animator.StringToHash(Finished);\n\n        public HeroAnimator(Animator heroAnimator)\n        {\n            _animator = heroAnimator;\n        }\n\n        public void SetAsJumping() => _animator.SetBool(_isJumpingHash, true);\n\n        public void EndJumping() => _animator.SetBool(_isJumpingHash, false);\n\n        public void GetSword() => _animator.SetTrigger(_gotSwordHash);\n\n        public void DoHit() => _animator.SetTrigger(_hitHash);\n        \n        public void EatFood() => _animator.SetTrigger(_eatHash);\n        \n        public void SetDeath(bool value) => _animator.SetBool(_deadHash, value);\n\n        public void SetFinished() => _animator.SetTrigger(_finishedHash);\n    }\n}\n","size_bytes":1555},"CapybaraGame/Assets/Scripts/Player/HeroAudioPlayer.cs":{"content":"using Core.Audio;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class HeroAudioPlayer : MonoBehaviour\n    {\n        [SerializeField] private AudioSource _jumpSound;\n        [SerializeField] private AudioSource _eatSound;\n        [SerializeField] private AudioSource _collectedSound;\n        [SerializeField] private AudioSource _gameOverSound;\n        [SerializeField] private AudioSource _swordSound;\n        \n        public IAudioHandler AudioHandler { get; set; }\n\n        // NEW\n        public void PlayGameFinished()\n        {\n            AudioHandler.PlaySound(AudioName.GameWin);\n        }\n        \n        public void PlayJump()\n        {\n            // if (_jumpSound == null || _jumpSound.isPlaying == true)\n            //     return;\n            //\n            // _jumpSound.Play();\n            \n            AudioHandler.PlaySound(AudioName.HeroJump);\n        }\n\n        public void PlayEat()\n        {\n            // if (_eatSound == null)\n            //     return;\n            //\n            // _eatSound.Play();\n            \n            AudioHandler.PlaySound(AudioName.FoodBite);\n        }\n\n        public void PlayCollected()\n        {\n            // if (_collectedSound == null || _swordSound.isPlaying == true)\n            //     return;\n            //\n            // _collectedSound.Play();\n            \n            AudioHandler.PlaySound(AudioName.HeroCollect);\n        }\n\n        public void PlayGameOver()\n        {\n            // if (_gameOverSound == null || _gameOverSound.isPlaying == true)\n            //     return;\n            //\n            // _gameOverSound.Play();\n            \n            AudioHandler.PlaySound(AudioName.GameLost);\n        }\n\n        public void PlaySword()\n        {\n            // if (_swordSound == null)\n            //     return;\n            //\n            // _swordSound.Play();\n            \n            AudioHandler.PlaySound(AudioName.HeroGrapple);\n        }\n    }\n}","size_bytes":1946},"CapybaraGame/Assets/Scripts/Player/HeroJump.cs":{"content":"using System;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class HeroJump\n    {\n        private const float JumpXDivider = 2f;\n\n        private readonly Rigidbody2D _rigidBody2D;\n        private readonly AnimationCurve _jumpCurve;\n        private readonly AnimationCurve _jumpXAccelCurve;\n        private readonly Transform _transform;\n        private readonly float _duration;\n        private HeightCheckService _heightTestService;\n        private bool _shouldJump = false;\n        private float _expiredJumpTime = 0f;\n        private float _jumpForce;\n        private bool _shouldSaveLastJump = true;\n        private bool _shouldSendJumpEvent = true;\n\n        public float XJumpAxis => _jumpForce / JumpXDivider;\n        public bool IsNotGrounded => _heightTestService.IsNotGrounded;\n        public Vector2 LastJump { get; private set; } = new();\n\n        public event Action OnJumped;\n        public event Action OnLanded;\n\n        public HeroJump(\n            IPhysicalObject hero,\n            AnimationCurve jumpCurve,\n            AnimationCurve jumpXAccelCurve,\n            HeightCheckService heightTestService,\n            float duration)\n        {\n            _rigidBody2D = hero.Rigidbody2D;\n            _transform = hero.Transform;\n            _jumpCurve = jumpCurve;\n            _jumpXAccelCurve = jumpXAccelCurve;\n            _heightTestService = heightTestService;\n            _duration = duration;\n        }\n\n        public void TryJump()\n        {\n            if (_expiredJumpTime > _duration)\n                EndJump();\n\n            if (_shouldJump == true)\n            {\n                if (_shouldSendJumpEvent == true)\n                {\n                    OnJumped?.Invoke();\n                    _shouldSendJumpEvent = false;\n                }\n                \n                PerformJump();\n            }\n        }\n\n        public void SayShouldJump() => _shouldJump = true;\n\n        public void UpdateForceValue(float value) => _jumpForce = value;\n\n        private void PerformJump()\n        {\n            if (_shouldSaveLastJump == true)\n            {\n                LastJump = _transform.position;\n                _shouldSaveLastJump = false;\n            }\n\n            _expiredJumpTime += Time.deltaTime;\n\n            float xAxis = GetForceByCurve(_jumpXAccelCurve);;\n            float yAxis = GetForceByCurve(_jumpCurve);\n\n            var jumpVelocity = new Vector2(xAxis, yAxis);\n            _rigidBody2D.velocity = jumpVelocity;\n        }\n\n        private void EndJump()\n        {\n            OnLanded?.Invoke();\n            \n            _shouldJump = false;\n            _shouldSaveLastJump = true;\n            _shouldSendJumpEvent = true;\n            _expiredJumpTime = 0f;\n        }\n\n        private float GetForceByCurve(AnimationCurve jumpCurve)\n        {\n            float progress = _expiredJumpTime / _duration;\n            float curveValue = jumpCurve.Evaluate(progress);\n            return curveValue * _jumpForce;\n        }\n    }\n}","size_bytes":2991},"CapybaraGame/Assets/Scripts/Player/HeroSkinSetter.cs":{"content":"using System;\nusing UnityEngine;\n\nnamespace Core.Player\n{\n    public class HeroSkinSetter : MonoBehaviour\n    {\n        [Header(\"General Sprite Renderers\")]\n        [SerializeField] private SpriteRenderer _head;\n        [SerializeField] private SpriteRenderer _body;\n\n        [Header(\"Arms Sprite Renderers\")]\n        [SerializeField] private SpriteRenderer _leftArm;\n        [SerializeField] private SpriteRenderer _rightArm;\n\n        [Header(\"Legs Sprite Renderers\")]\n        [SerializeField] private SpriteRenderer _leftLeg;\n        [SerializeField] private SpriteRenderer _rightLeg;\n\n        [SerializeField] private SpriteRenderer _sword;\n        \n        public void Set(SkinPreset preset)\n        {\n            _head.sprite = preset.Head\n                ?? throw new ArgumentNullException($\"{nameof(_head)} sprite is null!\");\n\n            _body.sprite = preset.Body \n                ?? throw new ArgumentNullException($\"{nameof(_body)} sprite is null!\");\n\n            _leftArm.sprite = preset.LeftArm \n                ?? throw new ArgumentNullException($\"{nameof(_leftArm)} sprite is null!\");\n\n            _rightArm.sprite = preset.RightArm \n                ?? throw new ArgumentNullException($\"{nameof(_rightArm)} sprite is null!\");\n\n            _leftLeg.sprite = preset.Leg \n                ?? throw new ArgumentNullException($\"{nameof(_leftLeg)} sprite is null!\");\n\n            _rightLeg.sprite = preset.Leg \n                ?? throw new ArgumentNullException($\"{nameof(_rightLeg)} sprite is null!\");\n\n            _sword.sprite = preset.Sword \n                ?? throw new ArgumentNullException($\"{nameof(_sword)} sprite is null!\");\n        }\n    }\n}\n","size_bytes":1661},"CapybaraGame/Assets/Scripts/Player/HeroSkins.cs":{"content":"using System.Linq;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.Save;\nusing Zenject;\n\nnamespace Core.Player\n{\n    public class HeroSkins\n    {\n        private readonly SkinsCollection _skins;\n        private SkinName _boughtSkins;\n        private readonly PlayerData _playerData;\n\n        public SkinPreset Current { get; private set; }\n        public SkinName BoughtSkins => _boughtSkins;\n\n        [Inject]\n        public HeroSkins(PlayerData playerData, SkinsCollection skins)\n        {\n            _playerData = playerData;\n            _skins = skins;\n        }\n\n        public void Load(SaveData data)\n        {\n            _boughtSkins = data.BoughtHeroSkins;\n            Current = GetByName(data.CurrentHeroSkin);\n        }\n\n        public void SetCurrent(SkinPreset preset)\n        {\n            Current = preset;\n        }\n\n        public SkinPreset[] GetSortedPresets()\n        {\n            return _skins.Presets\n                .OrderByDescending(item => item.Name == Current.Name)\n                .ThenByDescending(item => _boughtSkins.HasFlag(item.Name) == true)\n                .ThenBy(item => item.FoodCost)\n                .ToArray();\n        }\n\n        public void Buy(SkinPreset preset)\n        {\n            _boughtSkins |= preset.Name;\n\n            _playerData.TrySubstractFood(preset.FoodCost);\n        }\n\n        public SkinAvailability GetAvailability(SkinName skinName)\n        {\n            if (_boughtSkins.HasFlag(skinName) == false)\n                return SkinAvailability.Buyable;\n            else if (skinName == Current.Name)\n                return SkinAvailability.Selected;\n            else\n                return SkinAvailability.Selectable;\n        }\n\n        public bool CanBuy(SkinPreset preset) =>\n            preset.FoodCost <= _playerData.Food;\n\n        public SkinPreset GetByName(SkinName skinName) => \n            _skins.Presets.Single(preset => preset.Name == skinName);\n    }\n}","size_bytes":1929},"CapybaraGame/Assets/Scripts/Player/HeroSpawnMarker.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class HeroSpawnMarker : MonoBehaviour { }\n}\n","size_bytes":110},"CapybaraGame/Assets/Scripts/Player/IPhysicalObject.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public interface IPhysicalObject\n    {\n        public Transform Transform { get; }\n        public Rigidbody2D Rigidbody2D { get; }\n    }\n}\n","size_bytes":198},"CapybaraGame/Assets/Scripts/Player/LevelPlaythrough.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class LevelPlaythrough\n    {\n        public struct Reward\n        {\n            public RewardType Type;\n            public ResourceType Resource;\n            public int Amount;\n\n            public Reward(RewardType type, ResourceType resource, int amount)\n            {\n                Type = type;\n                Resource = resource;\n                Amount = amount;\n            }\n        }\n        \n        public enum RewardType\n        {   \n            Collected,\n            Reward,\n            Defeated\n        }\n        \n        public enum ResourceType\n        {   \n            Coins,\n            Food\n        }\n        \n        public int CoinsCollected { get; set; }\n        public int FoodCollected { get; set; }\n        public int CoinsRewarded { get; set; }\n        public int FoodRewarded { get; set; }\n        public int CoinsDefeated { get; set; }\n\n        public Reward[] GetRewards()\n        {\n            Reward[] rewards = \n            {\n                new(RewardType.Collected, ResourceType.Coins, CoinsCollected),\n                new(RewardType.Collected, ResourceType.Food, FoodCollected),\n                new(RewardType.Reward, ResourceType.Coins, CoinsRewarded),\n                new(RewardType.Reward, ResourceType.Food, FoodRewarded),\n                new(RewardType.Defeated, ResourceType.Coins, CoinsDefeated),\n            };\n            \n            return rewards;\n        }\n        \n        public void Clear()\n        {\n            CoinsCollected = default;\n            FoodCollected = default;\n            CoinsRewarded = default;\n            FoodRewarded = default;\n            CoinsDefeated = default;\n        }\n\n        public void LogAll()\n        {\n            Debug.Log($\"[LP] | CoinsCollected: {CoinsCollected}\");\n            Debug.Log($\"[LP] | FoodCollected: {FoodCollected}\");\n            Debug.Log($\"[LP] | CoinsRewarded: {CoinsRewarded}\");\n            Debug.Log($\"[LP] | FoodRewarded: {FoodRewarded}\");\n        }\n    }\n}","size_bytes":2031},"CapybaraGame/Assets/Scripts/Player/MainCamera.cs":{"content":"using Cinemachine;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class MainCamera : MonoBehaviour\n    {\n        public const float DefaultFOV = 5.25f;\n        \n        [SerializeField] private CinemachineVirtualCamera _cinemachine;\n        \n        private bool _isLerping = false;\n        private float _targetFOV = 5f;\n        private float _lerpStartTime;\n        private float _lerpDuration;\n        private float _initialFOV;\n\n        public bool IsLerping => _isLerping;\n        \n        private float FOV { get => _cinemachine.m_Lens.OrthographicSize; set => _cinemachine.m_Lens.OrthographicSize = value; }\n\n        private void Update()\n        {\n            if (_isLerping == true)\n                LerpFOV();\n        }\n\n        public void SetDefaultFOV()\n        {\n            FOV = DefaultFOV;\n        }\n\n        public void SetFollow(Transform target)\n        {\n            _cinemachine.Follow = target;\n        }\n\n        public void SetLerpFOV(float fov, float duration)\n        {\n            if (_isLerping == true)\n            {\n                LerpFOV(forceFinish: true);\n                SetLerpFOV(fov, duration);\n                return;\n            }\n\n            _initialFOV = FOV; \n            _targetFOV = fov;\n            _lerpStartTime = Time.time;\n            _lerpDuration = duration;\n            _isLerping = true;\n        }\n\n        private void LerpFOV(bool forceFinish = false)\n        {\n            float timeDelta = (Time.time - _lerpStartTime) / _lerpDuration;\n            if (timeDelta >= 0.99f || forceFinish == true)\n            {\n                FOV = _targetFOV;\n                _isLerping = false;\n                return;\n            }\n            \n            FOV = Mathf.Lerp(_initialFOV, _targetFOV, timeDelta);\n        }\n    }\n}","size_bytes":1791},"CapybaraGame/Assets/Scripts/Player/PlayerData.cs":{"content":"using System;\nusing SaveTheCapybara.Level;\nusing SaveTheCapybara.Save;\nusing SaveTheCapybara.UI;\nusing UnityEngine;\nusing Zenject;\nusing Random = UnityEngine.Random;\n\nnamespace SaveTheCapybara.Player\n{\n    public class PlayerData\n    {\n        private const float MaxDistanceUpgradeLimit = 22f;\n        private const float MaxDistanceUpgradeIncrease = 1f;\n        private const float LerpSpeedDecrease = 0.08f;\n        private const float FoodBonusIncrease = 0.0625f;\n        private const int MaxLevel = 20;\n        \n        // NEW\n        public const float MaxDistanceConst = 21f;\n        public const float FoodBonusConst = 1.125f;\n\n        private readonly LevelPlaythrough _levelPlaythrough;\n        \n        public int Coins { get; private set; }\n        public int Food { get; private set; }\n        public float MaxDistance { get; private set; }\n        public float FoodBonus { get; private set; }\n        public int CommonUpgradeCost { get; private set; }\n        public int DistanceUpgradeCost { get; private set; }\n        public bool IsCutsceneWatched { get; set; }\n\n        public float FinalLerpSpeedDecrease\n        {\n            get => LerpSpeedDecrease + (LerpSpeedDecrease * FoodBonus);\n        }\n\n        public int CurrentLevel => Mathf.RoundToInt((FoodBonus - 0.25f) / FoodBonusIncrease) + 1;\n        public bool CanUpgrade => CurrentLevel < MaxLevel;\n\n        public event Action<int> OnCoinsChanged;\n        public event Action<int> OnFoodChanged;\n\n        [Inject]\n        private PlayerData(LevelPlaythrough levelPlaythrough)\n        {\n            _levelPlaythrough = levelPlaythrough;\n        }\n\n        public void LoadData(SaveData data)\n        {\n            Coins = data.Coins;\n            Food = data.Food;\n            // MaxDistance = data.MaxDistance;\n            FoodBonus = data.FoodBonusNEW;\n            \n            // NEW\n            MaxDistance = MaxDistanceConst;\n            // FoodBonus = FoodBonusConst;\n            // â€“â€“â€“\n            \n            DistanceUpgradeCost = data.DistanceUpgradeCost;\n            CommonUpgradeCost = data.CommonUpgradeCost;\n            IsCutsceneWatched = data.IsCutsceneWatched;\n        }\n\n        public void AddEnemyDefeatedReward()\n        {\n            int amount = Enemy.DefeatRewardCoins;\n            Coins += amount;\n            _levelPlaythrough.CoinsDefeated += amount;\n            \n            OnCoinsChanged?.Invoke(amount);\n        }\n\n        public void AddSimpleChestCoins()\n        { \n            int amount = SimpleChest.CoinsInsideAmount;\n            Coins += amount;\n            _levelPlaythrough.CoinsCollected += amount;\n            \n            OnCoinsChanged?.Invoke(Coins);\n        }\n\n        public void AddTreasureChestReward()\n        { \n            int coins = TreasureChest.CoinsInsideAmount;\n            int food = TreasureChest.FoodInsideAmount;\n            Coins += coins;\n            Food += food;\n            \n            _levelPlaythrough.CoinsRewarded += coins;\n            _levelPlaythrough.FoodRewarded += food;\n\n            OnCoinsChanged?.Invoke(Coins);\n        }\n\n        public void AddRandomAdCoins(int minInclusive, int maxExclusive)\n        {\n            int amount = Random.Range(minInclusive, maxExclusive);\n\n            if (amount <= 0)\n                throw new ArgumentException(\"Wrong amount was given!\");\n\n            Coins += amount;\n\n            OnCoinsChanged?.Invoke(Coins);\n        }\n\n        public void AddSimpleMelon()\n        {\n            int amount = MelonChest.SimpleAmount;\n            Food += amount;\n            _levelPlaythrough.FoodCollected += amount;\n            \n            OnFoodChanged?.Invoke(Food);\n        }\n        \n        public void AddPurchasedMelons(int amount)\n        { \n            Food += amount;\n            \n            OnFoodChanged?.Invoke(Food);\n        }\n\n        public bool TrySubstractCoins(UpgradeBlock block)\n        {\n            int cost = block.Cost;\n            return TrySubstractCoins(cost);\n        }\n\n        public void UpgradeJumpDistance(UpgradeBlock block)\n        {\n            DistanceUpgradeCost = block.Cost;\n\n            float increased = MaxDistance += MaxDistanceUpgradeIncrease;\n            //  It is supposed to work like this.\n            //  It makes illusion of unlimited upgrading for player\n            if (increased > MaxDistanceUpgradeLimit)\n                return;\n\n            MaxDistance = increased;\n        }\n\n        public void UpgradeFoodBonus(UpgradeBlock block)\n        {\n            CommonUpgradeCost = block.Cost;\n\n            float increased = FoodBonus += FoodBonusIncrease;\n            \n            int level = Mathf.RoundToInt((increased - 0.25f) / FoodBonusIncrease) + 1;\n            if (MaxLevel >= level)\n                return;\n\n            FoodBonus = increased;\n        }\n        \n        public bool TrySubstractFood(int amount)\n        {\n            if (Food < amount)\n                return false;\n\n            Food -= amount;\n\n            OnFoodChanged?.Invoke(Food);\n            return true;\n        }\n\n        private bool TrySubstractCoins(int amount)\n        {\n            if (Coins < amount)\n                return false;\n\n            Coins -= amount;\n\n            OnCoinsChanged?.Invoke(Coins);\n            return true;\n        }\n    }\n}","size_bytes":5275},"CapybaraGame/Assets/Scripts/Player/Score.cs":{"content":"using System;\nusing System.Threading;\nusing SaveTheCapybara.Game;\nusing SaveTheCapybara.Other;\nusing Cysharp.Threading.Tasks;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Player\n{\n    public class Score : MonoBehaviour, IPauseHandler\n    {\n        private const float ScoreUpdateIntervalInSeconds = 0.5f;\n        \n        private Transform _heroTransform;\n        private PauseManager _pauseManager;\n        private bool _shouldBlockCount = false;\n        private bool _isCounting = false;\n        private CancellationToken _cancellationToken;\n\n        public bool IsInitialized => _heroTransform != null;\n\n        public int ScoreCount { get; private set; } = 0;\n        public int HighScore { get; private set; } = 0;\n\n        public event Action<int> OnScoreChanged;\n\n        private void Awake()\n        {\n            _pauseManager.Register(this);\n            _cancellationToken = this.GetCancellationTokenOnDestroy();\n        }\n\n        [Inject]\n        private void Construct(\n            PauseManager pauseManager)\n        {\n            _pauseManager = pauseManager;\n        }\n\n        public void InitHero(Hero hero)\n        {\n            GameObject heroObject = hero.gameObject;\n            _heroTransform = heroObject.transform;\n        }\n\n        public void LoadHighScore(int value)\n        {\n            HighScore = value;\n        }\n\n        public void SetPaused(bool isPaused)\n        {\n            if (isPaused == true)\n                StopCount();\n            else\n                StartCount();\n        }\n\n        public void StartCount()\n        {\n            if (_isCounting == true)\n                return;\n\n            _shouldBlockCount = false;\n            CountScore(_cancellationToken).Forget();\n        }\n        \n        public void StopCount()\n        {\n            if (_isCounting == false)\n                return;\n\n            _shouldBlockCount = true;\n        }\n\n        private async UniTask CountScore(CancellationToken token)\n        {\n            _isCounting = true;\n\n            while (_shouldBlockCount == false && this != null)\n            {\n                if (IsInitialized == false)\n                    throw new NullReferenceException(\"The class hasn't been initialized! Call Init(Hero) first\");\n                    \n                float heroX = _heroTransform.position.x;\n                if (heroX < 0f || heroX < ScoreCount)\n                {\n                    await UniTask.NextFrame(token);\n                    continue;\n                }\n\n                int heroXRounded = (int)Mathf.Round(heroX);\n                ScoreCount = heroXRounded;\n\n                TrySaveHighScore();\n\n                OnScoreChanged?.Invoke(ScoreCount);\n\n                await MyUniTask.Delay(ScoreUpdateIntervalInSeconds, token);\n            }\n\n            _isCounting = false;\n        }\n\n        private void TrySaveHighScore()\n        {\n            if (ScoreCount <= HighScore)\n                return;\n\n            HighScore = ScoreCount;\n        }\n    }\n}","size_bytes":3002},"CapybaraGame/Assets/Scripts/Player/SkinAvailability.cs":{"content":"namespace Core.Player\n{\n    public enum SkinAvailability\n    {\n        Buyable = 0,\n        Selectable = 1,\n        Selected = 2\n    }\n}","size_bytes":136},"CapybaraGame/Assets/Scripts/Player/SkinName.cs":{"content":"using System;\n\nnamespace Core.Player\n{\n    [Flags]\n    public enum SkinName\n    {\n        Capybuddy = 1 << 0,\n        Greenbara = 1 << 1,\n        Purplebara = 1 << 2,\n        Pinkbara = 1 << 3,\n        Darkbara = 1 << 4,\n        Streetbara = 1 << 5,\n        Redbara = 1 << 6,\n        Sorrowbara = 1 << 7,\n        Floralbara = 1 << 8\n    }\n}","size_bytes":340},"CapybaraGame/Assets/Scripts/Player/SkinPreset.cs":{"content":"using UnityEngine;\n\nnamespace Core.Player\n{\n    [CreateAssetMenu(fileName = \"New Skin\", menuName = \"Presets/Hero Skin\")]\n    public class SkinPreset : ScriptableObject\n    {\n        [Header(\"General\")]\n        [SerializeField] private SkinName _name;\n        [SerializeField] private Sprite _menuItem;\n\n        [Space]\n        [SerializeField] private Color _accentColor = Color.yellow;\n\n        [Space]\n        [SerializeField, Min(0)] private int _foodCost = 15;\n        \n        [Header(\"Upper Body Sprites\")]\n        [SerializeField] private Sprite _head;\n        [SerializeField] private Sprite _body;\n\n        [Header(\"Arm Sprites\")]\n        [SerializeField] private Sprite _leftArm;\n        [SerializeField] private Sprite _rightArm;\n\n        [Header(\"Leg Sprite\")]\n        [SerializeField] private Sprite _leg;\n\n        [Header(\"Sword Sprite\")]\n        [SerializeField] private Sprite _sword;\n\n        public SkinName Name => _name;\n        public Sprite Head => _head;\n        public Sprite MenuItem => _menuItem;\n\n        public Color AccentColor => _accentColor;\n        \n        public int FoodCost => _foodCost;\n\n        public Sprite Body => _body;\n        public Sprite LeftArm => _leftArm;\n        public Sprite RightArm => _rightArm;\n\n        public Sprite Leg => _leg;\n        public Sprite Sword => _sword;\n    }\n}","size_bytes":1333},"CapybaraGame/Assets/Scripts/Player/SkinsCollection.cs":{"content":"using UnityEngine;\n\nnamespace Core.Player\n{\n    [CreateAssetMenu(fileName = \"Skins Collection\", menuName = \"Collections/Skins\")]\n    public class SkinsCollection : ScriptableObject\n    {\n        [SerializeField] private SkinPreset[] _presets;\n\n        public SkinPreset[] Presets => _presets;\n    }\n}","size_bytes":300},"CapybaraGame/Assets/Scripts/Save/ISaveSystem.cs":{"content":"namespace SaveTheCapybara.Save\n{\n    public interface ISaveSystem\n    {\n        void Save(SaveData data);\n\n        SaveData Load();\n    }\n}","size_bytes":139},"CapybaraGame/Assets/Scripts/Save/JsonSaveSystem.cs":{"content":"using System.IO;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Save\n{\n    public class JsonSaveSystem : ISaveSystem\n    {\n        public const string SaveFilePath = \"/CapAdvSaveData.json\";\n\n        public string FilePath { get; private set; }\n\n        public JsonSaveSystem()\n        {\n            FilePath = Application.persistentDataPath + SaveFilePath;\n        }\n\n        public void Save(SaveData data)\n        {\n            string json = JsonUtility.ToJson(data);\n\n            using (var writer = new StreamWriter(FilePath))\n                writer.Write(json);\n        }\n\n        public SaveData Load()\n        {\n            if (File.Exists(FilePath) == false)\n                return new SaveData();\n\n            string json = \"\";\n\n            using (var reader = new StreamReader(FilePath))\n            {\n                string line;\n                while ((line = reader.ReadLine()) != null)\n                    json += line;\n\n                if (string.IsNullOrEmpty(json))\n                    return new SaveData();\n\n                return JsonUtility.FromJson<SaveData>(json);\n            }\n        }\n    }\n}","size_bytes":1118},"CapybaraGame/Assets/Scripts/Save/ResetProgressService.cs":{"content":"using UnityEngine;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.UI;\n\nnamespace SaveTheCapybara.Save\n{\n    public class ResetProgressService : MonoBehaviour\n    {\n        [SerializeField] private UIButton _button;\n\n        private SaveService _saveService;\n        private LoadingScreenProvider _loadingScreenProvider;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _button.OnClicked += ResetProgress;\n        }\n\n        private void OnDisable()\n        {\n            _button.OnClicked -= ResetProgress;\n        }\n\n        #endregion\n\n        public void Init(SaveService saveService, LoadingScreenProvider loadingScreenProvider)\n        {\n            _saveService = saveService;\n            _loadingScreenProvider = loadingScreenProvider;\n        }\n\n        private async void ResetProgress()\n        {\n            _saveService.ResetProcess();\n\n            await _loadingScreenProvider.LoadGameAsync();\n        }\n    }\n}","size_bytes":965},"CapybaraGame/Assets/Scripts/Save/SaveData.cs":{"content":"using System;\nusing Core.Player;\n\nnamespace SaveTheCapybara.Save\n{\n    [Serializable]\n    public class SaveData\n    {\n        public int HighScore = 0;\n        public int Coins = 0;\n        public int Food = 0;\n        public float MaxDistance = 16f;\n        public int DistanceUpgradeCost = 15;\n        public float FoodBonusNEW = 0.25f;\n        public int CommonUpgradeCost = 15;\n        public bool IsCutsceneWatched = false;\n        public int LanguageIndex = 0;\n        \n        // NEW\n        public SkinName BoughtHeroSkins = SkinName.Capybuddy;\n        public SkinName CurrentHeroSkin = SkinName.Capybuddy;\n        public int Level = 1;\n\n        public bool NoAds = false;\n    }\n}","size_bytes":688},"CapybaraGame/Assets/Scripts/Save/SaveService.cs":{"content":"using SaveTheCapybara.Ad;\nusing UnityEngine;\nusing SaveTheCapybara.Player;\nusing Cysharp.Threading.Tasks;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.Game;\nusing SaveTheCapybara.Level;\nusing Core.Player;\nusing Zenject;\n\nnamespace SaveTheCapybara.Save\n{\n    [DefaultExecutionOrder(1)]\n    public class SaveService : MonoBehaviour\n    {\n        private const float AutoSaveIntervalInSeconds = 10f;\n\n        [SerializeField] private Score _score;\n\n        private PlayerData _playerData;\n        private ISaveSystem _saveSystem;\n        private LocalizationManager _localization;\n        private HeroSkins _heroSkins;\n        private LevelNumberHolder _levelNumberHolder;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            Load();\n            AutoSave().Forget();\n        }\n\n        private void OnApplicationQuit()\n        {\n            Save();\n        }\n\n        #endregion\n\n        [Inject]\n        private void Construct(\n            ISaveSystem saveSystem, \n            PlayerData playerData,\n            LocalizationManager localization,\n            HeroSkins heroSkins,\n            LevelNumberHolder levelNumberHolder)\n        {\n            _playerData = playerData;\n            _localization = localization;\n            _saveSystem = saveSystem;\n            _heroSkins = heroSkins;\n            _levelNumberHolder = levelNumberHolder;\n        }\n\n        public void ResetProcess()\n        {\n            var emptyData = new SaveData();\n            _saveSystem.Save(emptyData);\n            Load();\n        }\n\n        public void Save()\n        {\n            var data = new SaveData\n            {\n                HighScore = _score.HighScore,\n                Coins = _playerData.Coins,\n                Food = _playerData.Food,\n                MaxDistance = _playerData.MaxDistance,\n                DistanceUpgradeCost = _playerData.DistanceUpgradeCost,\n                FoodBonusNEW = _playerData.FoodBonus,\n                CommonUpgradeCost = _playerData.CommonUpgradeCost,\n                IsCutsceneWatched = _playerData.IsCutsceneWatched,\n                LanguageIndex = _localization.CurrentLanguageIndex,\n                BoughtHeroSkins = _heroSkins.BoughtSkins,\n                CurrentHeroSkin = _heroSkins.Current.Name,\n                Level = _levelNumberHolder.Level,\n                NoAds = AdTimer.Instance.NoAds\n            };\n\n            _saveSystem.Save(data);\n        }\n\n        private async void Load()\n        {\n            SaveData data = _saveSystem.Load();\n\n            _playerData.LoadData(data);\n            _score.LoadHighScore(data.HighScore);\n            // NEW\n            _heroSkins.Load(data);\n            _levelNumberHolder.Load(data);\n            AdTimer.Instance.SetNoAds(data.NoAds);\n            // â€“â€“â€“â€“\n            await _localization.SetLanguage(data.LanguageIndex);\n        }\n        \n        private async UniTask AutoSave()\n        {\n            while (this != null)\n            {\n                Save();\n                await MyUniTask.Delay(AutoSaveIntervalInSeconds);\n            }\n        }\n    }\n}","size_bytes":3088},"CapybaraGame/Assets/Scripts/Tools/GameFinishedScreenProvider.cs":{"content":"using System.Threading.Tasks;\nusing SaveTheCapybara.Level;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.Save;\nusing Core.Audio;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.UI\n{\n    public class GameFinishedScreenProvider : LocalAssetLoader\n    {\n        public const string GameFinishedScreen = nameof(GameFinishedScreen);\n\n        private readonly Canvas _canvas;\n        private readonly LoadingScreenProvider _loadingScreenProvider;\n        private readonly SaveService _saveService;\n        private readonly LevelPlaythrough _levelPlaythrough;\n        private readonly LevelNumberHolder _levelNumberHolder;\n        private readonly IAudioHandler _audioHandler;\n\n        [Inject]\n        public GameFinishedScreenProvider(\n            Canvas canvas,\n            LoadingScreenProvider loadingScreenProvider,\n            SaveService saveService,\n            LevelPlaythrough levelPlaythrough,\n            LevelNumberHolder levelNumberHolder,\n            IAudioHandler audioHandler)\n        {\n            _canvas = canvas;\n            _loadingScreenProvider = loadingScreenProvider;\n            _saveService = saveService;\n            _levelPlaythrough = levelPlaythrough;\n            _levelNumberHolder = levelNumberHolder;\n            _audioHandler = audioHandler;\n        }\n\n        public async Task<GameFinishedScreen> Load()\n        {\n            Transform canvasTransform = _canvas.transform;\n            GameFinishedScreen gameOverScreen = await \n                LoadInternal<GameFinishedScreen>(GameFinishedScreen, canvasTransform);\n\n            gameOverScreen.Init(_saveService, _loadingScreenProvider, _levelPlaythrough, _levelNumberHolder);\n            gameOverScreen.InitAudioHandler(_audioHandler);\n\n            return gameOverScreen;\n        }\n\n        public void Unload() => UnlodadInternalIfCached();\n    }\n}","size_bytes":1879},"CapybaraGame/Assets/Scripts/Tools/GameOverScreenProvider.cs":{"content":"using System.Threading.Tasks;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.Save;\nusing Core.Audio;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.UI\n{\n    public class GameOverScreenProvider : LocalAssetLoader\n    {\n        public const string GameOverScreen = nameof(GameOverScreen);\n\n        private readonly Canvas _canvas;\n        private readonly LoadingScreenProvider _loadingScreenProvider;\n        private readonly SaveService _saveService;\n        private readonly IAudioHandler _audioHandler;\n\n        [Inject]\n        public GameOverScreenProvider(\n            Canvas canvas,\n            LoadingScreenProvider loadingScreenProvider,\n            SaveService saveService,\n            IAudioHandler audioHandler)\n        {\n            _canvas = canvas;\n            _loadingScreenProvider = loadingScreenProvider;\n            _saveService = saveService;\n            _audioHandler = audioHandler;\n        }\n\n        public async Task<GameOverScreen> Load()\n        {\n            Transform canvasTransform = _canvas.transform;\n            GameOverScreen gameOverScreen = await \n                LoadInternal<GameOverScreen>(GameOverScreen, canvasTransform);\n\n            gameOverScreen.Init(_saveService, _loadingScreenProvider);\n            gameOverScreen.InitAudioHandler(_audioHandler);\n\n            return gameOverScreen;\n        }\n\n        public void Unload() => UnlodadInternalIfCached();\n    }\n}","size_bytes":1427},"CapybaraGame/Assets/Scripts/Tools/LoadingScreenProvider.cs":{"content":"using UnityEngine;\nusing SaveTheCapybara.Game;\nusing Cysharp.Threading.Tasks;\nusing Zenject;\n\nnamespace SaveTheCapybara.Other\n{\n    public class LoadingScreenProvider : LocalAssetLoader\n    {\n        public const string LoadingScreen = nameof(LoadingScreen);\n\n        private readonly Canvas _canvas;\n\n        [Inject]\n        public LoadingScreenProvider(Canvas canvas)\n        {\n            _canvas = canvas;\n        }\n\n        public async UniTask LoadGameAsync()\n        {\n            SceneLoader loader = await Load();\n            await LoadGame(loader);\n        }\n\n        public async UniTask LoadPregameCutsceneAsync()\n        {\n            SceneLoader loader = await Load();\n            await LoadPregameCutscene(loader);\n        }\n\n        public async UniTask<SceneLoader> Load()\n        {\n            Transform canvasTransform = _canvas.transform;\n            SceneLoader loader = await LoadInternal<SceneLoader>(LoadingScreen, canvasTransform);\n\n            return loader;\n        }\n\n        public void Unload()\n        {\n            UnlodadInternalIfCached();\n        }\n\n        private async UniTask LoadGame(SceneLoader loader)\n        {\n            await loader.LoadGame();\n            Unload();\n        }\n\n        private async UniTask LoadPregameCutscene(SceneLoader loader)\n        {\n            await loader.LoadPregameCutscene();\n            Unload();\n        }\n    }\n}\n","size_bytes":1393},"CapybaraGame/Assets/Scripts/Tools/LocalAssetLoader.cs":{"content":"using System;\nusing System.Threading.Tasks;\nusing UnityEngine;\nusing UnityEngine.AddressableAssets;\n\nnamespace SaveTheCapybara.Other\n{\n    public class LocalAssetLoader\n    {\n        private GameObject _cachedObject;\n\n        public bool IsCached => _cachedObject != null;\n\n        protected async Task<T> LoadInternal<T>(\n            string assetID,\n            Transform parent = null)\n        {\n            var handle = Addressables.InstantiateAsync(assetID, parent);\n            _cachedObject = await handle.Task;\n\n            T component = _cachedObject.GetComponent<T>();\n                \n            if (component == null)\n                throw new NullReferenceException(\n                    $\"Object of type {typeof(T)} is null while loading an asset from Addressables\");\n                \n            return component;\n                \n        }\n\n        protected void UnlodadInternalIfCached()\n        {\n            if (IsCached == true)\n                UnlodadInternal();\n        }\n\n        protected void UnlodadInternal()\n        {\n            if (_cachedObject == null)\n                throw new NullReferenceException(\"Nothing to unload. Cached object is null!\");\n\n            _cachedObject.SetActive(false);\n            Addressables.ReleaseInstance(_cachedObject);\n            _cachedObject = null;\n        }\n    }\n}","size_bytes":1333},"CapybaraGame/Assets/Scripts/Tools/MenuProvider.cs":{"content":"using SaveTheCapybara.Other;\nusing SaveTheCapybara.Game;\nusing System.Threading.Tasks;\nusing SaveTheCapybara.Level;\nusing UnityEngine;\nusing SaveTheCapybara.Player;\nusing Core.Audio;\nusing Zenject;\n\nnamespace SaveTheCapybara.UI\n{\n    public class MenuProvider : LocalAssetLoader\n    {\n        //NEW\n        public const string MainMenu = nameof(MainMenu);\n        \n        private readonly Canvas _canvas;\n        private readonly GameStartup _gameStartup;\n        private UpgradeScreenProvider _upgradeScreenProvider;\n        private readonly Score _score;\n        private readonly LocalizationManager _localization;\n        private readonly IAudioHandler _audioHandler;\n        private readonly LevelNumberHolder _levelNumberHolder;\n        private readonly ShopScreenProvider _shopScreenProvider;\n\n        [Inject]\n        public MenuProvider(\n            Canvas canvas,\n            UpgradeScreenProvider upgradeScreenProvider,\n            ShopScreenProvider shopScreenProvider,\n            GameStartup gameStartup,\n            Score score,\n            LocalizationManager localization,\n            LevelNumberHolder levelNumberHolder,\n            IAudioHandler audioHandler)\n        {\n            _canvas = canvas;\n            _upgradeScreenProvider = upgradeScreenProvider;\n            _shopScreenProvider = shopScreenProvider;\n            _gameStartup = gameStartup;\n            _score = score;\n            _localization = localization;\n            _levelNumberHolder = levelNumberHolder;\n            _audioHandler = audioHandler;\n        }\n\n        public async Task<GameMenu> Load()\n        {\n            Transform canvasTransform = _canvas.transform;\n            GameMenu menu = await LoadInternal<GameMenu>(MainMenu, canvasTransform);\n\n            menu.Init(\n                _gameStartup, \n                _upgradeScreenProvider,\n                _shopScreenProvider,\n                _score,\n                _localization,\n                _levelNumberHolder);\n            \n            menu.InitAudioHandler(_audioHandler);\n\n            return menu;\n        }\n\n        public void Unload() => UnlodadInternalIfCached();\n    }\n}\n","size_bytes":2136},"CapybaraGame/Assets/Scripts/Tools/ParticlesPlayer.cs":{"content":"using NTC.Global.Pool;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Other\n{\n    public class ParticlesPlayer : MonoBehaviour\n    {\n        private const float JumpParticlesDespawnDelay = 1f;\n\n        [SerializeField] private ParticleSystem _particlesPrefab;\n        [Tooltip(\"The transform's pos is used to determine the spawn position\")]\n        [SerializeField] private Transform _spawnTransform;\n\n        private ParticleSystem _particles;\n        private bool _areParticlesPlaying;\n\n        public void SpawnTillDuration()\n        {\n            if (_areParticlesPlaying == true)\n                return;\n\n            _areParticlesPlaying = true;\n\n            Vector3 spawnPosition = _spawnTransform.position;\n            _particles = NightPool.Spawn(_particlesPrefab, spawnPosition);\n\n            _particles.Play();\n            \n            Invoke(nameof(Despawn), JumpParticlesDespawnDelay);\n        }\n\n        private void Despawn()\n        {\n            NightPool.Despawn(_particles);\n            _areParticlesPlaying = false;\n        }\n    }\n}\n","size_bytes":1052},"CapybaraGame/Assets/Scripts/Tools/PauseScreenProvider.cs":{"content":"using System.Threading.Tasks;\nusing SaveTheCapybara.UI;\nusing SaveTheCapybara.Game;\nusing Core.Audio;\nusing Zenject;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Other\n{\n    public class PauseScreenProvider : LocalAssetLoader\n    {\n        public const string PauseScreen = nameof(PauseScreen);\n\n        private readonly Canvas _canvas;\n        private readonly PauseManager _pauseManager;\n        private readonly GameUI _gameUI;\n        private readonly LoadingScreenProvider _loadingScreenProvider;\n        private readonly IAudioHandler _audioHandler;\n\n        [Inject]\n        public PauseScreenProvider(\n            Canvas canvas,\n            PauseManager pauseManager,\n            GameUI inGameUI,\n            LoadingScreenProvider loadingScreenProvider,\n            IAudioHandler audioHandler)\n        {\n            _canvas = canvas;\n            _pauseManager = pauseManager;\n            _gameUI = inGameUI;\n            _loadingScreenProvider = loadingScreenProvider;\n            _audioHandler = audioHandler;\n        }\n\n        public async Task<PauseScreen> Load()\n        {\n            var canvasTransform = _canvas.transform;\n            PauseScreen screen = await LoadInternal<PauseScreen>(PauseScreen, canvasTransform);\n\n            screen.Init(_pauseManager, _gameUI, _loadingScreenProvider);\n            screen.InitAudioHandler(_audioHandler);\n\n            return screen;\n        }\n\n        public void Unload() => UnlodadInternalIfCached();\n    }\n}","size_bytes":1466},"CapybaraGame/Assets/Scripts/Tools/ShopScreenProvider.cs":{"content":"using System.Threading.Tasks;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.UI;\nusing Core.Audio;\nusing UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Other\n{\n    public class ShopScreenProvider : LocalAssetLoader\n    {\n        public const string ShopMenu = nameof(ShopMenu);\n        \n        private readonly Canvas _canvas;\n        private readonly IAudioHandler _audioHandler;\n        private readonly PlayerData _playerData;\n        private readonly PurchaseManager _purchaseManager;\n\n        [Inject]\n        public ShopScreenProvider(\n            Canvas canvas,\n            IAudioHandler audioHandler,\n            PlayerData playerData,\n            PurchaseManager purchaseManager)\n        {\n            _canvas = canvas;\n            _audioHandler = audioHandler;\n            _playerData = playerData;\n            _purchaseManager = purchaseManager;\n        }\n        \n        public async Task<ShopMenuScreen> Load()\n        {\n            Transform canvasTransform = _canvas.transform;\n            ShopMenuScreen screen = await LoadInternal<ShopMenuScreen>(ShopMenu, canvasTransform);\n\n            screen.Init(_playerData, _purchaseManager);\n            screen.InitAudioHandler(_audioHandler);\n            screen.gameObject.SetActive(true);\n            \n            return screen;\n        }\n\n        public void Unload() => UnlodadInternalIfCached();\n    }\n}","size_bytes":1380},"CapybaraGame/Assets/Scripts/Tools/UpgradeScreenProvider.cs":{"content":"using System.Threading.Tasks;\nusing UnityEngine;\nusing SaveTheCapybara.UI;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.Save;\nusing Core.Audio;\nusing Core.Player;\nusing Zenject;\n\nnamespace SaveTheCapybara.Other\n{\n    public class UpgradeScreenProvider : LocalAssetLoader\n    {\n        // NEW\n        public const string HeroMenu = nameof(HeroMenu);\n\n        private readonly Canvas _canvas;\n        private readonly PlayerData _playerData;\n        private readonly SaveService _saveService;\n        private readonly LoadingScreenProvider _loadingScreenProvider;\n        private readonly HeroSkins _heroSkins;\n        private readonly IAudioHandler _audioHandler;\n\n        [Inject]\n        public UpgradeScreenProvider(\n            Canvas canvas,\n            PlayerData playerData,\n            SaveService saveService,\n            LoadingScreenProvider loadingScreenProvider,\n            HeroSkins heroSkins,\n            IAudioHandler audioHandler)\n        {\n            _canvas = canvas;\n            _playerData = playerData;\n            _saveService = saveService;\n            _loadingScreenProvider = loadingScreenProvider;\n            _heroSkins = heroSkins;\n            _audioHandler = audioHandler;\n        }\n\n        public async Task<UpgradeScreen> Load()\n        {\n            Transform canvasTransform = _canvas.transform;\n            UpgradeScreen screen = await LoadInternal<UpgradeScreen>(HeroMenu, canvasTransform);\n\n            screen.Init(_playerData, _saveService, _loadingScreenProvider, _heroSkins, _audioHandler);\n            screen.InitAudioHandler(_audioHandler);\n            screen.gameObject.SetActive(true);\n            \n            return screen;\n        }\n\n        public void Unload() => UnlodadInternalIfCached();\n    }\n}\n","size_bytes":1757},"CapybaraGame/Assets/Scripts/Tools/VersionProvider.cs":{"content":"using UnityEngine;\nusing TMPro;\n\nnamespace SaveTheCapybara.UI\n{\n    public class VersionProvider : MonoBehaviour\n    {\n        private const string Prefix = \"v.\";\n\n        [SerializeField] private TextMeshProUGUI _text;\n\n        private void Awake()\n        {\n            string version = Application.version;\n            _text.text = $\"{Prefix} {version}\";\n        }\n    }\n}","size_bytes":375},"CapybaraGame/Assets/Scripts/UI/CoinsUIContainer.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.UI\n{\n    public class CoinsUIContainer : MonoBehaviour\n    {\n        [SerializeField] private UIText _text;\n\n        public UIText Text => _text;\n    }\n}\n","size_bytes":200},"CapybaraGame/Assets/Scripts/UI/GameFinishedScreen.cs":{"content":"using UnityEngine;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.Ad;\nusing SaveTheCapybara.Level;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.Save;\n\nnamespace SaveTheCapybara.UI\n{\n    public class GameFinishedScreen : UIBase\n    {\n        [Header(\"UI Elements\")]\n        [SerializeField] private UIButton _restartButton;\n        [SerializeField] private Transform _logoText;\n        [SerializeField] private CanvasGroup _backgroundCanvasGroup;\n        \n        [Header(\"Rewards\")]\n        [SerializeField] private Transform _rewardsLayout;\n        [SerializeField] private RewardBlock _rewardBlockPrefab;\n\n        [Header(\"UI Settings\")]\n        [SerializeField] private float _UIShowDuration = 0.3f;\n\n        [Header(\"Ads Settings\")]\n        [SerializeField] private AdInterstitial _interstitialAd;\n\n        private SaveService _saveService;\n        private LoadingScreenProvider _loadingScreenProvider;\n        private LevelPlaythrough _levelPlaythrough;\n        private LevelNumberHolder _levelNumberHolder;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _restartButton.OnClicked += RestartGame;\n        }\n\n        private void OnDisable()\n        {\n            _restartButton.OnClicked -= RestartGame;\n        }\n\n        #endregion\n\n        public void Init(\n            SaveService saveService,\n            LoadingScreenProvider loadingScreenProvider,\n            LevelPlaythrough levelPlaythrough,\n            LevelNumberHolder levelNumberHolder)\n        {\n            _saveService = saveService;\n            _loadingScreenProvider = loadingScreenProvider;\n            _levelPlaythrough = levelPlaythrough;\n            _levelNumberHolder = levelNumberHolder;\n        }\n\n        public override void Reveal()\n        {\n            _levelPlaythrough.LogAll();\n            LevelPlaythrough.Reward[] rewards = _levelPlaythrough.GetRewards();\n            Transform[] blocks = new Transform[rewards.Length];\n\n            int i = 0;\n            foreach (LevelPlaythrough.Reward reward in rewards)\n            {\n                RewardBlock block = Instantiate(_rewardBlockPrefab, _rewardsLayout);\n                block.gameObject.SetActive(false);\n                block.Initialize(reward);\n                \n                blocks[i] = block.transform;\n                i++;\n            }\n\n            rewards = null;\n            \n            base.Reveal();\n\n            var tweener = new ScreenTweener(_UIShowDuration);\n            tweener.ScaleTweenLogo(_logoText);\n            tweener.TweenButtonWithoutDelay(_restartButton.transform);\n\n            tweener.FadeIn(_backgroundCanvasGroup);\n            \n            tweener.TweenRewardBlocks(blocks);\n        }\n\n        private async void RestartGame()\n        {\n            \n            if (_interstitialAd.TryShowWithChance() == true)\n            {\n                _saveService.Save();\n                return;\n            }\n            \n            _levelNumberHolder.NextLevel();\n            _saveService.Save();\n            \n            await _loadingScreenProvider.LoadGameAsync();\n        }\n    }\n}","size_bytes":3103},"CapybaraGame/Assets/Scripts/UI/GameMenu.cs":{"content":"using System;\nusing SaveTheCapybara.Level;\nusing SaveTheCapybara.UI;\nusing UnityEngine;\nusing TMPro;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.Other;\nusing UnityEngine.Localization.Components;\nusing Cysharp.Threading.Tasks;\nusing UnityEngine.Serialization;\nusing UnityEngine.UI;\n\nnamespace SaveTheCapybara.Game\n{\n    public class GameMenu : UIBase\n    {\n        [SerializeField] private UIButton _playButton;\n        [FormerlySerializedAs(\"_updgradeButton\")] [SerializeField] private UIButton _upgradeButton;\n        [SerializeField] private UIButton _shopButton;\n        [SerializeField] private UIButton _languageButton;\n\n        [Space]\n        [SerializeField] private TextMeshProUGUI _highScoreText;\n        [SerializeField] private TextMeshProUGUI _levelNumberText;\n        [SerializeField] private Transform _logo;\n        [SerializeField] private LocalizeStringEvent _highScoreLocalization;\n        \n        [Header(\"Level Progression\")]\n        [SerializeField] private TMP_Text _levelsToCompleteText;\n        [SerializeField] private Slider _locationProgressBar;\n        \n        [Header(\"Location Presentations\")]\n        [SerializeField] private LocationsCollection _locations;\n        [SerializeField] private Transform _presentationsContainer;\n\n        private GameStartup _gameStartup;\n        private UpgradeScreenProvider _upgradeScreenProvider;\n        private ShopScreenProvider _shopScreenProvider;\n        private UpgradeScreen _upgradeScreen;\n        private ShopMenuScreen _shopScreen;\n        private Score _score;\n        private LocalizationManager _localization;\n        private bool _isInitialized = false;\n        private LevelNumberHolder _levelNumberHolder;\n        private bool _locationPresented = false;\n\n        public event Action OnMenuWorkHasOver;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _playButton.SetActive(false);\n            _upgradeButton.SetActive(false);\n            _languageButton.SetActive(false);\n            _shopButton.SetActive(false);\n            \n            _playButton.OnClicked += StartGame;\n            _upgradeButton.OnClicked += LoadAndRevealUpgradeScreen;\n            _shopButton.OnClicked += LoadAndRevealShopScreen;\n            _languageButton.OnClicked += ChangeLanguage;\n            _highScoreLocalization.OnUpdateString.AddListener(SetupScoreText);\n        }\n\n        private void OnDisable()\n        {\n            _playButton.OnClicked -= StartGame;\n            _upgradeButton.OnClicked -= LoadAndRevealUpgradeScreen;\n            _shopButton.OnClicked -= LoadAndRevealShopScreen;\n            _languageButton.OnClicked -= ChangeLanguage;\n            _highScoreLocalization.OnUpdateString.RemoveListener(SetupScoreText);\n        }\n\n        #endregion\n        \n        public void Init(\n            GameStartup gameStartup,\n            UpgradeScreenProvider upgradeScreenProvider,\n            ShopScreenProvider shopScreenProvider,\n            Score score,\n            LocalizationManager localization,\n            LevelNumberHolder levelNumberHolder)\n        {\n            _gameStartup = gameStartup;\n            _upgradeScreenProvider = upgradeScreenProvider;\n            _shopScreenProvider = shopScreenProvider;\n            _isInitialized = true;\n            _score = score;\n            _localization = localization;\n            _levelNumberHolder = levelNumberHolder;\n        }\n\n        public override void Reveal()\n        {\n            _levelsToCompleteText.text = _levelNumberHolder.LevelsToComplete.ToString();\n            _locationProgressBar.maxValue = _levelNumberHolder.LevelsToComplete;\n            _locationProgressBar.value = _levelNumberHolder.Level - 1;\n            if (_levelNumberText != null)\n                _levelNumberText.text = (_levelNumberHolder.Level - 1).ToString();\n\n            if (_locationPresented == false)\n            {\n                LocationPresentation locationPresentation =\n                    _locations.Collection[_levelNumberHolder.LocationNumber].LocationMenuPresentationPrefab;\n                \n                Instantiate(locationPresentation, _presentationsContainer);\n                _locationPresented = true;\n            }\n            \n            base.Reveal();\n            \n            _playButton.SetActive(true);\n            _upgradeButton.SetActive(true);\n            _languageButton.SetActive(true);\n            // _shopButton.SetActive(true);\n            TweenElements();\n        }\n\n        private async void SetupScoreText(string text)\n        {\n            // TODO: remake with MVP\n            await UniTask.WaitUntil(() => _score != null);\n            // int highScore = _score.HighScore;\n            // _highScoreText.text = string.Format(text, highScore);\n            \n            // NEW\n            int levelNumber = _levelNumberHolder.Level;\n            _highScoreText.text = string.Format(text, levelNumber);\n        }\n\n        private void TweenElements()\n        {\n            var tweener = new ScreenTweener();\n            \n            tweener.TweenLogo(_logo);\n            tweener.TweenButton(_playButton.transform);\n            tweener.TweenButton(_upgradeButton.transform);\n            tweener.TweenButton(_languageButton.transform);\n            \n            // NEW\n            tweener.TweenButton(_presentationsContainer.transform);\n            // tweener.TweenButton(_shopButton.transform);\n            tweener.TweenProgressBar(_locationProgressBar.transform);\n        }\n\n        private async void LoadAndRevealUpgradeScreen()\n        {\n            _upgradeScreen = await _upgradeScreenProvider.Load();\n            _upgradeScreen.OnScreenClosed += HandleOnUpgradeScreenClosed;\n\n            Conceal();\n        }\n        \n        private async void LoadAndRevealShopScreen()\n        {\n            _shopScreen = await _shopScreenProvider.Load();\n            _shopScreen.OnScreenClosed += HandleOnShopScreenClosed;\n\n            Conceal();\n        }\n\n        private void HandleOnUpgradeScreenClosed()\n        {\n            _upgradeScreen.OnScreenClosed -= HandleOnUpgradeScreenClosed;\n            _upgradeScreenProvider.Unload();\n            Reveal();\n        }\n        \n        private void HandleOnShopScreenClosed()\n        {\n            _shopScreen.OnScreenClosed -= HandleOnShopScreenClosed;\n            _shopScreenProvider.Unload();\n            Reveal();\n        }\n\n        private void StartGame()\n        {\n            if (_isInitialized == false)\n                throw new NullReferenceException(\"The instance of the class haven't been initialized yet! Call Init(...) first before calling StartGame()\");\n\n            // TODO: remake with EventBus/MVP...\n            _gameStartup.StartGame();\n            Conceal();\n\n            OnMenuWorkHasOver?.Invoke();\n        }\n\n        private void ChangeLanguage()\n        {\n            _localization.NextLanguage();\n        }\n    }\n}","size_bytes":6880},"CapybaraGame/Assets/Scripts/UI/GameOverScreen.cs":{"content":"using UnityEngine;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.Ad;\nusing System;\nusing SaveTheCapybara.Save;\n\nnamespace SaveTheCapybara.UI\n{\n    public class GameOverScreen : UIBase\n    {\n        [Header(\"UI Elements\")]\n        [SerializeField] private UIButton _restartButton;\n        [SerializeField] private UIButton _continueButton;\n        [SerializeField] private Transform _logoText;\n        [SerializeField] private CanvasGroup _backgroundCanvasGroup;\n\n        [Header(\"UI Settings\")]\n        [SerializeField] private float _UIShowDuration = 0.3f;\n\n        [Header(\"Ads Settings\")]\n        [SerializeField] private AdInterstitial _interstitialAd;\n        [SerializeField] private AdRewarded _rewardedHeroRevival;\n\n        private SaveService _saveService;\n        private LoadingScreenProvider _loadingScreenProvider;\n\n        public event Action OnGameContinued;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _restartButton.OnClicked += RestartGame;\n            _rewardedHeroRevival.OnRewardGotten += InvokeGameContinuing;\n        }\n\n        private void OnDisable()\n        {\n            _restartButton.OnClicked -= RestartGame;\n            _rewardedHeroRevival.OnRewardGotten -= InvokeGameContinuing;\n        }\n\n        #endregion\n\n        public void Init(\n            SaveService saveService,\n            LoadingScreenProvider loadingScreenProvider)\n        {\n            _saveService = saveService;\n            _loadingScreenProvider = loadingScreenProvider;\n        }\n\n        public override void Reveal()\n        {\n            base.Reveal();\n\n            var tweener = new ScreenTweener(_UIShowDuration);\n            tweener.ScaleTweenLogo(_logoText);\n            tweener.TweenButtonWithoutDelay(_restartButton.transform);\n            tweener.TweenButtonWithoutDelay(_continueButton.transform);\n\n            tweener.FadeIn(_backgroundCanvasGroup);\n        }\n\n        public void BlockContinuing() => \n            _continueButton.Interactable = false;\n\n        private async void RestartGame()\n        {\n            _saveService.Save();\n            \n            if (_interstitialAd.TryShowWithChance() == true)\n                return;\n            \n            await _loadingScreenProvider.LoadGameAsync();\n        }\n\n        private void InvokeGameContinuing()\n        {\n            _saveService.Save();\n            OnGameContinued?.Invoke();\n        }\n    }\n}","size_bytes":2423},"CapybaraGame/Assets/Scripts/UI/GameUI.cs":{"content":"using Zenject;\nusing SaveTheCapybara.Other;\nusing UnityEngine;\nusing UnityEngine.UI;\nusing SaveTheCapybara.Game;\nusing SaveTheCapybara.Ad;\nusing UnityTools;\n\nnamespace SaveTheCapybara.UI\n{\n    public class GameUI : UIBase\n    {\n        public const int GiveSwordButtonShowChance = 40;\n\n        [Header(\"UI Elements\")]\n        [SerializeField] private UIButton _pauseButton;\n        [SerializeField] private UIButton _giveSwordButton;\n        [SerializeField] private Slider _questBar;\n        [field: SerializeField] public JumpButton JumpButton { get; private set; }\n        [field: SerializeField] public JumpSlider JumpSlider { get; private set; }\n\n        [Header(\"Ads Settings\")]\n        [SerializeField] private AdRewarded _swordAdRewarded;\n\n        private PauseManager _pauseManager;\n        private PauseScreenProvider _pauseScreenProvider;\n        private ScreenTweener _tweener;\n\n\n        public AdRewarded SwordAdRewarded =>_swordAdRewarded;\n\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _pauseButton.OnClicked += PauseGame;\n            _giveSwordButton.OnClicked += DeactivateSwordButton;\n        }\n\n        private void OnDisable()\n        {\n            _pauseButton.OnClicked -= PauseGame;\n            _giveSwordButton.OnClicked -= DeactivateSwordButton;\n        }\n\n        private void Start()\n        {\n            _tweener = new ScreenTweener();\n\n            _giveSwordButton.transform.localScale = Vector2.zero;\n            bool isSucceeded = Tools.GetChance(GiveSwordButtonShowChance);\n            if (isSucceeded == true)\n                ShowGiveSwordButton();\n            \n            TweenQuestBar();\n        }\n\n        #endregion\n\n        public void InitQuestBarValues(float min, float max)\n        {\n            _questBar.minValue = min;\n            _questBar.maxValue = max;\n        }\n\n        public void UpdateQuestBar(float value)\n        {\n            // Different logic in future versions\n            if (_questBar == null)\n                return;\n\n            _questBar.value = value;\n\n            if (value >= _questBar.maxValue)\n                Destroy(_questBar.gameObject);\n        }\n\n        [Inject]\n        private void Construct(\n            PauseManager pauseManager,\n            PauseScreenProvider pauseScreenProvider)\n        {\n            _pauseManager = pauseManager;\n            _pauseScreenProvider = pauseScreenProvider;\n        }\n\n        private async void PauseGame()\n        {\n            _pauseManager.SetPaused(true);\n\n            await _pauseScreenProvider.Load();\n\n            Conceal();\n        }\n\n        private void ShowGiveSwordButton()\n        {\n            _tweener.TweenSwordButton(_giveSwordButton.transform);\n        }\n\n        private void DeactivateSwordButton()\n        {\n            _giveSwordButton.gameObject.SetActive(false);\n        }\n\n        private void TweenQuestBar()\n        {\n            _tweener.DisplayQuestBar(_questBar.transform);\n        }\n    }\n}","size_bytes":2976},"CapybaraGame/Assets/Scripts/UI/ImageScroller.cs":{"content":"using UnityEngine;\nusing UnityEngine.UI;\n\nnamespace Core.Common\n{\n    public class ImageScroller : MonoBehaviour\n    {\n        [SerializeField] private RawImage _image;\n\n        [Space]\n        [SerializeField] private Vector2 _scollDirection = new(-0.5f, -1f);\n        [SerializeField] private float _speedMultiplier = 0.004f;\n\n        private void FixedUpdate()\n        {\n            Rect rect = _image.uvRect;\n            rect.position = new Vector2(\n                rect.position.x + _scollDirection.x * _speedMultiplier,\n                rect.position.y + _scollDirection.y * _speedMultiplier);\n\n            _image.uvRect = rect;\n        }        \n    }\n}\n","size_bytes":660},"CapybaraGame/Assets/Scripts/UI/JumpButton.cs":{"content":"namespace SaveTheCapybara.UI\n{\n    public class JumpButton : UIButton { }\n}\n","size_bytes":76},"CapybaraGame/Assets/Scripts/UI/JumpSlider.cs":{"content":"using UnityEngine.UI;\nusing UnityEngine;\nusing SaveTheCapybara.Game;\nusing Zenject;\nusing SaveTheCapybara.Player;\n\nnamespace SaveTheCapybara.UI\n{\n    public class JumpSlider : MonoBehaviour\n    {\n        private const float LerpSpeedIncrease = 0.05f;\n        private const float MaxLerpSpeed = 0.7f;\n        private const float MinValue = 3f;\n        private const float StartLerpSpeed = 0.3f;\n\n        [SerializeField] private Slider _slider;\n\n        private float _lerpSpeed;\n        private JumpSliderState _state = JumpSliderState.LerpingUp;\n        private PauseManager _pauseManager;\n        private PlayerData _playerData;\n\n        public float LerpSpeedDecrease => _playerData.FinalLerpSpeedDecrease;\n        public float Value => _slider.value;\n        public bool IsPaused => _pauseManager.IsPaused;\n        public bool IsLerpingUp => _state == JumpSliderState.LerpingUp;\n        public bool IsValueOutOfMaxOrMin => \n            _slider.value >= _playerData.MaxDistance \n            || _slider.value <= MinValue;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            _lerpSpeed = StartLerpSpeed;\n            _slider.value = _slider.minValue;\n            UpdateSliderProperties();\n        }\n\n        private void FixedUpdate()\n        {\n            if (IsPaused)\n                return;\n\n            LerpValue();\n        }\n\n        #endregion\n\n        [Inject]\n        private void Construct(\n            PauseManager pauseManager,\n            PlayerData playerData)\n        {\n            _pauseManager = pauseManager;\n            _playerData = playerData;\n        }\n\n        public void TryIncreaseLerpSpeed()\n        {\n            float increased = _lerpSpeed + LerpSpeedIncrease;\n            if (increased > MaxLerpSpeed)\n                return;\n                \n            _lerpSpeed = increased;\n        }\n\n        public void TryDecreaseLerpSpeed()\n        {\n            float decreased = _lerpSpeed - LerpSpeedDecrease;\n            if (decreased < StartLerpSpeed)\n                return;\n\n            _lerpSpeed = decreased;\n        }\n\n        private void UpdateSliderProperties()\n        {\n            _slider.maxValue = _playerData.MaxDistance;\n            _slider.minValue = MinValue;\n        }\n\n        private void LerpValue()\n        {\n            LerpValueByDirection();\n\n            if (IsValueOutOfMaxOrMin)\n                ChangeLerpDirection();\n        }\n\n        private void LerpValueByDirection()\n        {\n            _slider.value = IsLerpingUp\n                ? _slider.value + _lerpSpeed\n                : _slider.value - _lerpSpeed;\n        }\n\n        private void ChangeLerpDirection()\n        {\n            _state = IsLerpingUp\n                ? JumpSliderState.LerpingDown\n                : JumpSliderState.LerpingUp;\n        }\n    }\n}","size_bytes":2805},"CapybaraGame/Assets/Scripts/UI/JumpSliderState.cs":{"content":"namespace SaveTheCapybara.UI\n{\n    public enum JumpSliderState\n    {\n        LerpingUp = 0,\n        LerpingDown = 1\n    }\n}","size_bytes":123},"CapybaraGame/Assets/Scripts/UI/PauseScreen.cs":{"content":"using SaveTheCapybara.Other;\nusing UnityEngine;\nusing System;\nusing SaveTheCapybara.Game;\n\nnamespace SaveTheCapybara.UI\n{\n    public class PauseScreen : UIBase\n    {\n        [SerializeField] private UIButton _backToGameButton;\n        [SerializeField] private UIButton _restartButton;\n\n        private PauseManager _pauseManager;\n        private GameUI _gameUI;\n        private LoadingScreenProvider _loadingScreenProvider;\n        private bool isInitialized = false;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _backToGameButton.OnClicked += ReturnToGame;\n            _restartButton.OnClicked += RestartGame;\n        }\n\n        private void OnDisable()\n        {\n            _backToGameButton.OnClicked -= ReturnToGame;\n            _restartButton.OnClicked -= RestartGame;\n        }\n\n        #endregion\n        \n        public void Init(\n            PauseManager pauseManager,\n            GameUI gameUI,\n            LoadingScreenProvider loadingScreenProvider)\n        {\n            _pauseManager = pauseManager;\n            _gameUI = gameUI;\n            _loadingScreenProvider = loadingScreenProvider;\n\n            isInitialized = true;\n        }\n\n        private void ReturnToGame()\n        {\n            if (isInitialized == false)\n                throw new InvalidOperationException(\"The component wasn't initialized! Call Init() first.\");\n\n            _pauseManager.SetPaused(false);\n\n            Conceal();\n            _gameUI.Reveal();\n        }\n\n        private async void RestartGame() =>\n            await _loadingScreenProvider.LoadGameAsync();\n    }\n}\n","size_bytes":1607},"CapybaraGame/Assets/Scripts/UI/RewardBlock.cs":{"content":"using System.Collections.Generic;\nusing SaveTheCapybara.Player;\nusing TMPro;\nusing UnityEngine;\nusing UnityEngine.Localization;\nusing UnityEngine.Localization.Components;\nusing UnityEngine.UI;\n\nnamespace SaveTheCapybara.UI\n{\n    public class RewardBlock : MonoBehaviour\n    {\n        [Header(\"Localization\")]\n        [SerializeField] private LocalizedString _collectedAlias;\n        [SerializeField] private LocalizedString _rewardAlias;\n        [SerializeField] private LocalizedString _defeatedAlias;\n        \n        [Header(\"Block\")]\n        [SerializeField] private LocalizeStringEvent _localizedRewardTypeTMP;\n        [SerializeField] private TMP_Text _amountTMP;\n        [SerializeField] private Image _resourceImage;\n        \n        [Header(\"Settings\")]\n        [SerializeField] private Sprite _coinSprite;\n        [SerializeField] private Sprite _foodSprite;\n        \n        [Header(\"Settings\")]\n        [SerializeField] private Color _neutralColor;\n        [SerializeField] private Color _positiveColor;\n\n        private readonly Dictionary<LevelPlaythrough.RewardType, LocalizedString> _rewardTypeAliases = new();\n        private readonly Dictionary<LevelPlaythrough.ResourceType, Sprite> _resourceTypeSprites = new();\n\n        private void Awake()\n        {\n            _rewardTypeAliases[LevelPlaythrough.RewardType.Collected] = _collectedAlias;\n            _rewardTypeAliases[LevelPlaythrough.RewardType.Reward] = _rewardAlias;\n            _rewardTypeAliases[LevelPlaythrough.RewardType.Defeated] = _defeatedAlias;\n            \n            _resourceTypeSprites[LevelPlaythrough.ResourceType.Coins] = _coinSprite;\n            _resourceTypeSprites[LevelPlaythrough.ResourceType.Food] = _foodSprite;\n        }\n\n        public void Initialize(LevelPlaythrough.Reward reward)\n        {\n            _localizedRewardTypeTMP.StringReference = _rewardTypeAliases[reward.Type];\n            _localizedRewardTypeTMP.StringReference.RefreshString();\n            \n            _amountTMP.SetText(reward.Amount.ToString());\n            _resourceImage.sprite = _resourceTypeSprites[reward.Resource];\n\n            if (reward.Amount <= 0)\n            {\n                _amountTMP.color = _neutralColor;\n                return;\n            }\n            \n            _amountTMP.color = _positiveColor;\n        }\n    }\n}","size_bytes":2315},"CapybaraGame/Assets/Scripts/UI/ShopMenuScreen.cs":{"content":"using System;\nusing SaveTheCapybara.Player;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.UI\n{\n    public class ShopMenuScreen : UIBase\n    {\n        [SerializeField] private UIButton _backButton;\n        [SerializeField] private UIButton _consumableButton;\n        [SerializeField] private UIButton _nonConsumableButton;\n        [SerializeField] private ResourcePanel _resourcePanel;\n\n        private PlayerData _playerData;\n        private PurchaseManager _purchaseManager;\n\n        private bool ConsumablePurchasable =>\n            Application.internetReachability != NetworkReachability.NotReachable &&\n            (_purchaseManager != null && _purchaseManager.IsFullInitialized == true);\n                                              \n        private bool NonConsumablePurchasable =>\n            _purchaseManager != null &&\n            _purchaseManager.HasReceiptNonConsumable == false &&\n            Application.internetReachability != NetworkReachability.NotReachable &&\n            _purchaseManager.IsFullInitialized == true;\n\n        public event Action OnScreenClosed;\n\n        private void Awake()\n        {\n            transform.SetAsFirstSibling();\n        }\n\n        private void OnEnable()\n        {\n            _consumableButton.Interactable = ConsumablePurchasable;\n            _nonConsumableButton.Interactable = NonConsumablePurchasable;\n            \n            _backButton.OnClicked += OnBackButtonClickedHandler;\n            _consumableButton.OnClicked += OnConsumablePurchaseHandler;\n            _nonConsumableButton.OnClicked += OnNonConsumablePurchaseHandler;\n        }\n\n        private void OnDisable()\n        {\n            _backButton.OnClicked -= OnBackButtonClickedHandler;\n            _consumableButton.OnClicked += OnConsumablePurchaseHandler;\n            _nonConsumableButton.OnClicked += OnNonConsumablePurchaseHandler;\n        }\n\n        public void Init(PlayerData playerData, PurchaseManager purchaseManager)\n        {\n            _playerData = playerData;\n            _purchaseManager = purchaseManager;\n            \n            _resourcePanel.Init(_playerData);\n        }\n        \n        private void OnBackButtonClickedHandler()\n        {\n            OnScreenClosed?.Invoke();\n        }\n        \n        private void OnConsumablePurchaseHandler()\n        {\n            _purchaseManager.InitiateConsumablePurchase();\n            UpdateResources();\n        }\n        \n        private void OnNonConsumablePurchaseHandler()\n        {\n            _purchaseManager.InitiateNonConsumablePurchase();\n            UpdateResources();\n        }\n\n        private void UpdateResources()\n        {\n            _resourcePanel.DisplayResources();\n        }\n    }\n}","size_bytes":2688},"CapybaraGame/Assets/Scripts/UI/SocialMediaLinker.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.UI\n{\n    public class SocialMediaLinker : MonoBehaviour\n    {\n        public const string TelegramUrl = \"https://t.me/GrishaMakingGames\";\n        public const string YouTubeUrl = \"https://www.youtube.com/@GrishaMakingGames/featured\";\n\n        [SerializeField] private UIButton _telegramButton;\n        [SerializeField] private UIButton _youtubeButton;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _telegramButton.OnClicked += OpenTelegramUrl;   \n            _youtubeButton.OnClicked += OpenYoutubeUrl;   \n        }\n\n        private void OnDisable()\n        {\n            _telegramButton.OnClicked -= OpenTelegramUrl;   \n            _youtubeButton.OnClicked -= OpenYoutubeUrl;   \n        }\n\n        #endregion\n\n        private void OpenTelegramUrl() => Application.OpenURL(TelegramUrl);\n\n        private void OpenYoutubeUrl() => Application.OpenURL(YouTubeUrl);\n    }\n}","size_bytes":955},"CapybaraGame/Assets/Scripts/UI/TweenClickable.cs":{"content":"using DG.Tweening;\nusing UnityEngine;\nusing UnityEngine.EventSystems;\n\nnamespace SaveTheCapybara.UI\n{\n    public class TweenClickable : MonoBehaviour, IPointerDownHandler, IPointerUpHandler\n    {\n        private const float ClickScale = 0.85f;\n        private const float ClickTweenDuration = 0.08f;\n        \n        [SerializeField] private bool _isTweenClickable = true;\n        \n        private bool _isTweeningScale = false;\n        \n        public virtual void OnPointerDown(PointerEventData eventData)\n        {\n            if (_isTweeningScale == false && _isTweenClickable == true)\n            {\n                _isTweeningScale = true;\n                transform.DOScale(ClickScale, ClickTweenDuration);\n            }\n        }\n\n        public virtual void OnPointerUp(PointerEventData eventData)\n        {\n            if (_isTweeningScale == true && _isTweenClickable == true)\n            {\n                transform.DOScale(1f, ClickTweenDuration);\n                _isTweeningScale = false;\n            }\n        }\n    }\n}\n","size_bytes":1033},"CapybaraGame/Assets/Scripts/UI/UIBase.cs":{"content":"using Core.Audio;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.UI\n{\n    [DisallowMultipleComponent]\n    public class UIBase : MonoBehaviour\n    {\n        public void InitAudioHandler(IAudioHandler audioHandler)\n        {\n            UIButton[] buttons = GetComponentsInChildren<UIButton>();\n            foreach (UIButton button in buttons)\n            {\n                button.AudioHandler = audioHandler;\n            }\n        }\n\n        public virtual void Reveal()\n        {\n            gameObject.SetActive(true);       \n        }\n\n        public virtual void Conceal()\n        {\n            gameObject.SetActive(false);\n        }\n    }\n}\n","size_bytes":644},"CapybaraGame/Assets/Scripts/UI/UIButton.cs":{"content":"ï»¿using System;\nusing Core.Audio;\nusing DG.Tweening;\nusing TMPro;\nusing UnityEngine;\nusing UnityEngine.EventSystems;\nusing UnityEngine.UI;\nusing Zenject;\n\nnamespace SaveTheCapybara.UI\n{\n    public class UIButton : TweenClickable\n    {\n        private const float LockShakeDuration = 0.3f;\n        private const float LockShakeStrength = 9f;\n        private const int LockShakeVibration = 10;\n    \n        [Header(\"Settings\")]\n        [SerializeField] private bool _playSound = true;\n    \n        [Header(\"Components\")]\n        [SerializeField] private Button _button;\n        [SerializeField] private Image _image;\n        [SerializeField] private TMP_Text _tmp;\n\n        [Header(\"Graphics\")]\n        [SerializeField] private Sprite _normalSprite;\n        [SerializeField] private Sprite _disabledSprite;\n\n        [Space]\n        [SerializeField] private Color _textNormalColor = Color.white;\n        [SerializeField] private Color _textDisabledColor = Color.grey;\n\n        public IAudioHandler AudioHandler { get; set; }\n\n        public TMP_Text TMP => _tmp;\n\n        public bool Interactable\n        {\n            get => _button.interactable;\n            set\n            {\n                _button.interactable = value;\n                _image.sprite = value == true\n                    ? _normalSprite\n                    : _disabledSprite;\n\n                _tmp.color = value == true\n                    ? _textNormalColor\n                    : _textDisabledColor;\n            }\n        }\n\n        public event Action OnClickStarted;\n        public event Action OnClicked;\n        public event Action OnClickEnded;\n\n        #region MonoBehaviour\n\n        private void OnEnable() => \n            _button.onClick.AddListener(PerformClick);\n\n        private void OnDisable() => \n            _button.onClick.RemoveAllListeners();\n\n        #endregion\n\n        [Inject]\n        private void Construct(IAudioHandler audioHandler) =>\n            AudioHandler = audioHandler;\n\n        public override void OnPointerDown(PointerEventData eventData)\n        {\n            if (Interactable == true)\n            {\n                OnClickStarted?.Invoke();\n                base.OnPointerDown(eventData);\n            }\n        }\n\n        public override void OnPointerUp(PointerEventData eventData)\n        {\n            if (Interactable == true)\n            {\n                OnClickEnded?.Invoke();\n                base.OnPointerUp(eventData);\n            }\n            else\n            {\n                Shake();\n            }\n        }\n\n        public void Shake() =>\n            transform.DOShakePosition(LockShakeDuration, LockShakeStrength, LockShakeVibration);\n        \n        public void SetActive(bool active) => \n            gameObject.SetActive(active);\n\n        private void PerformClick()\n        {\n            if (AudioHandler != null && _playSound == true)\n                AudioHandler.PlaySound(AudioName.Button, true);\n            \n            OnClicked?.Invoke();\n        }\n    }\n}","size_bytes":2989},"CapybaraGame/Assets/Scripts/UI/UIText.cs":{"content":"using UnityEngine;\nusing TMPro;\n\nnamespace SaveTheCapybara.UI\n{\n    public class UIText : MonoBehaviour\n    {\n        [SerializeField] private TextMeshProUGUI _text;\n        [SerializeField] private string _prefix;\n        [SerializeField] private bool _addSpaceAfterPrefix;\n\n        private void OnValidate()\n        {\n            if (_addSpaceAfterPrefix == true)\n                _prefix = $\"{_prefix} \";\n        }\n\n        public void UpdateText(string text) => _text.text = $\"{_prefix}\" + text;\n    }\n}\n","size_bytes":507},"CapybaraGame/Assets/Scripts/UI/UpgradeBlock.cs":{"content":"using UnityEngine;\nusing TMPro;\n\nnamespace SaveTheCapybara.UI\n{\n    public class UpgradeBlock : MonoBehaviour\n    {\n        private const int CostIncrease = 15;\n\n        [SerializeField] private UIButton _button;\n        [SerializeField] private TextMeshProUGUI _costText;\n\n        public UIButton Button => _button;\n        public int Cost { get; private set; } = 15;\n\n        public void Init(int cost)\n        {\n            Cost = cost;\n            UpdateCostText();\n            _button.Interactable = true;\n        }\n\n        public void HandleUpgrade()\n        {\n            Cost += CostIncrease;\n            UpdateCostText();\n        }\n\n        public void BlockButton()\n        {\n            _button.Interactable = false;\n        }\n\n        private void UpdateCostText() => _costText.text = $\"{Cost}\";\n    }\n}\n","size_bytes":817},"CapybaraGame/Assets/Scripts/UI/UpgradeScreen.cs":{"content":"using UnityEngine;\nusing SaveTheCapybara.Player;\nusing System;\nusing System.Collections.Generic;\nusing SaveTheCapybara.Save;\nusing SaveTheCapybara.Other;\nusing SaveTheCapybara.Ad;\nusing Core.Audio;\nusing Core.Player;\nusing Core.UI;\nusing TMPro;\nusing UnityEngine.Localization.Components;\nusing UnityEngine.UI;\n\nnamespace SaveTheCapybara.UI\n{\n    public class UpgradeScreen : UIBase\n    {\n        [Header(\"UI Elements\")]\n        [SerializeField] private UIButton _backButton;\n        [SerializeField] private UpgradeBlock _commonUpgrade;\n        [SerializeField] private Slider _levelUpgradeSlider;\n        [SerializeField] private Slider _nextLevelSlider;\n        [SerializeField] private LocalizeStringEvent _levelLocalizeEvent;\n        [SerializeField] private TMP_Text _levelTMP;\n        // [SerializeField] private ResetProgressService _resetService;\n        \n        [Header(\"Skins Components\")]\n        [SerializeField] private SkinsPanel _skinsPanel;\n        [SerializeField] private SkinPlacementPanel _skinPlacement;\n        [SerializeField] private ResourcePanel _resourcePanel;\n\n        [Header(\"Ads Settings\")]\n        [SerializeField] private AdInterstitial _interstitialAd;\n        [SerializeField] private AdRewarded _rewardedCoins;\n        [SerializeField] private Vector2Int _minMaxRewardedCoins = new Vector2Int(5, 31);\n\n        private PlayerData _playerData;\n        private SaveService _saveService;\n        private IAudioHandler _audioHandler;\n        private HeroSkins _heroSkins;\n        private HeroMenuPresenter _presenter;\n        private SkinPreset _displayedSkin;\n        private SkinPreset _selectedSkin;\n\n        public event Action OnScreenClosed;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            transform.SetAsFirstSibling();\n            _presenter = new(_playerData, _heroSkins, this);\n        }\n\n        private void OnEnable()\n        {\n            _backButton.OnClicked += OnBackButtonClickedHandler;\n            _rewardedCoins.OnRewardGotten += AddRewardedCoins;\n            _levelLocalizeEvent.OnUpdateString.AddListener(UpdateLevelText);\n\n            // _jumpDistanceUpgrade.Button.OnClicked += TryUpdgradeJumpDistance;\n            _commonUpgrade.Button.OnClicked += TryCommonUpgrade;\n\n            // NEW\n            _skinsPanel.ItemDisplayCommand += DisplayItem;\n            _skinPlacement.BuyButtonCommand += OnSkinBuyButtonClicked;\n            _skinPlacement.SelectButtonCommand += OnSelectButtonClicked;\n            \n            // â€“â€“â€“â€“â€“Revealâ€“â€“â€“â€“â€“\n            \n            _commonUpgrade.Init(_playerData.CommonUpgradeCost);\n            ValidateCommonUpgradeButton();\n            UpdateLevelInfo();\n            \n            _presenter.OnViewReveal();\n            _presenter.SetPanelsByAvailability(_displayedSkin.Name);\n\n            DisplayItem(_displayedSkin.Name);\n            UpdateView();\n        }\n\n        private void OnDisable()\n        {\n            _backButton.OnClicked -= OnBackButtonClickedHandler;\n            _rewardedCoins.OnRewardGotten -= AddRewardedCoins;\n            _levelLocalizeEvent.OnUpdateString.RemoveListener(UpdateLevelText);\n\n            // _jumpDistanceUpgrade.Button.OnClicked -= TryUpdgradeJumpDistance;\n            _commonUpgrade.Button.OnClicked -= TryCommonUpgrade;\n            \n            // NEW\n            _skinsPanel.ItemDisplayCommand -= DisplayItem;\n            _skinPlacement.BuyButtonCommand -= OnSkinBuyButtonClicked;\n            _skinPlacement.SelectButtonCommand -= OnSelectButtonClicked;\n        }\n\n        #endregion\n\n        public void Init(\n            PlayerData playerData,\n            SaveService saveService,\n            LoadingScreenProvider loadingScreenProvider,\n            HeroSkins heroSkins,\n            IAudioHandler audioHandler)\n        {\n            _playerData = playerData;\n            _saveService = saveService;\n            _heroSkins = heroSkins;\n            _audioHandler = audioHandler;\n            \n            _resourcePanel.Init(_playerData);\n\n            // _jumpDistanceUpgrade.Init(_playerData.DistanceUpgradeCost);\n            // _foodBonusUpgrade.Init(_playerData.FoodUpgradeCost);\n            // _resetService.Init(\n            //     saveService,\n            //     loadingScreenProvider);\n        }\n\n        private void OnBackButtonClickedHandler()\n        {\n            OnScreenClosed?.Invoke();\n        }\n\n        private void AddRewardedCoins()\n        {\n            int minInclusive = _minMaxRewardedCoins.x;\n            int maxExclusive = _minMaxRewardedCoins.y;\n\n            _playerData.AddRandomAdCoins(minInclusive, maxExclusive);\n            _resourcePanel.DisplayResources();\n        }\n\n        private void TryCommonUpgrade()\n        {\n            bool isOperationSucceeded = _playerData\n                .TrySubstractCoins(_commonUpgrade);\n\n            if (isOperationSucceeded == false)\n                return;\n            \n            _audioHandler.PlaySound(AudioName.CoinsSpent);\n\n            _commonUpgrade.HandleUpgrade();\n            _playerData.UpgradeFoodBonus(_commonUpgrade);\n\n            HandleUpgrade();\n        }\n\n        private void HandleUpgrade()\n        {\n            UpdateLevelInfo();\n            \n            ValidateCommonUpgradeButton();\n            \n            _levelLocalizeEvent.RefreshString();\n            \n            _resourcePanel.DisplayResources();\n            \n            _saveService.Save();\n            _interstitialAd.TryShowWithChance();\n        }\n\n        private void UpdateLevelInfo()\n        {\n            _levelUpgradeSlider.value = _playerData.CurrentLevel;\n            _nextLevelSlider.value = _playerData.CurrentLevel + 1;\n        }\n\n        private void UpdateLevelText(string text)\n        {\n            _levelTMP.text = string.Format(text, _playerData.CurrentLevel);\n        }\n\n        private void ValidateCommonUpgradeButton()\n        {\n            if (_playerData.Coins < _commonUpgrade.Cost)\n                _commonUpgrade.BlockButton();\n        }\n        \n        // â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“\n        \n        \n        public void InitializeSkins(SkinPreset current, IEnumerable<SkinPreset> presets)\n        {\n            _skinsPanel.CreateItems(presets);\n\n            _displayedSkin = current;\n            _skinsPanel.CommandItemDisplay(current.Name);\n        }\n\n        public void SetSkinBuyable(bool canBuy) => \n            _skinPlacement.SetBuyState(_displayedSkin.FoodCost, canBuy);\n\n        public void SetSkinSelectableState() => \n            _skinPlacement.SetSelectableState();\n\n        public void SetSkinSelectedState()\n        {\n            _skinPlacement.SetSelectedState();\n\n            if (_selectedSkin != null)\n                _skinsPanel.SetSelected(_selectedSkin.Name, false);\n\n            _selectedSkin = _displayedSkin;\n\n            _skinsPanel.SetSelected(_displayedSkin.Name, true);\n        }\n\n        public SkinPreset GetDisplayedSkin() =>\n            _displayedSkin;\n\n        [Obsolete]\n        public void UpdateLevelData(int cost, int heroLevel)\n        {\n            // _costTMP.SetText(string.Format(CostFormat, cost));\n            // _heroLevelTMP.SetText(string.Format(LevelFormat, heroLevel));\n        }\n\n        [Obsolete]\n        public void UpdateUpgradeButton(bool canUpgradeHero)\n        {\n            // _heroUpgradeButton.Interactable = canUpgradeHero;\n            //\n            // if (canUpgradeHero == true)\n            //     _costTMP.color = _costAvailableColor;\n            // else\n            //     _costTMP.color = _costLockedColor;\n        }\n\n        [Obsolete]\n        private void OnUpgradeButtonClicked()\n        {\n            _audioHandler.PlaySound(AudioName.CoinsSpent);\n            \n            UpgradeHero();\n            // _mediationService.ShowInterstitial();\n        }\n\n        [Obsolete]\n        private void ForceUpgrade()\n        {\n            _presenter.UpgradeHero(true);\n            \n            UpdateView();\n        }\n\n        private void UpdateView()\n        {\n            UpdateLevelData();\n            ValidateUpgradeButton();\n        }\n\n        [Obsolete]\n        private void UpgradeHero()\n        {\n            _presenter.UpgradeHero();\n            \n            UpdateView();\n        }\n\n        private void UpdateLevelData()\n        {\n            _resourcePanel.DisplayResources();\n            \n            _presenter.OnUpdateLevelData();\n        }\n\n        private void ValidateUpgradeButton() => \n            _presenter.ValidateUpgradeButton();\n\n        private void DisplayItem(SkinName name)\n        {\n            SkinPreset preset = _presenter.GetPresetByName(name);\n            _displayedSkin = preset;\n            \n            _skinPlacement.DisplayPreset(preset);\n\n            _presenter.SetPanelsByAvailability(name);\n        }\n\n        private void OnSkinBuyButtonClicked()\n        {\n            _audioHandler.PlaySound(AudioName.FoodBite);\n            \n            _presenter.OnSkinBuyButtonClicked(_displayedSkin);\n            _resourcePanel.DisplayResources();\n            \n            _saveService.Save();\n        }\n\n        private void OnSelectButtonClicked()\n        {\n            _presenter.OnSelectButtonClicked(_displayedSkin);\n            \n            _saveService.Save();\n        }\n    }\n}","size_bytes":9468},"CapybaraGame/Assets/Scripts/UnityTools/Axis.cs":{"content":"public static class Axis\n{\n    public const string Horizontal = nameof(Horizontal);\n    public const string Vertical = nameof(Vertical);\n    public const string MouseX = \"Mouse X\";\n    public const string MouseY = \"Mouse Y\";\n    public const string Fire1 = nameof(Fire1);\n    public const string Fire2 = nameof(Fire2);\n    public const string Fire3 = nameof(Fire3);\n    public const string Jump = nameof(Jump);\n    public const string MouseScrollWheel = \"Mouse ScrollWheel\";\n}\n","size_bytes":477},"CapybaraGame/Assets/Scripts/UnityTools/ComponentExtensions.cs":{"content":"ï»¿using UnityEngine;\n\nnamespace UnityTools\n{\n\tpublic static class ComponentExtensions\n\t{\n\t\tpublic static bool TryGetComponentInParent<T>(this Component component, out T item)\n\t\t\twhere T : MonoBehaviour\n\t\t{\n\t\t\tvar parent = component.transform.parent;\n\t\t\treturn parent.TryGetComponent<T>(out item);\n\t\t}\n\n        public static bool TryGetComponentsInParent<T>(this Component component, out T[] items)\n\t\t\twhere T : MonoBehaviour\n        {\n            var parent = component.transform.parent;\n\t\t\titems = parent.GetComponents<T>();\n\t\t\treturn items != null;\n        }\n\n        public static bool TryGetComponentInChildren<T>(this Component component, out T item)\n            where T : MonoBehaviour\n        {\n            item = component.GetComponentInChildren<T>();\n            return item != null;\n        }\n\n        public static bool TryGetComponentsInChildren<T>(this Component component, out T[] items)\n            where T : MonoBehaviour\n        {\n            items = component.GetComponentsInChildren<T>();\n            return items != null;\n        }\n    }\n}","size_bytes":1060},"CapybaraGame/Assets/Scripts/UnityTools/GameObjectExtensions.cs":{"content":"ï»¿using System.Collections.Generic;\nusing UnityEngine;\n\nnamespace UnityTools\n{\n    public static class GameObjectExtensions\n    {\n        /// <summary>\n        /// Returns array with all materials attached to GameObject\n        /// </summary\n        public static Material[] GetAllMaterials(this GameObject gameObject)\n        {\n            Renderer[] renderers = gameObject.GetComponentsInChildren<Renderer>();\n            var materials = new List<Material>();\n            foreach (var renderer in renderers)\n                materials.Add(renderer.material);\n\n            return materials.ToArray();\n        }\n    }\n}","size_bytes":619},"CapybaraGame/Assets/Scripts/UnityTools/INonMonoEventSubscriber.cs":{"content":"ï»¿namespace UnityTools\n{\n    /// <summary>\n    /// Class must disables all events\n    /// </summary>\n    public interface INonMonoEventSubscriber\n    {\n        void Disable();\n    }\n}","size_bytes":184},"CapybaraGame/Assets/Scripts/UnityTools/ITMProUpdater.cs":{"content":"ï»¿using TMPro;\nusing UnityEngine;\n\nnamespace UnityTools\n{\n    public abstract class ITMProUpdater : MonoBehaviour\n    {\n        protected void UpdateText(TextMeshProUGUI TMPText, string text)\n        {\n            TMPText.text = text;\n        }\n    }\n}","size_bytes":253},"CapybaraGame/Assets/Scripts/UnityTools/Timer.cs":{"content":"using System;\nusing UnityEngine;\n\nnamespace UnityTools\n{\n    public class Timer : MonoBehaviour\n    {\n        [SerializeField] private int _cooldown = 2;\n\n        private float _time = 0;\n        private int _timeInSeconds = 0;\n        private int _checkedTime = 0;\n\n        public Action OnCooldownPassed;\n\n        #region MonoBehaviour\n\n        private void Update()\n        {\n            _timeInSeconds = GetTimeInSeconds();\n\n            if (IsRightCooldown())\n            {\n                OnCooldownPassed?.Invoke();\n                _checkedTime = _timeInSeconds;\n            }\n        }\n\n        #endregion\n\n        private int GetTimeInSeconds()\n        {\n            _time += Time.deltaTime;\n\n            return Mathf.RoundToInt(_time);\n        }\n\n        private bool IsRightCooldown()\n        {\n            if ((_timeInSeconds % _cooldown) != 0\n                || _timeInSeconds <= _checkedTime)\n                return false;\n\n            return true;\n        }\n    }\n}\n","size_bytes":980},"CapybaraGame/Assets/Scripts/UnityTools/Tools.cs":{"content":"ï»¿using System;\nusing UnityEngine;\nusing Random = UnityEngine.Random;\n\nnamespace UnityTools\n{\n    public static class Tools\n    {\n        public static bool GetChance(int chance)\n        {\n            int randomChance = Random.Range(0, 101);\n            return chance >= randomChance;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider container has component requested as generic type.\n        /// Component of given generic type is used as argument for methods.\n        /// </summary>\n        public static bool InvokeIfNotNull<T>(Collider container, params Action<T>[] handlers)\n        {\n            var component = container.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isNotComponentNull;\n        }\n\n        public static bool InvokeIfNotNull<T>(Collision2D container, params Action<T>[] handlers)\n        {\n            var component = container.transform.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isNotComponentNull;\n        }\n\n        public static bool InvokeIfNotNull<T>(Collision2D container, params Action<Collision2D>[] handlers)\n        {\n            var component = container.transform.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke(container);\n\n            return isNotComponentNull;\n        }\n\n        public static bool InvokeIfNotNull<T>(Collision2D container, params Action[] handlers)\n        {\n            var component = container.transform.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isNotComponentNull;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider container has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNull<T>(Collider container, params Action[] handlers)\n        {\n            var component = container.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isNotComponentNull;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider2D container has component requested as generic type.\n        /// Component of given generic type is used as argument for methods.\n        /// </summary>\n        public static bool InvokeIfNotNull<T>(Collider2D container, params Action<T>[] handlers)\n        {\n            var component = container.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isNotComponentNull;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider2D container has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNull<T>(Collider2D container, params Action[] handlers)\n        {\n            var component = container.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isNotComponentNull;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collision container has component requested as generic type.\n        /// Component of given generic type is used as argument for methods.\n        /// </summary>\n        public static bool InvokeIfNotNull<T>(Collision collision, params Action<T>[] handlers)\n        {\n            var container = collision.collider;\n            var component = container.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isNotComponentNull;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collision container has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNull<T>(Collision collision, params Action[] handlers)\n        {\n            var container = collision.collider;\n            var component = container.GetComponent<T>();\n            var isNotComponentNull = component != null;\n            if (isNotComponentNull)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isNotComponentNull;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider container's parent has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNullInParent<T>(Collider container, params Action<T>[] handlers)\n        {\n            var component = container.GetComponentInParent<T>();\n            var isSucceed = component != null;\n            if (isSucceed)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isSucceed;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider container's parent has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNullInParent<T>(Collider container, params Action[] handlers)\n        {\n            var component = container.GetComponentInParent<T>();\n            var isSucceed = component != null;\n            if (isSucceed)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isSucceed;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider2D container's parent has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNullInParent<T>(Collider2D container, params Action<T>[] handlers)\n        {\n            var component = container.GetComponentInParent<T>();\n            var isSucceed = component != null;\n            if (isSucceed)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isSucceed;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collider2D container's parent has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNullInParent<T>(Collider2D container, params Action[] handlers)\n        {\n            var component = container.GetComponentInParent<T>();\n            var isSucceed = component != null;\n            if (isSucceed)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isSucceed;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collision container's parent has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNullInParent<T>(Collision collision, params Action<T>[] handlers)\n        {\n            var container = collision.collider;\n            var component = container.GetComponentInParent<T>();\n            var isSucceed = component != null;\n            if (isSucceed)\n                foreach (var handler in handlers)\n                    handler?.Invoke(component);\n\n            return isSucceed;\n        }\n\n        /// <summary>\n        /// Invokes given methods if Collision container's parent has component requested as generic type.\n        /// </summary>\n        public static bool InvokeIfNotNullInParent<T>(Collision collision, params Action[] handlers)\n        {\n            var container = collision.collider;\n            var component = container.GetComponentInParent<T>();\n            var isSucceed = component != null;\n            if (isSucceed)\n                foreach (var handler in handlers)\n                    handler?.Invoke();\n\n            return isSucceed;\n        }\n\n        /// <summary>\n        /// Takes other methods via Action param and invokes each method\n        /// with given argument.\n        /// </summary>\n        public static void InvokeWithSameArgs<T>(T arg, params Action<T>[] actions)\n        {\n            foreach (var action in actions)\n                action?.Invoke(arg);\n        }\n\n        /// <summary>\n        /// Invokes given methods with given percent chance\n        /// </summary>\n        public static bool InvokeWithChance(int percentChance, params Action[] actions)\n        {\n            var random = Random.Range(0, 101);\n            var isChanceOccured = random <= percentChance;\n            if (isChanceOccured)\n                foreach (var action in actions)\n                    action?.Invoke();\n\n            return isChanceOccured;\n        }\n    }\n}","size_bytes":9265},"CapybaraGame/Assets/Scripts/UnityTools/UnityArrayExtensions.cs":{"content":"using System;\nusing Random = UnityEngine.Random;\n\nnamespace UnityTools\n{\n    public static class UnityArrayExtensions\n    {\n        public static void TryShuffleArray<T>(this Array array)\n        {\n            if (array.Length < 2)\n                return;\n\n            var newArray = array.Clone() as T[];\n            for (int i = 0; i < newArray.Length; i++)\n            {\n                var temp = newArray[i];\n                var random = Random.Range(0, newArray.Length);\n\n                newArray[i] = newArray[random];\n                newArray[random] = temp;\n            }\n\n            Array.Copy(newArray, array, array.Length);\n        }\n\n        public static T GetRandomItem<T>(this Array array)\n        {\n            int random = Random.Range(0, array.Length);\n            return (T)array.GetValue(random);\n        }\n\n        public static int GetRandomIndex(this Array array)\n        {\n            return Random.Range(0, array.Length);\n        }\n    }\n}\n","size_bytes":967},"CapybaraGame/Assets/Scripts/WebGL/WebGLRewardManager.cs":{"content":"using System.Runtime.InteropServices;\nusing UnityEngine;\nusing SaveTheCapybara.Player;\n\nnamespace SaveTheCapybara.WebGL\n{\n    public class WebGLRewardManager : MonoBehaviour\n    {\n        [DllImport(\"__Internal\")]\n        private static extern void SendScoreToReact(int score);\n        \n        [DllImport(\"__Internal\")]\n        private static extern void SendGameCompleteToReact(int survivalTime, int capybarasProtected, int finalScore);\n        \n        [DllImport(\"__Internal\")]\n        private static extern void SendCapybaraSavedToReact(int count);\n\n        private static WebGLRewardManager instance;\n        public static WebGLRewardManager Instance => instance;\n\n        private int currentScore = 0;\n        private int capybarasProtected = 0;\n        private float gameStartTime;\n        private bool gameInProgress = false;\n\n        private void Awake()\n        {\n            if (instance == null)\n            {\n                instance = this;\n                DontDestroyOnLoad(gameObject);\n            }\n            else\n            {\n                Destroy(gameObject);\n            }\n        }\n\n        public void StartGame()\n        {\n            gameStartTime = Time.time;\n            gameInProgress = true;\n            currentScore = 0;\n            capybarasProtected = 0;\n            Debug.Log(\"Game started - tracking rewards\");\n        }\n\n        public void UpdateScore(int newScore)\n        {\n            currentScore = newScore;\n            \n            #if UNITY_WEBGL && !UNITY_EDITOR\n            try \n            {\n                SendScoreToReact(newScore);\n            }\n            catch (System.Exception e)\n            {\n                Debug.LogWarning(\"Failed to send score to React: \" + e.Message);\n            }\n            #endif\n        }\n\n        public void CapybaraSaved()\n        {\n            capybarasProtected++;\n            \n            #if UNITY_WEBGL && !UNITY_EDITOR\n            try \n            {\n                SendCapybaraSavedToReact(1);\n            }\n            catch (System.Exception e)\n            {\n                Debug.LogWarning(\"Failed to send capybara saved to React: \" + e.Message);\n            }\n            #endif\n        }\n\n        public void GameComplete(bool success = true)\n        {\n            if (!gameInProgress) return;\n            \n            gameInProgress = false;\n            int survivalTime = Mathf.FloorToInt(Time.time - gameStartTime);\n            \n            // If game failed, capybarasProtected should be 0 for reward calculation\n            if (!success) \n            {\n                capybarasProtected = 0;\n            }\n\n            #if UNITY_WEBGL && !UNITY_EDITOR\n            try \n            {\n                SendGameCompleteToReact(survivalTime, capybarasProtected, currentScore);\n                Debug.Log($\"Game completed: Time={survivalTime}s, Capybaras={capybarasProtected}, Score={currentScore}\");\n            }\n            catch (System.Exception e)\n            {\n                Debug.LogWarning(\"Failed to send game complete to React: \" + e.Message);\n            }\n            #else\n            Debug.Log($\"[Reward System] Game completed: Time={survivalTime}s, Capybaras={capybarasProtected}, Score={currentScore}\");\n            Debug.Log($\"[Reward System] Would earn rewards based on performance\");\n            #endif\n        }\n\n        // Call this when capybara reaches safe zone\n        public void OnCapybaraReachedSafety()\n        {\n            CapybaraSaved();\n        }\n\n        // Call this when capybara falls or dies\n        public void OnCapybaraFailed()\n        {\n            GameComplete(false);\n        }\n\n        // Call this from your score system\n        public void OnScoreChanged(int newScore)\n        {\n            UpdateScore(newScore);\n        }\n\n        // Call this when level/wave is completed successfully\n        public void OnLevelComplete()\n        {\n            GameComplete(true);\n        }\n    }\n}","size_bytes":3940},"client/public/unity/Build/INSTRUCTIONS.md":{"content":"# Unity WebGL Build Instructions\n\nTo complete the integration of Capybara Adventure, you need to build the Unity project as WebGL and place the files here.\n\n## Steps to Build Unity WebGL:\n\n1. **Open Unity Hub** and import the project from: https://github.com/revenkogrisha/CapybaraAdventure\n\n2. **Switch Platform to WebGL**:\n   - Go to File â†’ Build Settings\n   - Select WebGL platform\n   - Click \"Switch Platform\"\n\n3. **Configure WebGL Settings**:\n   - Player Settings â†’ WebGL settings:\n     - Compression Format: Disabled (for development)\n     - Enable Decompression Fallback: âœ“\n\n4. **Build the Project**:\n   - In Build Settings, click \"Build\"\n   - Choose a temporary folder for the build\n   - Wait for build to complete\n\n5. **Copy Required Files**:\n   Copy these files from your Unity build to this directory:\n   ```\n   client/public/unity/Build/\n   â”œâ”€â”€ CapybaraAdventure.loader.js\n   â”œâ”€â”€ CapybaraAdventure.data\n   â”œâ”€â”€ CapybaraAdventure.framework.js\n   â””â”€â”€ CapybaraAdventure.wasm\n   ```\n\n6. **Optional Unity Code for Rewards**:\n   To integrate with the Solana reward system, add this C# script to your Unity project:\n\n   ```csharp\n   using System.Runtime.InteropServices;\n   using UnityEngine;\n\n   public class WebRewardManager : MonoBehaviour\n   {\n       [DllImport(\"__Internal\")]\n       private static extern void SendScoreToReact(int score);\n       \n       [DllImport(\"__Internal\")]\n       private static extern void SendGameEndToReact(int finalScore, int coins, float distance);\n\n       public void OnScoreUpdate(int newScore)\n       {\n           #if UNITY_WEBGL && !UNITY_EDITOR\n           SendScoreToReact(newScore);\n           #endif\n       }\n\n       public void OnGameEnd(int finalScore, int coinsCollected, float distanceTraveled)\n       {\n           #if UNITY_WEBGL && !UNITY_EDITOR\n           SendGameEndToReact(finalScore, coinsCollected, distanceTraveled);\n           #endif\n       }\n   }\n   ```\n\nOnce the files are in place, the game will load automatically and start tracking stats for Solana rewards!","size_bytes":2049},"client/public/unity-build/Build/README.md":{"content":"# Unity WebGL Build Files\n\nPlace your Unity WebGL build files here:\n\n1. **WebGL.data** - Game data file\n2. **WebGL.framework.js** - Unity framework\n3. **WebGL.wasm** - WebAssembly game code  \n4. **WebGL.loader.js** - Unity loader\n\n## How to extract from your WebGLBuild.zip:\n\n1. Extract the WebGLBuild.zip file you downloaded\n2. Copy the contents of the **Build/** folder from the extracted files\n3. Place them directly in this directory\n\nYour file structure should be:\n```\nclient/public/unity-build/Build/\nâ”œâ”€â”€ WebGL.data\nâ”œâ”€â”€ WebGL.framework.js\nâ”œâ”€â”€ WebGL.wasm\nâ””â”€â”€ WebGL.loader.js\n```\n\nOnce these files are in place, your game will load at: http://localhost:5000/game","size_bytes":690},"client/public/unity-build/Build/WebGLBuild.loader.js":{"content":"function createUnityInstance(t,n,c){function s(e,t){if(!s.aborted&&n.showBanner)return\"error\"==t&&(s.aborted=!0),n.showBanner(e,t);switch(t){case\"error\":console.error(e);break;case\"warning\":console.warn(e);break;default:console.log(e)}}function r(e){var t=e.reason||e.error,n=t?t.toString():e.message||e.reason||\"\",r=t&&t.stack?t.stack.toString():\"\";(n+=\"\\n\"+(r=r.startsWith(n)?r.substring(n.length):r).trim())&&l.stackTraceRegExp&&l.stackTraceRegExp.test(n)&&D(n,e.filename||t&&(t.fileName||t.sourceURL)||\"\",e.lineno||t&&(t.lineNumber||t.line)||0)}function e(e,t,n){var r=e[t];void 0!==r&&r||(console.warn('Config option \"'+t+'\" is missing or empty. Falling back to default value: \"'+n+'\". Consider updating your WebGL template to include the missing config option.'),e[t]=n)}c=c||function(){};var o,l={canvas:t,webglContextAttributes:{preserveDrawingBuffer:!1,powerPreference:2},cacheControl:function(e){return e==l.dataUrl||e.match(/\\.bundle/)?\"must-revalidate\":\"no-store\"},streamingAssetsUrl:\"StreamingAssets\",downloadProgress:{},deinitializers:[],intervals:{},setInterval:function(e,t){e=window.setInterval(e,t);return this.intervals[e]=!0,e},clearInterval:function(e){delete this.intervals[e],window.clearInterval(e)},preRun:[],postRun:[],print:function(e){console.log(e)},printErr:function(e){console.error(e),\"string\"==typeof e&&-1!=e.indexOf(\"wasm streaming compile failed\")&&(-1!=e.toLowerCase().indexOf(\"mime\")?s('HTTP Response Header \"Content-Type\" configured incorrectly on the server for file '+l.codeUrl+' , should be \"application/wasm\". Startup time performance will suffer.',\"warning\"):s('WebAssembly streaming compilation failed! This can happen for example if \"Content-Encoding\" HTTP header is incorrectly enabled on the server for file '+l.codeUrl+\", but the file is not pre-compressed on disk (or vice versa). Check the Network tab in browser Devtools to debug server header configuration.\",\"warning\"))},locateFile:function(e){return\"build.wasm\"==e?this.codeUrl:e},disabledCanvasEvents:[\"contextmenu\",\"dragstart\"]};for(o in e(n,\"companyName\",\"Unity\"),e(n,\"productName\",\"WebGL Player\"),e(n,\"productVersion\",\"1.0\"),n)l[o]=n[o];l.streamingAssetsUrl=new URL(l.streamingAssetsUrl,document.URL).href;var a=l.disabledCanvasEvents.slice();function i(e){e.preventDefault()}a.forEach(function(e){t.addEventListener(e,i)}),window.addEventListener(\"error\",r),window.addEventListener(\"unhandledrejection\",r);var u=\"\",d=\"\";function h(e){document.webkitCurrentFullScreenElement===t?t.style.width&&(u=t.style.width,d=t.style.height,t.style.width=\"100%\",t.style.height=\"100%\"):u&&(t.style.width=u,t.style.height=d,d=u=\"\")}document.addEventListener(\"webkitfullscreenchange\",h),l.deinitializers.push(function(){for(var e in l.disableAccessToMediaDevices(),a.forEach(function(e){t.removeEventListener(e,i)}),window.removeEventListener(\"error\",r),window.removeEventListener(\"unhandledrejection\",r),document.removeEventListener(\"webkitfullscreenchange\",h),l.intervals)window.clearInterval(e);l.intervals={}}),l.QuitCleanup=function(){for(var e=0;e<l.deinitializers.length;e++)l.deinitializers[e]();l.deinitializers=[],\"function\"==typeof l.onQuit&&l.onQuit()};var f,p,m,g,b,v,w,y,S,C={Module:l,SetFullscreen:function(){if(l.SetFullscreen)return l.SetFullscreen.apply(l,arguments);l.print(\"Failed to set Fullscreen mode: Player not loaded yet.\")},SendMessage:function(){if(l.SendMessage)return l.SendMessage.apply(l,arguments);l.print(\"Failed to execute SendMessage: Player not loaded yet.\")},Quit:function(){return new Promise(function(e,t){l.shouldQuit=!0,l.onQuit=e})},GetMemoryInfo:function(){var e=l._getMemInfo();return{totalWASMHeapSize:l.HEAPU32[e>>2],usedWASMHeapSize:l.HEAPU32[1+(e>>2)],totalJSHeapSize:l.HEAPF64[1+(e>>3)],usedJSHeapSize:l.HEAPF64[2+(e>>3)]}}};function D(e,t,n){-1==e.indexOf(\"fullscreen error\")&&(l.startupErrorHandler?l.startupErrorHandler(e,t,n):l.errorHandler&&l.errorHandler(e,t,n)||(console.log(\"Invoking error handler due to\\n\"+e),\"function\"==typeof dump&&dump(\"Invoking error handler due to\\n\"+e),D.didShowErrorMessage||(-1!=(e=\"An error occurred running the Unity content on this page. See your browser JavaScript console for more info. The error was:\\n\"+e).indexOf(\"DISABLE_EXCEPTION_CATCHING\")?e=\"An exception has occurred, but exception handling has been disabled in this build. If you are the developer of this content, enable exceptions in your project WebGL player settings to be able to catch the exception or see the stack trace.\":-1!=e.indexOf(\"Cannot enlarge memory arrays\")?e=\"Out of memory. If you are the developer of this content, try allocating more memory to your WebGL build in the WebGL player settings.\":-1==e.indexOf(\"Invalid array buffer length\")&&-1==e.indexOf(\"Invalid typed array length\")&&-1==e.indexOf(\"out of memory\")&&-1==e.indexOf(\"could not allocate memory\")||(e=\"The browser could not allocate enough memory for the WebGL content. If you are the developer of this content, try allocating less memory to your WebGL build in the WebGL player settings.\"),alert(e),D.didShowErrorMessage=!0)))}function P(e,t){if(\"symbolsUrl\"!=e){var n=l.downloadProgress[e],r=(n=n||(l.downloadProgress[e]={started:!1,finished:!1,lengthComputable:!1,total:0,loaded:0}),\"object\"!=typeof t||\"progress\"!=t.type&&\"load\"!=t.type||(n.started||(n.started=!0,n.lengthComputable=t.lengthComputable),n.total=t.total,n.loaded=t.loaded,\"load\"==t.type&&(n.finished=!0)),0),o=0,a=0,i=0,s=0;for(e in l.downloadProgress){if(!(n=l.downloadProgress[e]).started)return;a++,n.lengthComputable?(r+=n.loaded,o+=n.total,i++):n.finished||s++}c(.9*(a?(a-s-(o?i*(o-r)/o:0))/a:0))}}function x(){var e=this;this.isConnected=this.connect().then(function(){return e.cleanUpCache()}),this.isConnected.catch(function(e){e=\"Error when initializing cache: \"+e,console.log(\"[UnityCache] \"+e)})}function E(e){console.log(\"[UnityCache] \"+e)}function U(e){return U.link=U.link||document.createElement(\"a\"),U.link.href=e,U.link.href}function T(){new Promise(function(a,e){var i=document.createElement(\"script\");i.src=l.frameworkUrl,i.onload=function(){if(\"undefined\"==typeof unityFramework||!unityFramework){var e,t=[[\"br\",\"br\"],[\"gz\",\"gzip\"]];for(e in t){var n,r=t[e];if(l.frameworkUrl.endsWith(\".\"+r[0]))return n=\"Unable to parse \"+l.frameworkUrl+\"!\",\"file:\"==location.protocol?void s(n+\" Loading pre-compressed (brotli or gzip) content via a file:// URL without a web server is not supported by this browser. Please use a local development web server to host compressed Unity content, or use the Unity Build and Run option.\",\"error\"):(n+=' This can happen if build compression was enabled but web server hosting the content was misconfigured to not serve the file with HTTP Response Header \"Content-Encoding: '+r[1]+'\" present. Check browser Console and Devtools Network tab to debug.',\"br\"==r[0]&&\"http:\"==location.protocol&&(r=-1!=[\"localhost\",\"127.0.0.1\"].indexOf(location.hostname)?\"\":\"Migrate your server to use HTTPS.\",n=/Firefox/.test(navigator.userAgent)?\"Unable to parse \"+l.frameworkUrl+'!<br>If using custom web server, verify that web server is sending .br files with HTTP Response Header \"Content-Encoding: br\". Brotli compression may not be supported in Firefox over HTTP connections. '+r+' See <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1670675\">https://bugzilla.mozilla.org/show_bug.cgi?id=1670675</a> for more information.':\"Unable to parse \"+l.frameworkUrl+'!<br>If using custom web server, verify that web server is sending .br files with HTTP Response Header \"Content-Encoding: br\". Brotli compression may not be supported over HTTP connections. Migrate your server to use HTTPS.'),void s(n,\"error\"))}s(\"Unable to parse \"+l.frameworkUrl+\"! The file is corrupt, or compression was misconfigured? (check Content-Encoding HTTP Response Header on web server)\",\"error\")}var o=unityFramework;unityFramework=null,i.onload=null,a(o)},i.onerror=function(e){s(\"Unable to load file \"+l.frameworkUrl+\"! Check that the file exists on the remote server. (also check browser Console and Devtools Network tab to debug)\",\"error\")},document.body.appendChild(i),l.deinitializers.push(function(){document.body.removeChild(i)})}).then(function(e){e(l)});P(n=\"dataUrl\"),e=l.cacheControl(l[n]),t=l.companyName&&l.productName?l.cachedFetch:l.fetchWithProgress,r=l[n],r=/file:\\/\\//.exec(r)?\"same-origin\":void 0;var n,e,t,r,o=t(l[n],{method:\"GET\",companyName:l.companyName,productName:l.productName,productVersion:l.productVersion,control:e,mode:r,onProgress:function(e){P(n,e)}}).then(function(e){return e.parsedBody}).catch(function(e){var t=\"Failed to download file \"+l[n];\"file:\"==location.protocol?s(t+\". Loading web pages via a file:// URL without a web server is not supported by this browser. Please use a local development web server to host Unity content, or use the Unity Build and Run option.\",\"error\"):console.error(t)});l.preRun.push(function(){l.addRunDependency(\"dataUrl\"),o.then(function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=0,r=\"UnityWebData1.0\\0\";if(!String.fromCharCode.apply(null,e.subarray(n,n+r.length))==r)throw\"unknown data format\";var o=t.getUint32(n+=r.length,!0);for(n+=4;n<o;){var a=t.getUint32(n,!0),i=(n+=4,t.getUint32(n,!0)),s=(n+=4,t.getUint32(n,!0)),c=(n+=4,String.fromCharCode.apply(null,e.subarray(n,n+s)));n+=s;for(var u=0,d=c.indexOf(\"/\",u)+1;0<d;u=d,d=c.indexOf(\"/\",u)+1)l.FS_createPath(c.substring(0,u),c.substring(u,d-1),!0,!0);l.FS_createDataFile(c,null,e.subarray(a,a+i),!0,!0,!0)}l.removeRunDependency(\"dataUrl\")})})}return l.SystemInfo=function(){var e,t,n,r,o=navigator.userAgent+\" \",a=[[\"Firefox\",\"Firefox\"],[\"OPR\",\"Opera\"],[\"Edg\",\"Edge\"],[\"SamsungBrowser\",\"Samsung Browser\"],[\"Trident\",\"Internet Explorer\"],[\"MSIE\",\"Internet Explorer\"],[\"Chrome\",\"Chrome\"],[\"CriOS\",\"Chrome on iOS Safari\"],[\"FxiOS\",\"Firefox on iOS Safari\"],[\"Safari\",\"Safari\"]];function i(e,t,n){return(e=RegExp(e,\"i\").exec(t))&&e[n]}for(var s=0;s<a.length;++s)if(t=i(a[s][0]+\"[/ ](.*?)[ \\\\)]\",o,1)){e=a[s][1];break}\"Safari\"==e&&(t=i(\"Version/(.*?) \",o,1)),\"Internet Explorer\"==e&&(t=i(\"rv:(.*?)\\\\)? \",o,1)||t);for(var c=[[\"Windows (.*?)[;)]\",\"Windows\"],[\"Android ([0-9_.]+)\",\"Android\"],[\"iPhone OS ([0-9_.]+)\",\"iPhoneOS\"],[\"iPad.*? OS ([0-9_.]+)\",\"iPadOS\"],[\"FreeBSD( )\",\"FreeBSD\"],[\"OpenBSD( )\",\"OpenBSD\"],[\"Linux|X11()\",\"Linux\"],[\"Mac OS X ([0-9_\\\\.]+)\",\"MacOS\"],[\"bot|google|baidu|bing|msn|teoma|slurp|yandex\",\"Search Bot\"]],u=0;u<c.length;++u)if(l=i(c[u][0],o,1)){n=c[u][1],l=l.replace(/_/g,\".\");break}var d,l={\"NT 5.0\":\"2000\",\"NT 5.1\":\"XP\",\"NT 5.2\":\"Server 2003\",\"NT 6.0\":\"Vista\",\"NT 6.1\":\"7\",\"NT 6.2\":\"8\",\"NT 6.3\":\"8.1\",\"NT 10.0\":\"10\"}[l]||l,h=((h=document.createElement(\"canvas\"))&&(d=(f=h.getContext(\"webgl2\"))?2:0,f||(f=h&&h.getContext(\"webgl\"))&&(d=1),f&&(r=f.getExtension(\"WEBGL_debug_renderer_info\")&&f.getParameter(37446)||f.getParameter(7937))),\"undefined\"!=typeof SharedArrayBuffer),f=\"object\"==typeof WebAssembly&&\"function\"==typeof WebAssembly.compile;return{width:screen.width,height:screen.height,userAgent:o.trim(),browser:e||\"Unknown browser\",browserVersion:t||\"Unknown version\",mobile:/Mobile|Android|iP(ad|hone)/.test(navigator.appVersion),os:n||\"Unknown OS\",osVersion:l||\"Unknown OS Version\",gpu:r||\"Unknown GPU\",language:navigator.userLanguage||navigator.language,hasWebGL:d,hasCursorLock:!!document.body.requestPointerLock,hasFullscreen:!!document.body.requestFullscreen||!!document.body.webkitRequestFullscreen,hasThreads:h,hasWasm:f,hasWasmThreads:!1}}(),l.abortHandler=function(e){return D(e,\"\",0),!0},Error.stackTraceLimit=Math.max(Error.stackTraceLimit||0,50),l.readBodyWithProgress=function(a,i,s){var e=a.body?a.body.getReader():void 0,c=void 0!==a.headers.get(\"Content-Length\"),u=function(e,t){if(!t)return 0;var t=e.headers.get(\"Content-Encoding\"),n=parseInt(e.headers.get(\"Content-Length\"));switch(t){case\"br\":return Math.round(5*n);case\"gzip\":return Math.round(4*n);default:return n}}(a,c),d=new Uint8Array(u),l=[],h=0,f=0;return c||console.warn(\"[UnityCache] Response is served without Content-Length header. Please reconfigure server to include valid Content-Length for better download performance.\"),function o(){return void 0===e?a.arrayBuffer().then(function(e){var t=new Uint8Array(e);return i({type:\"progress\",response:a,total:e.length,loaded:0,lengthComputable:c,chunk:s?t:null}),t}):e.read().then(function(e){if(e.done){if(h===u)return d;if(h<u)return d.slice(0,h);for(var t=new Uint8Array(h),n=(t.set(d,0),f),r=0;r<l.length;++r)t.set(l[r],n),n+=l[r].length;return t}return h+e.value.length<=d.length?(d.set(e.value,h),f=h+e.value.length):l.push(e.value),h+=e.value.length,i({type:\"progress\",response:a,total:Math.max(u,h),loaded:h,lengthComputable:c,chunk:s?e.value:null}),o()})}().then(function(e){return i({type:\"load\",response:a,total:e.length,loaded:e.length,lengthComputable:c,chunk:null}),a.parsedBody=e,a})},l.fetchWithProgress=function(e,t){var n=function(){};return t&&t.onProgress&&(n=t.onProgress),fetch(e,t).then(function(e){return l.readBodyWithProgress(e,n,t.enableStreamingDownload)})},l.UnityCache=(f={name:\"UnityCache\",version:4},p={name:\"RequestMetaDataStore\",version:1},m=\"RequestStore\",g=\"WebAssembly\",b=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,v=null,x.getInstance=function(){return v=v||new x},x.destroyInstance=function(){return v?v.close().then(function(){v=null}):Promise.resolve()},x.prototype.clearCache=function(){var r=this;return this.isConnected.then(function(){return r.execute(p.name,\"clear\",[])}).then(function(){return r.cache.keys()}).then(function e(t){var n;return 0===t.length?Promise.resolve():(n=t.pop(),r.cache.delete(n).then(function(){return e(t)}))})},x.UnityCacheDatabase=f,x.RequestMetaDataStore=p,x.MaximumCacheSize=1073741824,x.prototype.loadRequest=function(e){var t=this;return t.isConnected.then(function(){return Promise.all([t.cache.match(e),t.loadRequestMetaData(e)])}).then(function(e){if(void 0!==e[0]&&void 0!==e[1])return{response:e[0],metaData:e[1]}})},x.prototype.loadRequestMetaData=function(e){e=\"string\"==typeof e?e:e.url;return this.execute(p.name,\"get\",[e])},x.prototype.updateRequestMetaData=function(e){return this.execute(p.name,\"put\",[e])},x.prototype.storeRequest=function(e,t){var n=this;return n.isConnected.then(function(){return n.cache.put(e,t)})},x.prototype.close=function(){return this.isConnected.then(function(){this.database&&(this.database.close(),this.database=null),this.cache&&(this.cache=null)}.bind(this))},x.prototype.connect=function(){var o=this;return void 0===b?Promise.reject(new Error(\"Could not connect to cache: IndexedDB is not supported.\")):void 0===window.caches?Promise.reject(new Error(\"Could not connect to cache: Cache API is not supported.\")):new Promise(function(t,n){try{function r(){o.openDBTimeout&&(clearTimeout(o.openDBTimeout),o.openDBTimeout=null)}o.openDBTimeout=setTimeout(function(){void 0===o.database&&n(new Error(\"Could not connect to cache: Database timeout.\"))},2e4);var e=b.open(f.name,f.version);e.onupgradeneeded=o.upgradeDatabase.bind(o),e.onsuccess=function(e){r(),o.database=e.target.result,t()},e.onerror=function(e){r(),o.database=null,n(new Error(\"Could not connect to database.\"))}}catch(e){r(),o.database=null,o.cache=null,n(new Error(\"Could not connect to cache: Could not connect to database.\"))}}).then(function(){var e=f.name+\"_\"+l.companyName+\"_\"+l.productName;return caches.open(e)}).then(function(e){o.cache=e})},x.prototype.upgradeDatabase=function(e){var t,e=e.target.result;e.objectStoreNames.contains(p.name)||(t=e.createObjectStore(p.name,{keyPath:\"url\"}),[\"accessedAt\",\"updatedAt\"].forEach(function(e){t.createIndex(e,e)})),e.objectStoreNames.contains(m)&&e.deleteObjectStore(m),e.objectStoreNames.contains(g)&&e.deleteObjectStore(g)},x.prototype.execute=function(a,i,s){return this.isConnected.then(function(){return new Promise(function(t,n){try{var e,r,o;null===this.database?n(new Error(\"indexedDB access denied\")):(e=-1!=[\"put\",\"delete\",\"clear\"].indexOf(i)?\"readwrite\":\"readonly\",r=this.database.transaction([a],e).objectStore(a),\"openKeyCursor\"==i&&(r=r.index(s[0]),s=s.slice(1)),(o=r[i].apply(r,s)).onsuccess=function(e){t(e.target.result)},o.onerror=function(e){n(e)})}catch(e){n(e)}}.bind(this))}.bind(this))},x.prototype.getMetaDataEntries=function(){var r=this,o=0,a=[];return new Promise(function(t,n){var e=r.database.transaction([p.name],\"readonly\").objectStore(p.name).openCursor();e.onsuccess=function(e){e=e.target.result;e?(o+=e.value.size,a.push(e.value),e.continue()):t({metaDataEntries:a,cacheSize:o})},e.onerror=function(e){n(e)}})},x.prototype.cleanUpCache=function(){var i=this;return this.getMetaDataEntries().then(function(e){for(var t=e.metaDataEntries,n=e.cacheSize,r=[],o=[],a=0;a<t.length;++a)t[a].version==l.productVersion?o.push(t[a]):(r.push(t[a]),n-=t[a].size);o.sort(function(e,t){return e.accessedAt-t.accessedAt});for(a=0;a<o.length&&!(n<x.MaximumCacheSize);++a)r.push(o[a]),n-=o[a].size;return function e(){var t;return 0===r.length?Promise.resolve():(t=r.pop(),i.cache.delete(t.url).then(function(e){if(e)return r=t.url,new Promise(function(e,t){var n=i.database.transaction([p.name],\"readwrite\");n.objectStore(p.name).delete(r),n.oncomplete=e,n.onerror=t});var r}).then(e))}()})},x),l.cachedFetch=(w=l.UnityCache,y=l.fetchWithProgress,S=l.readBodyWithProgress,function(o,a){var e,t,i=w.getInstance(),s=U(\"string\"==typeof o?o:o.url),c={enabled:(e=s,(!(t=a)||!t.method||\"GET\"===t.method)&&((!t||-1!=[\"must-revalidate\",\"immutable\"].indexOf(t.control))&&!!e.match(\"^https?://\")))};function u(n,r){return fetch(n,r).then(function(e){var t;return!c.enabled||c.revalidated?e:304===e.status?(c.revalidated=!0,i.updateRequestMetaData(c.metaData).then(function(){E(\"'\"+c.metaData.url+\"' successfully revalidated and served from the indexedDB cache\")}).catch(function(e){E(\"'\"+c.metaData.url+\"' successfully revalidated but not stored in the indexedDB cache due to the error: \"+e)}),S(c.response,r.onProgress,r.enableStreamingDownload)):200==e.status?(c.response=e,c.metaData.updatedAt=c.metaData.accessedAt,c.revalidated=!0,t=e.clone(),S(e,r.onProgress,r.enableStreamingDownload).then(function(e){return c.metaData.size=e.parsedBody.length,Promise.all([i.storeRequest(n,t),i.updateRequestMetaData(c.metaData)]).then(function(){E(\"'\"+s+\"' successfully downloaded and stored in the indexedDB cache\")}).catch(function(e){E(\"'\"+s+\"' successfully downloaded but not stored in the indexedDB cache due to the error: \"+e)}),e})):(E(\"'\"+s+\"' request failed with status: \"+e.status+\" \"+e.statusText),S(e,r.onProgress,r.enableStreamingDownload))})}return a&&(c.control=a.control,c.companyName=a.companyName,c.productName=a.productName,c.productVersion=a.productVersion),c.revalidated=!1,c.metaData={url:s,accessedAt:Date.now(),version:c.productVersion},c.response=null,c.enabled?i.loadRequest(s).then(function(e){var n,r,t;return e?(n=e.response,r=e.metaData,c.response=n,c.metaData.size=r.size,c.metaData.updatedAt=r.updatedAt,\"immutable\"==c.control?(c.revalidated=!0,i.updateRequestMetaData(r).then(function(){E(\"'\"+c.metaData.url+\"' served from the indexedDB cache without revalidation\")}),S(n,a.onProgress,a.enableStreamingDownload)):(e=s,(t=window.location.href.match(/^[a-z]+:\\/\\/[^\\/]+/))&&!e.lastIndexOf(t[0],0)||!n.headers.get(\"Last-Modified\")&&!n.headers.get(\"ETag\")?(e=(a=a||{}).headers||{},a.headers=e,n.headers.get(\"Last-Modified\")?(e[\"If-Modified-Since\"]=n.headers.get(\"Last-Modified\"),e[\"Cache-Control\"]=\"no-cache\"):n.headers.get(\"ETag\")&&(e[\"If-None-Match\"]=n.headers.get(\"ETag\"),e[\"Cache-Control\"]=\"no-cache\"),u(o,a)):fetch(s,{method:\"HEAD\"}).then(function(t){return c.revalidated=[\"Last-Modified\",\"ETag\"].every(function(e){return!n.headers.get(e)||n.headers.get(e)==t.headers.get(e)}),c.revalidated?(i.updateRequestMetaData(r).then(function(){E(\"'\"+c.metaData.url+\"' successfully revalidated and served from the indexedDB cache\")}),S(c.response,a.onProgress,a.enableStreamingDownload)):u(o,a)}))):u(o,a)}).catch(function(e){return E(\"Failed to load '\"+c.metaData.url+\"' from indexedDB cache due to the error: \"+e),y(o,a)}):y(o,a)}),new Promise(function(e,t){var n;l.SystemInfo.hasWebGL?1==l.SystemInfo.hasWebGL?(n='Your browser does not support graphics API \"WebGL 2\" which is required for this content.',\"Safari\"==l.SystemInfo.browser&&parseInt(l.SystemInfo.browserVersion)<15&&(l.SystemInfo.mobile||1<navigator.maxTouchPoints?n+=\"\\nUpgrade to iOS 15 or later.\":n+=\"\\nUpgrade to Safari 15 or later.\"),t(n)):l.SystemInfo.hasWasm?(l.startupErrorHandler=t,c(0),l.postRun.push(function(){c(1),delete l.startupErrorHandler,e(C)}),T()):t(\"Your browser does not support WebAssembly.\"):t(\"Your browser does not support WebGL.\")})}","size_bytes":20642},"client/public/unity-build/TemplateData/style.css":{"content":"body { padding: 0; margin: 0 }\n#unity-container { position: absolute }\n#unity-container.unity-desktop { left: 50%; top: 50%; transform: translate(-50%, -50%) }\n#unity-container.unity-mobile { position: fixed; width: 100%; height: 100% }\n#unity-canvas { background: #231F20 }\n.unity-mobile #unity-canvas { width: 100%; height: 100% }\n#unity-loading-bar { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); display: none }\n#unity-logo { width: 154px; height: 130px; background: url('unity-logo-dark.png') no-repeat center }\n#unity-progress-bar-empty { width: 141px; height: 18px; margin-top: 10px; margin-left: 6.5px; background: url('progress-bar-empty-dark.png') no-repeat center }\n#unity-progress-bar-full { width: 0%; height: 18px; margin-top: 10px; background: url('progress-bar-full-dark.png') no-repeat center }\n#unity-footer { position: relative }\n.unity-mobile #unity-footer { display: none }\n#unity-webgl-logo { float:left; width: 204px; height: 38px; background: url('webgl-logo.png') no-repeat center }\n#unity-build-title { float: right; margin-right: 10px; line-height: 38px; font-family: arial; font-size: 18px }\n#unity-fullscreen-button { cursor:pointer; float: right; width: 38px; height: 38px; background: url('fullscreen-button.png') no-repeat center }\n#unity-warning { position: absolute; left: 50%; top: 5%; transform: translate(-50%); background: white; padding: 10px; display: none }\n","size_bytes":1428},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Android/DebugLogLogcatListener.cs":{"content":"ï»¿#if UNITY_EDITOR || UNITY_ANDROID\nusing System.Collections.Generic;\nusing UnityEngine;\n\n// Credit: https://stackoverflow.com/a/41018028/2373034\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogLogcatListener : AndroidJavaProxy\n\t{\n\t\tprivate Queue<string> queuedLogs;\n\t\tprivate AndroidJavaObject nativeObject;\n\n\t\tpublic DebugLogLogcatListener() : base( \"com.yasirkula.unity.DebugConsoleLogcatLogReceiver\" )\n\t\t{\n\t\t\tqueuedLogs = new Queue<string>( 16 );\n\t\t}\n\n\t\t~DebugLogLogcatListener()\n\t\t{\n\t\t\tStop();\n\n\t\t\tif( nativeObject != null )\n\t\t\t\tnativeObject.Dispose();\n\t\t}\n\n\t\tpublic void Start( string arguments )\n\t\t{\n\t\t\tif( nativeObject == null )\n\t\t\t\tnativeObject = new AndroidJavaObject( \"com.yasirkula.unity.DebugConsoleLogcatLogger\" );\n\n\t\t\tnativeObject.Call( \"Start\", this, arguments );\n\t\t}\n\n\t\tpublic void Stop()\n\t\t{\n\t\t\tif( nativeObject != null )\n\t\t\t\tnativeObject.Call( \"Stop\" );\n\t\t}\n\n\t\t[UnityEngine.Scripting.Preserve]\n\t\tpublic void OnLogReceived( string log )\n\t\t{\n\t\t\tqueuedLogs.Enqueue( log );\n\t\t}\n\n\t\tpublic string GetLog()\n\t\t{\n\t\t\tif( queuedLogs.Count > 0 )\n\t\t\t\treturn queuedLogs.Dequeue();\n\n\t\t\treturn null;\n\t\t}\n\t}\n}\n#endif","size_bytes":1124},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Editor/DebugLogManagerEditor.cs":{"content":"ï»¿using UnityEditor;\nusing UnityEngine;\n\nnamespace IngameDebugConsole\n{\n\t[CustomEditor( typeof( DebugLogManager ) )]\n\tpublic class DebugLogManagerEditor : Editor\n\t{\n\t\tprivate SerializedProperty singleton;\n\t\tprivate SerializedProperty minimumHeight;\n\t\tprivate SerializedProperty enableHorizontalResizing;\n\t\tprivate SerializedProperty resizeFromRight;\n\t\tprivate SerializedProperty minimumWidth;\n\t\tprivate SerializedProperty logWindowOpacity;\n\t\tprivate SerializedProperty popupOpacity;\n\t\tprivate SerializedProperty popupVisibility;\n\t\tprivate SerializedProperty popupVisibilityLogFilter;\n\t\tprivate SerializedProperty startMinimized;\n\t\tprivate SerializedProperty toggleWithKey;\n\t\tprivate SerializedProperty toggleKey;\n\t\tprivate SerializedProperty enableSearchbar;\n\t\tprivate SerializedProperty topSearchbarMinWidth;\n\t\tprivate SerializedProperty receiveLogsWhileInactive;\n\t\tprivate SerializedProperty receiveInfoLogs;\n\t\tprivate SerializedProperty receiveWarningLogs;\n\t\tprivate SerializedProperty receiveErrorLogs;\n\t\tprivate SerializedProperty receiveExceptionLogs;\n\t\tprivate SerializedProperty captureLogTimestamps;\n\t\tprivate SerializedProperty alwaysDisplayTimestamps;\n\t\tprivate SerializedProperty maxLogCount;\n\t\tprivate SerializedProperty logsToRemoveAfterMaxLogCount;\n\t\tprivate SerializedProperty queuedLogLimit;\n\t\tprivate SerializedProperty clearCommandAfterExecution;\n\t\tprivate SerializedProperty commandHistorySize;\n\t\tprivate SerializedProperty showCommandSuggestions;\n\t\tprivate SerializedProperty receiveLogcatLogsInAndroid;\n\t\tprivate SerializedProperty logcatArguments;\n\t\tprivate SerializedProperty avoidScreenCutout;\n\t\tprivate SerializedProperty popupAvoidsScreenCutout;\n\t\tprivate SerializedProperty autoFocusOnCommandInputField;\n\n#if UNITY_2017_3_OR_NEWER\n\t\tprivate readonly GUIContent popupVisibilityLogFilterLabel = new GUIContent( \"Log Filter\", \"Determines which log types will show the popup on screen\" );\n#endif\n\t\tprivate readonly GUIContent receivedLogTypesLabel = new GUIContent( \"Received Log Types\", \"Only these logs will be received by the console window, other logs will simply be skipped\" );\n\t\tprivate readonly GUIContent receiveInfoLogsLabel = new GUIContent( \"Info\" );\n\t\tprivate readonly GUIContent receiveWarningLogsLabel = new GUIContent( \"Warning\" );\n\t\tprivate readonly GUIContent receiveErrorLogsLabel = new GUIContent( \"Error\" );\n\t\tprivate readonly GUIContent receiveExceptionLogsLabel = new GUIContent( \"Exception\" );\n\n\t\tprivate void OnEnable()\n\t\t{\n\t\t\tsingleton = serializedObject.FindProperty( \"singleton\" );\n\t\t\tminimumHeight = serializedObject.FindProperty( \"minimumHeight\" );\n\t\t\tenableHorizontalResizing = serializedObject.FindProperty( \"enableHorizontalResizing\" );\n\t\t\tresizeFromRight = serializedObject.FindProperty( \"resizeFromRight\" );\n\t\t\tminimumWidth = serializedObject.FindProperty( \"minimumWidth\" );\n\t\t\tlogWindowOpacity = serializedObject.FindProperty( \"logWindowOpacity\" );\n\t\t\tpopupOpacity = serializedObject.FindProperty( \"popupOpacity\" );\n\t\t\tpopupVisibility = serializedObject.FindProperty( \"popupVisibility\" );\n\t\t\tpopupVisibilityLogFilter = serializedObject.FindProperty( \"popupVisibilityLogFilter\" );\n\t\t\tstartMinimized = serializedObject.FindProperty( \"startMinimized\" );\n\t\t\ttoggleWithKey = serializedObject.FindProperty( \"toggleWithKey\" );\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\ttoggleKey = serializedObject.FindProperty( \"toggleBinding\" );\n#else\n\t\t\ttoggleKey = serializedObject.FindProperty( \"toggleKey\" );\n#endif\n\t\t\tenableSearchbar = serializedObject.FindProperty( \"enableSearchbar\" );\n\t\t\ttopSearchbarMinWidth = serializedObject.FindProperty( \"topSearchbarMinWidth\" );\n\t\t\treceiveLogsWhileInactive = serializedObject.FindProperty( \"receiveLogsWhileInactive\" );\n\t\t\treceiveInfoLogs = serializedObject.FindProperty( \"receiveInfoLogs\" );\n\t\t\treceiveWarningLogs = serializedObject.FindProperty( \"receiveWarningLogs\" );\n\t\t\treceiveErrorLogs = serializedObject.FindProperty( \"receiveErrorLogs\" );\n\t\t\treceiveExceptionLogs = serializedObject.FindProperty( \"receiveExceptionLogs\" );\n\t\t\tcaptureLogTimestamps = serializedObject.FindProperty( \"captureLogTimestamps\" );\n\t\t\talwaysDisplayTimestamps = serializedObject.FindProperty( \"alwaysDisplayTimestamps\" );\n\t\t\tmaxLogCount = serializedObject.FindProperty( \"maxLogCount\" );\n\t\t\tlogsToRemoveAfterMaxLogCount = serializedObject.FindProperty( \"logsToRemoveAfterMaxLogCount\" );\n\t\t\tqueuedLogLimit = serializedObject.FindProperty( \"queuedLogLimit\" );\n\t\t\tclearCommandAfterExecution = serializedObject.FindProperty( \"clearCommandAfterExecution\" );\n\t\t\tcommandHistorySize = serializedObject.FindProperty( \"commandHistorySize\" );\n\t\t\tshowCommandSuggestions = serializedObject.FindProperty( \"showCommandSuggestions\" );\n\t\t\treceiveLogcatLogsInAndroid = serializedObject.FindProperty( \"receiveLogcatLogsInAndroid\" );\n\t\t\tlogcatArguments = serializedObject.FindProperty( \"logcatArguments\" );\n\t\t\tavoidScreenCutout = serializedObject.FindProperty( \"avoidScreenCutout\" );\n\t\t\tpopupAvoidsScreenCutout = serializedObject.FindProperty( \"popupAvoidsScreenCutout\" );\n\t\t\tautoFocusOnCommandInputField = serializedObject.FindProperty( \"autoFocusOnCommandInputField\" );\n\t\t}\n\n\t\tpublic override void OnInspectorGUI()\n\t\t{\n\t\t\tserializedObject.Update();\n\n\t\t\tEditorGUILayout.PropertyField( singleton );\n\n\t\t\tEditorGUILayout.Space();\n\n\t\t\tEditorGUILayout.PropertyField( minimumHeight );\n\n\t\t\tEditorGUILayout.PropertyField( enableHorizontalResizing );\n\t\t\tif( enableHorizontalResizing.boolValue )\n\t\t\t{\n\t\t\t\tDrawSubProperty( resizeFromRight );\n\t\t\t\tDrawSubProperty( minimumWidth );\n\t\t\t}\n\n\t\t\tEditorGUILayout.PropertyField( avoidScreenCutout );\n\t\t\tDrawSubProperty( popupAvoidsScreenCutout );\n\n\t\t\tEditorGUILayout.Space();\n\n\t\t\tEditorGUILayout.PropertyField( startMinimized );\n\t\t\tEditorGUILayout.PropertyField( logWindowOpacity );\n\t\t\tEditorGUILayout.PropertyField( popupOpacity );\n\n\t\t\tEditorGUILayout.PropertyField( popupVisibility );\n\t\t\tif( popupVisibility.intValue == (int) PopupVisibility.WhenLogReceived )\n\t\t\t{\n\t\t\t\tEditorGUI.indentLevel++;\n#if UNITY_2017_3_OR_NEWER\n\t\t\t\tRect rect = EditorGUILayout.GetControlRect();\n\t\t\t\tEditorGUI.BeginProperty( rect, GUIContent.none, popupVisibilityLogFilter );\n\t\t\t\tpopupVisibilityLogFilter.intValue = (int) (DebugLogFilter) EditorGUI.EnumFlagsField( rect, popupVisibilityLogFilterLabel, (DebugLogFilter) popupVisibilityLogFilter.intValue );\n#else\n\t\t\t\tEditorGUI.BeginProperty( new Rect(), GUIContent.none, popupVisibilityLogFilter );\n\t\t\t\tEditorGUI.BeginChangeCheck();\n\n\t\t\t\tbool infoLog = EditorGUILayout.Toggle( \"Info\", ( (DebugLogFilter) popupVisibilityLogFilter.intValue & DebugLogFilter.Info ) == DebugLogFilter.Info );\n\t\t\t\tbool warningLog = EditorGUILayout.Toggle( \"Warning\", ( (DebugLogFilter) popupVisibilityLogFilter.intValue & DebugLogFilter.Warning ) == DebugLogFilter.Warning );\n\t\t\t\tbool errorLog = EditorGUILayout.Toggle( \"Error\", ( (DebugLogFilter) popupVisibilityLogFilter.intValue & DebugLogFilter.Error ) == DebugLogFilter.Error );\n\n\t\t\t\tif( EditorGUI.EndChangeCheck() )\n\t\t\t\t\tpopupVisibilityLogFilter.intValue = ( infoLog ? (int) DebugLogFilter.Info : 0 ) | ( warningLog ? (int) DebugLogFilter.Warning : 0 ) | ( errorLog ? (int) DebugLogFilter.Error : 0 );\n#endif\n\t\t\t\tEditorGUI.EndProperty();\n\t\t\t\tEditorGUI.indentLevel--;\n\t\t\t}\n\n\t\t\tEditorGUILayout.PropertyField( toggleWithKey );\n\t\t\tif( toggleWithKey.boolValue )\n\t\t\t\tDrawSubProperty( toggleKey );\n\n\t\t\tEditorGUILayout.Space();\n\n\t\t\tEditorGUILayout.PropertyField( enableSearchbar );\n\t\t\tif( enableSearchbar.boolValue )\n\t\t\t\tDrawSubProperty( topSearchbarMinWidth );\n\n\t\t\tEditorGUILayout.Space();\n\n\t\t\tEditorGUILayout.PropertyField( receiveLogsWhileInactive );\n\n\t\t\tEditorGUILayout.PrefixLabel( receivedLogTypesLabel );\n\t\t\tEditorGUI.indentLevel++;\n\t\t\tEditorGUILayout.PropertyField( receiveInfoLogs, receiveInfoLogsLabel );\n\t\t\tEditorGUILayout.PropertyField( receiveWarningLogs, receiveWarningLogsLabel );\n\t\t\tEditorGUILayout.PropertyField( receiveErrorLogs, receiveErrorLogsLabel );\n\t\t\tEditorGUILayout.PropertyField( receiveExceptionLogs, receiveExceptionLogsLabel );\n\t\t\tEditorGUI.indentLevel--;\n\n\t\t\tEditorGUILayout.PropertyField( receiveLogcatLogsInAndroid );\n\t\t\tif( receiveLogcatLogsInAndroid.boolValue )\n\t\t\t\tDrawSubProperty( logcatArguments );\n\n\t\t\tEditorGUILayout.PropertyField( captureLogTimestamps );\n\t\t\tif( captureLogTimestamps.boolValue )\n\t\t\t\tDrawSubProperty( alwaysDisplayTimestamps );\n\n\t\t\tEditorGUILayout.PropertyField( maxLogCount );\n\t\t\tDrawSubProperty( logsToRemoveAfterMaxLogCount );\n\n\t\t\tEditorGUILayout.PropertyField( queuedLogLimit );\n\n\t\t\tEditorGUILayout.Space();\n\n\t\t\tEditorGUILayout.PropertyField( clearCommandAfterExecution );\n\t\t\tEditorGUILayout.PropertyField( commandHistorySize );\n\t\t\tEditorGUILayout.PropertyField( showCommandSuggestions );\n\t\t\tEditorGUILayout.PropertyField( autoFocusOnCommandInputField );\n\n\t\t\tEditorGUILayout.Space();\n\n\t\t\tDrawPropertiesExcluding( serializedObject, \"m_Script\" );\n\t\t\tserializedObject.ApplyModifiedProperties();\n\t\t}\n\n\t\tprivate void DrawSubProperty( SerializedProperty property )\n\t\t{\n\t\t\tEditorGUI.indentLevel++;\n\t\t\tEditorGUILayout.PropertyField( property );\n\t\t\tEditorGUI.indentLevel--;\n\t\t}\n\t}\n}","size_bytes":9075},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/CircularBuffer.cs":{"content":"ï»¿using System;\nusing UnityEngine;\n\nnamespace IngameDebugConsole\n{\n\tpublic class CircularBuffer<T>\n\t{\n\t\tprivate readonly T[] array;\n\t\tprivate int startIndex;\n\n\t\tpublic int Count { get; private set; }\n\t\tpublic T this[int index] { get { return array[( startIndex + index ) % array.Length]; } }\n\n\t\tpublic CircularBuffer( int capacity )\n\t\t{\n\t\t\tarray = new T[capacity];\n\t\t}\n\n\t\t// Old elements are overwritten when capacity is reached\n\t\tpublic void Add( T value )\n\t\t{\n\t\t\tif( Count < array.Length )\n\t\t\t\tarray[Count++] = value;\n\t\t\telse\n\t\t\t{\n\t\t\t\tarray[startIndex] = value;\n\t\t\t\tif( ++startIndex >= array.Length )\n\t\t\t\t\tstartIndex = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic class DynamicCircularBuffer<T>\n\t{\n\t\tprivate T[] array;\n\t\tprivate int startIndex;\n\n\t\tpublic int Count { get; private set; }\n\t\tpublic int Capacity { get { return array.Length; } }\n\n\t\tpublic T this[int index]\n\t\t{\n\t\t\tget { return array[( startIndex + index ) % array.Length]; }\n\t\t\tset { array[( startIndex + index ) % array.Length] = value; }\n\t\t}\n\n\t\tpublic DynamicCircularBuffer( int initialCapacity = 2 )\n\t\t{\n\t\t\tarray = new T[initialCapacity];\n\t\t}\n\n\t\tprivate void SetCapacity( int capacity )\n\t\t{\n\t\t\tT[] newArray = new T[capacity];\n\t\t\tif( Count > 0 )\n\t\t\t{\n\t\t\t\tint elementsBeforeWrap = Mathf.Min( Count, array.Length - startIndex );\n\t\t\t\tArray.Copy( array, startIndex, newArray, 0, elementsBeforeWrap );\n\t\t\t\tif( elementsBeforeWrap < Count )\n\t\t\t\t\tArray.Copy( array, 0, newArray, elementsBeforeWrap, Count - elementsBeforeWrap );\n\t\t\t}\n\n\t\t\tarray = newArray;\n\t\t\tstartIndex = 0;\n\t\t}\n\n\t\t/// <summary>Inserts the value to the beginning of the collection.</summary>\n\t\tpublic void AddFirst( T value )\n\t\t{\n\t\t\tif( array.Length == Count )\n\t\t\t\tSetCapacity( Mathf.Max( array.Length * 2, 4 ) );\n\n\t\t\tstartIndex = ( startIndex > 0 ) ? ( startIndex - 1 ) : ( array.Length - 1 );\n\t\t\tarray[startIndex] = value;\n\t\t\tCount++;\n\t\t}\n\n\t\t/// <summary>Adds the value to the end of the collection.</summary>\n\t\tpublic void Add( T value )\n\t\t{\n\t\t\tif( array.Length == Count )\n\t\t\t\tSetCapacity( Mathf.Max( array.Length * 2, 4 ) );\n\n\t\t\tthis[Count++] = value;\n\t\t}\n\n\t\tpublic void AddRange( DynamicCircularBuffer<T> other )\n\t\t{\n\t\t\tif( other.Count == 0 )\n\t\t\t\treturn;\n\n\t\t\tif( array.Length < Count + other.Count )\n\t\t\t\tSetCapacity( Mathf.Max( array.Length * 2, Count + other.Count ) );\n\n\t\t\tint insertStartIndex = ( startIndex + Count ) % array.Length;\n\t\t\tint elementsBeforeWrap = Mathf.Min( other.Count, array.Length - insertStartIndex );\n\t\t\tint otherElementsBeforeWrap = Mathf.Min( other.Count, other.array.Length - other.startIndex );\n\n\t\t\tArray.Copy( other.array, other.startIndex, array, insertStartIndex, Mathf.Min( elementsBeforeWrap, otherElementsBeforeWrap ) );\n\t\t\tif( elementsBeforeWrap < otherElementsBeforeWrap ) // This array wrapped before the other array\n\t\t\t\tArray.Copy( other.array, other.startIndex + elementsBeforeWrap, array, 0, otherElementsBeforeWrap - elementsBeforeWrap );\n\t\t\telse if( elementsBeforeWrap > otherElementsBeforeWrap ) // The other array wrapped before this array\n\t\t\t\tArray.Copy( other.array, 0, array, insertStartIndex + otherElementsBeforeWrap, elementsBeforeWrap - otherElementsBeforeWrap );\n\n\t\t\tint copiedElements = Mathf.Max( elementsBeforeWrap, otherElementsBeforeWrap );\n\t\t\tif( copiedElements < other.Count ) // Both arrays wrapped and there's still some elements left to copy\n\t\t\t\tArray.Copy( other.array, copiedElements - otherElementsBeforeWrap, array, copiedElements - elementsBeforeWrap, other.Count - copiedElements );\n\n\t\t\tCount += other.Count;\n\t\t}\n\n\t\tpublic T RemoveFirst()\n\t\t{\n\t\t\tT element = array[startIndex];\n\t\t\tarray[startIndex] = default( T );\n\n\t\t\tif( ++startIndex == array.Length )\n\t\t\t\tstartIndex = 0;\n\n\t\t\tCount--;\n\t\t\treturn element;\n\t\t}\n\n\t\tpublic T RemoveLast()\n\t\t{\n\t\t\tint index = ( startIndex + Count - 1 ) % array.Length;\n\t\t\tT element = array[index];\n\t\t\tarray[index] = default( T );\n\n\t\t\tCount--;\n\t\t\treturn element;\n\t\t}\n\n\t\tpublic int RemoveAll( Predicate<T> shouldRemoveElement )\n\t\t{\n\t\t\treturn RemoveAll<T>( shouldRemoveElement, null, null );\n\t\t}\n\n\t\tpublic int RemoveAll<Y>( Predicate<T> shouldRemoveElement, Action<T, int> onElementIndexChanged, DynamicCircularBuffer<Y> synchronizedBuffer )\n\t\t{\n\t\t\tY[] synchronizedArray = ( synchronizedBuffer != null ) ? synchronizedBuffer.array : null;\n\t\t\tint elementsBeforeWrap = Mathf.Min( Count, array.Length - startIndex );\n\t\t\tint removedElements = 0;\n\t\t\tint i = startIndex, newIndex = startIndex, endIndex = startIndex + elementsBeforeWrap;\n\t\t\tfor( ; i < endIndex; i++ )\n\t\t\t{\n\t\t\t\tif( shouldRemoveElement( array[i] ) )\n\t\t\t\t\tremovedElements++;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif( removedElements > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tT element = array[i];\n\t\t\t\t\t\tarray[newIndex] = element;\n\n\t\t\t\t\t\tif( synchronizedArray != null )\n\t\t\t\t\t\t\tsynchronizedArray[newIndex] = synchronizedArray[i];\n\n\t\t\t\t\t\tif( onElementIndexChanged != null )\n\t\t\t\t\t\t\tonElementIndexChanged( element, newIndex - startIndex );\n\t\t\t\t\t}\n\n\t\t\t\t\tnewIndex++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\tendIndex = Count - elementsBeforeWrap;\n\n\t\t\tif( newIndex < array.Length )\n\t\t\t{\n\t\t\t\tfor( ; i < endIndex; i++ )\n\t\t\t\t{\n\t\t\t\t\tif( shouldRemoveElement( array[i] ) )\n\t\t\t\t\t\tremovedElements++;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tT element = array[i];\n\t\t\t\t\t\tarray[newIndex] = element;\n\n\t\t\t\t\t\tif( synchronizedArray != null )\n\t\t\t\t\t\t\tsynchronizedArray[newIndex] = synchronizedArray[i];\n\n\t\t\t\t\t\tif( onElementIndexChanged != null )\n\t\t\t\t\t\t\tonElementIndexChanged( element, newIndex - startIndex );\n\n\t\t\t\t\t\tif( ++newIndex == array.Length )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( newIndex == array.Length )\n\t\t\t{\n\t\t\t\tnewIndex = 0;\n\t\t\t\tfor( ; i < endIndex; i++ )\n\t\t\t\t{\n\t\t\t\t\tif( shouldRemoveElement( array[i] ) )\n\t\t\t\t\t\tremovedElements++;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif( removedElements > 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tT element = array[i];\n\t\t\t\t\t\t\tarray[newIndex] = element;\n\n\t\t\t\t\t\t\tif( synchronizedArray != null )\n\t\t\t\t\t\t\t\tsynchronizedArray[newIndex] = synchronizedArray[i];\n\n\t\t\t\t\t\t\tif( onElementIndexChanged != null )\n\t\t\t\t\t\t\t\tonElementIndexChanged( element, newIndex + elementsBeforeWrap );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnewIndex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tTrimEnd( removedElements );\n\t\t\tif( synchronizedBuffer != null )\n\t\t\t\tsynchronizedBuffer.TrimEnd( removedElements );\n\n\t\t\treturn removedElements;\n\t\t}\n\n\t\tpublic void TrimStart( int trimCount, Action<T> perElementCallback = null )\n\t\t{\n\t\t\tTrimInternal( trimCount, startIndex, perElementCallback );\n\t\t\tstartIndex = ( startIndex + trimCount ) % array.Length;\n\t\t}\n\n\t\tpublic void TrimEnd( int trimCount, Action<T> perElementCallback = null )\n\t\t{\n\t\t\tTrimInternal( trimCount, ( startIndex + Count - trimCount ) % array.Length, perElementCallback );\n\t\t}\n\n\t\tprivate void TrimInternal( int trimCount, int startIndex, Action<T> perElementCallback )\n\t\t{\n\t\t\tint elementsBeforeWrap = Mathf.Min( trimCount, array.Length - startIndex );\n\t\t\tif( perElementCallback == null )\n\t\t\t{\n\t\t\t\tArray.Clear( array, startIndex, elementsBeforeWrap );\n\t\t\t\tif( elementsBeforeWrap < trimCount )\n\t\t\t\t\tArray.Clear( array, 0, trimCount - elementsBeforeWrap );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor( int i = startIndex, endIndex = startIndex + elementsBeforeWrap; i < endIndex; i++ )\n\t\t\t\t{\n\t\t\t\t\tperElementCallback( array[i] );\n\t\t\t\t\tarray[i] = default( T );\n\t\t\t\t}\n\n\t\t\t\tfor( int i = 0, endIndex = trimCount - elementsBeforeWrap; i < endIndex; i++ )\n\t\t\t\t{\n\t\t\t\t\tperElementCallback( array[i] );\n\t\t\t\t\tarray[i] = default( T );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tCount -= trimCount;\n\t\t}\n\n\t\tpublic void Clear()\n\t\t{\n\t\t\tint elementsBeforeWrap = Mathf.Min( Count, array.Length - startIndex );\n\t\t\tArray.Clear( array, startIndex, elementsBeforeWrap );\n\t\t\tif( elementsBeforeWrap < Count )\n\t\t\t\tArray.Clear( array, 0, Count - elementsBeforeWrap );\n\n\t\t\tstartIndex = 0;\n\t\t\tCount = 0;\n\t\t}\n\n\t\tpublic int IndexOf( T value )\n\t\t{\n\t\t\tint elementsBeforeWrap = Mathf.Min( Count, array.Length - startIndex );\n\t\t\tint index = Array.IndexOf( array, value, startIndex, elementsBeforeWrap );\n\t\t\tif( index >= 0 )\n\t\t\t\treturn index - startIndex;\n\n\t\t\tif( elementsBeforeWrap < Count )\n\t\t\t{\n\t\t\t\tindex = Array.IndexOf( array, value, 0, Count - elementsBeforeWrap );\n\t\t\t\tif( index >= 0 )\n\t\t\t\t\treturn index + elementsBeforeWrap;\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tpublic void ForEach( Action<T> action )\n\t\t{\n\t\t\tint elementsBeforeWrap = Mathf.Min( Count, array.Length - startIndex );\n\t\t\tfor( int i = startIndex, endIndex = startIndex + elementsBeforeWrap; i < endIndex; i++ )\n\t\t\t\taction( array[i] );\n\t\t\tfor( int i = 0, endIndex = Count - elementsBeforeWrap; i < endIndex; i++ )\n\t\t\t\taction( array[i] );\n\t\t}\n\t}\n}","size_bytes":8403},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/ConsoleMethodAttribute.cs":{"content":"ï»¿using System;\n\nnamespace IngameDebugConsole\n{\n\t[AttributeUsage( AttributeTargets.Method, Inherited = false, AllowMultiple = true )]\n\tpublic class ConsoleMethodAttribute : Attribute\n\t{\n\t\tprivate string m_command;\n\t\tprivate string m_description;\n\t\tprivate string[] m_parameterNames;\n\n\t\tpublic string Command { get { return m_command; } }\n\t\tpublic string Description { get { return m_description; } }\n\t\tpublic string[] ParameterNames { get { return m_parameterNames; } }\n\n\t\tpublic ConsoleMethodAttribute( string command, string description, params string[] parameterNames )\n\t\t{\n\t\t\tm_command = command;\n\t\t\tm_description = description;\n\t\t\tm_parameterNames = parameterNames;\n\t\t}\n\t}\n}","size_bytes":680},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogConsole.cs":{"content":"ï»¿#if UNITY_EDITOR || UNITY_STANDALONE\n// Unity's Text component doesn't render <b> tag correctly on mobile devices\n#define USE_BOLD_COMMAND_SIGNATURES\n#endif\n\nusing UnityEngine;\nusing System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Globalization;\nusing System.Reflection;\nusing System.Text;\nusing Object = UnityEngine.Object;\n#if UNITY_EDITOR && UNITY_2021_1_OR_NEWER\nusing SystemInfo = UnityEngine.Device.SystemInfo; // To support Device Simulator on Unity 2021.1+\n#endif\n\n// Manages the console commands, parses console input and handles execution of commands\n// Supported method parameter types: int, float, bool, string, Vector2, Vector3, Vector4\n\n// Helper class to store important information about a command\nnamespace IngameDebugConsole\n{\n\tpublic class ConsoleMethodInfo\n\t{\n\t\tpublic readonly MethodInfo method;\n\t\tpublic readonly Type[] parameterTypes;\n\t\tpublic readonly object instance;\n\n\t\tpublic readonly string command;\n\t\tpublic readonly string signature;\n\t\tpublic readonly string[] parameters;\n\n\t\tpublic ConsoleMethodInfo( MethodInfo method, Type[] parameterTypes, object instance, string command, string signature, string[] parameters )\n\t\t{\n\t\t\tthis.method = method;\n\t\t\tthis.parameterTypes = parameterTypes;\n\t\t\tthis.instance = instance;\n\t\t\tthis.command = command;\n\t\t\tthis.signature = signature;\n\t\t\tthis.parameters = parameters;\n\t\t}\n\n\t\tpublic bool IsValid()\n\t\t{\n\t\t\tif( !method.IsStatic && ( instance == null || instance.Equals( null ) ) )\n\t\t\t\treturn false;\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic static class DebugLogConsole\n\t{\n\t\tpublic delegate bool ParseFunction( string input, out object output );\n\n\t\tpublic delegate void CommandExecutedDelegate( string command, object[] parameters );\n\t\tpublic static event CommandExecutedDelegate OnCommandExecuted;\n\n\t\t// All the commands\n\t\tprivate static readonly List<ConsoleMethodInfo> methods = new List<ConsoleMethodInfo>();\n\t\tprivate static readonly List<ConsoleMethodInfo> matchingMethods = new List<ConsoleMethodInfo>( 4 );\n\n\t\t// All the parse functions\n\t\tprivate static readonly Dictionary<Type, ParseFunction> parseFunctions = new Dictionary<Type, ParseFunction>()\n\t\t{\n\t\t\t{ typeof( string ), ParseString },\n\t\t\t{ typeof( bool ), ParseBool },\n\t\t\t{ typeof( int ), ParseInt },\n\t\t\t{ typeof( uint ), ParseUInt },\n\t\t\t{ typeof( long ), ParseLong },\n\t\t\t{ typeof( ulong ), ParseULong },\n\t\t\t{ typeof( byte ), ParseByte },\n\t\t\t{ typeof( sbyte ), ParseSByte },\n\t\t\t{ typeof( short ), ParseShort },\n\t\t\t{ typeof( ushort ), ParseUShort },\n\t\t\t{ typeof( char ), ParseChar },\n\t\t\t{ typeof( float ), ParseFloat },\n\t\t\t{ typeof( double ), ParseDouble },\n\t\t\t{ typeof( decimal ), ParseDecimal },\n\t\t\t{ typeof( Vector2 ), ParseVector2 },\n\t\t\t{ typeof( Vector3 ), ParseVector3 },\n\t\t\t{ typeof( Vector4 ), ParseVector4 },\n\t\t\t{ typeof( Quaternion ), ParseQuaternion },\n\t\t\t{ typeof( Color ), ParseColor },\n\t\t\t{ typeof( Color32 ), ParseColor32 },\n\t\t\t{ typeof( Rect ), ParseRect },\n\t\t\t{ typeof( RectOffset ), ParseRectOffset },\n\t\t\t{ typeof( Bounds ), ParseBounds },\n\t\t\t{ typeof( GameObject ), ParseGameObject },\n#if UNITY_2017_2_OR_NEWER\n\t\t\t{ typeof( Vector2Int ), ParseVector2Int },\n\t\t\t{ typeof( Vector3Int ), ParseVector3Int },\n\t\t\t{ typeof( RectInt ), ParseRectInt },\n\t\t\t{ typeof( BoundsInt ), ParseBoundsInt },\n#endif\n\t\t};\n\n\t\t// All the readable names of accepted types\n\t\tprivate static readonly Dictionary<Type, string> typeReadableNames = new Dictionary<Type, string>()\n\t\t{\n\t\t\t{ typeof( string ), \"String\" },\n\t\t\t{ typeof( bool ), \"Boolean\" },\n\t\t\t{ typeof( int ), \"Integer\" },\n\t\t\t{ typeof( uint ), \"Unsigned Integer\" },\n\t\t\t{ typeof( long ), \"Long\" },\n\t\t\t{ typeof( ulong ), \"Unsigned Long\" },\n\t\t\t{ typeof( byte ), \"Byte\" },\n\t\t\t{ typeof( sbyte ), \"Short Byte\" },\n\t\t\t{ typeof( short ), \"Short\" },\n\t\t\t{ typeof( ushort ), \"Unsigned Short\" },\n\t\t\t{ typeof( char ), \"Char\" },\n\t\t\t{ typeof( float ), \"Float\" },\n\t\t\t{ typeof( double ), \"Double\" },\n\t\t\t{ typeof( decimal ), \"Decimal\" }\n\t\t};\n\n\t\t// Split arguments of an entered command\n\t\tprivate static readonly List<string> commandArguments = new List<string>( 8 );\n\n\t\t// Command parameter delimeter groups\n\t\tprivate static readonly string[] inputDelimiters = new string[] { \"\\\"\\\"\", \"''\", \"{}\", \"()\", \"[]\" };\n\n\t\t// CompareInfo used for case-insensitive command name comparison\n\t\tinternal static readonly CompareInfo caseInsensitiveComparer = new CultureInfo( \"en-US\" ).CompareInfo;\n\n\t\tstatic DebugLogConsole()\n\t\t{\n#if !IDG_DISABLE_HELP_COMMAND\n\t\t\tAddCommand( \"help\", \"Prints all commands\", LogAllCommands );\n\t\t\tAddCommand<string>( \"help\", \"Prints all matching commands\", LogAllCommandsWithName );\n#endif\n#if IDG_ENABLE_HELPER_COMMANDS || IDG_ENABLE_SYSINFO_COMMAND\n\t\t\tAddCommand( \"sysinfo\", \"Prints system information\", LogSystemInfo );\n#endif\n\n#if UNITY_EDITOR || !NETFX_CORE\n\t\t\t// Find all [ConsoleMethod] functions\n\t\t\t// Don't search built-in assemblies for console methods since they can't have any\n\t\t\tstring[] ignoredAssemblies = new string[]\n\t\t\t{\n\t\t\t\t\"Unity\",\n\t\t\t\t\"System\",\n\t\t\t\t\"Mono.\",\n\t\t\t\t\"mscorlib\",\n\t\t\t\t\"netstandard\",\n\t\t\t\t\"TextMeshPro\",\n\t\t\t\t\"Microsoft.GeneratedCode\",\n\t\t\t\t\"I18N\",\n\t\t\t\t\"Boo.\",\n\t\t\t\t\"UnityScript.\",\n\t\t\t\t\"ICSharpCode.\",\n\t\t\t\t\"ExCSS.Unity\",\n#if UNITY_EDITOR\n\t\t\t\t\"Assembly-CSharp-Editor\",\n\t\t\t\t\"Assembly-UnityScript-Editor\",\n\t\t\t\t\"nunit.\",\n\t\t\t\t\"SyntaxTree.\",\n\t\t\t\t\"AssetStoreTools\",\n#endif\n\t\t\t};\n#endif\n\n#if UNITY_EDITOR || !NETFX_CORE\n\t\t\tforeach( Assembly assembly in AppDomain.CurrentDomain.GetAssemblies() )\n#else\n\t\t\tforeach( Assembly assembly in new Assembly[] { typeof( DebugLogConsole ).Assembly } ) // On UWP, at least search this plugin's Assembly for console methods\n#endif\n\t\t\t{\n#if( NET_4_6 || NET_STANDARD_2_0 ) && ( UNITY_EDITOR || !NETFX_CORE )\n\t\t\t\tif( assembly.IsDynamic )\n\t\t\t\t\tcontinue;\n#endif\n\n\n#if UNITY_EDITOR || !NETFX_CORE\n\t\t\t\tstring assemblyName = assembly.GetName().Name;\n\t\t\t\tbool ignoreAssembly = false;\n\t\t\t\tfor( int i = 0; i < ignoredAssemblies.Length; i++ )\n\t\t\t\t{\n\t\t\t\t\tif( caseInsensitiveComparer.IsPrefix( assemblyName, ignoredAssemblies[i], CompareOptions.IgnoreCase ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tignoreAssembly = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( ignoreAssembly )\n\t\t\t\t\tcontinue;\n#endif\n\n\t\t\t\tSearchAssemblyForConsoleMethods( assembly );\n\t\t\t}\n\t\t}\n\n\t\tpublic static void SearchAssemblyForConsoleMethods( Assembly assembly )\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tforeach( Type type in assembly.GetExportedTypes() )\n\t\t\t\t{\n\t\t\t\t\tforeach( MethodInfo method in type.GetMethods( BindingFlags.Static | BindingFlags.Public | BindingFlags.DeclaredOnly ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tforeach( object attribute in method.GetCustomAttributes( typeof( ConsoleMethodAttribute ), false ) )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tConsoleMethodAttribute consoleMethod = attribute as ConsoleMethodAttribute;\n\t\t\t\t\t\t\tif( consoleMethod != null )\n\t\t\t\t\t\t\t\tAddCommand( consoleMethod.Command, consoleMethod.Description, method, null, consoleMethod.ParameterNames );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch( NotSupportedException ) { }\n\t\t\tcatch( System.IO.FileNotFoundException ) { }\n\t\t\tcatch( ReflectionTypeLoadException ) { }\n\t\t\tcatch( Exception e )\n\t\t\t{\n\t\t\t\tDebug.LogError( \"Couldn't search assembly for [ConsoleMethod] attributes: \" + assembly.GetName().Name + \"\\n\" + e.ToString() );\n\t\t\t}\n\t\t}\n\n\t\tpublic static List<ConsoleMethodInfo> GetAllCommands()\n\t\t{\n\t\t\treturn methods;\n\t\t}\n\n\t\t// Logs the list of available commands\n\t\tpublic static void LogAllCommands()\n\t\t{\n\t\t\tint length = 25;\n\t\t\tfor( int i = 0; i < methods.Count; i++ )\n\t\t\t{\n\t\t\t\tif( methods[i].IsValid() )\n\t\t\t\t\tlength += methods[i].signature.Length + 7;\n\t\t\t}\n\n\t\t\tStringBuilder stringBuilder = new StringBuilder( length );\n\t\t\tstringBuilder.Append( \"Available commands:\" );\n\n\t\t\tfor( int i = 0; i < methods.Count; i++ )\n\t\t\t{\n\t\t\t\tif( methods[i].IsValid() )\n\t\t\t\t\tstringBuilder.Append( \"\\n    - \" ).Append( methods[i].signature );\n\t\t\t}\n\n\t\t\tDebug.Log( stringBuilder.ToString() );\n\n\t\t\t// After typing help, the log that lists all the commands should automatically be expanded for better UX\n\t\t\tif( DebugLogManager.Instance )\n\t\t\t\tDebugLogManager.Instance.AdjustLatestPendingLog( true, true );\n\t\t}\n\n\t\t// Logs the list of available commands that are either equal to commandName or contain commandName as substring\n\t\tpublic static void LogAllCommandsWithName( string commandName )\n\t\t{\n\t\t\tmatchingMethods.Clear();\n\n\t\t\t// First, try to find commands that exactly match the commandName. If there are no such commands, try to find\n\t\t\t// commands that contain commandName as substring\n\t\t\tFindCommands( commandName, false, matchingMethods );\n\t\t\tif( matchingMethods.Count == 0 )\n\t\t\t\tFindCommands( commandName, true, matchingMethods );\n\n\t\t\tif( matchingMethods.Count == 0 )\n\t\t\t\tDebug.LogWarning( string.Concat( \"ERROR: can't find command '\", commandName, \"'\" ) );\n\t\t\telse\n\t\t\t{\n\t\t\t\tint commandsLength = 25;\n\t\t\t\tfor( int i = 0; i < matchingMethods.Count; i++ )\n\t\t\t\t\tcommandsLength += matchingMethods[i].signature.Length + 7;\n\n\t\t\t\tStringBuilder stringBuilder = new StringBuilder( commandsLength );\n\t\t\t\tstringBuilder.Append( \"Matching commands:\" );\n\n\t\t\t\tfor( int i = 0; i < matchingMethods.Count; i++ )\n\t\t\t\t\tstringBuilder.Append( \"\\n    - \" ).Append( matchingMethods[i].signature );\n\n\t\t\t\tDebug.Log( stringBuilder.ToString() );\n\n\t\t\t\tif( DebugLogManager.Instance )\n\t\t\t\t\tDebugLogManager.Instance.AdjustLatestPendingLog( true, true );\n\t\t\t}\n\t\t}\n\n\t\t// Logs system information\n\t\tpublic static void LogSystemInfo()\n\t\t{\n\t\t\tStringBuilder stringBuilder = new StringBuilder( 1024 );\n\t\t\tstringBuilder.Append( \"Rig: \" ).AppendSysInfoIfPresent( SystemInfo.deviceModel ).AppendSysInfoIfPresent( SystemInfo.processorType )\n\t\t\t\t.AppendSysInfoIfPresent( SystemInfo.systemMemorySize, \"MB RAM\" ).Append( SystemInfo.processorCount ).Append( \" cores\\n\" );\n\t\t\tstringBuilder.Append( \"OS: \" ).Append( SystemInfo.operatingSystem ).Append( \"\\n\" );\n\t\t\tstringBuilder.Append( \"GPU: \" ).Append( SystemInfo.graphicsDeviceName ).Append( \" \" ).Append( SystemInfo.graphicsMemorySize )\n\t\t\t\t.Append( \"MB \" ).Append( SystemInfo.graphicsDeviceVersion )\n\t\t\t\t.Append( SystemInfo.graphicsMultiThreaded ? \" multi-threaded\\n\" : \"\\n\" );\n\t\t\tstringBuilder.Append( \"Data Path: \" ).Append( Application.dataPath ).Append( \"\\n\" );\n\t\t\tstringBuilder.Append( \"Persistent Data Path: \" ).Append( Application.persistentDataPath ).Append( \"\\n\" );\n\t\t\tstringBuilder.Append( \"StreamingAssets Path: \" ).Append( Application.streamingAssetsPath ).Append( \"\\n\" );\n\t\t\tstringBuilder.Append( \"Temporary Cache Path: \" ).Append( Application.temporaryCachePath ).Append( \"\\n\" );\n\t\t\tstringBuilder.Append( \"Device ID: \" ).Append( SystemInfo.deviceUniqueIdentifier ).Append( \"\\n\" );\n\t\t\tstringBuilder.Append( \"Max Texture Size: \" ).Append( SystemInfo.maxTextureSize ).Append( \"\\n\" );\n#if UNITY_5_6_OR_NEWER\n\t\t\tstringBuilder.Append( \"Max Cubemap Size: \" ).Append( SystemInfo.maxCubemapSize ).Append( \"\\n\" );\n#endif\n\t\t\tstringBuilder.Append( \"Accelerometer: \" ).Append( SystemInfo.supportsAccelerometer ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"Gyro: \" ).Append( SystemInfo.supportsGyroscope ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"Location Service: \" ).Append( SystemInfo.supportsLocationService ? \"supported\\n\" : \"not supported\\n\" );\n#if !UNITY_2019_1_OR_NEWER\n\t\t\tstringBuilder.Append( \"Image Effects: \" ).Append( SystemInfo.supportsImageEffects ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"RenderToCubemap: \" ).Append( SystemInfo.supportsRenderToCubemap ? \"supported\\n\" : \"not supported\\n\" );\n#endif\n\t\t\tstringBuilder.Append( \"Compute Shaders: \" ).Append( SystemInfo.supportsComputeShaders ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"Shadows: \" ).Append( SystemInfo.supportsShadows ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"Instancing: \" ).Append( SystemInfo.supportsInstancing ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"Motion Vectors: \" ).Append( SystemInfo.supportsMotionVectors ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"3D Textures: \" ).Append( SystemInfo.supports3DTextures ? \"supported\\n\" : \"not supported\\n\" );\n#if UNITY_5_6_OR_NEWER\n\t\t\tstringBuilder.Append( \"3D Render Textures: \" ).Append( SystemInfo.supports3DRenderTextures ? \"supported\\n\" : \"not supported\\n\" );\n#endif\n\t\t\tstringBuilder.Append( \"2D Array Textures: \" ).Append( SystemInfo.supports2DArrayTextures ? \"supported\\n\" : \"not supported\\n\" );\n\t\t\tstringBuilder.Append( \"Cubemap Array Textures: \" ).Append( SystemInfo.supportsCubemapArrayTextures ? \"supported\" : \"not supported\" );\n\n\t\t\tDebug.Log( stringBuilder.ToString() );\n\n\t\t\t// After typing sysinfo, the log that lists system information should automatically be expanded for better UX\n\t\t\tif( DebugLogManager.Instance )\n\t\t\t\tDebugLogManager.Instance.AdjustLatestPendingLog( true, true );\n\t\t}\n\n\t\tprivate static StringBuilder AppendSysInfoIfPresent( this StringBuilder sb, string info, string postfix = null )\n\t\t{\n\t\t\tif( info != SystemInfo.unsupportedIdentifier )\n\t\t\t{\n\t\t\t\tsb.Append( info );\n\n\t\t\t\tif( postfix != null )\n\t\t\t\t\tsb.Append( postfix );\n\n\t\t\t\tsb.Append( \" \" );\n\t\t\t}\n\n\t\t\treturn sb;\n\t\t}\n\n\t\tprivate static StringBuilder AppendSysInfoIfPresent( this StringBuilder sb, int info, string postfix = null )\n\t\t{\n\t\t\tif( info > 0 )\n\t\t\t{\n\t\t\t\tsb.Append( info );\n\n\t\t\t\tif( postfix != null )\n\t\t\t\t\tsb.Append( postfix );\n\n\t\t\t\tsb.Append( \" \" );\n\t\t\t}\n\n\t\t\treturn sb;\n\t\t}\n\n\t\t// Add a custom Type to the list of recognized command parameter Types\n\t\tpublic static void AddCustomParameterType( Type type, ParseFunction parseFunction, string typeReadableName = null )\n\t\t{\n\t\t\tif( type == null )\n\t\t\t{\n\t\t\t\tDebug.LogError( \"Parameter type can't be null!\" );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if( parseFunction == null )\n\t\t\t{\n\t\t\t\tDebug.LogError( \"Parameter parseFunction can't be null!\" );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tparseFunctions[type] = parseFunction;\n\n\t\t\tif( !string.IsNullOrEmpty( typeReadableName ) )\n\t\t\t\ttypeReadableNames[type] = typeReadableName;\n\t\t}\n\n\t\t// Remove a custom Type from the list of recognized command parameter Types\n\t\tpublic static void RemoveCustomParameterType( Type type )\n\t\t{\n\t\t\tparseFunctions.Remove( type );\n\t\t\ttypeReadableNames.Remove( type );\n\t\t}\n\n\t\t// Add a command related with an instance method (i.e. non static method)\n\t\tpublic static void AddCommandInstance( string command, string description, string methodName, object instance, params string[] parameterNames )\n\t\t{\n\t\t\tif( instance == null )\n\t\t\t{\n\t\t\t\tDebug.LogError( \"Instance can't be null!\" );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tAddCommand( command, description, methodName, instance.GetType(), instance, parameterNames );\n\t\t}\n\n\t\t// Add a command related with a static method (i.e. no instance is required to call the method)\n\t\tpublic static void AddCommandStatic( string command, string description, string methodName, Type ownerType, params string[] parameterNames )\n\t\t{\n\t\t\tAddCommand( command, description, methodName, ownerType, null, parameterNames );\n\t\t}\n\n\t\t// Add a command that can be related to either a static or an instance method\n\t\tpublic static void AddCommand( string command, string description, Action method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1>( string command, string description, Action<T1> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1>( string command, string description, Func<T1> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2>( string command, string description, Action<T1, T2> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2>( string command, string description, Func<T1, T2> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2, T3>( string command, string description, Action<T1, T2, T3> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2, T3>( string command, string description, Func<T1, T2, T3> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2, T3, T4>( string command, string description, Action<T1, T2, T3, T4> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2, T3, T4>( string command, string description, Func<T1, T2, T3, T4> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand<T1, T2, T3, T4, T5>( string command, string description, Func<T1, T2, T3, T4, T5> method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\t\tpublic static void AddCommand( string command, string description, Delegate method ) { AddCommand( command, description, method.Method, method.Target, null ); }\n\n\t\t// Add a command with custom parameter names\n\t\tpublic static void AddCommand<T1>( string command, string description, Action<T1> method, string parameterName ) { AddCommand( command, description, method.Method, method.Target, new string[1] { parameterName } ); }\n\t\tpublic static void AddCommand<T1, T2>( string command, string description, Action<T1, T2> method, string parameterName1, string parameterName2 ) { AddCommand( command, description, method.Method, method.Target, new string[2] { parameterName1, parameterName2 } ); }\n\t\tpublic static void AddCommand<T1, T2>( string command, string description, Func<T1, T2> method, string parameterName ) { AddCommand( command, description, method.Method, method.Target, new string[1] { parameterName } ); }\n\t\tpublic static void AddCommand<T1, T2, T3>( string command, string description, Action<T1, T2, T3> method, string parameterName1, string parameterName2, string parameterName3 ) { AddCommand( command, description, method.Method, method.Target, new string[3] { parameterName1, parameterName2, parameterName3 } ); }\n\t\tpublic static void AddCommand<T1, T2, T3>( string command, string description, Func<T1, T2, T3> method, string parameterName1, string parameterName2 ) { AddCommand( command, description, method.Method, method.Target, new string[2] { parameterName1, parameterName2 } ); }\n\t\tpublic static void AddCommand<T1, T2, T3, T4>( string command, string description, Action<T1, T2, T3, T4> method, string parameterName1, string parameterName2, string parameterName3, string parameterName4 ) { AddCommand( command, description, method.Method, method.Target, new string[4] { parameterName1, parameterName2, parameterName3, parameterName4 } ); }\n\t\tpublic static void AddCommand<T1, T2, T3, T4>( string command, string description, Func<T1, T2, T3, T4> method, string parameterName1, string parameterName2, string parameterName3 ) { AddCommand( command, description, method.Method, method.Target, new string[3] { parameterName1, parameterName2, parameterName3 } ); }\n\t\tpublic static void AddCommand<T1, T2, T3, T4, T5>( string command, string description, Func<T1, T2, T3, T4, T5> method, string parameterName1, string parameterName2, string parameterName3, string parameterName4 ) { AddCommand( command, description, method.Method, method.Target, new string[4] { parameterName1, parameterName2, parameterName3, parameterName4 } ); }\n\t\tpublic static void AddCommand( string command, string description, Delegate method, params string[] parameterNames ) { AddCommand( command, description, method.Method, method.Target, parameterNames ); }\n\n\t\t// Create a new command and set its properties\n\t\tprivate static void AddCommand( string command, string description, string methodName, Type ownerType, object instance, string[] parameterNames )\n\t\t{\n\t\t\t// Get the method from the class\n\t\t\tMethodInfo method = ownerType.GetMethod( methodName, BindingFlags.Public | BindingFlags.NonPublic | ( instance != null ? BindingFlags.Instance : BindingFlags.Static ) );\n\t\t\tif( method == null )\n\t\t\t{\n\t\t\t\tDebug.LogError( methodName + \" does not exist in \" + ownerType );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tAddCommand( command, description, method, instance, parameterNames );\n\t\t}\n\n\t\tprivate static void AddCommand( string command, string description, MethodInfo method, object instance, string[] parameterNames )\n\t\t{\n\t\t\tif( string.IsNullOrEmpty( command ) )\n\t\t\t{\n\t\t\t\tDebug.LogError( \"Command name can't be empty!\" );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcommand = command.Trim();\n\t\t\tif( command.IndexOf( ' ' ) >= 0 )\n\t\t\t{\n\t\t\t\tDebug.LogError( \"Command name can't contain whitespace: \" + command );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Fetch the parameters of the class\n\t\t\tParameterInfo[] parameters = method.GetParameters();\n\t\t\tif( parameters == null )\n\t\t\t\tparameters = new ParameterInfo[0];\n\n\t\t\t// Store the parameter types in an array\n\t\t\tType[] parameterTypes = new Type[parameters.Length];\n\t\t\tfor( int i = 0; i < parameters.Length; i++ )\n\t\t\t{\n\t\t\t\tif( parameters[i].ParameterType.IsByRef )\n\t\t\t\t{\n\t\t\t\t\tDebug.LogError( \"Command can't have 'out' or 'ref' parameters\" );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tType parameterType = parameters[i].ParameterType;\n\t\t\t\tif( parseFunctions.ContainsKey( parameterType ) || typeof( Component ).IsAssignableFrom( parameterType ) || parameterType.IsEnum || IsSupportedArrayType( parameterType ) )\n\t\t\t\t\tparameterTypes[i] = parameterType;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tDebug.LogError( string.Concat( \"Parameter \", parameters[i].Name, \"'s Type \", parameterType, \" isn't supported\" ) );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint commandIndex = FindCommandIndex( command );\n\t\t\tif( commandIndex < 0 )\n\t\t\t\tcommandIndex = ~commandIndex;\n\t\t\telse\n\t\t\t{\n\t\t\t\tint commandFirstIndex = commandIndex;\n\t\t\t\tint commandLastIndex = commandIndex;\n\n\t\t\t\twhile( commandFirstIndex > 0 && caseInsensitiveComparer.Compare( methods[commandFirstIndex - 1].command, command, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\tcommandFirstIndex--;\n\t\t\t\twhile( commandLastIndex < methods.Count - 1 && caseInsensitiveComparer.Compare( methods[commandLastIndex + 1].command, command, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\tcommandLastIndex++;\n\n\t\t\t\tcommandIndex = commandFirstIndex;\n\t\t\t\tfor( int i = commandFirstIndex; i <= commandLastIndex; i++ )\n\t\t\t\t{\n\t\t\t\t\tint parameterCountDiff = methods[i].parameterTypes.Length - parameterTypes.Length;\n\t\t\t\t\tif( parameterCountDiff <= 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\t// We are sorting the commands in 2 steps:\n\t\t\t\t\t\t// 1: Sorting by their 'command' names which is handled by FindCommandIndex\n\t\t\t\t\t\t// 2: Sorting by their parameter counts which is handled here (parameterCountDiff <= 0)\n\t\t\t\t\t\tcommandIndex = i + 1;\n\n\t\t\t\t\t\t// Check if this command has been registered before and if it is, overwrite that command\n\t\t\t\t\t\tif( parameterCountDiff == 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tint j = 0;\n\t\t\t\t\t\t\twhile( j < parameterTypes.Length && parameterTypes[j] == methods[i].parameterTypes[j] )\n\t\t\t\t\t\t\t\tj++;\n\n\t\t\t\t\t\t\tif( j >= parameterTypes.Length )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcommandIndex = i;\n\t\t\t\t\t\t\t\tcommandLastIndex--;\n\t\t\t\t\t\t\t\tmethods.RemoveAt( i-- );\n\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Create the command\n\t\t\tStringBuilder methodSignature = new StringBuilder( 256 );\n\t\t\tstring[] parameterSignatures = new string[parameterTypes.Length];\n\n#if USE_BOLD_COMMAND_SIGNATURES\n\t\t\tmethodSignature.Append( \"<b>\" );\n#endif\n\t\t\tmethodSignature.Append( command );\n\n\t\t\tif( parameterTypes.Length > 0 )\n\t\t\t{\n\t\t\t\tmethodSignature.Append( \" \" );\n\n\t\t\t\tfor( int i = 0; i < parameterTypes.Length; i++ )\n\t\t\t\t{\n\t\t\t\t\tint parameterSignatureStartIndex = methodSignature.Length;\n\n\t\t\t\t\tmethodSignature.Append( \"[\" ).Append( GetTypeReadableName( parameterTypes[i] ) ).Append( \" \" ).Append( ( parameterNames != null && i < parameterNames.Length && !string.IsNullOrEmpty( parameterNames[i] ) ) ? parameterNames[i] : parameters[i].Name ).Append( \"]\" );\n\n\t\t\t\t\tif( i < parameterTypes.Length - 1 )\n\t\t\t\t\t\tmethodSignature.Append( \" \" );\n\n\t\t\t\t\tparameterSignatures[i] = methodSignature.ToString( parameterSignatureStartIndex, methodSignature.Length - parameterSignatureStartIndex );\n\t\t\t\t}\n\t\t\t}\n\n#if USE_BOLD_COMMAND_SIGNATURES\n\t\t\tmethodSignature.Append( \"</b>\" );\n#endif\n\n\t\t\tif( !string.IsNullOrEmpty( description ) )\n\t\t\t\tmethodSignature.Append( \": \" ).Append( description );\n\n\t\t\tmethods.Insert( commandIndex, new ConsoleMethodInfo( method, parameterTypes, instance, command, methodSignature.ToString(), parameterSignatures ) );\n\t\t}\n\n\t\t// Remove all commands with the matching command name from the console\n\t\tpublic static void RemoveCommand( string command )\n\t\t{\n\t\t\tif( !string.IsNullOrEmpty( command ) )\n\t\t\t{\n\t\t\t\tfor( int i = methods.Count - 1; i >= 0; i-- )\n\t\t\t\t{\n\t\t\t\t\tif( caseInsensitiveComparer.Compare( methods[i].command, command, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\t\tmethods.RemoveAt( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Remove all commands with the matching method from the console\n\t\tpublic static void RemoveCommand( Action method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1>( Action<T1> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1>( Func<T1> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2>( Action<T1, T2> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2>( Func<T1, T2> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2, T3>( Action<T1, T2, T3> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2, T3>( Func<T1, T2, T3> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2, T3, T4>( Action<T1, T2, T3, T4> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2, T3, T4>( Func<T1, T2, T3, T4> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand<T1, T2, T3, T4, T5>( Func<T1, T2, T3, T4, T5> method ) { RemoveCommand( method.Method ); }\n\t\tpublic static void RemoveCommand( Delegate method ) { RemoveCommand( method.Method ); }\n\n\t\tpublic static void RemoveCommand( MethodInfo method )\n\t\t{\n\t\t\tif( method != null )\n\t\t\t{\n\t\t\t\tfor( int i = methods.Count - 1; i >= 0; i-- )\n\t\t\t\t{\n\t\t\t\t\tif( methods[i].method == method )\n\t\t\t\t\t\tmethods.RemoveAt( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Returns the first command that starts with the entered argument\n\t\tpublic static string GetAutoCompleteCommand( string commandStart, string previousSuggestion )\n\t\t{\n\t\t\tint commandIndex = FindCommandIndex( !string.IsNullOrEmpty( previousSuggestion ) ? previousSuggestion : commandStart );\n\t\t\tif( commandIndex < 0 )\n\t\t\t{\n\t\t\t\tcommandIndex = ~commandIndex;\n\t\t\t\treturn ( commandIndex < methods.Count && caseInsensitiveComparer.IsPrefix( methods[commandIndex].command, commandStart, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) ) ? methods[commandIndex].command : null;\n\t\t\t}\n\n\t\t\t// Find the next command that starts with commandStart and is different from previousSuggestion\n\t\t\tfor( int i = commandIndex + 1; i < methods.Count; i++ )\n\t\t\t{\n\t\t\t\tif( caseInsensitiveComparer.Compare( methods[i].command, previousSuggestion, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\tcontinue;\n\t\t\t\telse if( caseInsensitiveComparer.IsPrefix( methods[i].command, commandStart, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) )\n\t\t\t\t\treturn methods[i].command;\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Couldn't find a command that follows previousSuggestion and satisfies commandStart, loop back to the beginning of the autocomplete suggestions\n\t\t\tstring result = null;\n\t\t\tfor( int i = commandIndex - 1; i >= 0 && caseInsensitiveComparer.IsPrefix( methods[i].command, commandStart, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ); i-- )\n\t\t\t\tresult = methods[i].command;\n\n\t\t\treturn result;\n\t\t}\n\n\t\t// Parse the command and try to execute it\n\t\tpublic static void ExecuteCommand( string command )\n\t\t{\n\t\t\tif( command == null )\n\t\t\t\treturn;\n\n\t\t\tcommand = command.Trim();\n\n\t\t\tif( command.Length == 0 )\n\t\t\t\treturn;\n\n\t\t\t// Split the command's arguments\n\t\t\tcommandArguments.Clear();\n\t\t\tFetchArgumentsFromCommand( command, commandArguments );\n\n\t\t\t// Find all matching commands\n\t\t\tmatchingMethods.Clear();\n\t\t\tbool parameterCountMismatch = false;\n\t\t\tint commandIndex = FindCommandIndex( commandArguments[0] );\n\t\t\tif( commandIndex >= 0 )\n\t\t\t{\n\t\t\t\tstring _command = commandArguments[0];\n\n\t\t\t\tint commandLastIndex = commandIndex;\n\t\t\t\twhile( commandIndex > 0 && caseInsensitiveComparer.Compare( methods[commandIndex - 1].command, _command, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\tcommandIndex--;\n\t\t\t\twhile( commandLastIndex < methods.Count - 1 && caseInsensitiveComparer.Compare( methods[commandLastIndex + 1].command, _command, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\tcommandLastIndex++;\n\n\t\t\t\twhile( commandIndex <= commandLastIndex )\n\t\t\t\t{\n\t\t\t\t\tif( !methods[commandIndex].IsValid() )\n\t\t\t\t\t{\n\t\t\t\t\t\tmethods.RemoveAt( commandIndex );\n\t\t\t\t\t\tcommandLastIndex--;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// Check if number of parameters match\n\t\t\t\t\t\tif( methods[commandIndex].parameterTypes.Length == commandArguments.Count - 1 )\n\t\t\t\t\t\t\tmatchingMethods.Add( methods[commandIndex] );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tparameterCountMismatch = true;\n\n\t\t\t\t\t\tcommandIndex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( matchingMethods.Count == 0 )\n\t\t\t{\n\t\t\t\tstring _command = commandArguments[0];\n\t\t\t\tFindCommands( _command, !parameterCountMismatch, matchingMethods );\n\n\t\t\t\tif( matchingMethods.Count == 0 )\n\t\t\t\t\tDebug.LogWarning( string.Concat( \"ERROR: can't find command '\", _command, \"'\" ) );\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint commandsLength = _command.Length + 75;\n\t\t\t\t\tfor( int i = 0; i < matchingMethods.Count; i++ )\n\t\t\t\t\t\tcommandsLength += matchingMethods[i].signature.Length + 7;\n\n\t\t\t\t\tStringBuilder stringBuilder = new StringBuilder( commandsLength );\n\t\t\t\t\tif( parameterCountMismatch )\n\t\t\t\t\t\tstringBuilder.Append( \"ERROR: '\" ).Append( _command ).Append( \"' doesn't take \" ).Append( commandArguments.Count - 1 ).Append( \" parameter(s). Available command(s):\" );\n\t\t\t\t\telse\n\t\t\t\t\t\tstringBuilder.Append( \"ERROR: can't find command '\" ).Append( _command ).Append( \"'. Did you mean:\" );\n\n\t\t\t\t\tfor( int i = 0; i < matchingMethods.Count; i++ )\n\t\t\t\t\t\tstringBuilder.Append( \"\\n    - \" ).Append( matchingMethods[i].signature );\n\n\t\t\t\t\tDebug.LogWarning( stringBuilder.ToString() );\n\n\t\t\t\t\t// The log that lists method signature(s) for this command should automatically be expanded for better UX\n\t\t\t\t\tif( DebugLogManager.Instance )\n\t\t\t\t\t\tDebugLogManager.Instance.AdjustLatestPendingLog( true, true );\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tConsoleMethodInfo methodToExecute = null;\n\t\t\tobject[] parameters = new object[commandArguments.Count - 1];\n\t\t\tstring errorMessage = null;\n\t\t\tfor( int i = 0; i < matchingMethods.Count && methodToExecute == null; i++ )\n\t\t\t{\n\t\t\t\tConsoleMethodInfo methodInfo = matchingMethods[i];\n\n\t\t\t\t// Parse the parameters into objects\n\t\t\t\tbool success = true;\n\t\t\t\tfor( int j = 0; j < methodInfo.parameterTypes.Length && success; j++ )\n\t\t\t\t{\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tstring argument = commandArguments[j + 1];\n\t\t\t\t\t\tType parameterType = methodInfo.parameterTypes[j];\n\n\t\t\t\t\t\tobject val;\n\t\t\t\t\t\tif( ParseArgument( argument, parameterType, out val ) )\n\t\t\t\t\t\t\tparameters[j] = val;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\t\terrorMessage = string.Concat( \"ERROR: couldn't parse \", argument, \" to \", GetTypeReadableName( parameterType ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch( Exception e )\n\t\t\t\t\t{\n\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\terrorMessage = \"ERROR: \" + e.ToString();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( success )\n\t\t\t\t\tmethodToExecute = methodInfo;\n\t\t\t}\n\n\t\t\tif( methodToExecute == null )\n\t\t\t\tDebug.LogWarning( !string.IsNullOrEmpty( errorMessage ) ? errorMessage : \"ERROR: something went wrong\" );\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Execute the method associated with the command\n\t\t\t\tobject result = methodToExecute.method.Invoke( methodToExecute.instance, parameters );\n\t\t\t\tif( methodToExecute.method.ReturnType != typeof( void ) )\n\t\t\t\t{\n\t\t\t\t\t// Print the returned value to the console\n\t\t\t\t\tif( result == null || result.Equals( null ) )\n\t\t\t\t\t\tDebug.Log( \"Returned: null\" );\n\t\t\t\t\telse\n\t\t\t\t\t\tDebug.Log( \"Returned: \" + result.ToString() );\n\t\t\t\t}\n\n\t\t\t\tif( OnCommandExecuted != null )\n\t\t\t\t\tOnCommandExecuted( methodToExecute.command, parameters );\n\t\t\t}\n\t\t}\n\n\t\tpublic static void FetchArgumentsFromCommand( string command, List<string> commandArguments )\n\t\t{\n\t\t\tfor( int i = 0; i < command.Length; i++ )\n\t\t\t{\n\t\t\t\tif( char.IsWhiteSpace( command[i] ) )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tint delimiterIndex = IndexOfDelimiterGroup( command[i] );\n\t\t\t\tif( delimiterIndex >= 0 )\n\t\t\t\t{\n\t\t\t\t\tint endIndex = IndexOfDelimiterGroupEnd( command, delimiterIndex, i + 1 );\n\t\t\t\t\tcommandArguments.Add( command.Substring( i + 1, endIndex - i - 1 ) );\n\t\t\t\t\ti = ( endIndex < command.Length - 1 && command[endIndex + 1] == ',' ) ? endIndex + 1 : endIndex;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint endIndex = IndexOfChar( command, ' ', i + 1 );\n\t\t\t\t\tcommandArguments.Add( command.Substring( i, command[endIndex - 1] == ',' ? endIndex - 1 - i : endIndex - i ) );\n\t\t\t\t\ti = endIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic static void FindCommands( string commandName, bool allowSubstringMatching, List<ConsoleMethodInfo> matchingCommands )\n\t\t{\n\t\t\tif( allowSubstringMatching )\n\t\t\t{\n\t\t\t\tfor( int i = 0; i < methods.Count; i++ )\n\t\t\t\t{\n\t\t\t\t\tif( methods[i].IsValid() && caseInsensitiveComparer.IndexOf( methods[i].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) >= 0 )\n\t\t\t\t\t\tmatchingCommands.Add( methods[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor( int i = 0; i < methods.Count; i++ )\n\t\t\t\t{\n\t\t\t\t\tif( methods[i].IsValid() && caseInsensitiveComparer.Compare( methods[i].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\t\tmatchingCommands.Add( methods[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Finds all commands that have a matching signature with command\n\t\t// - caretIndexIncrements: indices inside \"string command\" that separate two arguments in the command. This is used to\n\t\t//   figure out which argument the caret is standing on\n\t\t// - commandName: command's name (first argument)\n\t\tinternal static void GetCommandSuggestions( string command, List<ConsoleMethodInfo> matchingCommands, List<int> caretIndexIncrements, ref string commandName, out int numberOfParameters )\n\t\t{\n\t\t\tbool commandNameCalculated = false;\n\t\t\tbool commandNameFullyTyped = false;\n\t\t\tnumberOfParameters = -1;\n\t\t\tfor( int i = 0; i < command.Length; i++ )\n\t\t\t{\n\t\t\t\tif( char.IsWhiteSpace( command[i] ) )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tint delimiterIndex = IndexOfDelimiterGroup( command[i] );\n\t\t\t\tif( delimiterIndex >= 0 )\n\t\t\t\t{\n\t\t\t\t\tint endIndex = IndexOfDelimiterGroupEnd( command, delimiterIndex, i + 1 );\n\t\t\t\t\tif( !commandNameCalculated )\n\t\t\t\t\t{\n\t\t\t\t\t\tcommandNameCalculated = true;\n\t\t\t\t\t\tcommandNameFullyTyped = command.Length > endIndex;\n\n\t\t\t\t\t\tint commandNameLength = endIndex - i - 1;\n\t\t\t\t\t\tif( commandName == null || commandNameLength == 0 || commandName.Length != commandNameLength || caseInsensitiveComparer.IndexOf( command, commandName, i + 1, commandNameLength, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) != i + 1 )\n\t\t\t\t\t\t\tcommandName = command.Substring( i + 1, commandNameLength );\n\t\t\t\t\t}\n\n\t\t\t\t\ti = ( endIndex < command.Length - 1 && command[endIndex + 1] == ',' ) ? endIndex + 1 : endIndex;\n\t\t\t\t\tcaretIndexIncrements.Add( i + 1 );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tint endIndex = IndexOfChar( command, ' ', i + 1 );\n\t\t\t\t\tif( !commandNameCalculated )\n\t\t\t\t\t{\n\t\t\t\t\t\tcommandNameCalculated = true;\n\t\t\t\t\t\tcommandNameFullyTyped = command.Length > endIndex;\n\n\t\t\t\t\t\tint commandNameLength = command[endIndex - 1] == ',' ? endIndex - 1 - i : endIndex - i;\n\t\t\t\t\t\tif( commandName == null || commandNameLength == 0 || commandName.Length != commandNameLength || caseInsensitiveComparer.IndexOf( command, commandName, i, commandNameLength, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) != i )\n\t\t\t\t\t\t\tcommandName = command.Substring( i, commandNameLength );\n\t\t\t\t\t}\n\n\t\t\t\t\ti = endIndex;\n\t\t\t\t\tcaretIndexIncrements.Add( i );\n\t\t\t\t}\n\n\t\t\t\tnumberOfParameters++;\n\t\t\t}\n\n\t\t\tif( !commandNameCalculated )\n\t\t\t\tcommandName = string.Empty;\n\n\t\t\tif( !string.IsNullOrEmpty( commandName ) )\n\t\t\t{\n\t\t\t\tint commandIndex = FindCommandIndex( commandName );\n\t\t\t\tif( commandIndex < 0 )\n\t\t\t\t\tcommandIndex = ~commandIndex;\n\n\t\t\t\tint commandLastIndex = commandIndex;\n\t\t\t\tif( !commandNameFullyTyped )\n\t\t\t\t{\n\t\t\t\t\t// Match all commands that start with commandName\n\t\t\t\t\tif( commandIndex < methods.Count && caseInsensitiveComparer.IsPrefix( methods[commandIndex].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) )\n\t\t\t\t\t{\n\t\t\t\t\t\twhile( commandIndex > 0 && caseInsensitiveComparer.IsPrefix( methods[commandIndex - 1].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) )\n\t\t\t\t\t\t\tcommandIndex--;\n\t\t\t\t\t\twhile( commandLastIndex < methods.Count - 1 && caseInsensitiveComparer.IsPrefix( methods[commandLastIndex + 1].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) )\n\t\t\t\t\t\t\tcommandLastIndex++;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tcommandLastIndex = -1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Match only the commands that are equal to commandName\n\t\t\t\t\tif( commandIndex < methods.Count && caseInsensitiveComparer.Compare( methods[commandIndex].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\twhile( commandIndex > 0 && caseInsensitiveComparer.Compare( methods[commandIndex - 1].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\t\t\tcommandIndex--;\n\t\t\t\t\t\twhile( commandLastIndex < methods.Count - 1 && caseInsensitiveComparer.Compare( methods[commandLastIndex + 1].command, commandName, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) == 0 )\n\t\t\t\t\t\t\tcommandLastIndex++;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tcommandLastIndex = -1;\n\t\t\t\t}\n\n\t\t\t\tfor( ; commandIndex <= commandLastIndex; commandIndex++ )\n\t\t\t\t{\n\t\t\t\t\tif( methods[commandIndex].parameterTypes.Length >= numberOfParameters )\n\t\t\t\t\t\tmatchingCommands.Add( methods[commandIndex] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Find the index of the delimiter group that 'c' belongs to\n\t\tprivate static int IndexOfDelimiterGroup( char c )\n\t\t{\n\t\t\tfor( int i = 0; i < inputDelimiters.Length; i++ )\n\t\t\t{\n\t\t\t\tif( c == inputDelimiters[i][0] )\n\t\t\t\t\treturn i;\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate static int IndexOfDelimiterGroupEnd( string command, int delimiterIndex, int startIndex )\n\t\t{\n\t\t\tchar startChar = inputDelimiters[delimiterIndex][0];\n\t\t\tchar endChar = inputDelimiters[delimiterIndex][1];\n\n\t\t\t// Check delimiter's depth for array support (e.g. [[1 2] [3 4]] for Vector2 array)\n\t\t\tint depth = 1;\n\n\t\t\tfor( int i = startIndex; i < command.Length; i++ )\n\t\t\t{\n\t\t\t\tchar c = command[i];\n\t\t\t\tif( c == endChar && --depth <= 0 )\n\t\t\t\t\treturn i;\n\t\t\t\telse if( c == startChar )\n\t\t\t\t\tdepth++;\n\t\t\t}\n\n\t\t\treturn command.Length;\n\t\t}\n\n\t\t// Find the index of char in the string, or return the length of string instead of -1\n\t\tprivate static int IndexOfChar( string command, char c, int startIndex )\n\t\t{\n\t\t\tint result = command.IndexOf( c, startIndex );\n\t\t\tif( result < 0 )\n\t\t\t\tresult = command.Length;\n\n\t\t\treturn result;\n\t\t}\n\n\t\t// Find command's index in the list of registered commands using binary search\n\t\tprivate static int FindCommandIndex( string command )\n\t\t{\n\t\t\tint min = 0;\n\t\t\tint max = methods.Count - 1;\n\t\t\twhile( min <= max )\n\t\t\t{\n\t\t\t\tint mid = ( min + max ) / 2;\n\t\t\t\tint comparison = caseInsensitiveComparer.Compare( command, methods[mid].command, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace );\n\t\t\t\tif( comparison == 0 )\n\t\t\t\t\treturn mid;\n\t\t\t\telse if( comparison < 0 )\n\t\t\t\t\tmax = mid - 1;\n\t\t\t\telse\n\t\t\t\t\tmin = mid + 1;\n\t\t\t}\n\n\t\t\treturn ~min;\n\t\t}\n\n\t\tpublic static bool IsSupportedArrayType( Type type )\n\t\t{\n\t\t\tif( type.IsArray )\n\t\t\t{\n\t\t\t\tif( type.GetArrayRank() != 1 )\n\t\t\t\t\treturn false;\n\n\t\t\t\ttype = type.GetElementType();\n\t\t\t}\n\t\t\telse if( type.IsGenericType )\n\t\t\t{\n\t\t\t\tif( type.GetGenericTypeDefinition() != typeof( List<> ) )\n\t\t\t\t\treturn false;\n\n\t\t\t\ttype = type.GetGenericArguments()[0];\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\n\t\t\treturn parseFunctions.ContainsKey( type ) || typeof( Component ).IsAssignableFrom( type ) || type.IsEnum;\n\t\t}\n\n\t\tpublic static string GetTypeReadableName( Type type )\n\t\t{\n\t\t\tstring result;\n\t\t\tif( typeReadableNames.TryGetValue( type, out result ) )\n\t\t\t\treturn result;\n\n\t\t\tif( IsSupportedArrayType( type ) )\n\t\t\t{\n\t\t\t\tType elementType = type.IsArray ? type.GetElementType() : type.GetGenericArguments()[0];\n\t\t\t\tif( typeReadableNames.TryGetValue( elementType, out result ) )\n\t\t\t\t\treturn result + \"[]\";\n\t\t\t\telse\n\t\t\t\t\treturn elementType.Name + \"[]\";\n\t\t\t}\n\n\t\t\treturn type.Name;\n\t\t}\n\n\t\tpublic static bool ParseArgument( string input, Type argumentType, out object output )\n\t\t{\n\t\t\tParseFunction parseFunction;\n\t\t\tif( parseFunctions.TryGetValue( argumentType, out parseFunction ) )\n\t\t\t\treturn parseFunction( input, out output );\n\t\t\telse if( typeof( Component ).IsAssignableFrom( argumentType ) )\n\t\t\t\treturn ParseComponent( input, argumentType, out output );\n\t\t\telse if( argumentType.IsEnum )\n\t\t\t\treturn ParseEnum( input, argumentType, out output );\n\t\t\telse if( IsSupportedArrayType( argumentType ) )\n\t\t\t\treturn ParseArray( input, argumentType, out output );\n\t\t\telse\n\t\t\t{\n\t\t\t\toutput = null;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tpublic static bool ParseString( string input, out object output )\n\t\t{\n\t\t\toutput = input;\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic static bool ParseBool( string input, out object output )\n\t\t{\n\t\t\tif( input == \"1\" || input.ToLowerInvariant() == \"true\" )\n\t\t\t{\n\t\t\t\toutput = true;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif( input == \"0\" || input.ToLowerInvariant() == \"false\" )\n\t\t\t{\n\t\t\t\toutput = false;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\toutput = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic static bool ParseInt( string input, out object output )\n\t\t{\n\t\t\tint value;\n\t\t\tbool result = int.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseUInt( string input, out object output )\n\t\t{\n\t\t\tuint value;\n\t\t\tbool result = uint.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseLong( string input, out object output )\n\t\t{\n\t\t\tlong value;\n\t\t\tbool result = long.TryParse( !input.EndsWith( \"L\", StringComparison.OrdinalIgnoreCase ) ? input : input.Substring( 0, input.Length - 1 ), out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseULong( string input, out object output )\n\t\t{\n\t\t\tulong value;\n\t\t\tbool result = ulong.TryParse( !input.EndsWith( \"L\", StringComparison.OrdinalIgnoreCase ) ? input : input.Substring( 0, input.Length - 1 ), out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseByte( string input, out object output )\n\t\t{\n\t\t\tbyte value;\n\t\t\tbool result = byte.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseSByte( string input, out object output )\n\t\t{\n\t\t\tsbyte value;\n\t\t\tbool result = sbyte.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseShort( string input, out object output )\n\t\t{\n\t\t\tshort value;\n\t\t\tbool result = short.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseUShort( string input, out object output )\n\t\t{\n\t\t\tushort value;\n\t\t\tbool result = ushort.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseChar( string input, out object output )\n\t\t{\n\t\t\tchar value;\n\t\t\tbool result = char.TryParse( input, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseFloat( string input, out object output )\n\t\t{\n\t\t\tfloat value;\n\t\t\tbool result = float.TryParse( !input.EndsWith( \"f\", StringComparison.OrdinalIgnoreCase ) ? input : input.Substring( 0, input.Length - 1 ), NumberStyles.Float, CultureInfo.InvariantCulture, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseDouble( string input, out object output )\n\t\t{\n\t\t\tdouble value;\n\t\t\tbool result = double.TryParse( !input.EndsWith( \"f\", StringComparison.OrdinalIgnoreCase ) ? input : input.Substring( 0, input.Length - 1 ), NumberStyles.Float, CultureInfo.InvariantCulture, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseDecimal( string input, out object output )\n\t\t{\n\t\t\tdecimal value;\n\t\t\tbool result = decimal.TryParse( !input.EndsWith( \"f\", StringComparison.OrdinalIgnoreCase ) ? input : input.Substring( 0, input.Length - 1 ), NumberStyles.Float, CultureInfo.InvariantCulture, out value );\n\n\t\t\toutput = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic static bool ParseVector2( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Vector2 ), out output );\n\t\t}\n\n\t\tpublic static bool ParseVector3( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Vector3 ), out output );\n\t\t}\n\n\t\tpublic static bool ParseVector4( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Vector4 ), out output );\n\t\t}\n\n\t\tpublic static bool ParseQuaternion( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Quaternion ), out output );\n\t\t}\n\n\t\tpublic static bool ParseColor( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Color ), out output );\n\t\t}\n\n\t\tpublic static bool ParseColor32( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Color32 ), out output );\n\t\t}\n\n\t\tpublic static bool ParseRect( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Rect ), out output );\n\t\t}\n\n\t\tpublic static bool ParseRectOffset( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( RectOffset ), out output );\n\t\t}\n\n\t\tpublic static bool ParseBounds( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Bounds ), out output );\n\t\t}\n\n#if UNITY_2017_2_OR_NEWER\n\t\tpublic static bool ParseVector2Int( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Vector2Int ), out output );\n\t\t}\n\n\t\tpublic static bool ParseVector3Int( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( Vector3Int ), out output );\n\t\t}\n\n\t\tpublic static bool ParseRectInt( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( RectInt ), out output );\n\t\t}\n\n\t\tpublic static bool ParseBoundsInt( string input, out object output )\n\t\t{\n\t\t\treturn ParseVector( input, typeof( BoundsInt ), out output );\n\t\t}\n#endif\n\n\t\tpublic static bool ParseGameObject( string input, out object output )\n\t\t{\n\t\t\toutput = input == \"null\" ? null : GameObject.Find( input );\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic static bool ParseComponent( string input, Type componentType, out object output )\n\t\t{\n\t\t\tGameObject gameObject = input == \"null\" ? null : GameObject.Find( input );\n\t\t\toutput = gameObject ? gameObject.GetComponent( componentType ) : null;\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic static bool ParseEnum( string input, Type enumType, out object output )\n\t\t{\n\t\t\tconst int NONE = 0, OR = 1, AND = 2;\n\n\t\t\tint outputInt = 0;\n\t\t\tint operation = NONE; // 0: nothing, 1: OR with outputInt, 2: AND with outputInt\n\t\t\tfor( int i = 0; i < input.Length; i++ )\n\t\t\t{\n\t\t\t\tstring enumStr;\n\t\t\t\tint orIndex = input.IndexOf( '|', i );\n\t\t\t\tint andIndex = input.IndexOf( '&', i );\n\t\t\t\tif( orIndex < 0 )\n\t\t\t\t\tenumStr = input.Substring( i, ( andIndex < 0 ? input.Length : andIndex ) - i ).Trim();\n\t\t\t\telse\n\t\t\t\t\tenumStr = input.Substring( i, ( andIndex < 0 ? orIndex : Mathf.Min( andIndex, orIndex ) ) - i ).Trim();\n\n\t\t\t\tint value;\n\t\t\t\tif( !int.TryParse( enumStr, out value ) )\n\t\t\t\t{\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\t// Case-insensitive enum parsing\n\t\t\t\t\t\tvalue = Convert.ToInt32( Enum.Parse( enumType, enumStr, true ) );\n\t\t\t\t\t}\n\t\t\t\t\tcatch\n\t\t\t\t\t{\n\t\t\t\t\t\toutput = null;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( operation == NONE )\n\t\t\t\t\toutputInt = value;\n\t\t\t\telse if( operation == OR )\n\t\t\t\t\toutputInt |= value;\n\t\t\t\telse\n\t\t\t\t\toutputInt &= value;\n\n\t\t\t\tif( orIndex >= 0 )\n\t\t\t\t{\n\t\t\t\t\tif( andIndex > orIndex )\n\t\t\t\t\t{\n\t\t\t\t\t\toperation = AND;\n\t\t\t\t\t\ti = andIndex;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\toperation = OR;\n\t\t\t\t\t\ti = orIndex;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( andIndex >= 0 )\n\t\t\t\t{\n\t\t\t\t\toperation = AND;\n\t\t\t\t\ti = andIndex;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\ti = input.Length;\n\t\t\t}\n\n\t\t\toutput = Enum.ToObject( enumType, outputInt );\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic static bool ParseArray( string input, Type arrayType, out object output )\n\t\t{\n\t\t\tList<string> valuesToParse = new List<string>( 2 );\n\t\t\tFetchArgumentsFromCommand( input, valuesToParse );\n\n\t\t\tIList result = (IList) Activator.CreateInstance( arrayType, new object[1] { valuesToParse.Count } );\n\t\t\toutput = result;\n\n\t\t\tif( arrayType.IsArray )\n\t\t\t{\n\t\t\t\tType elementType = arrayType.GetElementType();\n\t\t\t\tfor( int i = 0; i < valuesToParse.Count; i++ )\n\t\t\t\t{\n\t\t\t\t\tobject obj;\n\t\t\t\t\tif( !ParseArgument( valuesToParse[i], elementType, out obj ) )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tresult[i] = obj;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tType elementType = arrayType.GetGenericArguments()[0];\n\t\t\t\tfor( int i = 0; i < valuesToParse.Count; i++ )\n\t\t\t\t{\n\t\t\t\t\tobject obj;\n\t\t\t\t\tif( !ParseArgument( valuesToParse[i], elementType, out obj ) )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tresult.Add( obj );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Create a vector of specified type (fill the blank slots with 0 or ignore unnecessary slots)\n\t\tprivate static bool ParseVector( string input, Type vectorType, out object output )\n\t\t{\n\t\t\tList<string> tokens = new List<string>( input.Replace( ',', ' ' ).Trim().Split( ' ' ) );\n\t\t\tfor( int i = tokens.Count - 1; i >= 0; i-- )\n\t\t\t{\n\t\t\t\ttokens[i] = tokens[i].Trim();\n\t\t\t\tif( tokens[i].Length == 0 )\n\t\t\t\t\ttokens.RemoveAt( i );\n\t\t\t}\n\n\t\t\tfloat[] tokenValues = new float[tokens.Count];\n\t\t\tfor( int i = 0; i < tokens.Count; i++ )\n\t\t\t{\n\t\t\t\tobject val;\n\t\t\t\tif( !ParseFloat( tokens[i], out val ) )\n\t\t\t\t{\n\t\t\t\t\tif( vectorType == typeof( Vector3 ) )\n\t\t\t\t\t\toutput = Vector3.zero;\n\t\t\t\t\telse if( vectorType == typeof( Vector2 ) )\n\t\t\t\t\t\toutput = Vector2.zero;\n\t\t\t\t\telse\n\t\t\t\t\t\toutput = Vector4.zero;\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ttokenValues[i] = (float) val;\n\t\t\t}\n\n\t\t\tif( vectorType == typeof( Vector3 ) )\n\t\t\t{\n\t\t\t\tVector3 result = Vector3.zero;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 3; i++ )\n\t\t\t\t\tresult[i] = tokenValues[i];\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Vector2 ) )\n\t\t\t{\n\t\t\t\tVector2 result = Vector2.zero;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 2; i++ )\n\t\t\t\t\tresult[i] = tokenValues[i];\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Vector4 ) )\n\t\t\t{\n\t\t\t\tVector4 result = Vector4.zero;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 4; i++ )\n\t\t\t\t\tresult[i] = tokenValues[i];\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Quaternion ) )\n\t\t\t{\n\t\t\t\tQuaternion result = Quaternion.identity;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 4; i++ )\n\t\t\t\t\tresult[i] = tokenValues[i];\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Color ) )\n\t\t\t{\n\t\t\t\tColor result = Color.black;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 4; i++ )\n\t\t\t\t\tresult[i] = tokenValues[i];\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Color32 ) )\n\t\t\t{\n\t\t\t\tColor32 result = new Color32( 0, 0, 0, 255 );\n\n\t\t\t\tif( tokenValues.Length > 0 )\n\t\t\t\t\tresult.r = (byte) Mathf.RoundToInt( tokenValues[0] );\n\t\t\t\tif( tokenValues.Length > 1 )\n\t\t\t\t\tresult.g = (byte) Mathf.RoundToInt( tokenValues[1] );\n\t\t\t\tif( tokenValues.Length > 2 )\n\t\t\t\t\tresult.b = (byte) Mathf.RoundToInt( tokenValues[2] );\n\t\t\t\tif( tokenValues.Length > 3 )\n\t\t\t\t\tresult.a = (byte) Mathf.RoundToInt( tokenValues[3] );\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Rect ) )\n\t\t\t{\n\t\t\t\tRect result = Rect.zero;\n\n\t\t\t\tif( tokenValues.Length > 0 )\n\t\t\t\t\tresult.x = tokenValues[0];\n\t\t\t\tif( tokenValues.Length > 1 )\n\t\t\t\t\tresult.y = tokenValues[1];\n\t\t\t\tif( tokenValues.Length > 2 )\n\t\t\t\t\tresult.width = tokenValues[2];\n\t\t\t\tif( tokenValues.Length > 3 )\n\t\t\t\t\tresult.height = tokenValues[3];\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( RectOffset ) )\n\t\t\t{\n\t\t\t\tRectOffset result = new RectOffset();\n\n\t\t\t\tif( tokenValues.Length > 0 )\n\t\t\t\t\tresult.left = Mathf.RoundToInt( tokenValues[0] );\n\t\t\t\tif( tokenValues.Length > 1 )\n\t\t\t\t\tresult.right = Mathf.RoundToInt( tokenValues[1] );\n\t\t\t\tif( tokenValues.Length > 2 )\n\t\t\t\t\tresult.top = Mathf.RoundToInt( tokenValues[2] );\n\t\t\t\tif( tokenValues.Length > 3 )\n\t\t\t\t\tresult.bottom = Mathf.RoundToInt( tokenValues[3] );\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Bounds ) )\n\t\t\t{\n\t\t\t\tVector3 center = Vector3.zero;\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 3; i++ )\n\t\t\t\t\tcenter[i] = tokenValues[i];\n\n\t\t\t\tVector3 size = Vector3.zero;\n\t\t\t\tfor( int i = 3; i < tokenValues.Length && i < 6; i++ )\n\t\t\t\t\tsize[i - 3] = tokenValues[i];\n\n\t\t\t\toutput = new Bounds( center, size );\n\t\t\t}\n#if UNITY_2017_2_OR_NEWER\n\t\t\telse if( vectorType == typeof( Vector3Int ) )\n\t\t\t{\n\t\t\t\tVector3Int result = Vector3Int.zero;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 3; i++ )\n\t\t\t\t\tresult[i] = Mathf.RoundToInt( tokenValues[i] );\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( Vector2Int ) )\n\t\t\t{\n\t\t\t\tVector2Int result = Vector2Int.zero;\n\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 2; i++ )\n\t\t\t\t\tresult[i] = Mathf.RoundToInt( tokenValues[i] );\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( RectInt ) )\n\t\t\t{\n\t\t\t\tRectInt result = new RectInt();\n\n\t\t\t\tif( tokenValues.Length > 0 )\n\t\t\t\t\tresult.x = Mathf.RoundToInt( tokenValues[0] );\n\t\t\t\tif( tokenValues.Length > 1 )\n\t\t\t\t\tresult.y = Mathf.RoundToInt( tokenValues[1] );\n\t\t\t\tif( tokenValues.Length > 2 )\n\t\t\t\t\tresult.width = Mathf.RoundToInt( tokenValues[2] );\n\t\t\t\tif( tokenValues.Length > 3 )\n\t\t\t\t\tresult.height = Mathf.RoundToInt( tokenValues[3] );\n\n\t\t\t\toutput = result;\n\t\t\t}\n\t\t\telse if( vectorType == typeof( BoundsInt ) )\n\t\t\t{\n\t\t\t\tVector3Int center = Vector3Int.zero;\n\t\t\t\tfor( int i = 0; i < tokenValues.Length && i < 3; i++ )\n\t\t\t\t\tcenter[i] = Mathf.RoundToInt( tokenValues[i] );\n\n\t\t\t\tVector3Int size = Vector3Int.zero;\n\t\t\t\tfor( int i = 3; i < tokenValues.Length && i < 6; i++ )\n\t\t\t\t\tsize[i - 3] = Mathf.RoundToInt( tokenValues[i] );\n\n\t\t\t\toutput = new BoundsInt( center, size );\n\t\t\t}\n#endif\n\t\t\telse\n\t\t\t{\n\t\t\t\toutput = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n}","size_bytes":54077},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogEntry.cs":{"content":"ï»¿using System.Collections.Generic;\nusing System.Globalization;\nusing System.Text;\nusing UnityEngine;\n\n// Container for a simple debug entry\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogEntry\n\t{\n\t\tprivate const int HASH_NOT_CALCULATED = -623218;\n\n\t\tpublic string logString;\n\t\tpublic string stackTrace;\n\t\tprivate string completeLog;\n\n\t\t// Sprite to show with this entry\n\t\tpublic Sprite logTypeSpriteRepresentation;\n\n\t\t// Collapsed count\n\t\tpublic int count;\n\n\t\t// Index of this entry among all collapsed entries\n\t\tpublic int collapsedIndex;\n\n\t\tprivate int hashValue;\n\n\t\tpublic void Initialize( string logString, string stackTrace )\n\t\t{\n\t\t\tthis.logString = logString;\n\t\t\tthis.stackTrace = stackTrace;\n\n\t\t\tcompleteLog = null;\n\t\t\tcount = 1;\n\t\t\thashValue = HASH_NOT_CALCULATED;\n\t\t}\n\n\t\tpublic void Clear()\n\t\t{\n\t\t\tlogString = null;\n\t\t\tstackTrace = null;\n\t\t\tcompleteLog = null;\n\t\t}\n\n\t\t// Checks if logString or stackTrace contains the search term\n\t\tpublic bool MatchesSearchTerm( string searchTerm )\n\t\t{\n\t\t\treturn ( logString != null && DebugLogConsole.caseInsensitiveComparer.IndexOf( logString, searchTerm, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) >= 0 ) ||\n\t\t\t\t( stackTrace != null && DebugLogConsole.caseInsensitiveComparer.IndexOf( stackTrace, searchTerm, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) >= 0 );\n\t\t}\n\n\t\t// Return a string containing complete information about this debug entry\n\t\tpublic override string ToString()\n\t\t{\n\t\t\tif( completeLog == null )\n\t\t\t\tcompleteLog = string.Concat( logString, \"\\n\", stackTrace );\n\n\t\t\treturn completeLog;\n\t\t}\n\n\t\t// Credit: https://stackoverflow.com/a/19250516/2373034\n\t\tpublic int GetContentHashCode()\n\t\t{\n\t\t\tif( hashValue == HASH_NOT_CALCULATED )\n\t\t\t{\n\t\t\t\tunchecked\n\t\t\t\t{\n\t\t\t\t\thashValue = 17;\n\t\t\t\t\thashValue = hashValue * 23 + ( logString == null ? 0 : logString.GetHashCode() );\n\t\t\t\t\thashValue = hashValue * 23 + ( stackTrace == null ? 0 : stackTrace.GetHashCode() );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn hashValue;\n\t\t}\n\t}\n\n\tpublic struct QueuedDebugLogEntry\n\t{\n\t\tpublic readonly string logString;\n\t\tpublic readonly string stackTrace;\n\t\tpublic readonly LogType logType;\n\n\t\tpublic QueuedDebugLogEntry( string logString, string stackTrace, LogType logType )\n\t\t{\n\t\t\tthis.logString = logString;\n\t\t\tthis.stackTrace = stackTrace;\n\t\t\tthis.logType = logType;\n\t\t}\n\n\t\t// Checks if logString or stackTrace contains the search term\n\t\tpublic bool MatchesSearchTerm( string searchTerm )\n\t\t{\n\t\t\treturn ( logString != null && DebugLogConsole.caseInsensitiveComparer.IndexOf( logString, searchTerm, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) >= 0 ) ||\n\t\t\t\t( stackTrace != null && DebugLogConsole.caseInsensitiveComparer.IndexOf( stackTrace, searchTerm, CompareOptions.IgnoreCase | CompareOptions.IgnoreNonSpace ) >= 0 );\n\t\t}\n\t}\n\n\tpublic struct DebugLogEntryTimestamp\n\t{\n\t\tpublic readonly System.DateTime dateTime;\n#if !IDG_OMIT_ELAPSED_TIME\n\t\tpublic readonly float elapsedSeconds;\n#endif\n#if !IDG_OMIT_FRAMECOUNT\n\t\tpublic readonly int frameCount;\n#endif\n\n#if !IDG_OMIT_ELAPSED_TIME && !IDG_OMIT_FRAMECOUNT\n\t\tpublic DebugLogEntryTimestamp( System.DateTime dateTime, float elapsedSeconds, int frameCount )\n#elif !IDG_OMIT_ELAPSED_TIME\n\t\tpublic DebugLogEntryTimestamp( System.DateTime dateTime, float elapsedSeconds )\n#elif !IDG_OMIT_FRAMECOUNT\n\t\tpublic DebugLogEntryTimestamp( System.DateTime dateTime, int frameCount )\n#else\n\t\tpublic DebugLogEntryTimestamp( System.DateTime dateTime )\n#endif\n\t\t{\n\t\t\tthis.dateTime = dateTime;\n#if !IDG_OMIT_ELAPSED_TIME\n\t\t\tthis.elapsedSeconds = elapsedSeconds;\n#endif\n#if !IDG_OMIT_FRAMECOUNT\n\t\t\tthis.frameCount = frameCount;\n#endif\n\t\t}\n\n\t\tpublic void AppendTime( StringBuilder sb )\n\t\t{\n\t\t\t// Add DateTime in format: [HH:mm:ss]\n\t\t\tsb.Append( \"[\" );\n\n\t\t\tint hour = dateTime.Hour;\n\t\t\tif( hour >= 10 )\n\t\t\t\tsb.Append( hour );\n\t\t\telse\n\t\t\t\tsb.Append( \"0\" ).Append( hour );\n\n\t\t\tsb.Append( \":\" );\n\n\t\t\tint minute = dateTime.Minute;\n\t\t\tif( minute >= 10 )\n\t\t\t\tsb.Append( minute );\n\t\t\telse\n\t\t\t\tsb.Append( \"0\" ).Append( minute );\n\n\t\t\tsb.Append( \":\" );\n\n\t\t\tint second = dateTime.Second;\n\t\t\tif( second >= 10 )\n\t\t\t\tsb.Append( second );\n\t\t\telse\n\t\t\t\tsb.Append( \"0\" ).Append( second );\n\n\t\t\tsb.Append( \"]\" );\n\t\t}\n\n\t\tpublic void AppendFullTimestamp( StringBuilder sb )\n\t\t{\n\t\t\tAppendTime( sb );\n\n#if !IDG_OMIT_ELAPSED_TIME && !IDG_OMIT_FRAMECOUNT\n\t\t\t// Append elapsed seconds and frame count in format: [1.0s at #Frame]\n\t\t\tsb.Append( \"[\" ).Append( elapsedSeconds.ToString( \"F1\" ) ).Append( \"s at \" ).Append( \"#\" ).Append( frameCount ).Append( \"]\" );\n#elif !IDG_OMIT_ELAPSED_TIME\n\t\t\t// Append elapsed seconds in format: [1.0s]\n\t\t\tsb.Append( \"[\" ).Append( elapsedSeconds.ToString( \"F1\" ) ).Append( \"s]\" );\n#elif !IDG_OMIT_FRAMECOUNT\n\t\t\t// Append frame count in format: [#Frame]\n\t\t\tsb.Append( \"[#\" ).Append( frameCount ).Append( \"]\" );\n#endif\n\t\t}\n\t}\n\n\tpublic class DebugLogEntryContentEqualityComparer : EqualityComparer<DebugLogEntry>\n\t{\n\t\tpublic override bool Equals( DebugLogEntry x, DebugLogEntry y )\n\t\t{\n\t\t\treturn x.logString == y.logString && x.stackTrace == y.stackTrace;\n\t\t}\n\n\t\tpublic override int GetHashCode( DebugLogEntry obj )\n\t\t{\n\t\t\treturn obj.GetContentHashCode();\n\t\t}\n\t}\n}","size_bytes":5161},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogItem.cs":{"content":"ï»¿using UnityEngine;\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\nusing System.Text;\n#if UNITY_EDITOR\nusing UnityEditor;\nusing System.Text.RegularExpressions;\n#endif\n\n// A UI element to show information about a debug entry\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogItem : MonoBehaviour, IPointerClickHandler\n\t{\n\t\t#region Platform Specific Elements\n#if !UNITY_2018_1_OR_NEWER\n#if !UNITY_EDITOR && UNITY_ANDROID\n\t\tprivate static AndroidJavaClass m_ajc = null;\n\t\tprivate static AndroidJavaClass AJC\n\t\t{\n\t\t\tget\n\t\t\t{\n\t\t\t\tif( m_ajc == null )\n\t\t\t\t\tm_ajc = new AndroidJavaClass( \"com.yasirkula.unity.DebugConsole\" );\n\n\t\t\t\treturn m_ajc;\n\t\t\t}\n\t\t}\n\n\t\tprivate static AndroidJavaObject m_context = null;\n\t\tprivate static AndroidJavaObject Context\n\t\t{\n\t\t\tget\n\t\t\t{\n\t\t\t\tif( m_context == null )\n\t\t\t\t{\n\t\t\t\t\tusing( AndroidJavaObject unityClass = new AndroidJavaClass( \"com.unity3d.player.UnityPlayer\" ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tm_context = unityClass.GetStatic<AndroidJavaObject>( \"currentActivity\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn m_context;\n\t\t\t}\n\t\t}\n#elif !UNITY_EDITOR && UNITY_IOS\n\t\t[System.Runtime.InteropServices.DllImport( \"__Internal\" )]\n\t\tprivate static extern void _DebugConsole_CopyText( string text );\n#endif\n#endif\n\t\t#endregion\n\n#pragma warning disable 0649\n\t\t// Cached components\n\t\t[SerializeField]\n\t\tprivate RectTransform transformComponent;\n\t\tpublic RectTransform Transform { get { return transformComponent; } }\n\n\t\t[SerializeField]\n\t\tprivate Image imageComponent;\n\t\tpublic Image Image { get { return imageComponent; } }\n\n\t\t[SerializeField]\n\t\tprivate CanvasGroup canvasGroupComponent;\n\t\tpublic CanvasGroup CanvasGroup { get { return canvasGroupComponent; } }\n\n\t\t[SerializeField]\n\t\tprivate Text logText;\n\t\t[SerializeField]\n\t\tprivate Image logTypeImage;\n\n\t\t// Objects related to the collapsed count of the debug entry\n\t\t[SerializeField]\n\t\tprivate GameObject logCountParent;\n\t\t[SerializeField]\n\t\tprivate Text logCountText;\n\n\t\t[SerializeField]\n\t\tprivate RectTransform copyLogButton;\n#pragma warning restore 0649\n\n\t\t// Debug entry to show with this log item\n\t\tprivate DebugLogEntry logEntry;\n\t\tpublic DebugLogEntry Entry { get { return logEntry; } }\n\n\t\tprivate DebugLogEntryTimestamp? logEntryTimestamp;\n\t\tpublic DebugLogEntryTimestamp? Timestamp { get { return logEntryTimestamp; } }\n\n\t\t// Index of the entry in the list of entries\n\t\t[System.NonSerialized] public int Index;\n\n\t\tprivate bool isExpanded;\n\t\tpublic bool Expanded { get { return isExpanded; } }\n\n\t\tprivate Vector2 logTextOriginalPosition;\n\t\tprivate Vector2 logTextOriginalSize;\n\t\tprivate float copyLogButtonHeight;\n\n\t\tprivate DebugLogRecycledListView listView;\n\n\t\tpublic void Initialize( DebugLogRecycledListView listView )\n\t\t{\n\t\t\tthis.listView = listView;\n\n\t\t\tlogTextOriginalPosition = logText.rectTransform.anchoredPosition;\n\t\t\tlogTextOriginalSize = logText.rectTransform.sizeDelta;\n\t\t\tcopyLogButtonHeight = copyLogButton.anchoredPosition.y + copyLogButton.sizeDelta.y + 2f; // 2f: space between text and button\n\n#if !UNITY_EDITOR && UNITY_WEBGL\n\t\t\tcopyLogButton.gameObject.AddComponent<DebugLogItemCopyWebGL>().Initialize( this );\n#endif\n\t\t}\n\n\t\tpublic void SetContent( DebugLogEntry logEntry, DebugLogEntryTimestamp? logEntryTimestamp, int entryIndex, bool isExpanded )\n\t\t{\n\t\t\tthis.logEntry = logEntry;\n\t\t\tthis.logEntryTimestamp = logEntryTimestamp;\n\t\t\tthis.Index = entryIndex;\n\t\t\tthis.isExpanded = isExpanded;\n\n\t\t\tVector2 size = transformComponent.sizeDelta;\n\t\t\tif( isExpanded )\n\t\t\t{\n\t\t\t\tlogText.horizontalOverflow = HorizontalWrapMode.Wrap;\n\t\t\t\tsize.y = listView.SelectedItemHeight;\n\n\t\t\t\tif( !copyLogButton.gameObject.activeSelf )\n\t\t\t\t{\n\t\t\t\t\tcopyLogButton.gameObject.SetActive( true );\n\n\t\t\t\t\tlogText.rectTransform.anchoredPosition = new Vector2( logTextOriginalPosition.x, logTextOriginalPosition.y + copyLogButtonHeight * 0.5f );\n\t\t\t\t\tlogText.rectTransform.sizeDelta = logTextOriginalSize - new Vector2( 0f, copyLogButtonHeight );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlogText.horizontalOverflow = HorizontalWrapMode.Overflow;\n\t\t\t\tsize.y = listView.ItemHeight;\n\n\t\t\t\tif( copyLogButton.gameObject.activeSelf )\n\t\t\t\t{\n\t\t\t\t\tcopyLogButton.gameObject.SetActive( false );\n\n\t\t\t\t\tlogText.rectTransform.anchoredPosition = logTextOriginalPosition;\n\t\t\t\t\tlogText.rectTransform.sizeDelta = logTextOriginalSize;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttransformComponent.sizeDelta = size;\n\n\t\t\tSetText( logEntry, logEntryTimestamp, isExpanded );\n\t\t\tlogTypeImage.sprite = logEntry.logTypeSpriteRepresentation;\n\t\t}\n\n\t\t// Show the collapsed count of the debug entry\n\t\tpublic void ShowCount()\n\t\t{\n\t\t\tlogCountText.text = logEntry.count.ToString();\n\n\t\t\tif( !logCountParent.activeSelf )\n\t\t\t\tlogCountParent.SetActive( true );\n\t\t}\n\n\t\t// Hide the collapsed count of the debug entry\n\t\tpublic void HideCount()\n\t\t{\n\t\t\tif( logCountParent.activeSelf )\n\t\t\t\tlogCountParent.SetActive( false );\n\t\t}\n\n\t\t// Update the debug entry's displayed timestamp\n\t\tpublic void UpdateTimestamp( DebugLogEntryTimestamp timestamp )\n\t\t{\n\t\t\tlogEntryTimestamp = timestamp;\n\n\t\t\tif( isExpanded || listView.manager.alwaysDisplayTimestamps )\n\t\t\t\tSetText( logEntry, timestamp, isExpanded );\n\t\t}\n\n\t\tprivate void SetText( DebugLogEntry logEntry, DebugLogEntryTimestamp? logEntryTimestamp, bool isExpanded )\n\t\t{\n\t\t\tif( !logEntryTimestamp.HasValue || ( !isExpanded && !listView.manager.alwaysDisplayTimestamps ) )\n\t\t\t\tlogText.text = isExpanded ? logEntry.ToString() : logEntry.logString;\n\t\t\telse\n\t\t\t{\n\t\t\t\tStringBuilder sb = listView.manager.sharedStringBuilder;\n\t\t\t\tsb.Length = 0;\n\n\t\t\t\tif( isExpanded )\n\t\t\t\t{\n\t\t\t\t\tlogEntryTimestamp.Value.AppendFullTimestamp( sb );\n\t\t\t\t\tsb.Append( \": \" ).Append( logEntry.ToString() );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlogEntryTimestamp.Value.AppendTime( sb );\n\t\t\t\t\tsb.Append( \" \" ).Append( logEntry.logString );\n\t\t\t\t}\n\n\t\t\t\tlogText.text = sb.ToString();\n\t\t\t}\n\t\t}\n\n\t\t// This log item is clicked, show the debug entry's stack trace\n\t\tpublic void OnPointerClick( PointerEventData eventData )\n\t\t{\n#if UNITY_EDITOR\n\t\t\tif( eventData.button == PointerEventData.InputButton.Right )\n\t\t\t{\n\t\t\t\tMatch regex = Regex.Match( logEntry.stackTrace, @\"\\(at .*\\.cs:[0-9]+\\)$\", RegexOptions.Multiline );\n\t\t\t\tif( regex.Success )\n\t\t\t\t{\n\t\t\t\t\tstring line = logEntry.stackTrace.Substring( regex.Index + 4, regex.Length - 5 );\n\t\t\t\t\tint lineSeparator = line.IndexOf( ':' );\n\t\t\t\t\tMonoScript script = AssetDatabase.LoadAssetAtPath<MonoScript>( line.Substring( 0, lineSeparator ) );\n\t\t\t\t\tif( script != null )\n\t\t\t\t\t\tAssetDatabase.OpenAsset( script, int.Parse( line.Substring( lineSeparator + 1 ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tlistView.OnLogItemClicked( this );\n#else\n\t\t\tlistView.OnLogItemClicked( this );\n#endif\n\t\t}\n\n\t\tpublic void CopyLog()\n\t\t{\n#if UNITY_EDITOR || !UNITY_WEBGL\n\t\t\tstring log = GetCopyContent();\n\t\t\tif( string.IsNullOrEmpty( log ) )\n\t\t\t\treturn;\n\n#if UNITY_EDITOR || UNITY_2018_1_OR_NEWER || ( !UNITY_ANDROID && !UNITY_IOS )\n\t\t\tGUIUtility.systemCopyBuffer = log;\n#elif UNITY_ANDROID\n\t\t\tAJC.CallStatic( \"CopyText\", Context, log );\n#elif UNITY_IOS\n\t\t\t_DebugConsole_CopyText( log );\n#endif\n#endif\n\t\t}\n\n\t\tinternal string GetCopyContent()\n\t\t{\n\t\t\tif( !logEntryTimestamp.HasValue )\n\t\t\t\treturn logEntry.ToString();\n\t\t\telse\n\t\t\t{\n\t\t\t\tStringBuilder sb = listView.manager.sharedStringBuilder;\n\t\t\t\tsb.Length = 0;\n\n\t\t\t\tlogEntryTimestamp.Value.AppendFullTimestamp( sb );\n\t\t\t\tsb.Append( \": \" ).Append( logEntry.ToString() );\n\n\t\t\t\treturn sb.ToString();\n\t\t\t}\n\t\t}\n\n\t\tpublic float CalculateExpandedHeight( DebugLogEntry logEntry, DebugLogEntryTimestamp? logEntryTimestamp )\n\t\t{\n\t\t\tstring text = logText.text;\n\t\t\tHorizontalWrapMode wrapMode = logText.horizontalOverflow;\n\n\t\t\tSetText( logEntry, logEntryTimestamp, true );\n\t\t\tlogText.horizontalOverflow = HorizontalWrapMode.Wrap;\n\n\t\t\tfloat result = logText.preferredHeight + copyLogButtonHeight;\n\n\t\t\tlogText.text = text;\n\t\t\tlogText.horizontalOverflow = wrapMode;\n\n\t\t\treturn Mathf.Max( listView.ItemHeight, result );\n\t\t}\n\n\t\t// Return a string containing complete information about the debug entry\n\t\tpublic override string ToString()\n\t\t{\n\t\t\treturn logEntry.ToString();\n\t\t}\n\t}\n}","size_bytes":7977},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogItemCopyWebGL.cs":{"content":"ï»¿#if !UNITY_EDITOR && UNITY_WEBGL\nusing System.Runtime.InteropServices;\nusing UnityEngine;\nusing UnityEngine.EventSystems;\n\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogItemCopyWebGL : MonoBehaviour, IPointerDownHandler, IPointerUpHandler\n\t{\n\t\t[DllImport( \"__Internal\" )]\n\t\tprivate static extern void IngameDebugConsoleStartCopy( string textToCopy );\n\t\t[DllImport( \"__Internal\" )]\n\t\tprivate static extern void IngameDebugConsoleCancelCopy();\n\n\t\tprivate DebugLogItem logItem;\n\n\t\tpublic void Initialize( DebugLogItem logItem )\n\t\t{\n\t\t\tthis.logItem = logItem;\n\t\t}\n\n\t\tpublic void OnPointerDown( PointerEventData eventData )\n\t\t{\n\t\t\tstring log = logItem.GetCopyContent();\n\t\t\tif( !string.IsNullOrEmpty( log ) )\n\t\t\t\tIngameDebugConsoleStartCopy( log );\n\t\t}\n\n\t\tpublic void OnPointerUp( PointerEventData eventData )\n\t\t{\n\t\t\tif( eventData.dragging )\n\t\t\t\tIngameDebugConsoleCancelCopy();\n\t\t}\n\t}\n}\n#endif","size_bytes":897},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogManager.cs":{"content":"ï»¿using System.Collections;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Text;\nusing UnityEngine;\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\nusing UnityEngine.InputSystem;\n#endif\n#if UNITY_EDITOR && UNITY_2021_1_OR_NEWER\nusing Screen = UnityEngine.Device.Screen; // To support Device Simulator on Unity 2021.1+\n#endif\n\n// Receives debug entries and custom events (e.g. Clear, Collapse, Filter by Type)\n// and notifies the recycled list view of changes to the list of debug entries\n// \n// - Vocabulary -\n// Debug/Log entry: a Debug.Log/LogError/LogWarning/LogException/LogAssertion request made by\n//                   the client and intercepted by this manager object\n// Debug/Log item: a visual (uGUI) representation of a debug entry\n// \n// There can be a lot of debug entries in the system but there will only be a handful of log items \n// to show their properties on screen (these log items are recycled as the list is scrolled)\n\n// An enum to represent filtered log types\nnamespace IngameDebugConsole\n{\n\tpublic enum DebugLogFilter\n\t{\n\t\tNone = 0,\n\t\tInfo = 1,\n\t\tWarning = 2,\n\t\tError = 4,\n\t\tAll = ~0\n\t}\n\n\tpublic enum PopupVisibility\n\t{\n\t\tAlways = 0,\n\t\tWhenLogReceived = 1,\n\t\tNever = 2\n\t}\n\n\tpublic class DebugLogManager : MonoBehaviour\n\t{\n\t\tpublic static DebugLogManager Instance { get; private set; }\n\n#pragma warning disable 0649\n\t\t[Header( \"Properties\" )]\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, console window will persist between scenes (i.e. not be destroyed when scene changes)\" )]\n\t\tprivate bool singleton = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Minimum height of the console window\" )]\n\t\tprivate float minimumHeight = 200f;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, console window can be resized horizontally, as well\" )]\n\t\tprivate bool enableHorizontalResizing = false;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, console window's resize button will be located at bottom-right corner. Otherwise, it will be located at bottom-left corner\" )]\n\t\tprivate bool resizeFromRight = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Minimum width of the console window\" )]\n\t\tprivate float minimumWidth = 240f;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Opacity of the console window\" )]\n\t\t[Range( 0f, 1f )]\n\t\tprivate float logWindowOpacity = 1f;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Opacity of the popup\" )]\n\t\t[Range( 0f, 1f )]\n\t\tinternal float popupOpacity = 1f;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Determines when the popup will show up (after the console window is closed)\" )]\n\t\tprivate PopupVisibility popupVisibility = PopupVisibility.Always;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Determines which log types will show the popup on screen\" )]\n\t\tprivate DebugLogFilter popupVisibilityLogFilter = DebugLogFilter.All;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, console window will initially be invisible\" )]\n\t\tprivate bool startMinimized = false;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, pressing the Toggle Key will show/hide (i.e. toggle) the console window at runtime\" )]\n\t\tprivate bool toggleWithKey = false;\n\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\tpublic InputAction toggleBinding = new InputAction( \"Toggle Binding\", type: InputActionType.Button, binding: \"<Keyboard>/backquote\", expectedControlType: \"Button\" );\n#else\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\tprivate KeyCode toggleKey = KeyCode.BackQuote;\n#endif\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, the console window will have a searchbar\" )]\n\t\tprivate bool enableSearchbar = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Width of the canvas determines whether the searchbar will be located inside the menu bar or underneath the menu bar. This way, the menu bar doesn't get too crowded on narrow screens. This value determines the minimum width of the canvas for the searchbar to appear inside the menu bar\" )]\n\t\tprivate float topSearchbarMinWidth = 360f;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, the console window will continue receiving logs in the background even if its GameObject is inactive. But the console window's GameObject needs to be activated at least once because its Awake function must be triggered for this to work\" )]\n\t\tprivate bool receiveLogsWhileInactive = false;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\tprivate bool receiveInfoLogs = true, receiveWarningLogs = true, receiveErrorLogs = true, receiveExceptionLogs = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, the arrival times of logs will be recorded and displayed when a log is expanded\" )]\n\t\tprivate bool captureLogTimestamps = false;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, timestamps will be displayed for logs even if they aren't expanded\" )]\n\t\tinternal bool alwaysDisplayTimestamps = false;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If the number of logs reach this limit, the oldest log(s) will be deleted to limit the RAM usage. It's recommended to set this value as low as possible\" )]\n\t\tprivate int maxLogCount = int.MaxValue;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"How many log(s) to delete when the threshold is reached (all logs are iterated during this operation so it should neither be too low nor too high)\" )]\n\t\tprivate int logsToRemoveAfterMaxLogCount = 16;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"While the console window is hidden, incoming logs will be queued but not immediately processed until the console window is opened (to avoid wasting CPU resources). When the log queue exceeds this limit, the first logs in the queue will be processed to enforce this limit. Processed logs won't increase RAM usage if they've been seen before (i.e. collapsible logs) but this is not the case for queued logs, so if a log is spammed every frame, it will fill the whole queue in an instant. Which is why there is a queue limit\" )]\n\t\tprivate int queuedLogLimit = 256;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, the command input field at the bottom of the console window will automatically be cleared after entering a command\" )]\n\t\tprivate bool clearCommandAfterExecution = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Console keeps track of the previously entered commands. This value determines the capacity of the command history (you can scroll through the history via up and down arrow keys while the command input field is focused)\" )]\n\t\tprivate int commandHistorySize = 15;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, while typing a command, all of the matching commands' signatures will be displayed in a popup\" )]\n\t\tprivate bool showCommandSuggestions = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, on Android platform, logcat entries of the application will also be logged to the console with the prefix \\\"LOGCAT: \\\". This may come in handy especially if you want to access the native logs of your Android plugins (like Admob)\" )]\n\t\tprivate bool receiveLogcatLogsInAndroid = false;\n\n#pragma warning disable 0414\n#if UNITY_2018_3_OR_NEWER // On older Unity versions, disabling CS0169 is problematic: \"Cannot restore warning 'CS0169' because it was disabled globally\"\n#pragma warning disable 0169\n#endif\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"Native logs will be filtered using these arguments. If left blank, all native logs of the application will be logged to the console. But if you want to e.g. see Admob's logs only, you can enter \\\"-s Ads\\\" (without quotes) here\" )]\n\t\tprivate string logcatArguments;\n#if UNITY_2018_3_OR_NEWER\n#pragma warning restore 0169\n#endif\n#pragma warning restore 0414\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, on Android and iOS devices with notch screens, the console window will be repositioned so that the cutout(s) don't obscure it\" )]\n\t\tprivate bool avoidScreenCutout = true;\n\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, on Android and iOS devices with notch screens, the console window's popup won't be obscured by the screen cutouts\" )]\n\t\tinternal bool popupAvoidsScreenCutout = false;\n\n\t\t[SerializeField]\n\t\t[Tooltip( \"If a log is longer than this limit, it will be truncated. This helps avoid reaching Unity's 65000 vertex limit for UI canvases\" )]\n\t\tprivate int maxLogLength = 10000;\n\n#if UNITY_EDITOR || UNITY_STANDALONE || UNITY_WEBGL\n\t\t[SerializeField]\n\t\t[HideInInspector]\n\t\t[Tooltip( \"If enabled, on standalone platforms, command input field will automatically be focused (start receiving keyboard input) after opening the console window\" )]\n\t\tprivate bool autoFocusOnCommandInputField = true;\n#endif\n\n\t\t[Header( \"Visuals\" )]\n\t\t[SerializeField]\n\t\tprivate DebugLogItem logItemPrefab;\n\n\t\t[SerializeField]\n\t\tprivate Text commandSuggestionPrefab;\n\n\t\t// Visuals for different log types\n\t\t[SerializeField]\n\t\tprivate Sprite infoLog;\n\t\t[SerializeField]\n\t\tprivate Sprite warningLog;\n\t\t[SerializeField]\n\t\tprivate Sprite errorLog;\n\n\t\tprivate Sprite[] logSpriteRepresentations;\n\n\t\t// Visuals for resize button\n\t\t[SerializeField]\n\t\tprivate Sprite resizeIconAllDirections;\n\t\t[SerializeField]\n\t\tprivate Sprite resizeIconVerticalOnly;\n\n\t\t[SerializeField]\n\t\tprivate Color collapseButtonNormalColor;\n\t\t[SerializeField]\n\t\tprivate Color collapseButtonSelectedColor;\n\n\t\t[SerializeField]\n\t\tprivate Color filterButtonsNormalColor;\n\t\t[SerializeField]\n\t\tprivate Color filterButtonsSelectedColor;\n\n\t\t[SerializeField]\n\t\tprivate string commandSuggestionHighlightStart = \"<color=orange>\";\n\t\t[SerializeField]\n\t\tprivate string commandSuggestionHighlightEnd = \"</color>\";\n\n\t\t[Header( \"Internal References\" )]\n\t\t[SerializeField]\n\t\tprivate RectTransform logWindowTR;\n\n\t\tinternal RectTransform canvasTR;\n\n\t\t[SerializeField]\n\t\tprivate RectTransform logItemsContainer;\n\n\t\t[SerializeField]\n\t\tprivate RectTransform commandSuggestionsContainer;\n\n\t\t[SerializeField]\n\t\tprivate InputField commandInputField;\n\n\t\t[SerializeField]\n\t\tprivate Button hideButton;\n\n\t\t[SerializeField]\n\t\tprivate Button clearButton;\n\n\t\t[SerializeField]\n\t\tprivate Image collapseButton;\n\n\t\t[SerializeField]\n\t\tprivate Image filterInfoButton;\n\t\t[SerializeField]\n\t\tprivate Image filterWarningButton;\n\t\t[SerializeField]\n\t\tprivate Image filterErrorButton;\n\n\t\t[SerializeField]\n\t\tprivate Text infoEntryCountText;\n\t\t[SerializeField]\n\t\tprivate Text warningEntryCountText;\n\t\t[SerializeField]\n\t\tprivate Text errorEntryCountText;\n\n\t\t[SerializeField]\n\t\tprivate RectTransform searchbar;\n\t\t[SerializeField]\n\t\tprivate RectTransform searchbarSlotTop;\n\t\t[SerializeField]\n\t\tprivate RectTransform searchbarSlotBottom;\n\n\t\t[SerializeField]\n\t\tprivate Image resizeButton;\n\n\t\t[SerializeField]\n\t\tprivate GameObject snapToBottomButton;\n\n\t\t// Canvas group to modify visibility of the log window\n\t\t[SerializeField]\n\t\tprivate CanvasGroup logWindowCanvasGroup;\n\n\t\t[SerializeField]\n\t\tprivate DebugLogPopup popupManager;\n\n\t\t[SerializeField]\n\t\tprivate ScrollRect logItemsScrollRect;\n\t\tprivate RectTransform logItemsScrollRectTR;\n\t\tprivate Vector2 logItemsScrollRectOriginalSize;\n\n\t\t// Recycled list view to handle the log items efficiently\n\t\t[SerializeField]\n\t\tprivate DebugLogRecycledListView recycledListView;\n#pragma warning restore 0649\n\n\t\tprivate bool isLogWindowVisible = true;\n\t\tpublic bool IsLogWindowVisible { get { return isLogWindowVisible; } }\n\n\t\tpublic bool PopupEnabled\n\t\t{\n\t\t\tget { return popupManager.gameObject.activeSelf; }\n\t\t\tset { popupManager.gameObject.SetActive( value ); }\n\t\t}\n\n\t\tprivate bool screenDimensionsChanged = true;\n\t\tprivate float logWindowPreviousWidth;\n\n\t\t// Number of entries filtered by their types\n\t\tprivate int infoEntryCount = 0, warningEntryCount = 0, errorEntryCount = 0;\n\t\tprivate bool entryCountTextsDirty;\n\n\t\t// Number of new entries received this frame\n\t\tprivate int newInfoEntryCount = 0, newWarningEntryCount = 0, newErrorEntryCount = 0;\n\n\t\t// Filters to apply to the list of debug entries to show\n\t\tprivate bool isCollapseOn = false;\n\t\tprivate DebugLogFilter logFilter = DebugLogFilter.All;\n\n\t\t// Search filter\n\t\tprivate string searchTerm;\n\t\tprivate bool isInSearchMode;\n\n\t\t// If the last log item is completely visible (scrollbar is at the bottom),\n\t\t// scrollbar will remain at the bottom when new debug entries are received\n\t\t[System.NonSerialized]\n\t\tpublic bool SnapToBottom = true;\n\n\t\t// List of unique debug entries (duplicates of entries are not kept)\n\t\tprivate DynamicCircularBuffer<DebugLogEntry> collapsedLogEntries;\n\t\tprivate DynamicCircularBuffer<DebugLogEntryTimestamp> collapsedLogEntriesTimestamps;\n\n\t\t// Dictionary to quickly find if a log already exists in collapsedLogEntries\n\t\tprivate Dictionary<DebugLogEntry, DebugLogEntry> collapsedLogEntriesMap;\n\n\t\t// The order the collapsedLogEntries are received \n\t\t// (duplicate entries have the same value)\n\t\tprivate DynamicCircularBuffer<DebugLogEntry> uncollapsedLogEntries;\n\t\tprivate DynamicCircularBuffer<DebugLogEntryTimestamp> uncollapsedLogEntriesTimestamps;\n\n\t\t// Filtered list of debug entries to show\n\t\tprivate DynamicCircularBuffer<DebugLogEntry> logEntriesToShow;\n\t\tprivate DynamicCircularBuffer<DebugLogEntryTimestamp> timestampsOfLogEntriesToShow;\n\n\t\t// The log entry that must be focused this frame\n\t\tprivate int indexOfLogEntryToSelectAndFocus = -1;\n\n\t\t// Whether or not logs list view should be updated this frame\n\t\tprivate bool shouldUpdateRecycledListView = true;\n\n\t\t// Logs that should be registered in Update-loop\n\t\tprivate DynamicCircularBuffer<QueuedDebugLogEntry> queuedLogEntries;\n\t\tprivate DynamicCircularBuffer<DebugLogEntryTimestamp> queuedLogEntriesTimestamps;\n\t\tprivate object logEntriesLock;\n\t\tprivate int pendingLogToAutoExpand;\n\n\t\t// Command suggestions that match the currently entered command\n\t\tprivate List<Text> commandSuggestionInstances;\n\t\tprivate int visibleCommandSuggestionInstances = 0;\n\t\tprivate List<ConsoleMethodInfo> matchingCommandSuggestions;\n\t\tprivate List<int> commandCaretIndexIncrements;\n\t\tprivate string commandInputFieldPrevCommand;\n\t\tprivate string commandInputFieldPrevCommandName;\n\t\tprivate int commandInputFieldPrevParamCount = -1;\n\t\tprivate int commandInputFieldPrevCaretPos = -1;\n\t\tprivate int commandInputFieldPrevCaretArgumentIndex = -1;\n\n\t\t// Value of the command input field when autocomplete was first requested\n\t\tprivate string commandInputFieldAutoCompleteBase;\n\t\tprivate bool commandInputFieldAutoCompletedNow;\n\n\t\t// Pools for memory efficiency\n\t\tprivate Stack<DebugLogEntry> pooledLogEntries;\n\t\tprivate Stack<DebugLogItem> pooledLogItems;\n\n\t\t/// Variables used by <see cref=\"RemoveOldestLogs\"/>\n\t\tprivate bool anyCollapsedLogRemoved;\n\t\tprivate int removedLogEntriesToShowCount;\n\n\t\t// History of the previously entered commands\n\t\tprivate CircularBuffer<string> commandHistory;\n\t\tprivate int commandHistoryIndex = -1;\n\t\tprivate string unfinishedCommand;\n\n\t\t// StringBuilder used by various functions\n\t\tinternal StringBuilder sharedStringBuilder;\n\n\t\t// Offset of DateTime.Now from DateTime.UtcNow\n\t\tprivate System.TimeSpan localTimeUtcOffset;\n\n\t\t// Last recorded values of Time.realtimeSinceStartup and Time.frameCount on the main thread (because these Time properties can't be accessed from other threads)\n#if !IDG_OMIT_ELAPSED_TIME\n\t\tprivate float lastElapsedSeconds;\n#endif\n#if !IDG_OMIT_FRAMECOUNT\n\t\tprivate int lastFrameCount;\n#endif\n\n\t\tprivate DebugLogEntryTimestamp dummyLogEntryTimestamp;\n\n\t\t// Required in ValidateScrollPosition() function\n\t\tprivate PointerEventData nullPointerEventData;\n\n\t\tprivate System.Action<DebugLogEntry> poolLogEntryAction;\n\t\tprivate System.Action<DebugLogEntry> removeUncollapsedLogEntryAction;\n\t\tprivate System.Predicate<DebugLogEntry> shouldRemoveCollapsedLogEntryPredicate;\n\t\tprivate System.Predicate<DebugLogEntry> shouldRemoveLogEntryToShowPredicate;\n\t\tprivate System.Action<DebugLogEntry, int> updateLogEntryCollapsedIndexAction;\n\n\t\t// Callbacks for log window show/hide events\n\t\tpublic System.Action OnLogWindowShown, OnLogWindowHidden;\n\n#if UNITY_EDITOR\n\t\tprivate bool isQuittingApplication;\n#endif\n\n#if !UNITY_EDITOR && UNITY_ANDROID\n\t\tprivate DebugLogLogcatListener logcatListener;\n#endif\n\n\t\tprivate void Awake()\n\t\t{\n\t\t\t// Only one instance of debug console is allowed\n\t\t\tif( !Instance )\n\t\t\t{\n\t\t\t\tInstance = this;\n\n\t\t\t\t// If it is a singleton object, don't destroy it between scene changes\n\t\t\t\tif( singleton )\n\t\t\t\t\tDontDestroyOnLoad( gameObject );\n\t\t\t}\n\t\t\telse if( Instance != this )\n\t\t\t{\n\t\t\t\tDestroy( gameObject );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpooledLogEntries = new Stack<DebugLogEntry>( 64 );\n\t\t\tpooledLogItems = new Stack<DebugLogItem>( 16 );\n\t\t\tcommandSuggestionInstances = new List<Text>( 8 );\n\t\t\tmatchingCommandSuggestions = new List<ConsoleMethodInfo>( 8 );\n\t\t\tcommandCaretIndexIncrements = new List<int>( 8 );\n\t\t\tqueuedLogEntries = new DynamicCircularBuffer<QueuedDebugLogEntry>( Mathf.Clamp( queuedLogLimit, 16, 4096 ) );\n\t\t\tcommandHistory = new CircularBuffer<string>( commandHistorySize );\n\n\t\t\tlogEntriesLock = new object();\n\t\t\tsharedStringBuilder = new StringBuilder( 1024 );\n\n\t\t\tcanvasTR = (RectTransform) transform;\n\t\t\tlogItemsScrollRectTR = (RectTransform) logItemsScrollRect.transform;\n\t\t\tlogItemsScrollRectOriginalSize = logItemsScrollRectTR.sizeDelta;\n\n\t\t\t// Associate sprites with log types\n\t\t\tlogSpriteRepresentations = new Sprite[5];\n\t\t\tlogSpriteRepresentations[(int) LogType.Log] = infoLog;\n\t\t\tlogSpriteRepresentations[(int) LogType.Warning] = warningLog;\n\t\t\tlogSpriteRepresentations[(int) LogType.Error] = errorLog;\n\t\t\tlogSpriteRepresentations[(int) LogType.Exception] = errorLog;\n\t\t\tlogSpriteRepresentations[(int) LogType.Assert] = errorLog;\n\n\t\t\t// Initially, all log types are visible\n\t\t\tfilterInfoButton.color = filterButtonsSelectedColor;\n\t\t\tfilterWarningButton.color = filterButtonsSelectedColor;\n\t\t\tfilterErrorButton.color = filterButtonsSelectedColor;\n\n\t\t\tresizeButton.sprite = enableHorizontalResizing ? resizeIconAllDirections : resizeIconVerticalOnly;\n\n\t\t\tcollapsedLogEntries = new DynamicCircularBuffer<DebugLogEntry>( 128 );\n\t\t\tcollapsedLogEntriesMap = new Dictionary<DebugLogEntry, DebugLogEntry>( 128, new DebugLogEntryContentEqualityComparer() );\n\t\t\tuncollapsedLogEntries = new DynamicCircularBuffer<DebugLogEntry>( 256 );\n\t\t\tlogEntriesToShow = new DynamicCircularBuffer<DebugLogEntry>( 256 );\n\n\t\t\tif( captureLogTimestamps )\n\t\t\t{\n\t\t\t\tcollapsedLogEntriesTimestamps = new DynamicCircularBuffer<DebugLogEntryTimestamp>( 128 );\n\t\t\t\tuncollapsedLogEntriesTimestamps = new DynamicCircularBuffer<DebugLogEntryTimestamp>( 256 );\n\t\t\t\ttimestampsOfLogEntriesToShow = new DynamicCircularBuffer<DebugLogEntryTimestamp>( 256 );\n\t\t\t\tqueuedLogEntriesTimestamps = new DynamicCircularBuffer<DebugLogEntryTimestamp>( queuedLogEntries.Capacity );\n\t\t\t}\n\n\t\t\trecycledListView.Initialize( this, logEntriesToShow, timestampsOfLogEntriesToShow, logItemPrefab.Transform.sizeDelta.y );\n\n\t\t\tif( minimumWidth < 100f )\n\t\t\t\tminimumWidth = 100f;\n\t\t\tif( minimumHeight < 200f )\n\t\t\t\tminimumHeight = 200f;\n\n\t\t\tif( !resizeFromRight )\n\t\t\t{\n\t\t\t\tRectTransform resizeButtonTR = (RectTransform) resizeButton.GetComponentInParent<DebugLogResizeListener>().transform;\n\t\t\t\tresizeButtonTR.anchorMin = new Vector2( 0f, resizeButtonTR.anchorMin.y );\n\t\t\t\tresizeButtonTR.anchorMax = new Vector2( 0f, resizeButtonTR.anchorMax.y );\n\t\t\t\tresizeButtonTR.pivot = new Vector2( 0f, resizeButtonTR.pivot.y );\n\n\t\t\t\t( (RectTransform) commandInputField.transform ).anchoredPosition += new Vector2( resizeButtonTR.sizeDelta.x, 0f );\n\t\t\t}\n\n\t\t\tif( enableSearchbar )\n\t\t\t\tsearchbar.GetComponent<InputField>().onValueChanged.AddListener( SearchTermChanged );\n\t\t\telse\n\t\t\t{\n\t\t\t\tsearchbar = null;\n\t\t\t\tsearchbarSlotTop.gameObject.SetActive( false );\n\t\t\t\tsearchbarSlotBottom.gameObject.SetActive( false );\n\t\t\t}\n\n\t\t\tfilterInfoButton.gameObject.SetActive( receiveInfoLogs );\n\t\t\tfilterWarningButton.gameObject.SetActive( receiveWarningLogs );\n\t\t\tfilterErrorButton.gameObject.SetActive( receiveErrorLogs || receiveExceptionLogs );\n\n\t\t\tif( commandSuggestionsContainer.gameObject.activeSelf )\n\t\t\t\tcommandSuggestionsContainer.gameObject.SetActive( false );\n\n\t\t\t// Register to UI events\n\t\t\tcommandInputField.onValidateInput += OnValidateCommand;\n\t\t\tcommandInputField.onValueChanged.AddListener( OnEditCommand );\n\t\t\tcommandInputField.onEndEdit.AddListener( OnEndEditCommand );\n\t\t\thideButton.onClick.AddListener( HideLogWindow );\n\t\t\tclearButton.onClick.AddListener( ClearLogs );\n\t\t\tcollapseButton.GetComponent<Button>().onClick.AddListener( CollapseButtonPressed );\n\t\t\tfilterInfoButton.GetComponent<Button>().onClick.AddListener( FilterLogButtonPressed );\n\t\t\tfilterWarningButton.GetComponent<Button>().onClick.AddListener( FilterWarningButtonPressed );\n\t\t\tfilterErrorButton.GetComponent<Button>().onClick.AddListener( FilterErrorButtonPressed );\n\t\t\tsnapToBottomButton.GetComponent<Button>().onClick.AddListener( () => SnapToBottom = true );\n\n\t\t\tlocalTimeUtcOffset = System.DateTime.Now - System.DateTime.UtcNow;\n\t\t\tdummyLogEntryTimestamp = new DebugLogEntryTimestamp();\n\t\t\tnullPointerEventData = new PointerEventData( null );\n\n\t\t\tpoolLogEntryAction = PoolLogEntry;\n\t\t\tremoveUncollapsedLogEntryAction = RemoveUncollapsedLogEntry;\n\t\t\tshouldRemoveCollapsedLogEntryPredicate = ShouldRemoveCollapsedLogEntry;\n\t\t\tshouldRemoveLogEntryToShowPredicate = ShouldRemoveLogEntryToShow;\n\t\t\tupdateLogEntryCollapsedIndexAction = UpdateLogEntryCollapsedIndex;\n\n\t\t\tif( receiveLogsWhileInactive )\n\t\t\t{\n\t\t\t\tApplication.logMessageReceivedThreaded -= ReceivedLog;\n\t\t\t\tApplication.logMessageReceivedThreaded += ReceivedLog;\n\t\t\t}\n\n#if UNITY_EDITOR && UNITY_2018_1_OR_NEWER\n\t\t\t// OnApplicationQuit isn't reliable on some Unity versions when Application.wantsToQuit is used; Application.quitting is the only reliable solution on those versions\n\t\t\t// https://issuetracker.unity3d.com/issues/onapplicationquit-method-is-called-before-application-dot-wantstoquit-event-is-raised\n\t\t\tApplication.quitting -= OnApplicationQuitting;\n\t\t\tApplication.quitting += OnApplicationQuitting;\n#endif\n\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\ttoggleBinding.performed += ( context ) =>\n\t\t\t{\n\t\t\t\tif( toggleWithKey )\n\t\t\t\t{\n\t\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\t\tHideLogWindow();\n\t\t\t\t\telse\n\t\t\t\t\t\tShowLogWindow();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// On new Input System, scroll sensitivity is much higher than legacy Input system\n\t\t\tlogItemsScrollRect.scrollSensitivity *= 0.25f;\n#endif\n\t\t}\n\n\t\tprivate void OnEnable()\n\t\t{\n\t\t\tif( Instance != this )\n\t\t\t\treturn;\n\n\t\t\tif( !receiveLogsWhileInactive )\n\t\t\t{\n\t\t\t\tApplication.logMessageReceivedThreaded -= ReceivedLog;\n\t\t\t\tApplication.logMessageReceivedThreaded += ReceivedLog;\n\t\t\t}\n\n\t\t\tif( receiveLogcatLogsInAndroid )\n\t\t\t{\n#if !UNITY_EDITOR && UNITY_ANDROID\n\t\t\t\tif( logcatListener == null )\n\t\t\t\t\tlogcatListener = new DebugLogLogcatListener();\n\n\t\t\t\tlogcatListener.Start( logcatArguments );\n#endif\n\t\t\t}\n\n#if IDG_ENABLE_HELPER_COMMANDS || IDG_ENABLE_LOGS_SAVE_COMMAND\n\t\t\tDebugLogConsole.AddCommand( \"logs.save\", \"Saves logs to persistentDataPath\", SaveLogsToFile );\n\t\t\tDebugLogConsole.AddCommand<string>( \"logs.save\", \"Saves logs to the specified file\", SaveLogsToFile );\n#endif\n\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\tif( toggleWithKey )\n\t\t\t\ttoggleBinding.Enable();\n#endif\n\n\t\t\t//Debug.LogAssertion( \"assert\" );\n\t\t\t//Debug.LogError( \"error\" );\n\t\t\t//Debug.LogException( new System.IO.EndOfStreamException() );\n\t\t\t//Debug.LogWarning( \"warning\" );\n\t\t\t//Debug.Log( \"log\" );\n\t\t}\n\n\t\tprivate void OnDisable()\n\t\t{\n\t\t\tif( Instance != this )\n\t\t\t\treturn;\n\n\t\t\tif( !receiveLogsWhileInactive )\n\t\t\t\tApplication.logMessageReceivedThreaded -= ReceivedLog;\n\n#if !UNITY_EDITOR && UNITY_ANDROID\n\t\t\tif( logcatListener != null )\n\t\t\t\tlogcatListener.Stop();\n#endif\n\n\t\t\tDebugLogConsole.RemoveCommand( \"logs.save\" );\n\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\tif( toggleBinding.enabled )\n\t\t\t\ttoggleBinding.Disable();\n#endif\n\t\t}\n\n\t\tprivate void Start()\n\t\t{\n\t\t\tif( startMinimized )\n\t\t\t{\n\t\t\t\tHideLogWindow();\n\n\t\t\t\tif( popupVisibility != PopupVisibility.Always )\n\t\t\t\t\tpopupManager.Hide();\n\t\t\t}\n\t\t\telse\n\t\t\t\tShowLogWindow();\n\n\t\t\tPopupEnabled = ( popupVisibility != PopupVisibility.Never );\n\t\t}\n\n\t\tprivate void OnDestroy()\n\t\t{\n\t\t\tif( Instance == this )\n\t\t\t\tInstance = null;\n\n\t\t\tif( receiveLogsWhileInactive )\n\t\t\t\tApplication.logMessageReceivedThreaded -= ReceivedLog;\n\n#if UNITY_EDITOR && UNITY_2018_1_OR_NEWER\n\t\t\tApplication.quitting -= OnApplicationQuitting;\n#endif\n\t\t}\n\n#if UNITY_EDITOR\n\t\tprivate void OnValidate()\n\t\t{\n\t\t\tmaxLogCount = Mathf.Max( 2, maxLogCount );\n\t\t\tlogsToRemoveAfterMaxLogCount = Mathf.Max( 1, logsToRemoveAfterMaxLogCount );\n\t\t\tqueuedLogLimit = Mathf.Max( 0, queuedLogLimit );\n\n\t\t\tif( UnityEditor.EditorApplication.isPlaying )\n\t\t\t{\n\t\t\t\tresizeButton.sprite = enableHorizontalResizing ? resizeIconAllDirections : resizeIconVerticalOnly;\n\n\t\t\t\tfilterInfoButton.gameObject.SetActive( receiveInfoLogs );\n\t\t\t\tfilterWarningButton.gameObject.SetActive( receiveWarningLogs );\n\t\t\t\tfilterErrorButton.gameObject.SetActive( receiveErrorLogs || receiveExceptionLogs );\n\t\t\t}\n\t\t}\n\n#if UNITY_2018_1_OR_NEWER\n\t\tprivate void OnApplicationQuitting()\n#else\n\t\tprivate void OnApplicationQuit()\n#endif\n\t\t{\n\t\t\tisQuittingApplication = true;\n\t\t}\n#endif\n\n\t\t// Window is resized, update the list\n\t\tprivate void OnRectTransformDimensionsChange()\n\t\t{\n\t\t\tscreenDimensionsChanged = true;\n\t\t}\n\n\t\tprivate void Update()\n\t\t{\n#if !IDG_OMIT_ELAPSED_TIME\n\t\t\tlastElapsedSeconds = Time.realtimeSinceStartup;\n#endif\n#if !IDG_OMIT_FRAMECOUNT\n\t\t\tlastFrameCount = Time.frameCount;\n#endif\n\n#if !UNITY_EDITOR && UNITY_ANDROID\n\t\t\tif( logcatListener != null )\n\t\t\t{\n\t\t\t\tstring log;\n\t\t\t\twhile( ( log = logcatListener.GetLog() ) != null )\n\t\t\t\t\tReceivedLog( \"LOGCAT: \" + log, string.Empty, LogType.Log );\n\t\t\t}\n#endif\n\n#if !ENABLE_INPUT_SYSTEM || ENABLE_LEGACY_INPUT_MANAGER\n\t\t\t// Toggling the console with toggleKey is handled in Update instead of LateUpdate because\n\t\t\t// when we hide the console, we don't want the commandInputField to capture the toggleKey.\n\t\t\t// InputField captures input in LateUpdate so deactivating it in Update ensures that\n\t\t\t// no further input is captured\n\t\t\tif( toggleWithKey )\n\t\t\t{\n\t\t\t\tif( Input.GetKeyDown( toggleKey ) )\n\t\t\t\t{\n\t\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\t\tHideLogWindow();\n\t\t\t\t\telse\n\t\t\t\t\t\tShowLogWindow();\n\t\t\t\t}\n\t\t\t}\n#endif\n\t\t}\n\n\t\tprivate void LateUpdate()\n\t\t{\n#if UNITY_EDITOR\n\t\t\tif( isQuittingApplication )\n\t\t\t\treturn;\n#endif\n\n\t\t\tint numberOfLogsToProcess = isLogWindowVisible ? queuedLogEntries.Count : ( queuedLogEntries.Count - queuedLogLimit );\n\t\t\tProcessQueuedLogs( numberOfLogsToProcess );\n\n\t\t\tif( uncollapsedLogEntries.Count >= maxLogCount )\n\t\t\t{\n\t\t\t\t/// If log window isn't visible, remove the logs over time (i.e. don't remove more than <see cref=\"logsToRemoveAfterMaxLogCount\"/>) to avoid performance issues.\n\t\t\t\tint numberOfLogsToRemove = Mathf.Min( !isLogWindowVisible ? logsToRemoveAfterMaxLogCount : ( uncollapsedLogEntries.Count - maxLogCount + logsToRemoveAfterMaxLogCount ), uncollapsedLogEntries.Count );\n\t\t\t\tRemoveOldestLogs( numberOfLogsToRemove );\n\t\t\t}\n\n\t\t\t// Don't perform CPU heavy tasks if neither the log window nor the popup is visible\n\t\t\tif( !isLogWindowVisible && !PopupEnabled )\n\t\t\t\treturn;\n\n\t\t\tint newInfoEntryCount, newWarningEntryCount, newErrorEntryCount;\n\t\t\tlock( logEntriesLock )\n\t\t\t{\n\t\t\t\tnewInfoEntryCount = this.newInfoEntryCount;\n\t\t\t\tnewWarningEntryCount = this.newWarningEntryCount;\n\t\t\t\tnewErrorEntryCount = this.newErrorEntryCount;\n\n\t\t\t\tthis.newInfoEntryCount = 0;\n\t\t\t\tthis.newWarningEntryCount = 0;\n\t\t\t\tthis.newErrorEntryCount = 0;\n\t\t\t}\n\n\t\t\t// Update entry count texts in a single batch\n\t\t\tif( newInfoEntryCount > 0 || newWarningEntryCount > 0 || newErrorEntryCount > 0 )\n\t\t\t{\n\t\t\t\tif( newInfoEntryCount > 0 )\n\t\t\t\t{\n\t\t\t\t\tinfoEntryCount += newInfoEntryCount;\n\t\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\t\tinfoEntryCountText.text = infoEntryCount.ToString();\n\t\t\t\t}\n\n\t\t\t\tif( newWarningEntryCount > 0 )\n\t\t\t\t{\n\t\t\t\t\twarningEntryCount += newWarningEntryCount;\n\t\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\t\twarningEntryCountText.text = warningEntryCount.ToString();\n\t\t\t\t}\n\n\t\t\t\tif( newErrorEntryCount > 0 )\n\t\t\t\t{\n\t\t\t\t\terrorEntryCount += newErrorEntryCount;\n\t\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\t\terrorEntryCountText.text = errorEntryCount.ToString();\n\t\t\t\t}\n\n\t\t\t\t// If debug popup is visible, notify it of the new debug entries\n\t\t\t\tif( !isLogWindowVisible )\n\t\t\t\t{\n\t\t\t\t\tentryCountTextsDirty = true;\n\n\t\t\t\t\tif( popupVisibility == PopupVisibility.WhenLogReceived && !popupManager.IsVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( ( newInfoEntryCount > 0 && ( popupVisibilityLogFilter & DebugLogFilter.Info ) == DebugLogFilter.Info ) ||\n\t\t\t\t\t\t\t( newWarningEntryCount > 0 && ( popupVisibilityLogFilter & DebugLogFilter.Warning ) == DebugLogFilter.Warning ) ||\n\t\t\t\t\t\t\t( newErrorEntryCount > 0 && ( popupVisibilityLogFilter & DebugLogFilter.Error ) == DebugLogFilter.Error ) )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpopupManager.Show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif( popupManager.IsVisible )\n\t\t\t\t\t\tpopupManager.NewLogsArrived( newInfoEntryCount, newWarningEntryCount, newErrorEntryCount );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( isLogWindowVisible )\n\t\t\t{\n\t\t\t\t// Update visible logs if necessary\n\t\t\t\tif( shouldUpdateRecycledListView )\n\t\t\t\t\tOnLogEntriesUpdated( false, false );\n\n\t\t\t\t// Automatically expand the target log (if any)\n\t\t\t\tif( indexOfLogEntryToSelectAndFocus >= 0 )\n\t\t\t\t{\n\t\t\t\t\tif( indexOfLogEntryToSelectAndFocus < logEntriesToShow.Count )\n\t\t\t\t\t\trecycledListView.SelectAndFocusOnLogItemAtIndex( indexOfLogEntryToSelectAndFocus );\n\n\t\t\t\t\tindexOfLogEntryToSelectAndFocus = -1;\n\t\t\t\t}\n\n\t\t\t\tif( entryCountTextsDirty )\n\t\t\t\t{\n\t\t\t\t\tinfoEntryCountText.text = infoEntryCount.ToString();\n\t\t\t\t\twarningEntryCountText.text = warningEntryCount.ToString();\n\t\t\t\t\terrorEntryCountText.text = errorEntryCount.ToString();\n\n\t\t\t\t\tentryCountTextsDirty = false;\n\t\t\t\t}\n\n\t\t\t\tfloat logWindowWidth = logWindowTR.rect.width;\n\t\t\t\tif( !Mathf.Approximately( logWindowWidth, logWindowPreviousWidth ) )\n\t\t\t\t{\n\t\t\t\t\tlogWindowPreviousWidth = logWindowWidth;\n\n\t\t\t\t\tif( searchbar )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( logWindowWidth >= topSearchbarMinWidth )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( searchbar.parent == searchbarSlotBottom )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsearchbarSlotTop.gameObject.SetActive( true );\n\t\t\t\t\t\t\t\tsearchbar.SetParent( searchbarSlotTop, false );\n\t\t\t\t\t\t\t\tsearchbarSlotBottom.gameObject.SetActive( false );\n\n\t\t\t\t\t\t\t\tlogItemsScrollRectTR.anchoredPosition = Vector2.zero;\n\t\t\t\t\t\t\t\tlogItemsScrollRectTR.sizeDelta = logItemsScrollRectOriginalSize;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( searchbar.parent == searchbarSlotTop )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsearchbarSlotBottom.gameObject.SetActive( true );\n\t\t\t\t\t\t\t\tsearchbar.SetParent( searchbarSlotBottom, false );\n\t\t\t\t\t\t\t\tsearchbarSlotTop.gameObject.SetActive( false );\n\n\t\t\t\t\t\t\t\tfloat searchbarHeight = searchbarSlotBottom.sizeDelta.y;\n\t\t\t\t\t\t\t\tlogItemsScrollRectTR.anchoredPosition = new Vector2( 0f, searchbarHeight * -0.5f );\n\t\t\t\t\t\t\t\tlogItemsScrollRectTR.sizeDelta = logItemsScrollRectOriginalSize - new Vector2( 0f, searchbarHeight );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trecycledListView.OnViewportWidthChanged();\n\t\t\t\t}\n\n\t\t\t\t// If SnapToBottom is enabled, force the scrollbar to the bottom\n\t\t\t\tif( SnapToBottom )\n\t\t\t\t{\n\t\t\t\t\tlogItemsScrollRect.verticalNormalizedPosition = 0f;\n\n\t\t\t\t\tif( snapToBottomButton.activeSelf )\n\t\t\t\t\t\tsnapToBottomButton.SetActive( false );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfloat scrollPos = logItemsScrollRect.verticalNormalizedPosition;\n\t\t\t\t\tif( snapToBottomButton.activeSelf != ( scrollPos > 1E-6f && scrollPos < 0.9999f ) )\n\t\t\t\t\t\tsnapToBottomButton.SetActive( !snapToBottomButton.activeSelf );\n\t\t\t\t}\n\n\t\t\t\tif( showCommandSuggestions && commandInputField.isFocused && commandInputField.caretPosition != commandInputFieldPrevCaretPos )\n\t\t\t\t\tRefreshCommandSuggestions( commandInputField.text );\n\n\t\t\t\tif( commandInputField.isFocused && commandHistory.Count > 0 )\n\t\t\t\t{\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\t\t\tif( Keyboard.current != null )\n#endif\n\t\t\t\t\t{\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\t\t\t\tif( Keyboard.current[Key.UpArrow].wasPressedThisFrame )\n#else\n\t\t\t\t\t\tif( Input.GetKeyDown( KeyCode.UpArrow ) )\n#endif\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( commandHistoryIndex == -1 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcommandHistoryIndex = commandHistory.Count - 1;\n\t\t\t\t\t\t\t\tunfinishedCommand = commandInputField.text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if( --commandHistoryIndex < 0 )\n\t\t\t\t\t\t\t\tcommandHistoryIndex = 0;\n\n\t\t\t\t\t\t\tcommandInputField.text = commandHistory[commandHistoryIndex];\n\t\t\t\t\t\t\tcommandInputField.caretPosition = commandInputField.text.Length;\n\t\t\t\t\t\t}\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\t\t\t\t\telse if( Keyboard.current[Key.DownArrow].wasPressedThisFrame && commandHistoryIndex != -1 )\n#else\n\t\t\t\t\t\telse if( Input.GetKeyDown( KeyCode.DownArrow ) && commandHistoryIndex != -1 )\n#endif\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( ++commandHistoryIndex < commandHistory.Count )\n\t\t\t\t\t\t\t\tcommandInputField.text = commandHistory[commandHistoryIndex];\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcommandHistoryIndex = -1;\n\t\t\t\t\t\t\t\tcommandInputField.text = unfinishedCommand ?? string.Empty;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( screenDimensionsChanged )\n\t\t\t{\n\t\t\t\t// Update the recycled list view\n\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\trecycledListView.OnViewportHeightChanged();\n\t\t\t\telse\n\t\t\t\t\tpopupManager.UpdatePosition( true );\n\n#if UNITY_EDITOR || UNITY_ANDROID || UNITY_IOS\n\t\t\t\tCheckScreenCutout();\n#endif\n\n\t\t\t\tscreenDimensionsChanged = false;\n\t\t\t}\n\t\t}\n\n\t\tpublic void ShowLogWindow()\n\t\t{\n\t\t\t// Show the log window\n\t\t\tlogWindowCanvasGroup.blocksRaycasts = true;\n\t\t\tlogWindowCanvasGroup.alpha = logWindowOpacity;\n\n\t\t\tpopupManager.Hide();\n\n\t\t\t// Update the recycled list view \n\t\t\t// (in case new entries were intercepted while log window was hidden)\n\t\t\tOnLogEntriesUpdated( true, true );\n\n#if UNITY_EDITOR || UNITY_STANDALONE || UNITY_WEBGL\n\t\t\t// Focus on the command input field on standalone platforms when the console is opened\n\t\t\tif( autoFocusOnCommandInputField )\n\t\t\t\tStartCoroutine( ActivateCommandInputFieldCoroutine() );\n#endif\n\n\t\t\tisLogWindowVisible = true;\n\n\t\t\tif( OnLogWindowShown != null )\n\t\t\t\tOnLogWindowShown();\n\t\t}\n\n\t\tpublic void HideLogWindow()\n\t\t{\n\t\t\t// Hide the log window\n\t\t\tlogWindowCanvasGroup.blocksRaycasts = false;\n\t\t\tlogWindowCanvasGroup.alpha = 0f;\n\n\t\t\tif( commandInputField.isFocused )\n\t\t\t\tcommandInputField.DeactivateInputField();\n\n\t\t\tif( popupVisibility == PopupVisibility.Always )\n\t\t\t\tpopupManager.Show();\n\n\t\t\tisLogWindowVisible = false;\n\n\t\t\t// Deselect the currently selected UI object (if any) when the log window is hidden to avoid edge cases: https://github.com/yasirkula/UnityIngameDebugConsole/pull/85\n\t\t\tif( EventSystem.current != null )\n\t\t\t\tEventSystem.current.SetSelectedGameObject( null );\n\n\t\t\tif( OnLogWindowHidden != null )\n\t\t\t\tOnLogWindowHidden();\n\t\t}\n\n\t\t// Command field input is changed, check if command is submitted\n\t\tprivate char OnValidateCommand( string text, int charIndex, char addedChar )\n\t\t{\n\t\t\tif( addedChar == '\\t' ) // Autocomplete attempt\n\t\t\t{\n\t\t\t\tif( !string.IsNullOrEmpty( text ) )\n\t\t\t\t{\n\t\t\t\t\tif( string.IsNullOrEmpty( commandInputFieldAutoCompleteBase ) )\n\t\t\t\t\t\tcommandInputFieldAutoCompleteBase = text;\n\n\t\t\t\t\tstring autoCompletedCommand = DebugLogConsole.GetAutoCompleteCommand( commandInputFieldAutoCompleteBase, text );\n\t\t\t\t\tif( !string.IsNullOrEmpty( autoCompletedCommand ) && autoCompletedCommand != text )\n\t\t\t\t\t{\n\t\t\t\t\t\tcommandInputFieldAutoCompletedNow = true;\n\t\t\t\t\t\tcommandInputField.text = autoCompletedCommand;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn '\\0';\n\t\t\t}\n\t\t\telse if( addedChar == '\\n' ) // Command is submitted\n\t\t\t{\n\t\t\t\t// Clear the command field\n\t\t\t\tif( clearCommandAfterExecution )\n\t\t\t\t\tcommandInputField.text = string.Empty;\n\n\t\t\t\tif( text.Length > 0 )\n\t\t\t\t{\n\t\t\t\t\tif( commandHistory.Count == 0 || commandHistory[commandHistory.Count - 1] != text )\n\t\t\t\t\t\tcommandHistory.Add( text );\n\n\t\t\t\t\tcommandHistoryIndex = -1;\n\t\t\t\t\tunfinishedCommand = null;\n\n\t\t\t\t\t// Execute the command\n\t\t\t\t\tDebugLogConsole.ExecuteCommand( text );\n\n\t\t\t\t\t// Snap to bottom and select the latest entry\n\t\t\t\t\tSnapToBottom = true;\n\t\t\t\t}\n\n\t\t\t\treturn '\\0';\n\t\t\t}\n\n\t\t\treturn addedChar;\n\t\t}\n\n\t\t// A debug entry is received\n\t\tpublic void ReceivedLog( string logString, string stackTrace, LogType logType )\n\t\t{\n#if UNITY_EDITOR\n\t\t\tif( isQuittingApplication )\n\t\t\t\treturn;\n#endif\n\n\t\t\tswitch( logType )\n\t\t\t{\n\t\t\t\tcase LogType.Log: if( !receiveInfoLogs ) return; break;\n\t\t\t\tcase LogType.Warning: if( !receiveWarningLogs ) return; break;\n\t\t\t\tcase LogType.Error: if( !receiveErrorLogs ) return; break;\n\t\t\t\tcase LogType.Assert:\n\t\t\t\tcase LogType.Exception: if( !receiveExceptionLogs ) return; break;\n\t\t\t}\n\n\t\t\t// Truncate the log if it is longer than maxLogLength\n\t\t\tint logLength = logString.Length;\n\t\t\tif( stackTrace == null )\n\t\t\t{\n\t\t\t\tif( logLength > maxLogLength )\n\t\t\t\t\tlogString = logString.Substring( 0, maxLogLength - 11 ) + \"<truncated>\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlogLength += stackTrace.Length;\n\t\t\t\tif( logLength > maxLogLength )\n\t\t\t\t{\n\t\t\t\t\t// Decide which log component(s) to truncate\n\t\t\t\t\tint halfMaxLogLength = maxLogLength / 2;\n\t\t\t\t\tif( logString.Length >= halfMaxLogLength )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( stackTrace.Length >= halfMaxLogLength )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Truncate both logString and stackTrace\n\t\t\t\t\t\t\tlogString = logString.Substring( 0, halfMaxLogLength - 11 ) + \"<truncated>\";\n\n\t\t\t\t\t\t\t// If stackTrace doesn't end with a blank line, its last line won't be visible in the console for some reason\n\t\t\t\t\t\t\tstackTrace = stackTrace.Substring( 0, halfMaxLogLength - 12 ) + \"<truncated>\\n\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Truncate logString\n\t\t\t\t\t\t\tlogString = logString.Substring( 0, maxLogLength - stackTrace.Length - 11 ) + \"<truncated>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// Truncate stackTrace\n\t\t\t\t\t\tstackTrace = stackTrace.Substring( 0, maxLogLength - logString.Length - 12 ) + \"<truncated>\\n\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tQueuedDebugLogEntry queuedLogEntry = new QueuedDebugLogEntry( logString, stackTrace, logType );\n\t\t\tDebugLogEntryTimestamp queuedLogEntryTimestamp;\n\t\t\tif( queuedLogEntriesTimestamps != null )\n\t\t\t{\n\t\t\t\t// It is 10 times faster to cache local time's offset from UtcNow and add it to UtcNow to get local time at any time\n\t\t\t\tSystem.DateTime dateTime = System.DateTime.UtcNow + localTimeUtcOffset;\n#if !IDG_OMIT_ELAPSED_TIME && !IDG_OMIT_FRAMECOUNT\n\t\t\t\tqueuedLogEntryTimestamp = new DebugLogEntryTimestamp( dateTime, lastElapsedSeconds, lastFrameCount );\n#elif !IDG_OMIT_ELAPSED_TIME\n\t\t\t\tqueuedLogEntryTimestamp = new DebugLogEntryTimestamp( dateTime, lastElapsedSeconds );\n#elif !IDG_OMIT_FRAMECOUNT\n\t\t\t\tqueuedLogEntryTimestamp = new DebugLogEntryTimestamp( dateTime, lastFrameCount );\n#else\n\t\t\t\tqueuedLogEntryTimestamp = new DebugLogEntryTimestamp( dateTime );\n#endif\n\t\t\t}\n\t\t\telse\n\t\t\t\tqueuedLogEntryTimestamp = dummyLogEntryTimestamp;\n\n\t\t\tlock( logEntriesLock )\n\t\t\t{\n\t\t\t\t/// Enforce <see cref=\"maxLogCount\"/> in queued logs, as well. That's because when it's exceeded, the oldest queued logs will\n\t\t\t\t/// be removed by <see cref=\"RemoveOldestLogs\"/> immediately after they're processed anyways (i.e. waste of CPU and RAM).\n\t\t\t\tif( queuedLogEntries.Count + 1 >= maxLogCount )\n\t\t\t\t{\n\t\t\t\t\tLogType removedLogType = queuedLogEntries.RemoveFirst().logType;\n\t\t\t\t\tif( removedLogType == LogType.Log )\n\t\t\t\t\t\tnewInfoEntryCount--;\n\t\t\t\t\telse if( removedLogType == LogType.Warning )\n\t\t\t\t\t\tnewWarningEntryCount--;\n\t\t\t\t\telse\n\t\t\t\t\t\tnewErrorEntryCount--;\n\n\t\t\t\t\tif( queuedLogEntriesTimestamps != null )\n\t\t\t\t\t\tqueuedLogEntriesTimestamps.RemoveFirst();\n\t\t\t\t}\n\n\t\t\t\tqueuedLogEntries.Add( queuedLogEntry );\n\n\t\t\t\tif( queuedLogEntriesTimestamps != null )\n\t\t\t\t\tqueuedLogEntriesTimestamps.Add( queuedLogEntryTimestamp );\n\n\t\t\t\tif( logType == LogType.Log )\n\t\t\t\t\tnewInfoEntryCount++;\n\t\t\t\telse if( logType == LogType.Warning )\n\t\t\t\t\tnewWarningEntryCount++;\n\t\t\t\telse\n\t\t\t\t\tnewErrorEntryCount++;\n\t\t\t}\n\t\t}\n\n\t\t// Process a number of logs waiting in the pending logs queue\n\t\tprivate void ProcessQueuedLogs( int numberOfLogsToProcess )\n\t\t{\n\t\t\tfor( int i = 0; i < numberOfLogsToProcess; i++ )\n\t\t\t{\n\t\t\t\tQueuedDebugLogEntry logEntry;\n\t\t\t\tDebugLogEntryTimestamp timestamp;\n\t\t\t\tlock( logEntriesLock )\n\t\t\t\t{\n\t\t\t\t\tlogEntry = queuedLogEntries.RemoveFirst();\n\t\t\t\t\ttimestamp = queuedLogEntriesTimestamps != null ? queuedLogEntriesTimestamps.RemoveFirst() : dummyLogEntryTimestamp;\n\t\t\t\t}\n\n\t\t\t\tProcessLog( logEntry, timestamp );\n\t\t\t}\n\t\t}\n\n\t\t// Present the log entry in the console\n\t\tprivate void ProcessLog( QueuedDebugLogEntry queuedLogEntry, DebugLogEntryTimestamp timestamp )\n\t\t{\n\t\t\tLogType logType = queuedLogEntry.logType;\n\t\t\tDebugLogEntry logEntry;\n\t\t\tif( pooledLogEntries.Count > 0 )\n\t\t\t\tlogEntry = pooledLogEntries.Pop();\n\t\t\telse\n\t\t\t\tlogEntry = new DebugLogEntry();\n\n\t\t\tlogEntry.Initialize( queuedLogEntry.logString, queuedLogEntry.stackTrace );\n\n\t\t\t// Check if this entry is a duplicate (i.e. has been received before)\n\t\t\tDebugLogEntry existingLogEntry;\n\t\t\tbool isEntryInCollapsedEntryList = collapsedLogEntriesMap.TryGetValue( logEntry, out existingLogEntry );\n\t\t\tif( !isEntryInCollapsedEntryList )\n\t\t\t{\n\t\t\t\t// It is not a duplicate,\n\t\t\t\t// add it to the list of unique debug entries\n\t\t\t\tlogEntry.logTypeSpriteRepresentation = logSpriteRepresentations[(int) logType];\n\t\t\t\tlogEntry.collapsedIndex = collapsedLogEntries.Count;\n\n\t\t\t\tcollapsedLogEntries.Add( logEntry );\n\t\t\t\tcollapsedLogEntriesMap[logEntry] = logEntry;\n\n\t\t\t\tif( collapsedLogEntriesTimestamps != null )\n\t\t\t\t\tcollapsedLogEntriesTimestamps.Add( timestamp );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// It is a duplicate, pool the duplicate log entry and\n\t\t\t\t// increment the original debug item's collapsed count\n\t\t\t\tPoolLogEntry( logEntry );\n\n\t\t\t\tlogEntry = existingLogEntry;\n\t\t\t\tlogEntry.count++;\n\n\t\t\t\tif( collapsedLogEntriesTimestamps != null )\n\t\t\t\t\tcollapsedLogEntriesTimestamps[logEntry.collapsedIndex] = timestamp;\n\t\t\t}\n\n\t\t\tuncollapsedLogEntries.Add( logEntry );\n\n\t\t\tif( uncollapsedLogEntriesTimestamps != null )\n\t\t\t\tuncollapsedLogEntriesTimestamps.Add( timestamp );\n\n\t\t\t// If this debug entry matches the current filters,\n\t\t\t// add it to the list of debug entries to show\n\t\t\tint logEntryIndexInEntriesToShow = -1;\n\t\t\tSprite logTypeSpriteRepresentation = logEntry.logTypeSpriteRepresentation;\n\t\t\tif( isCollapseOn && isEntryInCollapsedEntryList )\n\t\t\t{\n\t\t\t\tif( isLogWindowVisible || timestampsOfLogEntriesToShow != null )\n\t\t\t\t{\n\t\t\t\t\tif( !isInSearchMode && logFilter == DebugLogFilter.All )\n\t\t\t\t\t\tlogEntryIndexInEntriesToShow = logEntry.collapsedIndex;\n\t\t\t\t\telse\n\t\t\t\t\t\tlogEntryIndexInEntriesToShow = logEntriesToShow.IndexOf( logEntry );\n\n\t\t\t\t\tif( logEntryIndexInEntriesToShow >= 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\t\t\t\ttimestampsOfLogEntriesToShow[logEntryIndexInEntriesToShow] = timestamp;\n\n\t\t\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\t\t\trecycledListView.OnCollapsedLogEntryAtIndexUpdated( logEntryIndexInEntriesToShow );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if( ( !isInSearchMode || queuedLogEntry.MatchesSearchTerm( searchTerm ) ) && ( logFilter == DebugLogFilter.All ||\n\t\t\t   ( logTypeSpriteRepresentation == infoLog && ( ( logFilter & DebugLogFilter.Info ) == DebugLogFilter.Info ) ) ||\n\t\t\t   ( logTypeSpriteRepresentation == warningLog && ( ( logFilter & DebugLogFilter.Warning ) == DebugLogFilter.Warning ) ) ||\n\t\t\t   ( logTypeSpriteRepresentation == errorLog && ( ( logFilter & DebugLogFilter.Error ) == DebugLogFilter.Error ) ) ) )\n\t\t\t{\n\t\t\t\tlogEntriesToShow.Add( logEntry );\n\t\t\t\tlogEntryIndexInEntriesToShow = logEntriesToShow.Count - 1;\n\n\t\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\t\ttimestampsOfLogEntriesToShow.Add( timestamp );\n\n\t\t\t\tshouldUpdateRecycledListView = true;\n\t\t\t}\n\n\t\t\t// Automatically expand this log if necessary\n\t\t\tif( pendingLogToAutoExpand > 0 && --pendingLogToAutoExpand <= 0 && logEntryIndexInEntriesToShow >= 0 )\n\t\t\t\tindexOfLogEntryToSelectAndFocus = logEntryIndexInEntriesToShow;\n\t\t}\n\n\t\tprivate void RemoveOldestLogs( int numberOfLogsToRemove )\n\t\t{\n\t\t\tif( numberOfLogsToRemove <= 0 )\n\t\t\t\treturn;\n\n\t\t\tDebugLogEntry logEntryToSelectAndFocus = ( indexOfLogEntryToSelectAndFocus >= 0 && indexOfLogEntryToSelectAndFocus < logEntriesToShow.Count ) ? logEntriesToShow[indexOfLogEntryToSelectAndFocus] : null;\n\n\t\t\tanyCollapsedLogRemoved = false;\n\t\t\tremovedLogEntriesToShowCount = 0;\n\n\t\t\tuncollapsedLogEntries.TrimStart( numberOfLogsToRemove, removeUncollapsedLogEntryAction );\n\n\t\t\tif( uncollapsedLogEntriesTimestamps != null )\n\t\t\t\tuncollapsedLogEntriesTimestamps.TrimStart( numberOfLogsToRemove );\n\n\t\t\tif( removedLogEntriesToShowCount > 0 )\n\t\t\t{\n\t\t\t\tlogEntriesToShow.TrimStart( removedLogEntriesToShowCount );\n\n\t\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\t\ttimestampsOfLogEntriesToShow.TrimStart( removedLogEntriesToShowCount );\n\t\t\t}\n\n\t\t\tif( anyCollapsedLogRemoved )\n\t\t\t{\n\t\t\t\tcollapsedLogEntries.RemoveAll( shouldRemoveCollapsedLogEntryPredicate, updateLogEntryCollapsedIndexAction, collapsedLogEntriesTimestamps );\n\n\t\t\t\tif( isCollapseOn )\n\t\t\t\t\tremovedLogEntriesToShowCount = logEntriesToShow.RemoveAll( shouldRemoveLogEntryToShowPredicate, null, timestampsOfLogEntriesToShow );\n\t\t\t}\n\n\t\t\tif( removedLogEntriesToShowCount > 0 )\n\t\t\t{\n\t\t\t\tif( logEntryToSelectAndFocus == null || logEntryToSelectAndFocus.count == 0 )\n\t\t\t\t\tindexOfLogEntryToSelectAndFocus = -1;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor( int i = Mathf.Min( indexOfLogEntryToSelectAndFocus, logEntriesToShow.Count - 1 ); i >= 0; i-- )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( logEntriesToShow[i] == logEntryToSelectAndFocus )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindexOfLogEntryToSelectAndFocus = i;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trecycledListView.OnLogEntriesRemoved( removedLogEntriesToShowCount );\n\n\t\t\t\tif( isLogWindowVisible )\n\t\t\t\t\tOnLogEntriesUpdated( false, true );\n\t\t\t}\n\t\t\telse if( isLogWindowVisible && isCollapseOn )\n\t\t\t\trecycledListView.RefreshCollapsedLogEntryCounts();\n\n\t\t\tentryCountTextsDirty = true;\n\t\t}\n\n\t\tprivate void RemoveUncollapsedLogEntry( DebugLogEntry logEntry )\n\t\t{\n\t\t\tif( --logEntry.count <= 0 )\n\t\t\t\tanyCollapsedLogRemoved = true;\n\n\t\t\tif( !isCollapseOn && logEntriesToShow[removedLogEntriesToShowCount] == logEntry )\n\t\t\t\tremovedLogEntriesToShowCount++;\n\n\t\t\tif( logEntry.logTypeSpriteRepresentation == infoLog )\n\t\t\t\tinfoEntryCount--;\n\t\t\telse if( logEntry.logTypeSpriteRepresentation == warningLog )\n\t\t\t\twarningEntryCount--;\n\t\t\telse\n\t\t\t\terrorEntryCount--;\n\t\t}\n\n\t\tprivate bool ShouldRemoveCollapsedLogEntry( DebugLogEntry logEntry )\n\t\t{\n\t\t\tif( logEntry.count <= 0 )\n\t\t\t{\n\t\t\t\tPoolLogEntry( logEntry );\n\t\t\t\tcollapsedLogEntriesMap.Remove( logEntry );\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate bool ShouldRemoveLogEntryToShow( DebugLogEntry logEntry )\n\t\t{\n\t\t\treturn logEntry.count <= 0;\n\t\t}\n\n\t\tprivate void UpdateLogEntryCollapsedIndex( DebugLogEntry logEntry, int collapsedIndex )\n\t\t{\n\t\t\tlogEntry.collapsedIndex = collapsedIndex;\n\t\t}\n\n\t\tprivate void OnLogEntriesUpdated( bool updateAllVisibleItemContents, bool validateScrollPosition )\n\t\t{\n\t\t\trecycledListView.OnLogEntriesUpdated( updateAllVisibleItemContents );\n\t\t\tshouldUpdateRecycledListView = false;\n\n\t\t\tif( validateScrollPosition )\n\t\t\t\tValidateScrollPosition();\n\t\t}\n\n\t\tprivate void PoolLogEntry( DebugLogEntry logEntry )\n\t\t{\n\t\t\tif( pooledLogEntries.Count < 4096 )\n\t\t\t{\n\t\t\t\tlogEntry.Clear();\n\t\t\t\tpooledLogEntries.Push( logEntry );\n\t\t\t}\n\t\t}\n\n\t\t// Make sure the scroll bar of the scroll rect is adjusted properly\n\t\tinternal void ValidateScrollPosition()\n\t\t{\n\t\t\t// When scrollbar is snapped to the very bottom of the scroll view, sometimes OnScroll alone doesn't work\n\t\t\tif( logItemsScrollRect.verticalNormalizedPosition <= Mathf.Epsilon )\n\t\t\t\tlogItemsScrollRect.verticalNormalizedPosition = 0.0001f;\n\n\t\t\tlogItemsScrollRect.OnScroll( nullPointerEventData );\n\t\t}\n\n\t\t// Modifies certain properties of the most recently received log\n\t\tpublic void AdjustLatestPendingLog( bool autoExpand, bool stripStackTrace )\n\t\t{\n\t\t\tlock( logEntriesLock )\n\t\t\t{\n\t\t\t\tif( queuedLogEntries.Count == 0 )\n\t\t\t\t\treturn;\n\n\t\t\t\tif( autoExpand ) // Automatically expand the latest log in queuedLogEntries\n\t\t\t\t\tpendingLogToAutoExpand = queuedLogEntries.Count;\n\n\t\t\t\tif( stripStackTrace ) // Omit the latest log's stack trace\n\t\t\t\t{\n\t\t\t\t\tQueuedDebugLogEntry log = queuedLogEntries[queuedLogEntries.Count - 1];\n\t\t\t\t\tqueuedLogEntries[queuedLogEntries.Count - 1] = new QueuedDebugLogEntry( log.logString, string.Empty, log.logType );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Clear all the logs\n\t\tpublic void ClearLogs()\n\t\t{\n\t\t\tSnapToBottom = true;\n\t\t\tindexOfLogEntryToSelectAndFocus = -1;\n\n\t\t\tinfoEntryCount = 0;\n\t\t\twarningEntryCount = 0;\n\t\t\terrorEntryCount = 0;\n\n\t\t\tinfoEntryCountText.text = \"0\";\n\t\t\twarningEntryCountText.text = \"0\";\n\t\t\terrorEntryCountText.text = \"0\";\n\n\t\t\tcollapsedLogEntries.ForEach( poolLogEntryAction );\n\n\t\t\tcollapsedLogEntries.Clear();\n\t\t\tcollapsedLogEntriesMap.Clear();\n\t\t\tuncollapsedLogEntries.Clear();\n\t\t\tlogEntriesToShow.Clear();\n\n\t\t\tif( collapsedLogEntriesTimestamps != null )\n\t\t\t{\n\t\t\t\tcollapsedLogEntriesTimestamps.Clear();\n\t\t\t\tuncollapsedLogEntriesTimestamps.Clear();\n\t\t\t\ttimestampsOfLogEntriesToShow.Clear();\n\t\t\t}\n\n\t\t\trecycledListView.DeselectSelectedLogItem();\n\t\t\tOnLogEntriesUpdated( true, true );\n\t\t}\n\n\t\t// Collapse button is clicked\n\t\tprivate void CollapseButtonPressed()\n\t\t{\n\t\t\t// Swap the value of collapse mode\n\t\t\tisCollapseOn = !isCollapseOn;\n\n\t\t\tSnapToBottom = true;\n\t\t\tcollapseButton.color = isCollapseOn ? collapseButtonSelectedColor : collapseButtonNormalColor;\n\t\t\trecycledListView.SetCollapseMode( isCollapseOn );\n\n\t\t\t// Determine the new list of debug entries to show\n\t\t\tFilterLogs();\n\t\t}\n\n\t\t// Filtering mode of info logs has changed\n\t\tprivate void FilterLogButtonPressed()\n\t\t{\n\t\t\tlogFilter = logFilter ^ DebugLogFilter.Info;\n\n\t\t\tif( ( logFilter & DebugLogFilter.Info ) == DebugLogFilter.Info )\n\t\t\t\tfilterInfoButton.color = filterButtonsSelectedColor;\n\t\t\telse\n\t\t\t\tfilterInfoButton.color = filterButtonsNormalColor;\n\n\t\t\tFilterLogs();\n\t\t}\n\n\t\t// Filtering mode of warning logs has changed\n\t\tprivate void FilterWarningButtonPressed()\n\t\t{\n\t\t\tlogFilter = logFilter ^ DebugLogFilter.Warning;\n\n\t\t\tif( ( logFilter & DebugLogFilter.Warning ) == DebugLogFilter.Warning )\n\t\t\t\tfilterWarningButton.color = filterButtonsSelectedColor;\n\t\t\telse\n\t\t\t\tfilterWarningButton.color = filterButtonsNormalColor;\n\n\t\t\tFilterLogs();\n\t\t}\n\n\t\t// Filtering mode of error logs has changed\n\t\tprivate void FilterErrorButtonPressed()\n\t\t{\n\t\t\tlogFilter = logFilter ^ DebugLogFilter.Error;\n\n\t\t\tif( ( logFilter & DebugLogFilter.Error ) == DebugLogFilter.Error )\n\t\t\t\tfilterErrorButton.color = filterButtonsSelectedColor;\n\t\t\telse\n\t\t\t\tfilterErrorButton.color = filterButtonsNormalColor;\n\n\t\t\tFilterLogs();\n\t\t}\n\n\t\t// Search term has changed\n\t\tprivate void SearchTermChanged( string searchTerm )\n\t\t{\n\t\t\tif( searchTerm != null )\n\t\t\t\tsearchTerm = searchTerm.Trim();\n\n\t\t\tthis.searchTerm = searchTerm;\n\t\t\tbool isInSearchMode = !string.IsNullOrEmpty( searchTerm );\n\t\t\tif( isInSearchMode || this.isInSearchMode )\n\t\t\t{\n\t\t\t\tthis.isInSearchMode = isInSearchMode;\n\t\t\t\tFilterLogs();\n\t\t\t}\n\t\t}\n\n\t\t// Show suggestions for the currently entered command\n\t\tprivate void RefreshCommandSuggestions( string command )\n\t\t{\n\t\t\tif( !showCommandSuggestions )\n\t\t\t\treturn;\n\n\t\t\tcommandInputFieldPrevCaretPos = commandInputField.caretPosition;\n\n\t\t\t// Don't recalculate the command suggestions if the input command hasn't changed (i.e. only caret's position has changed)\n\t\t\tbool commandChanged = command != commandInputFieldPrevCommand;\n\t\t\tbool commandNameOrParametersChanged = false;\n\t\t\tif( commandChanged )\n\t\t\t{\n\t\t\t\tcommandInputFieldPrevCommand = command;\n\n\t\t\t\tmatchingCommandSuggestions.Clear();\n\t\t\t\tcommandCaretIndexIncrements.Clear();\n\n\t\t\t\tstring prevCommandName = commandInputFieldPrevCommandName;\n\t\t\t\tint numberOfParameters;\n\t\t\t\tDebugLogConsole.GetCommandSuggestions( command, matchingCommandSuggestions, commandCaretIndexIncrements, ref commandInputFieldPrevCommandName, out numberOfParameters );\n\t\t\t\tif( prevCommandName != commandInputFieldPrevCommandName || numberOfParameters != commandInputFieldPrevParamCount )\n\t\t\t\t{\n\t\t\t\t\tcommandInputFieldPrevParamCount = numberOfParameters;\n\t\t\t\t\tcommandNameOrParametersChanged = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint caretArgumentIndex = 0;\n\t\t\tint caretPos = commandInputField.caretPosition;\n\t\t\tfor( int i = 0; i < commandCaretIndexIncrements.Count && caretPos > commandCaretIndexIncrements[i]; i++ )\n\t\t\t\tcaretArgumentIndex++;\n\n\t\t\tif( caretArgumentIndex != commandInputFieldPrevCaretArgumentIndex )\n\t\t\t\tcommandInputFieldPrevCaretArgumentIndex = caretArgumentIndex;\n\t\t\telse if( !commandChanged || !commandNameOrParametersChanged )\n\t\t\t{\n\t\t\t\t// Command suggestions don't need to be updated if:\n\t\t\t\t// a) neither the entered command nor the argument that the caret is hovering has changed\n\t\t\t\t// b) entered command has changed but command's name hasn't changed, parameter count hasn't changed and the argument\n\t\t\t\t//    that the caret is hovering hasn't changed (i.e. user has continued typing a parameter's value)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif( matchingCommandSuggestions.Count == 0 )\n\t\t\t\tOnEndEditCommand( command );\n\t\t\telse\n\t\t\t{\n\t\t\t\tif( !commandSuggestionsContainer.gameObject.activeSelf )\n\t\t\t\t\tcommandSuggestionsContainer.gameObject.SetActive( true );\n\n\t\t\t\tint suggestionInstancesCount = commandSuggestionInstances.Count;\n\t\t\t\tint suggestionsCount = matchingCommandSuggestions.Count;\n\n\t\t\t\tfor( int i = 0; i < suggestionsCount; i++ )\n\t\t\t\t{\n\t\t\t\t\tif( i >= visibleCommandSuggestionInstances )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( i >= suggestionInstancesCount )\n\t\t\t\t\t\t\tcommandSuggestionInstances.Add( (Text) Instantiate( commandSuggestionPrefab, commandSuggestionsContainer, false ) );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tcommandSuggestionInstances[i].gameObject.SetActive( true );\n\n\t\t\t\t\t\tvisibleCommandSuggestionInstances++;\n\t\t\t\t\t}\n\n\t\t\t\t\tConsoleMethodInfo suggestedCommand = matchingCommandSuggestions[i];\n\t\t\t\t\tsharedStringBuilder.Length = 0;\n\t\t\t\t\tif( caretArgumentIndex > 0 )\n\t\t\t\t\t\tsharedStringBuilder.Append( suggestedCommand.command );\n\t\t\t\t\telse\n\t\t\t\t\t\tsharedStringBuilder.Append( commandSuggestionHighlightStart ).Append( matchingCommandSuggestions[i].command ).Append( commandSuggestionHighlightEnd );\n\n\t\t\t\t\tif( suggestedCommand.parameters.Length > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tsharedStringBuilder.Append( \" \" );\n\n\t\t\t\t\t\t// If the command name wasn't highlighted, a parameter must always be highlighted\n\t\t\t\t\t\tint caretParameterIndex = caretArgumentIndex - 1;\n\t\t\t\t\t\tif( caretParameterIndex >= suggestedCommand.parameters.Length )\n\t\t\t\t\t\t\tcaretParameterIndex = suggestedCommand.parameters.Length - 1;\n\n\t\t\t\t\t\tfor( int j = 0; j < suggestedCommand.parameters.Length; j++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( caretParameterIndex != j )\n\t\t\t\t\t\t\t\tsharedStringBuilder.Append( suggestedCommand.parameters[j] );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tsharedStringBuilder.Append( commandSuggestionHighlightStart ).Append( suggestedCommand.parameters[j] ).Append( commandSuggestionHighlightEnd );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcommandSuggestionInstances[i].text = sharedStringBuilder.ToString();\n\t\t\t\t}\n\n\t\t\t\tfor( int i = visibleCommandSuggestionInstances - 1; i >= suggestionsCount; i-- )\n\t\t\t\t\tcommandSuggestionInstances[i].gameObject.SetActive( false );\n\n\t\t\t\tvisibleCommandSuggestionInstances = suggestionsCount;\n\t\t\t}\n\t\t}\n\n\t\t// Command input field's text has changed\n\t\tprivate void OnEditCommand( string command )\n\t\t{\n\t\t\tRefreshCommandSuggestions( command );\n\n\t\t\tif( !commandInputFieldAutoCompletedNow )\n\t\t\t\tcommandInputFieldAutoCompleteBase = null;\n\t\t\telse // This change was caused by autocomplete\n\t\t\t\tcommandInputFieldAutoCompletedNow = false;\n\t\t}\n\n\t\t// Command input field has lost focus\n\t\tprivate void OnEndEditCommand( string command )\n\t\t{\n\t\t\tif( commandSuggestionsContainer.gameObject.activeSelf )\n\t\t\t\tcommandSuggestionsContainer.gameObject.SetActive( false );\n\t\t}\n\n\t\t// Debug window is being resized,\n\t\t// Set the sizeDelta property of the window accordingly while\n\t\t// preventing window dimensions from going below the minimum dimensions\n\t\tinternal void Resize( PointerEventData eventData )\n\t\t{\n\t\t\tVector2 localPoint;\n\t\t\tif( !RectTransformUtility.ScreenPointToLocalPointInRectangle( canvasTR, eventData.position, eventData.pressEventCamera, out localPoint ) )\n\t\t\t\treturn;\n\n\t\t\t// To be able to maximize the log window easily:\n\t\t\t// - When enableHorizontalResizing is true and resizing horizontally, resize button will be grabbed from its left edge (if resizeFromRight is true) or its right edge\n\t\t\t// - While resizing vertically, resize button will be grabbed from its top edge\n\t\t\tRect resizeButtonRect = ( (RectTransform) resizeButton.rectTransform.parent ).rect;\n\t\t\tfloat resizeButtonWidth = resizeButtonRect.width;\n\t\t\tfloat resizeButtonHeight = resizeButtonRect.height;\n\n\t\t\tVector2 canvasPivot = canvasTR.pivot;\n\t\t\tVector2 canvasSize = canvasTR.rect.size;\n\t\t\tVector2 anchorMin = logWindowTR.anchorMin;\n\n\t\t\t// Horizontal resizing\n\t\t\tif( enableHorizontalResizing )\n\t\t\t{\n\t\t\t\tif( resizeFromRight )\n\t\t\t\t{\n\t\t\t\t\tlocalPoint.x += canvasPivot.x * canvasSize.x + resizeButtonWidth;\n\t\t\t\t\tif( localPoint.x < minimumWidth )\n\t\t\t\t\t\tlocalPoint.x = minimumWidth;\n\n\t\t\t\t\tVector2 anchorMax = logWindowTR.anchorMax;\n\t\t\t\t\tanchorMax.x = Mathf.Clamp01( localPoint.x / canvasSize.x );\n\t\t\t\t\tlogWindowTR.anchorMax = anchorMax;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlocalPoint.x += canvasPivot.x * canvasSize.x - resizeButtonWidth;\n\t\t\t\t\tif( localPoint.x > canvasSize.x - minimumWidth )\n\t\t\t\t\t\tlocalPoint.x = canvasSize.x - minimumWidth;\n\n\t\t\t\t\tanchorMin.x = Mathf.Clamp01( localPoint.x / canvasSize.x );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Vertical resizing\n\t\t\tfloat notchHeight = -logWindowTR.sizeDelta.y; // Size of notch screen cutouts at the top of the screen\n\n\t\t\tlocalPoint.y += canvasPivot.y * canvasSize.y - resizeButtonHeight;\n\t\t\tif( localPoint.y > canvasSize.y - minimumHeight - notchHeight )\n\t\t\t\tlocalPoint.y = canvasSize.y - minimumHeight - notchHeight;\n\n\t\t\tanchorMin.y = Mathf.Clamp01( localPoint.y / canvasSize.y );\n\n\t\t\tlogWindowTR.anchorMin = anchorMin;\n\n\t\t\t// Update the recycled list view\n\t\t\trecycledListView.OnViewportHeightChanged();\n\t\t}\n\n\t\t// Determine the filtered list of debug entries to show on screen\n\t\tprivate void FilterLogs()\n\t\t{\n\t\t\tlogEntriesToShow.Clear();\n\n\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\ttimestampsOfLogEntriesToShow.Clear();\n\n\t\t\tif( logFilter != DebugLogFilter.None )\n\t\t\t{\n\t\t\t\tDynamicCircularBuffer<DebugLogEntry> targetLogEntries = isCollapseOn ? collapsedLogEntries : uncollapsedLogEntries;\n\t\t\t\tDynamicCircularBuffer<DebugLogEntryTimestamp> targetLogEntriesTimestamps = isCollapseOn ? collapsedLogEntriesTimestamps : uncollapsedLogEntriesTimestamps;\n\n\t\t\t\tif( logFilter == DebugLogFilter.All )\n\t\t\t\t{\n\t\t\t\t\tif( !isInSearchMode )\n\t\t\t\t\t{\n\t\t\t\t\t\tlogEntriesToShow.AddRange( targetLogEntries );\n\n\t\t\t\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\t\t\t\ttimestampsOfLogEntriesToShow.AddRange( targetLogEntriesTimestamps );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tfor( int i = 0, count = targetLogEntries.Count; i < count; i++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( targetLogEntries[i].MatchesSearchTerm( searchTerm ) )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlogEntriesToShow.Add( targetLogEntries[i] );\n\n\t\t\t\t\t\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\t\t\t\t\t\ttimestampsOfLogEntriesToShow.Add( targetLogEntriesTimestamps[i] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Show only the debug entries that match the current filter\n\t\t\t\t\tbool isInfoEnabled = ( logFilter & DebugLogFilter.Info ) == DebugLogFilter.Info;\n\t\t\t\t\tbool isWarningEnabled = ( logFilter & DebugLogFilter.Warning ) == DebugLogFilter.Warning;\n\t\t\t\t\tbool isErrorEnabled = ( logFilter & DebugLogFilter.Error ) == DebugLogFilter.Error;\n\n\t\t\t\t\tfor( int i = 0, count = targetLogEntries.Count; i < count; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tDebugLogEntry logEntry = targetLogEntries[i];\n\n\t\t\t\t\t\tif( isInSearchMode && !logEntry.MatchesSearchTerm( searchTerm ) )\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\tbool shouldShowLog = false;\n\t\t\t\t\t\tif( logEntry.logTypeSpriteRepresentation == infoLog )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( isInfoEnabled )\n\t\t\t\t\t\t\t\tshouldShowLog = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( logEntry.logTypeSpriteRepresentation == warningLog )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( isWarningEnabled )\n\t\t\t\t\t\t\t\tshouldShowLog = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( isErrorEnabled )\n\t\t\t\t\t\t\tshouldShowLog = true;\n\n\t\t\t\t\t\tif( shouldShowLog )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlogEntriesToShow.Add( logEntry );\n\n\t\t\t\t\t\t\tif( timestampsOfLogEntriesToShow != null )\n\t\t\t\t\t\t\t\ttimestampsOfLogEntriesToShow.Add( targetLogEntriesTimestamps[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update the recycled list view\n\t\t\trecycledListView.DeselectSelectedLogItem();\n\t\t\tOnLogEntriesUpdated( true, true );\n\t\t}\n\n\t\tpublic string GetAllLogs()\n\t\t{\n\t\t\t// Process all pending logs since we want to return \"all\" logs\n\t\t\tProcessQueuedLogs( queuedLogEntries.Count );\n\n\t\t\tint count = uncollapsedLogEntries.Count;\n\t\t\tint length = 0;\n\t\t\tint newLineLength = System.Environment.NewLine.Length;\n\t\t\tfor( int i = 0; i < count; i++ )\n\t\t\t{\n\t\t\t\tDebugLogEntry entry = uncollapsedLogEntries[i];\n\t\t\t\tlength += entry.logString.Length + entry.stackTrace.Length + newLineLength * 3;\n\t\t\t}\n\n\t\t\tif( uncollapsedLogEntriesTimestamps != null )\n\t\t\t\tlength += count * 12; // Timestamp: \"[HH:mm:ss]: \"\n\n\t\t\tlength += 100; // Just in case...\n\n\t\t\tStringBuilder sb = new StringBuilder( length );\n\t\t\tfor( int i = 0; i < count; i++ )\n\t\t\t{\n\t\t\t\tDebugLogEntry entry = uncollapsedLogEntries[i];\n\n\t\t\t\tif( uncollapsedLogEntriesTimestamps != null )\n\t\t\t\t{\n\t\t\t\t\tuncollapsedLogEntriesTimestamps[i].AppendTime( sb );\n\t\t\t\t\tsb.Append( \": \" );\n\t\t\t\t}\n\n\t\t\t\tsb.AppendLine( entry.logString ).AppendLine( entry.stackTrace ).AppendLine();\n\t\t\t}\n\n\t\t\treturn sb.ToString();\n\t\t}\n\n\t\tpublic void SaveLogsToFile()\n\t\t{\n\t\t\tSaveLogsToFile( Path.Combine( Application.persistentDataPath, System.DateTime.Now.ToString( \"dd-MM-yyyy--HH-mm-ss\" ) + \".txt\" ) );\n\t\t}\n\n\t\tpublic void SaveLogsToFile( string filePath )\n\t\t{\n\t\t\tFile.WriteAllText( filePath, GetAllLogs() );\n\t\t\tDebug.Log( \"Logs saved to: \" + filePath );\n\t\t}\n\n\t\t// If a cutout is intersecting with debug window on notch screens, shift the window downwards\n\t\tprivate void CheckScreenCutout()\n\t\t{\n\t\t\tif( !avoidScreenCutout )\n\t\t\t\treturn;\n\n#if UNITY_2017_2_OR_NEWER && ( UNITY_EDITOR || UNITY_ANDROID || UNITY_IOS )\n\t\t\t// Check if there is a cutout at the top of the screen\n\t\t\tint screenHeight = Screen.height;\n\t\t\tfloat safeYMax = Screen.safeArea.yMax;\n\t\t\tif( safeYMax < screenHeight - 1 ) // 1: a small threshold\n\t\t\t{\n\t\t\t\t// There is a cutout, shift the log window downwards\n\t\t\t\tfloat cutoutPercentage = ( screenHeight - safeYMax ) / Screen.height;\n\t\t\t\tfloat cutoutLocalSize = cutoutPercentage * canvasTR.rect.height;\n\n\t\t\t\tlogWindowTR.anchoredPosition = new Vector2( 0f, -cutoutLocalSize );\n\t\t\t\tlogWindowTR.sizeDelta = new Vector2( 0f, -cutoutLocalSize );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlogWindowTR.anchoredPosition = Vector2.zero;\n\t\t\t\tlogWindowTR.sizeDelta = Vector2.zero;\n\t\t\t}\n#endif\n\t\t}\n\n#if UNITY_EDITOR || UNITY_STANDALONE || UNITY_WEBGL\n\t\tprivate IEnumerator ActivateCommandInputFieldCoroutine()\n\t\t{\n\t\t\t// Waiting 1 frame before activating commandInputField ensures that the toggleKey isn't captured by it\n\t\t\tyield return null;\n\t\t\tcommandInputField.ActivateInputField();\n\n\t\t\tyield return null;\n\t\t\tcommandInputField.MoveTextEnd( false );\n\t\t}\n#endif\n\n\t\t// Pool an unused log item\n\t\tinternal void PoolLogItem( DebugLogItem logItem )\n\t\t{\n\t\t\tlogItem.CanvasGroup.alpha = 0f;\n\t\t\tlogItem.CanvasGroup.blocksRaycasts = false;\n\n\t\t\tpooledLogItems.Push( logItem );\n\t\t}\n\n\t\t// Fetch a log item from the pool\n\t\tinternal DebugLogItem PopLogItem()\n\t\t{\n\t\t\tDebugLogItem newLogItem;\n\n\t\t\t// If pool is not empty, fetch a log item from the pool,\n\t\t\t// create a new log item otherwise\n\t\t\tif( pooledLogItems.Count > 0 )\n\t\t\t{\n\t\t\t\tnewLogItem = pooledLogItems.Pop();\n\t\t\t\tnewLogItem.CanvasGroup.alpha = 1f;\n\t\t\t\tnewLogItem.CanvasGroup.blocksRaycasts = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnewLogItem = (DebugLogItem) Instantiate( logItemPrefab, logItemsContainer, false );\n\t\t\t\tnewLogItem.Initialize( recycledListView );\n\t\t\t}\n\n\t\t\treturn newLogItem;\n\t\t}\n\t}\n}","size_bytes":63590},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogPopup.cs":{"content":"ï»¿using UnityEngine;\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\nusing System.Collections;\n#if UNITY_EDITOR && UNITY_2021_1_OR_NEWER\nusing Screen = UnityEngine.Device.Screen; // To support Device Simulator on Unity 2021.1+\n#endif\n\n// Manager class for the debug popup\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogPopup : MonoBehaviour, IPointerClickHandler, IBeginDragHandler, IDragHandler, IEndDragHandler\n\t{\n\t\tprivate RectTransform popupTransform;\n\n\t\t// Dimensions of the popup divided by 2\n\t\tprivate Vector2 halfSize;\n\n\t\t// Background image that will change color to indicate an alert\n\t\tprivate Image backgroundImage;\n\n\t\t// Canvas group to modify visibility of the popup\n\t\tprivate CanvasGroup canvasGroup;\n\n#pragma warning disable 0649\n\t\t[SerializeField]\n\t\tprivate DebugLogManager debugManager;\n\n\t\t[SerializeField]\n\t\tprivate Text newInfoCountText;\n\t\t[SerializeField]\n\t\tprivate Text newWarningCountText;\n\t\t[SerializeField]\n\t\tprivate Text newErrorCountText;\n\n\t\t[SerializeField]\n\t\tprivate Color alertColorInfo;\n\t\t[SerializeField]\n\t\tprivate Color alertColorWarning;\n\t\t[SerializeField]\n\t\tprivate Color alertColorError;\n#pragma warning restore 0649\n\n\t\t// Number of new debug entries since the log window has been closed\n\t\tprivate int newInfoCount = 0, newWarningCount = 0, newErrorCount = 0;\n\n\t\tprivate Color normalColor;\n\n\t\tprivate bool isPopupBeingDragged = false;\n\t\tprivate Vector2 normalizedPosition;\n\n\t\t// Coroutines for simple code-based animations\n\t\tprivate IEnumerator moveToPosCoroutine = null;\n\n\t\tpublic bool IsVisible { get; private set; }\n\n\t\tprivate void Awake()\n\t\t{\n\t\t\tpopupTransform = (RectTransform) transform;\n\t\t\tbackgroundImage = GetComponent<Image>();\n\t\t\tcanvasGroup = GetComponent<CanvasGroup>();\n\n\t\t\tnormalColor = backgroundImage.color;\n\n\t\t\thalfSize = popupTransform.sizeDelta * 0.5f;\n\n\t\t\tVector2 pos = popupTransform.anchoredPosition;\n\t\t\tif( pos.x != 0f || pos.y != 0f )\n\t\t\t\tnormalizedPosition = pos.normalized; // Respect the initial popup position set in the prefab\n\t\t\telse\n\t\t\t\tnormalizedPosition = new Vector2( 0.5f, 0f ); // Right edge by default\n\t\t}\n\n\t\tpublic void NewLogsArrived( int newInfo, int newWarning, int newError )\n\t\t{\n\t\t\tif( newInfo > 0 )\n\t\t\t{\n\t\t\t\tnewInfoCount += newInfo;\n\t\t\t\tnewInfoCountText.text = newInfoCount.ToString();\n\t\t\t}\n\n\t\t\tif( newWarning > 0 )\n\t\t\t{\n\t\t\t\tnewWarningCount += newWarning;\n\t\t\t\tnewWarningCountText.text = newWarningCount.ToString();\n\t\t\t}\n\n\t\t\tif( newError > 0 )\n\t\t\t{\n\t\t\t\tnewErrorCount += newError;\n\t\t\t\tnewErrorCountText.text = newErrorCount.ToString();\n\t\t\t}\n\n\t\t\tif( newErrorCount > 0 )\n\t\t\t\tbackgroundImage.color = alertColorError;\n\t\t\telse if( newWarningCount > 0 )\n\t\t\t\tbackgroundImage.color = alertColorWarning;\n\t\t\telse\n\t\t\t\tbackgroundImage.color = alertColorInfo;\n\t\t}\n\n\t\tprivate void ResetValues()\n\t\t{\n\t\t\tnewInfoCount = 0;\n\t\t\tnewWarningCount = 0;\n\t\t\tnewErrorCount = 0;\n\n\t\t\tnewInfoCountText.text = \"0\";\n\t\t\tnewWarningCountText.text = \"0\";\n\t\t\tnewErrorCountText.text = \"0\";\n\n\t\t\tbackgroundImage.color = normalColor;\n\t\t}\n\n\t\t// A simple smooth movement animation\n\t\tprivate IEnumerator MoveToPosAnimation( Vector2 targetPos )\n\t\t{\n\t\t\tfloat modifier = 0f;\n\t\t\tVector2 initialPos = popupTransform.anchoredPosition;\n\n\t\t\twhile( modifier < 1f )\n\t\t\t{\n\t\t\t\tmodifier += 4f * Time.unscaledDeltaTime;\n\t\t\t\tpopupTransform.anchoredPosition = Vector2.Lerp( initialPos, targetPos, modifier );\n\n\t\t\t\tyield return null;\n\t\t\t}\n\t\t}\n\n\t\t// Popup is clicked\n\t\tpublic void OnPointerClick( PointerEventData data )\n\t\t{\n\t\t\t// Hide the popup and show the log window\n\t\t\tif( !isPopupBeingDragged )\n\t\t\t\tdebugManager.ShowLogWindow();\n\t\t}\n\n\t\t// Hides the log window and shows the popup\n\t\tpublic void Show()\n\t\t{\n\t\t\tcanvasGroup.blocksRaycasts = true;\n\t\t\tcanvasGroup.alpha = debugManager.popupOpacity;\n\t\t\tIsVisible = true;\n\n\t\t\t// Reset the counters\n\t\t\tResetValues();\n\n\t\t\t// Update position in case resolution was changed while the popup was hidden\n\t\t\tUpdatePosition( true );\n\t\t}\n\n\t\t// Hide the popup\n\t\tpublic void Hide()\n\t\t{\n\t\t\tcanvasGroup.blocksRaycasts = false;\n\t\t\tcanvasGroup.alpha = 0f;\n\n\t\t\tIsVisible = false;\n\t\t\tisPopupBeingDragged = false;\n\t\t}\n\n\t\tpublic void OnBeginDrag( PointerEventData data )\n\t\t{\n\t\t\tisPopupBeingDragged = true;\n\n\t\t\t// If a smooth movement animation is in progress, cancel it\n\t\t\tif( moveToPosCoroutine != null )\n\t\t\t{\n\t\t\t\tStopCoroutine( moveToPosCoroutine );\n\t\t\t\tmoveToPosCoroutine = null;\n\t\t\t}\n\t\t}\n\n\t\t// Reposition the popup\n\t\tpublic void OnDrag( PointerEventData data )\n\t\t{\n\t\t\tVector2 localPoint;\n\t\t\tif( RectTransformUtility.ScreenPointToLocalPointInRectangle( debugManager.canvasTR, data.position, data.pressEventCamera, out localPoint ) )\n\t\t\t\tpopupTransform.anchoredPosition = localPoint;\n\t\t}\n\n\t\t// Smoothly translate the popup to the nearest edge\n\t\tpublic void OnEndDrag( PointerEventData data )\n\t\t{\n\t\t\tisPopupBeingDragged = false;\n\t\t\tUpdatePosition( false );\n\t\t}\n\n\t\t// There are 2 different spaces used in these calculations:\n\t\t// RectTransform space: raw anchoredPosition of the popup that's in range [-canvasSize/2, canvasSize/2]\n\t\t// Safe area space: Screen.safeArea space that's in range [safeAreaBottomLeft, safeAreaTopRight] where these corner positions\n\t\t//                  are all positive (calculated from bottom left corner of the screen instead of the center of the screen)\n\t\tpublic void UpdatePosition( bool immediately )\n\t\t{\n\t\t\tVector2 canvasRawSize = debugManager.canvasTR.rect.size;\n\n\t\t\t// Calculate safe area bounds\n\t\t\tfloat canvasWidth = canvasRawSize.x;\n\t\t\tfloat canvasHeight = canvasRawSize.y;\n\n\t\t\tfloat canvasBottomLeftX = 0f;\n\t\t\tfloat canvasBottomLeftY = 0f;\n\n\t\t\tif( debugManager.popupAvoidsScreenCutout )\n\t\t\t{\n#if UNITY_2017_2_OR_NEWER && ( UNITY_EDITOR || UNITY_ANDROID || UNITY_IOS )\n\t\t\t\tRect safeArea = Screen.safeArea;\n\n\t\t\t\tint screenWidth = Screen.width;\n\t\t\t\tint screenHeight = Screen.height;\n\n\t\t\t\tcanvasWidth *= safeArea.width / screenWidth;\n\t\t\t\tcanvasHeight *= safeArea.height / screenHeight;\n\n\t\t\t\tcanvasBottomLeftX = canvasRawSize.x * ( safeArea.x / screenWidth );\n\t\t\t\tcanvasBottomLeftY = canvasRawSize.y * ( safeArea.y / screenHeight );\n#endif\n\t\t\t}\n\n\t\t\t// Calculate safe area position of the popup\n\t\t\t// normalizedPosition allows us to glue the popup to a specific edge of the screen. It becomes useful when\n\t\t\t// the popup is at the right edge and we switch from portrait screen orientation to landscape screen orientation.\n\t\t\t// Without normalizedPosition, popup could jump to bottom or top edges instead of staying at the right edge\n\t\t\tVector2 pos = canvasRawSize * 0.5f + ( immediately ? new Vector2( normalizedPosition.x * canvasWidth, normalizedPosition.y * canvasHeight ) : ( popupTransform.anchoredPosition - new Vector2( canvasBottomLeftX, canvasBottomLeftY ) ) );\n\n\t\t\t// Find distances to all four edges of the safe area\n\t\t\tfloat distToLeft = pos.x;\n\t\t\tfloat distToRight = canvasWidth - distToLeft;\n\n\t\t\tfloat distToBottom = pos.y;\n\t\t\tfloat distToTop = canvasHeight - distToBottom;\n\n\t\t\tfloat horDistance = Mathf.Min( distToLeft, distToRight );\n\t\t\tfloat vertDistance = Mathf.Min( distToBottom, distToTop );\n\n\t\t\t// Find the nearest edge's safe area coordinates\n\t\t\tif( horDistance < vertDistance )\n\t\t\t{\n\t\t\t\tif( distToLeft < distToRight )\n\t\t\t\t\tpos = new Vector2( halfSize.x, pos.y );\n\t\t\t\telse\n\t\t\t\t\tpos = new Vector2( canvasWidth - halfSize.x, pos.y );\n\n\t\t\t\tpos.y = Mathf.Clamp( pos.y, halfSize.y, canvasHeight - halfSize.y );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif( distToBottom < distToTop )\n\t\t\t\t\tpos = new Vector2( pos.x, halfSize.y );\n\t\t\t\telse\n\t\t\t\t\tpos = new Vector2( pos.x, canvasHeight - halfSize.y );\n\n\t\t\t\tpos.x = Mathf.Clamp( pos.x, halfSize.x, canvasWidth - halfSize.x );\n\t\t\t}\n\n\t\t\tpos -= canvasRawSize * 0.5f;\n\n\t\t\tnormalizedPosition.Set( pos.x / canvasWidth, pos.y / canvasHeight );\n\n\t\t\t// Safe area's bottom left coordinates are added to pos only after normalizedPosition's value\n\t\t\t// is set because normalizedPosition is in range [-canvasWidth / 2, canvasWidth / 2]\n\t\t\tpos += new Vector2( canvasBottomLeftX, canvasBottomLeftY );\n\n\t\t\t// If another smooth movement animation is in progress, cancel it\n\t\t\tif( moveToPosCoroutine != null )\n\t\t\t{\n\t\t\t\tStopCoroutine( moveToPosCoroutine );\n\t\t\t\tmoveToPosCoroutine = null;\n\t\t\t}\n\n\t\t\tif( immediately )\n\t\t\t\tpopupTransform.anchoredPosition = pos;\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Smoothly translate the popup to the specified position\n\t\t\t\tmoveToPosCoroutine = MoveToPosAnimation( pos );\n\t\t\t\tStartCoroutine( moveToPosCoroutine );\n\t\t\t}\n\t\t}\n\t}\n}","size_bytes":8354},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogRecycledListView.cs":{"content":"ï»¿using System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\n// Handles the log items in an optimized way such that existing log items are\n// recycled within the list instead of creating a new log item at each chance\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogRecycledListView : MonoBehaviour\n\t{\n#pragma warning disable 0649\n\t\t// Cached components\n\t\t[SerializeField]\n\t\tprivate RectTransform transformComponent;\n\t\t[SerializeField]\n\t\tprivate RectTransform viewportTransform;\n\n\t\t[SerializeField]\n\t\tprivate Color logItemNormalColor1;\n\t\t[SerializeField]\n\t\tprivate Color logItemNormalColor2;\n\t\t[SerializeField]\n\t\tprivate Color logItemSelectedColor;\n#pragma warning restore 0649\n\n\t\tinternal DebugLogManager manager;\n\t\tprivate ScrollRect scrollView;\n\n\t\tprivate float logItemHeight;\n\n\t\tprivate DynamicCircularBuffer<DebugLogEntry> entriesToShow = null;\n\t\tprivate DynamicCircularBuffer<DebugLogEntryTimestamp> timestampsOfEntriesToShow = null;\n\n\t\tprivate DebugLogEntry selectedLogEntry;\n\t\tprivate int indexOfSelectedLogEntry = int.MaxValue;\n\t\tprivate float heightOfSelectedLogEntry;\n\t\tprivate float DeltaHeightOfSelectedLogEntry { get { return heightOfSelectedLogEntry - logItemHeight; } }\n\n\t\t// Log items used to visualize the visible debug entries\n\t\tprivate readonly DynamicCircularBuffer<DebugLogItem> visibleLogItems = new DynamicCircularBuffer<DebugLogItem>( 32 );\n\n\t\tprivate bool isCollapseOn = false;\n\n\t\t// Current indices of debug entries shown on screen\n\t\tprivate int currentTopIndex = -1, currentBottomIndex = -1;\n\n\t\tprivate System.Predicate<DebugLogItem> shouldRemoveLogItemPredicate;\n\t\tprivate System.Action<DebugLogItem> poolLogItemAction;\n\n\t\tpublic float ItemHeight { get { return logItemHeight; } }\n\t\tpublic float SelectedItemHeight { get { return heightOfSelectedLogEntry; } }\n\n\t\tprivate void Awake()\n\t\t{\n\t\t\tscrollView = viewportTransform.GetComponentInParent<ScrollRect>();\n\t\t\tscrollView.onValueChanged.AddListener( ( pos ) =>\n\t\t\t{\n\t\t\t\tif( manager.IsLogWindowVisible )\n\t\t\t\t\tUpdateItemsInTheList( false );\n\t\t\t} );\n\t\t}\n\n\t\tpublic void Initialize( DebugLogManager manager, DynamicCircularBuffer<DebugLogEntry> entriesToShow, DynamicCircularBuffer<DebugLogEntryTimestamp> timestampsOfEntriesToShow, float logItemHeight )\n\t\t{\n\t\t\tthis.manager = manager;\n\t\t\tthis.entriesToShow = entriesToShow;\n\t\t\tthis.timestampsOfEntriesToShow = timestampsOfEntriesToShow;\n\t\t\tthis.logItemHeight = logItemHeight;\n\n\t\t\tshouldRemoveLogItemPredicate = ShouldRemoveLogItem;\n\t\t\tpoolLogItemAction = manager.PoolLogItem;\n\t\t}\n\n\t\tpublic void SetCollapseMode( bool collapse )\n\t\t{\n\t\t\tisCollapseOn = collapse;\n\t\t}\n\n\t\t// A log item is clicked, highlight it\n\t\tpublic void OnLogItemClicked( DebugLogItem item )\n\t\t{\n\t\t\tOnLogItemClickedInternal( item.Index, item );\n\t\t}\n\n\t\t// Force expand the log item at specified index\n\t\tpublic void SelectAndFocusOnLogItemAtIndex( int itemIndex )\n\t\t{\n\t\t\tif( indexOfSelectedLogEntry != itemIndex ) // Make sure that we aren't deselecting the target log item\n\t\t\t\tOnLogItemClickedInternal( itemIndex );\n\n\t\t\tfloat viewportHeight = viewportTransform.rect.height;\n\t\t\tfloat transformComponentCenterYAtTop = viewportHeight * 0.5f;\n\t\t\tfloat transformComponentCenterYAtBottom = transformComponent.sizeDelta.y - viewportHeight * 0.5f;\n\t\t\tfloat transformComponentTargetCenterY = itemIndex * logItemHeight + viewportHeight * 0.5f;\n\t\t\tif( transformComponentCenterYAtTop == transformComponentCenterYAtBottom )\n\t\t\t\tscrollView.verticalNormalizedPosition = 0.5f;\n\t\t\telse\n\t\t\t\tscrollView.verticalNormalizedPosition = Mathf.Clamp01( Mathf.InverseLerp( transformComponentCenterYAtBottom, transformComponentCenterYAtTop, transformComponentTargetCenterY ) );\n\n\t\t\tmanager.SnapToBottom = false;\n\t\t}\n\n\t\tprivate void OnLogItemClickedInternal( int itemIndex, DebugLogItem referenceItem = null )\n\t\t{\n\t\t\tint indexOfPreviouslySelectedLogEntry = indexOfSelectedLogEntry;\n\t\t\tDeselectSelectedLogItem();\n\n\t\t\tif( indexOfPreviouslySelectedLogEntry != itemIndex )\n\t\t\t{\n\t\t\t\tselectedLogEntry = entriesToShow[itemIndex];\n\t\t\t\tindexOfSelectedLogEntry = itemIndex;\n\t\t\t\tCalculateSelectedLogEntryHeight( referenceItem );\n\n\t\t\t\tmanager.SnapToBottom = false;\n\t\t\t}\n\n\t\t\tCalculateContentHeight();\n\t\t\tUpdateItemsInTheList( true );\n\n\t\t\tmanager.ValidateScrollPosition();\n\t\t}\n\n\t\t// Deselect the currently selected log item\n\t\tpublic void DeselectSelectedLogItem()\n\t\t{\n\t\t\tselectedLogEntry = null;\n\t\t\tindexOfSelectedLogEntry = int.MaxValue;\n\t\t\theightOfSelectedLogEntry = 0f;\n\t\t}\n\n\t\t// Number of debug entries may have changed, update the list\n\t\tpublic void OnLogEntriesUpdated( bool updateAllVisibleItemContents )\n\t\t{\n\t\t\tCalculateContentHeight();\n\t\t\tUpdateItemsInTheList( updateAllVisibleItemContents );\n\t\t}\n\n\t\t// A single collapsed log entry at specified index is updated, refresh its item if visible\n\t\tpublic void OnCollapsedLogEntryAtIndexUpdated( int index )\n\t\t{\n\t\t\tif( index >= currentTopIndex && index <= currentBottomIndex )\n\t\t\t{\n\t\t\t\tDebugLogItem logItem = GetLogItemAtIndex( index );\n\t\t\t\tlogItem.ShowCount();\n\n\t\t\t\tif( timestampsOfEntriesToShow != null )\n\t\t\t\t\tlogItem.UpdateTimestamp( timestampsOfEntriesToShow[index] );\n\t\t\t}\n\t\t}\n\n\t\tpublic void RefreshCollapsedLogEntryCounts()\n\t\t{\n\t\t\tfor( int i = 0; i < visibleLogItems.Count; i++ )\n\t\t\t\tvisibleLogItems[i].ShowCount();\n\t\t}\n\n\t\tpublic void OnLogEntriesRemoved( int removedLogCount )\n\t\t{\n\t\t\tif( selectedLogEntry != null )\n\t\t\t{\n\t\t\t\tbool isSelectedLogEntryRemoved = isCollapseOn ? ( selectedLogEntry.count == 0 ) : ( indexOfSelectedLogEntry < removedLogCount );\n\t\t\t\tif( isSelectedLogEntryRemoved )\n\t\t\t\t\tDeselectSelectedLogItem();\n\t\t\t\telse\n\t\t\t\t\tindexOfSelectedLogEntry = isCollapseOn ? FindIndexOfLogEntryInReverseDirection( selectedLogEntry, indexOfSelectedLogEntry ) : ( indexOfSelectedLogEntry - removedLogCount );\n\t\t\t}\n\n\t\t\tif( !manager.IsLogWindowVisible && manager.SnapToBottom )\n\t\t\t{\n\t\t\t\t// When log window becomes visible, it refreshes all logs. So unless snap to bottom is disabled, we don't need to\n\t\t\t\t// keep track of either the scroll position or the visible log items' positions.\n\t\t\t\tvisibleLogItems.TrimStart( visibleLogItems.Count, poolLogItemAction );\n\t\t\t}\n\t\t\telse if( !isCollapseOn )\n\t\t\t\tvisibleLogItems.TrimStart( Mathf.Clamp( removedLogCount - currentTopIndex, 0, visibleLogItems.Count ), poolLogItemAction );\n\t\t\telse\n\t\t\t{\n\t\t\t\tvisibleLogItems.RemoveAll( shouldRemoveLogItemPredicate );\n\t\t\t\tif( visibleLogItems.Count > 0 )\n\t\t\t\t\tremovedLogCount = currentTopIndex - FindIndexOfLogEntryInReverseDirection( visibleLogItems[0].Entry, visibleLogItems[0].Index );\n\t\t\t}\n\n\t\t\tif( visibleLogItems.Count == 0 )\n\t\t\t{\n\t\t\t\tcurrentTopIndex = -1;\n\n\t\t\t\tif( !manager.SnapToBottom )\n\t\t\t\t\ttransformComponent.anchoredPosition = Vector2.zero;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcurrentTopIndex = Mathf.Max( 0, currentTopIndex - removedLogCount );\n\t\t\t\tcurrentBottomIndex = currentTopIndex + visibleLogItems.Count - 1;\n\n\t\t\t\tfloat firstVisibleLogItemInitialYPos = visibleLogItems[0].Transform.anchoredPosition.y;\n\t\t\t\tfor( int i = 0; i < visibleLogItems.Count; i++ )\n\t\t\t\t{\n\t\t\t\t\tDebugLogItem logItem = visibleLogItems[i];\n\t\t\t\t\tlogItem.Index = currentTopIndex + i;\n\n\t\t\t\t\t// If log window is visible, we need to manually refresh the visible items' visual properties. Otherwise, all log items will be refreshed when log window is opened\n\t\t\t\t\tif( manager.IsLogWindowVisible )\n\t\t\t\t\t{\n\t\t\t\t\t\tRepositionLogItem( logItem );\n\t\t\t\t\t\tColorLogItem( logItem );\n\n\t\t\t\t\t\t// Update collapsed count of the log items in collapsed mode\n\t\t\t\t\t\tif( isCollapseOn )\n\t\t\t\t\t\t\tlogItem.ShowCount();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Shift the ScrollRect\n\t\t\t\tif( !manager.SnapToBottom )\n\t\t\t\t\ttransformComponent.anchoredPosition = new Vector2( 0f, Mathf.Max( 0f, transformComponent.anchoredPosition.y - ( visibleLogItems[0].Transform.anchoredPosition.y - firstVisibleLogItemInitialYPos ) ) );\n\t\t\t}\n\t\t}\n\n\t\tprivate bool ShouldRemoveLogItem( DebugLogItem logItem )\n\t\t{\n\t\t\tif( logItem.Entry.count == 0 )\n\t\t\t{\n\t\t\t\tpoolLogItemAction( logItem );\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate int FindIndexOfLogEntryInReverseDirection( DebugLogEntry logEntry, int startIndex )\n\t\t{\n\t\t\tfor( int i = Mathf.Min( startIndex, entriesToShow.Count - 1 ); i >= 0; i-- )\n\t\t\t{\n\t\t\t\tif( entriesToShow[i] == logEntry )\n\t\t\t\t\treturn i;\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\t// Log window's width has changed, update the expanded (currently selected) log's height\n\t\tpublic void OnViewportWidthChanged()\n\t\t{\n\t\t\tif( indexOfSelectedLogEntry >= entriesToShow.Count )\n\t\t\t\treturn;\n\n\t\t\tCalculateSelectedLogEntryHeight();\n\t\t\tCalculateContentHeight();\n\t\t\tUpdateItemsInTheList( true );\n\n\t\t\tmanager.ValidateScrollPosition();\n\t\t}\n\n\t\t// Log window's height has changed, update the list\n\t\tpublic void OnViewportHeightChanged()\n\t\t{\n\t\t\tUpdateItemsInTheList( false );\n\t\t}\n\n\t\tprivate void CalculateContentHeight()\n\t\t{\n\t\t\tfloat newHeight = Mathf.Max( 1f, entriesToShow.Count * logItemHeight );\n\t\t\tif( selectedLogEntry != null )\n\t\t\t\tnewHeight += DeltaHeightOfSelectedLogEntry;\n\n\t\t\ttransformComponent.sizeDelta = new Vector2( 0f, newHeight );\n\t\t}\n\n\t\tprivate void CalculateSelectedLogEntryHeight( DebugLogItem referenceItem = null )\n\t\t{\n\t\t\tif( !referenceItem )\n\t\t\t{\n\t\t\t\tif( visibleLogItems.Count == 0 )\n\t\t\t\t{\n\t\t\t\t\tUpdateItemsInTheList( false ); // Try to generate some DebugLogItems, we need one DebugLogItem to calculate the text height\n\t\t\t\t\tif( visibleLogItems.Count == 0 ) // No DebugLogItems are generated, weird\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treferenceItem = visibleLogItems[0];\n\t\t\t}\n\n\t\t\theightOfSelectedLogEntry = referenceItem.CalculateExpandedHeight( selectedLogEntry, ( timestampsOfEntriesToShow != null ) ? timestampsOfEntriesToShow[indexOfSelectedLogEntry] : (DebugLogEntryTimestamp?) null );\n\t\t}\n\n\t\t// Calculate the indices of log entries to show\n\t\t// and handle log items accordingly\n\t\tprivate void UpdateItemsInTheList( bool updateAllVisibleItemContents )\n\t\t{\n\t\t\tif( entriesToShow.Count > 0 )\n\t\t\t{\n\t\t\t\tfloat contentPosTop = transformComponent.anchoredPosition.y - 1f;\n\t\t\t\tfloat contentPosBottom = contentPosTop + viewportTransform.rect.height + 2f;\n\t\t\t\tfloat positionOfSelectedLogEntry = indexOfSelectedLogEntry * logItemHeight;\n\n\t\t\t\tif( positionOfSelectedLogEntry <= contentPosBottom )\n\t\t\t\t{\n\t\t\t\t\tif( positionOfSelectedLogEntry <= contentPosTop )\n\t\t\t\t\t{\n\t\t\t\t\t\tcontentPosTop = Mathf.Max( contentPosTop - DeltaHeightOfSelectedLogEntry, positionOfSelectedLogEntry - 1f );\n\t\t\t\t\t\tcontentPosBottom = Mathf.Max( contentPosBottom - DeltaHeightOfSelectedLogEntry, contentPosTop + 2f );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tcontentPosBottom = Mathf.Max( contentPosBottom - DeltaHeightOfSelectedLogEntry, positionOfSelectedLogEntry + 1f );\n\t\t\t\t}\n\n\t\t\t\tint newBottomIndex = Mathf.Min( (int) ( contentPosBottom / logItemHeight ), entriesToShow.Count - 1 );\n\t\t\t\tint newTopIndex = Mathf.Clamp( (int) ( contentPosTop / logItemHeight ), 0, newBottomIndex );\n\n\t\t\t\tif( currentTopIndex == -1 )\n\t\t\t\t{\n\t\t\t\t\t// There are no log items visible on screen,\n\t\t\t\t\t// just create the new log items\n\t\t\t\t\tupdateAllVisibleItemContents = true;\n\t\t\t\t\tfor( int i = 0, count = newBottomIndex - newTopIndex + 1; i < count; i++ )\n\t\t\t\t\t\tvisibleLogItems.Add( manager.PopLogItem() );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// There are some log items visible on screen\n\n\t\t\t\t\tif( newBottomIndex < currentTopIndex || newTopIndex > currentBottomIndex )\n\t\t\t\t\t{\n\t\t\t\t\t\t// If user scrolled a lot such that, none of the log items are now within\n\t\t\t\t\t\t// the bounds of the scroll view, pool all the previous log items and create\n\t\t\t\t\t\t// new log items for the new list of visible debug entries\n\t\t\t\t\t\tupdateAllVisibleItemContents = true;\n\n\t\t\t\t\t\tvisibleLogItems.TrimStart( visibleLogItems.Count, poolLogItemAction );\n\t\t\t\t\t\tfor( int i = 0, count = newBottomIndex - newTopIndex + 1; i < count; i++ )\n\t\t\t\t\t\t\tvisibleLogItems.Add( manager.PopLogItem() );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t// User did not scroll a lot such that, there are still some log items within\n\t\t\t\t\t\t// the bounds of the scroll view. Don't destroy them but update their content,\n\t\t\t\t\t\t// if necessary\n\t\t\t\t\t\tif( newTopIndex > currentTopIndex )\n\t\t\t\t\t\t\tvisibleLogItems.TrimStart( newTopIndex - currentTopIndex, poolLogItemAction );\n\n\t\t\t\t\t\tif( newBottomIndex < currentBottomIndex )\n\t\t\t\t\t\t\tvisibleLogItems.TrimEnd( currentBottomIndex - newBottomIndex, poolLogItemAction );\n\n\t\t\t\t\t\tif( newTopIndex < currentTopIndex )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor( int i = 0, count = currentTopIndex - newTopIndex; i < count; i++ )\n\t\t\t\t\t\t\t\tvisibleLogItems.AddFirst( manager.PopLogItem() );\n\n\t\t\t\t\t\t\t// If it is not necessary to update all the log items,\n\t\t\t\t\t\t\t// then just update the newly created log items. Otherwise,\n\t\t\t\t\t\t\t// wait for the major update\n\t\t\t\t\t\t\tif( !updateAllVisibleItemContents )\n\t\t\t\t\t\t\t\tUpdateLogItemContentsBetweenIndices( newTopIndex, currentTopIndex - 1, newTopIndex );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( newBottomIndex > currentBottomIndex )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor( int i = 0, count = newBottomIndex - currentBottomIndex; i < count; i++ )\n\t\t\t\t\t\t\t\tvisibleLogItems.Add( manager.PopLogItem() );\n\n\t\t\t\t\t\t\t// If it is not necessary to update all the log items,\n\t\t\t\t\t\t\t// then just update the newly created log items. Otherwise,\n\t\t\t\t\t\t\t// wait for the major update\n\t\t\t\t\t\t\tif( !updateAllVisibleItemContents )\n\t\t\t\t\t\t\t\tUpdateLogItemContentsBetweenIndices( currentBottomIndex + 1, newBottomIndex, newTopIndex );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcurrentTopIndex = newTopIndex;\n\t\t\t\tcurrentBottomIndex = newBottomIndex;\n\n\t\t\t\tif( updateAllVisibleItemContents )\n\t\t\t\t{\n\t\t\t\t\t// Update all the log items\n\t\t\t\t\tUpdateLogItemContentsBetweenIndices( currentTopIndex, currentBottomIndex, newTopIndex );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if( currentTopIndex != -1 )\n\t\t\t{\n\t\t\t\t// There is nothing to show but some log items are still visible; pool them\n\t\t\t\tvisibleLogItems.TrimStart( visibleLogItems.Count, poolLogItemAction );\n\t\t\t\tcurrentTopIndex = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate DebugLogItem GetLogItemAtIndex( int index )\n\t\t{\n\t\t\treturn visibleLogItems[index - currentTopIndex];\n\t\t}\n\n\t\tprivate void UpdateLogItemContentsBetweenIndices( int topIndex, int bottomIndex, int logItemOffset )\n\t\t{\n\t\t\tfor( int i = topIndex; i <= bottomIndex; i++ )\n\t\t\t{\n\t\t\t\tDebugLogItem logItem = visibleLogItems[i - logItemOffset];\n\t\t\t\tlogItem.SetContent( entriesToShow[i], ( timestampsOfEntriesToShow != null ) ? timestampsOfEntriesToShow[i] : (DebugLogEntryTimestamp?) null, i, i == indexOfSelectedLogEntry );\n\n\t\t\t\tRepositionLogItem( logItem );\n\t\t\t\tColorLogItem( logItem );\n\n\t\t\t\tif( isCollapseOn )\n\t\t\t\t\tlogItem.ShowCount();\n\t\t\t\telse\n\t\t\t\t\tlogItem.HideCount();\n\t\t\t}\n\t\t}\n\n\t\tprivate void RepositionLogItem( DebugLogItem logItem )\n\t\t{\n\t\t\tint index = logItem.Index;\n\t\t\tVector2 anchoredPosition = new Vector2( 1f, -index * logItemHeight );\n\t\t\tif( index > indexOfSelectedLogEntry )\n\t\t\t\tanchoredPosition.y -= DeltaHeightOfSelectedLogEntry;\n\n\t\t\tlogItem.Transform.anchoredPosition = anchoredPosition;\n\t\t}\n\n\t\tprivate void ColorLogItem( DebugLogItem logItem )\n\t\t{\n\t\t\tint index = logItem.Index;\n\t\t\tif( index == indexOfSelectedLogEntry )\n\t\t\t\tlogItem.Image.color = logItemSelectedColor;\n\t\t\telse if( index % 2 == 0 )\n\t\t\t\tlogItem.Image.color = logItemNormalColor1;\n\t\t\telse\n\t\t\t\tlogItem.Image.color = logItemNormalColor2;\n\t\t}\n\t}\n}","size_bytes":14997},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugLogResizeListener.cs":{"content":"ï»¿using UnityEngine;\nusing UnityEngine.EventSystems;\n\n// Listens to drag event on the DebugLogManager's resize button\nnamespace IngameDebugConsole\n{\n\tpublic class DebugLogResizeListener : MonoBehaviour, IBeginDragHandler, IDragHandler\n\t{\n#pragma warning disable 0649\n\t\t[SerializeField]\n\t\tprivate DebugLogManager debugManager;\n#pragma warning restore 0649\n\n\t\t// This interface must be implemented in order to receive drag events\n\t\tvoid IBeginDragHandler.OnBeginDrag( PointerEventData eventData )\n\t\t{\n\t\t}\n\n\t\tvoid IDragHandler.OnDrag( PointerEventData eventData )\n\t\t{\n\t\t\tdebugManager.Resize( eventData );\n\t\t}\n\t}\n}","size_bytes":611},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/DebugsOnScrollListener.cs":{"content":"ï»¿using UnityEngine;\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\n\n// Listens to scroll events on the scroll rect that debug items are stored\n// and decides whether snap to bottom should be true or not\n// \n// Procedure: if, after a user input (drag or scroll), scrollbar is at the bottom, then \n// snap to bottom shall be true, otherwise it shall be false\nnamespace IngameDebugConsole\n{\n\tpublic class DebugsOnScrollListener : MonoBehaviour, IScrollHandler, IBeginDragHandler, IEndDragHandler\n\t{\n\t\tpublic ScrollRect debugsScrollRect;\n\t\tpublic DebugLogManager debugLogManager;\n\n\t\tpublic void OnScroll( PointerEventData data )\n\t\t{\n\t\t\tdebugLogManager.SnapToBottom = IsScrollbarAtBottom();\n\t\t}\n\n\t\tpublic void OnBeginDrag( PointerEventData data )\n\t\t{\n\t\t\tdebugLogManager.SnapToBottom = false;\n\t\t}\n\n\t\tpublic void OnEndDrag( PointerEventData data )\n\t\t{\n\t\t\tdebugLogManager.SnapToBottom = IsScrollbarAtBottom();\n\t\t}\n\n\t\tpublic void OnScrollbarDragStart( BaseEventData data )\n\t\t{\n\t\t\tdebugLogManager.SnapToBottom = false;\n\t\t}\n\n\t\tpublic void OnScrollbarDragEnd( BaseEventData data )\n\t\t{\n\t\t\tdebugLogManager.SnapToBottom = IsScrollbarAtBottom();\n\t\t}\n\n\t\tprivate bool IsScrollbarAtBottom()\n\t\t{\n\t\t\treturn debugsScrollRect.verticalNormalizedPosition <= 1E-6f;\n\t\t}\n\t}\n}","size_bytes":1257},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/EventSystemHandler.cs":{"content":"ï»¿using UnityEngine;\nusing UnityEngine.EventSystems;\nusing UnityEngine.SceneManagement;\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\nusing UnityEngine.InputSystem.UI;\n#endif\n\nnamespace IngameDebugConsole\n{\n\t// Avoid multiple EventSystems in the scene by activating the embedded EventSystem only if one doesn't already exist in the scene\n\t[DefaultExecutionOrder( 1000 )]\n\tpublic class EventSystemHandler : MonoBehaviour\n\t{\n#pragma warning disable 0649\n\t\t[SerializeField]\n\t\tprivate GameObject embeddedEventSystem;\n#pragma warning restore 0649\n\n#if ENABLE_INPUT_SYSTEM && !ENABLE_LEGACY_INPUT_MANAGER\n\t\tprivate void Awake()\n\t\t{\n\t\t\tStandaloneInputModule legacyInputModule = embeddedEventSystem.GetComponent<StandaloneInputModule>();\n\t\t\tif( legacyInputModule )\n\t\t\t{\n\t\t\t\tDestroyImmediate( legacyInputModule );\n\t\t\t\tembeddedEventSystem.AddComponent<InputSystemUIInputModule>();\n\t\t\t}\n\t\t}\n#endif\n\n\t\tprivate void OnEnable()\n\t\t{\n\t\t\tSceneManager.sceneLoaded -= OnSceneLoaded;\n\t\t\tSceneManager.sceneLoaded += OnSceneLoaded;\n\t\t\tSceneManager.sceneUnloaded -= OnSceneUnloaded;\n\t\t\tSceneManager.sceneUnloaded += OnSceneUnloaded;\n\n\t\t\tActivateEventSystemIfNeeded();\n\t\t}\n\n\t\tprivate void OnDisable()\n\t\t{\n\t\t\tSceneManager.sceneLoaded -= OnSceneLoaded;\n\t\t\tSceneManager.sceneUnloaded -= OnSceneUnloaded;\n\n\t\t\tDeactivateEventSystem();\n\t\t}\n\n\t\tprivate void OnSceneLoaded( Scene scene, LoadSceneMode mode )\n\t\t{\n#if UNITY_2017_2_OR_NEWER\n\t\t\tDeactivateEventSystem();\n#endif\n\t\t\tActivateEventSystemIfNeeded();\n\t\t}\n\n\t\tprivate void OnSceneUnloaded( Scene current )\n\t\t{\n\t\t\t// Deactivate the embedded EventSystem before changing scenes because the new scene might have its own EventSystem\n\t\t\tDeactivateEventSystem();\n\t\t}\n\n\t\tprivate void ActivateEventSystemIfNeeded()\n\t\t{\n\t\t\tif( embeddedEventSystem && !EventSystem.current )\n\t\t\t\tembeddedEventSystem.SetActive( true );\n\t\t}\n\n\t\tprivate void DeactivateEventSystem()\n\t\t{\n\t\t\tif( embeddedEventSystem )\n\t\t\t\tembeddedEventSystem.SetActive( false );\n\t\t}\n\t}\n}","size_bytes":1967},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/InputFieldWarningsFixer.cs":{"content":"ï»¿using System.Reflection;\nusing UnityEngine;\nusing UnityEngine.UI;\n\nnamespace IngameDebugConsole\n{\n\t// Fixes: https://github.com/yasirkula/UnityIngameDebugConsole/issues/77\n\t// This was caused by Canvas.ForceUpdateCanvases in InputField.UpdateLabel (added in 2022.1 to resolve another bug: https://issuetracker.unity3d.com/issues/input-fields-width-doesnt-change-after-entering-specific-combinations-of-text-when-the-content-size-fitter-is-used)\n\t// which is triggered from InputField.OnValidate. UpdateLabel isn't invoked if a variable called m_PreventFontCallback is true,\n\t// which is what this component is doing: temporarily switching that variable before InputField.OnValidate to avoid this issue.\n#if UNITY_2022_1_OR_NEWER && UNITY_EDITOR\n\t[DefaultExecutionOrder( -50 )]\n#endif\n\tpublic class InputFieldWarningsFixer : MonoBehaviour\n\t{\n#if UNITY_2022_1_OR_NEWER && UNITY_EDITOR\n\t\tprivate static readonly FieldInfo preventFontCallback = typeof( InputField ).GetField( \"m_PreventFontCallback\", BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance );\n\n\t\tprotected void OnValidate()\n\t\t{\n\t\t\tif( preventFontCallback != null && TryGetComponent( out InputField inputField ) )\n\t\t\t{\n\t\t\t\tpreventFontCallback.SetValue( inputField, true );\n\t\t\t\tUnityEditor.EditorApplication.delayCall += () => preventFontCallback.SetValue( inputField, false );\n\t\t\t}\n\t\t}\n#endif\n\t}\n}","size_bytes":1375},"CapybaraGame/Assets/Plugins/com.mitay-walle.ui-circle-segmented-1.1.0/Runtime/UICircleSegmented.cs":{"content":"using System;\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace mitaywalle.UICircleSegmentedNamespace\r\n{\r\n\tpublic enum eFillPattern\r\n\t{\r\n\t\tDefault,\r\n\t\tHandle,\r\n\t\tHandleInverted,\r\n\t}\r\n\t\r\n\tpublic enum eFillDeep\r\n\t{\r\n\t\tFloating,\r\n\t\tPerVertex,\r\n\t\tPerSegment,\r\n\t}\r\n\r\n\t[RequireComponent(typeof(CanvasRenderer))]\r\n\tpublic class UICircleSegmented : MaskableGraphic\r\n\t{\r\n        #region Vars\r\n\t\tprivate static Vector2[] _positionsTemp = new Vector2[4];\r\n\t\tprivate static Vector2[] _uvTemp = new Vector2[4];\r\n\r\n\t\tprivate static Vector2[] _defaultUV = new Vector2[4]\r\n\t\t{\r\n\t\t\tnew Vector2(0, 1),\r\n\t\t\tnew Vector2(1, 1),\r\n\t\t\tnew Vector2(1, 0),\r\n\t\t\tnew Vector2(0, 0),\r\n\t\t};\r\n\r\n\t\tpublic Sprite overrideSprite;\r\n\t\t[SerializeField] private float m_thickness = 5;\r\n\t\t[Range(0, 1), SerializeField] private float m_FillAmount = 1;\r\n\t\t[SerializeField] private bool m_invertFill;\r\n\t\t[SerializeField] private eFillPattern m_fillPattern;\r\n\t\t[SerializeField] private eFillDeep m_fillDeep;\r\n\t\t[SerializeField, Range(-360, 360)] private float m_GlobalDegreeOffset;\r\n\t\t[SerializeField, Range(1, 360)] private float m_MaxDegree = 360;\r\n\t\t[Range(1, 360), SerializeField] private int m_SegmentsCount = 360;\r\n\t\t[Range(1, 360), SerializeField] private int m_SegmentsPerSpriteCount = 1;\r\n\t\t[SerializeField, Range(-10, 10)] private float m_segmentDegreeOffset;\r\n\t\t[SerializeField, Range(0,5)] private float m_border;\r\n\t\t[SerializeField] private UnityEngine.Gradient m_Gradient = CreateDefaultValidGradient();\r\n\t\t[SerializeField] private UnityEngine.Gradient m_Diagonal_Gradient = CreateDefaultValidGradient();\r\n\t\t[SerializeField, Range(-360, 360)] private float m_GradientDegreeOffset;\r\n\r\n\t\tprotected UIVertexPool _vertexPool = new UIVertexPool(100);\r\n\t\tprivate float lastSegmentT;\r\n\t\tprivate float lastSubSegmentT;\r\n\t\tprivate int visibleSegmentsCount;\r\n\t\tpublic float fillAmount\r\n\t\t{\r\n\t\t\tget => m_FillAmount;\r\n\t\t\tset\r\n\t\t\t{\r\n\t\t\t\tm_FillAmount = value;\r\n\t\t\t\tSetAllDirty();\r\n\t\t\t}\r\n\t\t}\r\n        #endregion\r\n\r\n        #region overrides\r\n\t\t/// <summary>\r\n\t\t/// Image's texture comes from the UnityEngine.Image.\r\n\t\t/// </summary>\r\n\t\tpublic override Texture mainTexture\r\n\t\t{\r\n\t\t\tget\r\n\t\t\t{\r\n\t\t\t\tif (overrideSprite == null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (material != null && material.mainTexture != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn material.mainTexture;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn s_WhiteTexture;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn overrideSprite.texture;\r\n\t\t\t}\r\n\t\t}\r\n        #endregion\r\n\r\n\t\tprotected override void OnPopulateMesh(VertexHelper vh)\r\n\t\t{\r\n            #region Prepare values\r\n\t\t\tfloat width = rectTransform.rect.width;\r\n\t\t\tVector2 pivot = rectTransform.pivot;\r\n\t\t\tfloat outer = -pivot.x * width;\r\n\t\t\tfloat inner = -pivot.x * width + m_thickness;\r\n\r\n\t\t\tvh.Clear();\r\n\r\n\t\t\tfloat fill = m_FillAmount;\r\n\r\n\t\t\tfloat degreesPerSegment = m_MaxDegree / m_SegmentsCount;\r\n\t\t\tfloat degreeOffset = m_GlobalDegreeOffset;\r\n\t\t\tif (m_invertFill)\r\n\t\t\t{\r\n\t\t\t\tdegreesPerSegment *= -1;\r\n\t\t\t\tdegreeOffset *= -1;\r\n\t\t\t\tdegreeOffset -= m_MaxDegree;\r\n\t\t\t}\r\n\r\n\t\t\tbool hasPreviousSegments;\r\n\t\t\tbool hasNextSegments;\r\n\t\t\tbool hasHandleSegment;\r\n\t\t\tfloat visibleFill;\r\n\r\n\t\t\tswitch (m_fillPattern)\r\n\t\t\t{\r\n\r\n\t\t\t\tcase eFillPattern.Default:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasPreviousSegments = true;\r\n\t\t\t\t\t\thasNextSegments = false;\r\n\t\t\t\t\t\thasHandleSegment = true;\r\n\t\t\t\t\t\tvisibleFill = fill;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tcase eFillPattern.Handle:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasPreviousSegments = false;\r\n\t\t\t\t\t\thasNextSegments = false;\r\n\t\t\t\t\t\thasHandleSegment = true;\r\n\t\t\t\t\t\tvisibleFill = fill;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tcase eFillPattern.HandleInverted:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasPreviousSegments = true;\r\n\t\t\t\t\t\thasNextSegments = true;\r\n\t\t\t\t\t\thasHandleSegment = false;\r\n\t\t\t\t\t\tvisibleFill = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new ArgumentOutOfRangeException();\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvisibleSegmentsCount = Mathf.CeilToInt(m_SegmentsCount * visibleFill);\r\n\r\n\t\t\t_uvTemp[0] = _defaultUV[0];\r\n\t\t\t_uvTemp[1] = _defaultUV[1];\r\n\t\t\t_uvTemp[2] = _defaultUV[2];\r\n\t\t\t_uvTemp[3] = _defaultUV[3];\r\n\r\n\t\t\tint lastSegmentIndex = Mathf.FloorToInt(m_SegmentsCount * fill);\r\n\t\t\tlastSegmentT = fill * m_SegmentsCount;\r\n\t\t\tif (lastSegmentT % 1 != 0)\r\n\t\t\t{\r\n\t\t\t\tlastSegmentT -= Mathf.FloorToInt(lastSegmentT);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlastSegmentT = 1;\r\n\t\t\t}\r\n\r\n\t\t\tbool isFillFloating = m_fillDeep == eFillDeep.Floating;\r\n\t\t\tbool isFillPerVertex = m_fillDeep == eFillDeep.PerVertex || m_fillDeep == eFillDeep.Floating;\r\n\t\t\t\r\n            #endregion\r\n\r\n\t\t\tfor (int i = 0; i < visibleSegmentsCount; i++)\r\n\t\t\t{\r\n\t\t\t\tbool isLast = i == lastSegmentIndex;\r\n\t\t\t\tbool isOneStepSegment = m_SegmentsPerSpriteCount == 1;\r\n\t\t\t\tfloat segmentFill = 1;\r\n\t\t\t\tfloat currentDegrees = i * degreesPerSegment + degreeOffset - m_segmentDegreeOffset / 2;\r\n\t\t\t\tfloat nextDegrees = (i + 1) * degreesPerSegment + degreeOffset + m_segmentDegreeOffset / 2;\r\n\r\n\t\t\t\tif (isFillFloating && isLast)\r\n\t\t\t\t{\r\n\t\t\t\t\tsegmentFill = lastSegmentT;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!hasPreviousSegments && i < lastSegmentIndex) continue;\r\n\t\t\t\tif (!hasNextSegments && i > lastSegmentIndex) continue;\r\n\t\t\t\tif (!hasHandleSegment && isLast) continue;\r\n\t\t\t\t\r\n\t\t\t\tif (isOneStepSegment)\r\n\t\t\t\t{\r\n\t\t\t\t\tDrawSegment(currentDegrees, nextDegrees, outer, inner, vh, 0, 1, m_border>0,segmentFill);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tint subSegmentCount = !isLast || !isFillPerVertex ? m_SegmentsPerSpriteCount : Mathf.CeilToInt(m_SegmentsPerSpriteCount * lastSegmentT);\r\n\r\n\t\t\t\t\tfloat degreesStart = currentDegrees;\r\n\t\t\t\t\tfloat degreesDelta = (nextDegrees - currentDegrees) / m_SegmentsPerSpriteCount;\r\n\t\t\t\t\tfloat degreesEnd = currentDegrees + degreesDelta;\r\n\r\n\t\t\t\t\tlastSubSegmentT = m_SegmentsPerSpriteCount * lastSegmentT;\r\n\t\t\t\t\tlastSubSegmentT = lastSegmentT * m_SegmentsPerSpriteCount;\r\n\t\t\t\t\tif (lastSubSegmentT % 1 != 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlastSubSegmentT -= Mathf.FloorToInt(lastSubSegmentT);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlastSubSegmentT = 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (int j = 0; j < subSegmentCount; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfloat subSegmentT = 1;\r\n\r\n\t\t\t\t\t\tbool isLastSubSegment = isLast && j == subSegmentCount - 1;\r\n\t\t\t\t\t\tif (isFillFloating && isLastSubSegment)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsubSegmentT = lastSubSegmentT;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfloat uvStart = (float)j / m_SegmentsPerSpriteCount;\r\n\t\t\t\t\t\tfloat uvEnd = (float)(j + 1) / m_SegmentsPerSpriteCount;\r\n\t\t\t\t\t\tDrawSegment(degreesStart, degreesEnd, outer, inner, vh, uvStart, uvEnd, m_border>0, subSegmentT);\r\n\t\t\t\t\t\tdegreesStart += degreesDelta;\r\n\t\t\t\t\t\tdegreesEnd += degreesDelta;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n        #region Helpers\r\n\t\tprotected Color GetColor(float degrees, bool isDrawingOuter = false)\r\n\t\t{\r\n\t\t\tfloat degreeOffset = m_GlobalDegreeOffset;\r\n\t\t\tif (m_invertFill) degreeOffset *= -1;\r\n\r\n\t\t\tfloat t = (degrees + m_GradientDegreeOffset + 360 - m_GlobalDegreeOffset) % 360 / m_MaxDegree;\r\n\t\t\tfloat t2;\r\n\t\t\tif (isDrawingOuter)\r\n\t\t\t\t//t2 = (degrees) / m_MaxDegree;\r\n\t\t\t\tt2 = 1 - t;\r\n\t\t\telse\r\n\t\t\t\tt2 = t;\r\n\t\t\treturn m_Gradient.Evaluate(t) * m_Diagonal_Gradient.Evaluate(t2) * color;\r\n\t\t}\r\n\r\n\t\tprotected void DrawSegment(float degreesStart, float degreesEnd, float outer, float inner, VertexHelper vh, float uvStart, float uvEnd,bool wireframe, float t = 1)\r\n\t\t{\r\n\t\t\tif (!wireframe)\r\n\t\t\t{\r\n\t\t\t\tDrawSegment(degreesStart, degreesEnd, outer, inner, vh, uvStart, uvEnd, t);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (uvStart == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tDrawSegment(degreesStart, degreesStart+m_border, outer+m_border, inner-m_border, vh, 0, 1, t);\r\n\t\t\t\t}\r\n\t\t\t\tif (uvEnd == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tDrawSegment(degreesEnd-m_border, degreesEnd, outer+m_border, inner-m_border, vh, 0, 1, t);\r\n\t\t\t\t}\r\n\t\t\t\tDrawSegment(degreesStart, degreesEnd, outer, outer+m_border, vh, uvStart, uvEnd, t);\r\n\t\t\t\tDrawSegment(degreesStart, degreesEnd, inner-m_border, inner, vh, uvStart, uvEnd, t);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprotected void DrawSegment(float degreesStart, float degreesEnd, float outer, float inner, VertexHelper vh, float uvStart, float uvEnd, float t = 1)\r\n\t\t{\r\n\t\t\t_positionsTemp[0] = DataToPosition(outer, degreesStart);\r\n\t\t\t_positionsTemp[1] = DataToPosition(inner, degreesStart);\r\n\t\t\t_positionsTemp[2] = DataToPosition(inner, _positionsTemp[1], degreesEnd, t);\r\n\t\t\t_positionsTemp[3] = DataToPosition(outer, _positionsTemp[0], degreesEnd, t);\r\n\t\t\tuvEnd = Mathf.Lerp(uvStart, uvEnd, t);\r\n\r\n\t\t\t_uvTemp[2] = new Vector2(uvEnd, 0);\r\n\t\t\t_uvTemp[3] = new Vector2(uvEnd, 1);\r\n\t\t\t_uvTemp[0] = new Vector2(uvStart, 1);\r\n\t\t\t_uvTemp[1] = new Vector2(uvStart, 0);\r\n\r\n\t\t\tvh.AddUIVertexQuad(CreateQuad(_positionsTemp, _uvTemp, GetColor(degreesStart), GetColor(degreesEnd), GetColor(degreesStart, true), GetColor(degreesEnd, true)));\r\n\t\t}\r\n\r\n\t\tprotected UIVertex[] CreateQuad(Vector2[] vertices, Vector2[] uvs, Color leftInnerColor, Color rightInnerColor, Color leftOuterColor, Color rightOuterColor)\r\n\t\t{\r\n\t\t\tUIVertex[] vbo = _vertexPool.Get();\r\n\t\t\tfor (int i = 0; i < vertices.Length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar vert = UIVertex.simpleVert;\r\n\t\t\t\tvert.position = vertices[i];\r\n\t\t\t\tvert.uv0 = uvs[i];\r\n\t\t\t\tvert.normal = Vector3.forward;\r\n\t\t\t\tvbo[i] = vert;\r\n\t\t\t}\r\n\r\n\t\t\tvbo[0].color = leftInnerColor;\r\n\t\t\tvbo[1].color = leftOuterColor;\r\n\t\t\tvbo[2].color = rightOuterColor;\r\n\t\t\tvbo[3].color = rightInnerColor;\r\n\r\n\t\t\treturn vbo;\r\n\t\t}\r\n\r\n\t\tprivate Vector2 DataToPosition(float radius, float degrees)\r\n\t\t{\r\n\t\t\tfloat rad = Mathf.Deg2Rad * (degrees + 180);\r\n\t\t\tfloat cos = Mathf.Cos(rad);\r\n\t\t\tfloat sin = Mathf.Sin(rad);\r\n\t\t\treturn new Vector2(radius * cos, radius * sin);\r\n\t\t}\r\n\r\n\t\tprivate Vector2 DataToPosition(float radius, Vector3 start, float degreesEnd, float t)\r\n\t\t{\r\n\t\t\tfloat rad = Mathf.Deg2Rad * (degreesEnd + 180);\r\n\t\t\tfloat cos = Mathf.Cos(rad);\r\n\t\t\tfloat sin = Mathf.Sin(rad);\r\n\t\t\treturn Vector2.Lerp(start, new Vector2(radius * cos, radius * sin), t);\r\n\t\t}\r\n\r\n\t\tprivate static UnityEngine.Gradient CreateDefaultValidGradient()\r\n\t\t{\r\n\t\t\treturn new UnityEngine.Gradient\r\n\t\t\t{\r\n\t\t\t\talphaKeys = new[] { new GradientAlphaKey(1, 1) },\r\n\t\t\t\tcolorKeys = new[] { new GradientColorKey(new Color(1, 1, 1, 1), 1) }\r\n\t\t\t};\r\n\t\t}\r\n        #endregion\r\n\t}\r\n}","size_bytes":9914},"CapybaraGame/Assets/Plugins/com.mitay-walle.ui-circle-segmented-1.1.0/Runtime/UICircleSegmentedCurve.cs":{"content":"using UnityEditor;\r\nusing UnityEngine;\r\n\r\nnamespace mitaywalle.UICircleSegmentedNamespace\r\n{\r\n\tpublic class UICircleSegmentedCurve : MonoBehaviour\r\n\t{\r\n\t\t[SerializeField] AnimationCurve _curve;\r\n\t\t[SerializeField] UICircleSegmented _circle;\r\n\t\tvoid Update()\r\n\t\t{\r\n\t\t\tif (_curve.length > 0 && _circle)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t_circle.fillAmount = _curve.Evaluate(Time.realtimeSinceStartup+10000);\r\n\t\t\t\tSetDirty();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvoid SetDirty()\r\n\t\t{\r\n#if UNITY_EDITOR\r\n\t\t\tif (!Application.isPlaying)\r\n\t\t\t{\r\n\t\t\t\tEditorUtility.SetDirty(_circle);\r\n\t\t\t}\r\n#endif\r\n\t\t}\r\n\t}\r\n}","size_bytes":562},"CapybaraGame/Assets/Plugins/com.mitay-walle.ui-circle-segmented-1.1.0/Runtime/UIVertexPool.cs":{"content":"using System.Collections.Generic;\r\nusing UnityEngine;\r\n\r\nnamespace mitaywalle.UICircleSegmentedNamespace\r\n{\r\n    public class UIVertexPool\r\n\t{\r\n        private Stack<UIVertex[]> _pool;\r\n\r\n        public UIVertexPool(int size)\r\n\t\t{\r\n            _pool = new Stack<UIVertex[]>(size);\r\n\r\n\t\t\tfor (int i = 0; i < size; i++)\r\n\t\t\t{\r\n\t\t\t\t_pool.Push(new UIVertex[4]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic UIVertex[] Get()\r\n\t\t{\r\n\t\t\tif (_pool.Count > 0)\r\n\t\t\t{\r\n\t\t\t\treturn _pool.Pop();\r\n\t\t\t}\r\n\t\t\treturn new UIVertex[4];\r\n\t\t}\r\n\r\n\t\tpublic void Release(UIVertex[] vrtx)\r\n\t\t{\r\n\t\t\tif (vrtx != null)\r\n\t\t\t{\r\n\t\t\t\t_pool.Push(vrtx);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic void Clear()\r\n\t\t{\r\n\t\t\t_pool.Clear();\r\n\t\t}\r\n\t}\r\n}\r\n","size_bytes":667},"CapybaraGame/Assets/Scripts/Audio/Interfaces/IAudioHandler.cs":{"content":"namespace Core.Audio\n{\n    public interface IAudioHandler\n    {\n        public void StartMusic(AudioName name);\n        public void PlaySound(AudioName name, bool isUI = false);\n        public void SetMasterVolume(float volume);\n        public void SetMusicVolume(float volume);\n        public void SetSoundsVolume(float volume);\n    }\n}\n","size_bytes":338},"CapybaraGame/Assets/Scripts/Installers/References/DIContainerRef.cs":{"content":"using UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Other\n{\n    // Of course not the best solution, but works for this project size\n    // and makes initialization a little bit more neat.\n    public class DIContainerRef : MonoBehaviour\n    {\n        private static DiContainer container;\n\n        public static DiContainer Container\n        {\n            get => container;\n            set => container ??= value;\n        }\n\n        private void OnDestroy()\n        {\n            container = null;\n        }\n    }\n}\n","size_bytes":524},"CapybaraGame/Assets/Scripts/Level/Background/Background.cs":{"content":"using UnityEngine;\n\nnamespace Core.Level\n{\n    public class Background : MonoBehaviour\n    {\n        [SerializeField, Tooltip(\"Sky\")] private SpriteRenderer[] _layer0;\n        [SerializeField, Tooltip(\"Sky Pattern\")] private SpriteRenderer[] _layer1;\n        [SerializeField, Tooltip(\"Middle, main decor\")] private SpriteRenderer[] _layer2;\n        [SerializeField, Tooltip(\"Middle-Fore Pattern\")] private SpriteRenderer[] _layer3;\n        [SerializeField] private SpriteRenderer[] _undercover;\n\n        public void ApplyPreset(BackgroundPreset preset)\n        {\n            foreach (SpriteRenderer renderer in _layer0)\n                renderer.sprite = preset.Layer0;\n                \n            foreach (SpriteRenderer renderer in _layer1)\n                renderer.sprite = preset.Layer1;\n\n            foreach (SpriteRenderer renderer in _layer2)\n                renderer.sprite = preset.Layer2;\n\n            foreach (SpriteRenderer renderer in _layer3)\n                renderer.sprite = preset.Layer3;\n\n            foreach (SpriteRenderer renderer in _undercover)\n                renderer.color = preset.UndercoverColor;\n        }\n    }\n}","size_bytes":1142},"CapybaraGame/Assets/Scripts/Level/Background/BackgroundHandler.cs":{"content":"using System;\nusing UnityEngine;\nusing Object = UnityEngine.Object;\n\nnamespace Core.Level\n{\n    public class BackgroundHandler : IDisposable\n    {\n        private readonly Camera _camera;\n        private readonly Transform _root;\n        private readonly Background _backgroundPrefab;\n        private Background _backgroundInstance;\n\n        public BackgroundHandler(Background backgroundPrefab)\n        {\n            _camera = Camera.main;\n            _root = _camera.transform;\n            _backgroundPrefab = backgroundPrefab;\n        }\n\n        public void Dispose()\n        {\n            if (_backgroundInstance != null)\n                Object.Destroy(_backgroundInstance.gameObject);\n        }\n\n        public void CreateBackground(Vector2 startPosition, BackgroundPreset preset)\n        {\n            _backgroundInstance = Object.Instantiate(_backgroundPrefab);\n            \n            _backgroundInstance.transform.SetParent(_root);\n            \n            Vector3 position3 = startPosition;\n            position3.z = _backgroundInstance.transform.position.z;\n            _backgroundInstance.transform.localPosition = position3;\n            \n            _backgroundInstance.ApplyPreset(preset);\n\n            _camera.backgroundColor = preset.UndercoverColor;\n        }\n    }\n}\n","size_bytes":1286},"CapybaraGame/Assets/Scripts/Level/Background/BackgroundPreset.cs":{"content":"using UnityEngine;\n\nnamespace Core.Level\n{\n    [CreateAssetMenu(fileName = \"New Background Preset\", menuName = \"Presets/Background\")]\n    public class BackgroundPreset : ScriptableObject\n    {\n        [Header(\"Sky\")]\n        [SerializeField] private Sprite _layer0;\n\n        [Header(\"Sky Pattern\")]\n        [SerializeField] private Sprite _layer1;\n\n        [Header(\"Middle, main decor\")]\n        [SerializeField] private Sprite _layer2;\n\n        [Header(\"Middle-Fore Pattern\")]\n        [SerializeField] private Sprite _layer3;\n\n        [Header(\"Undercover\")]\n        [SerializeField] private Color _undercoverColor = Color.white;\n\n        public Sprite Layer0 => _layer0;\n        public Sprite Layer1 => _layer1;\n        public Sprite Layer2 => _layer2;\n        public Sprite Layer3 => _layer3;\n        public Color UndercoverColor => _undercoverColor;\n    }\n}","size_bytes":860},"CapybaraGame/Assets/Scripts/Level/Background/Parallax.cs":{"content":"using UnityEngine;\n\nnamespace Core.Level\n{\n    public class Parallax : MonoBehaviour\n    {\n        [Header(\"Components\")]\n        [SerializeField] private SpriteRenderer _spriteRenderer;\n\n        [Header(\"Settings\")]\n        [SerializeField] private bool _applyX = true;\n        [SerializeField, Range(0f, 1f)] private float _effectX;\n\n        [Space]\n        [SerializeField] private bool _applyY = false;\n        [SerializeField, Range(0f, 1f)] private float _effectY;\n        \n        private float _length;\n        private Transform _camera;\n        private Transform _thisTransform;\n        private Vector2 _startPosition;\n        private float _temp;\n\n        #region MonoBehaviour\n\n        private void Awake()\n        {\n            _thisTransform = transform;\n            _camera = Camera.main.transform;\n            _startPosition = _thisTransform.position;\n            _length = _spriteRenderer.bounds.size.x;\n        }\n        \n        private void FixedUpdate()\n        {\n            Perform();\n            \n            if (_temp > _startPosition.x + _length)\n                MoveRight();\n            \n            if (_temp < _startPosition.x - _length)\n                MoveLeft();\n        }\n\n        #endregion\n\n        private void Perform()\n        {\n            _temp = _camera.position.x * (1 - _effectX);\n\n            Vector2 parallaxed = GetParallaxedPosition();\n            _thisTransform.position = parallaxed;\n        }\n\n        private void MoveRight() =>\n            _startPosition.x += _length;\n\n        private void MoveLeft() =>\n            _startPosition.x -= _length;\n\n        private Vector2 GetParallaxedPosition()\n        {\n            Vector2 parallaxed = _thisTransform.position;\n            if (_applyX == true)\n            {\n                float distanceX = _camera.position.x * _effectX;\n                parallaxed.x = _startPosition.x + distanceX;\n            }\n\n            if (_applyY == true)\n            {\n                float distanceY = _camera.position.y * _effectY;\n                parallaxed.y = _startPosition.y + distanceY;\n            }\n\n            return parallaxed;\n        }\n    }\n}","size_bytes":2138},"CapybaraGame/Assets/Scripts/Player/Animator/HeroAnimator.cs":{"content":"using Cysharp.Threading.Tasks;\nusing UnityEngine;\nusing SaveTheCapybara.Player;\nusing DG.Tweening;\n\nnamespace Core.Player\n{\n    public class HeroAnimator : MonoBehaviour\n    {\n        [Header(\"Components\")]\n        [SerializeField] private Hero _hero;\n        [SerializeField] private Animator _animator;\n\n        [Header(\"General\")]\n        [SerializeField] private bool _alwaysIdle = false;\n        [SerializeField] private HeroAnimatorConfig _config;\n        \n        [Header(\"Arms\")]\n        [SerializeField] private Transform _armWithHook;\n        [SerializeField] private GameObject _sword;\n        [SerializeField] private GameObject _slash;\n\n        [Header(\"Legs\")]\n        [SerializeField] private Transform[] _legs;\n        \n        private Transform _thisTransform;\n        private bool _shouldRotateHand;\n        private bool _shouldRotateBody;\n\n        public bool HeroRaising => \n            _hero.Rigidbody2D.velocity.y > _config.HeroRaisingVelocityMinimum;\n\n        public bool HeroFalling => \n            _hero.Rigidbody2D.velocity.y < _config.HeroFallingVelocityMinimum;\n\n\n        #region MonoBehaviour\n\n        private void Awake() => \n            _thisTransform = transform;\n\n        private void OnEnable()\n        {\n            if (_alwaysIdle == true)\n            {\n                PerformLanding();\n                SetRunning(false);\n                return;\n            }\n        }\n        \n        #endregion\n\n        private async UniTaskVoid StartRotatingBody(Transform targetJoint)\n        {\n            _shouldRotateBody = true;\n\n            while (_shouldRotateBody == true)\n            {\n                _thisTransform.rotation = LerpRotate(\n                    _thisTransform,\n                    targetJoint,\n                    _config.BodyRotationSpeed);\n\n                await UniTask.NextFrame(destroyCancellationToken);\n            }\n        }\n\n        private async UniTaskVoid StartRotatingHand(Transform targetJoint)\n        {\n            _animator.SetBool(HeroAnimatorConfig.FreeFallingHash, false);\n            _animator.enabled = false;\n\n            _shouldRotateHand = true;\n\n            while (_shouldRotateHand == true)\n            {\n                _armWithHook.rotation = LerpRotate(\n                    _armWithHook,\n                    targetJoint,\n                    _config.HandRotationSpeed);\n\n                await UniTask.NextFrame(destroyCancellationToken);\n            }\n        }\n\n        private Quaternion LerpRotate(Transform target, Transform targetJoint, float speed)\n        {\n            Vector2 direction = targetJoint.position - target.position;\n            float angle = Mathf.Atan2(direction.y, direction.x) * Mathf.Rad2Deg;\n            Quaternion quaternion = Quaternion.AngleAxis(angle, Vector3.forward);\n            \n            float delta = Time.deltaTime * speed;\n            return Quaternion.Slerp(\n                target.rotation,\n                quaternion,\n                delta);\n        }\n\n        private void StopRotatingHand()\n        {\n            _shouldRotateHand = false;\n            LerpArmToDefault();\n\n            _animator.enabled = true;\n            _animator.SetBool(HeroAnimatorConfig.FreeFallingHash, true);\n        }\n\n        private void StopRotatingBody()\n        {\n            _shouldRotateBody = false;\n            LerpBodyToDefatult();\n        }\n\n        private void LerpArmToDefault() =>\n            RotateToDefault(_armWithHook);\n\n        private void LerpBodyToDefatult() =>\n            RotateToDefault(_thisTransform);\n\n        private void RotateToDefault(Transform target) =>\n            target.DORotate(_config.DefaultRotation, _config.RotateToDefaultDuration);\n\n        private void RotateLegsRaising()\n        {\n            foreach (Transform leg in _legs)\n                leg.DORotate(_config.RaisingLegsRotation, _config.LegsRotationDuration);\n        }\n\n        private void RotateLegsFalling()\n        {\n            foreach (Transform leg in _legs)\n                leg.DORotate(_config.FallingLegsRotation, _config.LegsRotationDuration);\n        }\n\n        private void PerformLanding()\n        {\n            _animator.enabled = true;\n            _sword.SetActive(true);\n            _animator.SetTrigger(HeroAnimatorConfig.LandedHash);\n            _animator.SetBool(HeroAnimatorConfig.GrapplingHash, false);\n        }\n\n        private void StartGrappling()\n        {\n            _slash.SetActive(false);\n            _sword.SetActive(false);\n            _animator.SetBool(HeroAnimatorConfig.GrapplingHash, true);\n        }\n\n        private void SetRunning(bool value)\n        {\n            _animator.enabled = true;\n            _animator.SetBool(HeroAnimatorConfig.RunningHash, value);\n        }\n\n        private void SetJumping(bool value)\n        {\n            _slash.SetActive(!value);\n            _animator.SetBool(HeroAnimatorConfig.JumpingHash, value);\n        }\n\n        private void PerformDash()\n        {\n            _slash.SetActive(true);\n            _animator.SetTrigger(HeroAnimatorConfig.DashedHash);\n        }\n    }\n}","size_bytes":5052},"CapybaraGame/Assets/Scripts/Player/Animator/HeroAnimatorConfig.cs":{"content":"using UnityEngine;\n\nnamespace Core.Player\n{\n    [CreateAssetMenu(fileName = \"Hero Animator Config\", menuName = \"Configs/Hero Animator Config\")]\n    public class HeroAnimatorConfig : ScriptableObject\n    {\n        public static readonly int FreeFallingHash = Animator.StringToHash(\"FreeFalling\");\n        public static readonly int LandedHash = Animator.StringToHash(\"Landed\");\n        public static readonly int GrapplingHash = Animator.StringToHash(\"Grappling\");\n        public static readonly int RunningHash = Animator.StringToHash(\"Running\");\n        public static readonly int DashedHash = Animator.StringToHash(\"Dashed\");\n        public static readonly int JumpingHash = Animator.StringToHash(\"Jumping\");\n\n        [Header(\"Body\")]\n        [SerializeField] private float _bodyRotationSpeed = 2f;\n        \n        [Header(\"Arm with Hook\")]\n        [SerializeField] private float _handRotationSpeed = 5f;\n        \n        [Header(\"Legs\")]\n        [SerializeField] private float _legsRotationDuration = 0.8f;\n        [SerializeField] private Vector3 _fallingLegsRotation = new(0f, 0f, -30f);\n        [SerializeField] private Vector3 _raisingLegsRotation = new(0f, 0f, 30f);\n\n        [Space]\n        [SerializeField] private float _heroFallingVelocityMinimum = -2f;\n        [SerializeField] private float _heroRaisingVelocityMinimum = 0.1f;\n\n        [Header(\"Default State\")]\n        [SerializeField] private Vector3 _defaultRotation = Vector3.zero;\n        [SerializeField] private float _rotateToDefaultDuration = 1f;\n\n        public float HandRotationSpeed => _handRotationSpeed;\n        public float BodyRotationSpeed => _bodyRotationSpeed;\n        public Vector3 DefaultRotation => _defaultRotation;\n        public float RotateToDefaultDuration => _rotateToDefaultDuration;\n        public float LegsRotationDuration => _legsRotationDuration;\n        public Vector3 FallingLegsRotation => _fallingLegsRotation;\n        public Vector3 RaisingLegsRotation => _raisingLegsRotation;\n        public float HeroFallingVelocityMinimum => _heroFallingVelocityMinimum;\n        public float HeroRaisingVelocityMinimum => _heroRaisingVelocityMinimum;\n    }\n}\n","size_bytes":2152},"CapybaraGame/Assets/Scripts/Player/Collectables/Chest.cs":{"content":"using SaveTheCapybara.Other;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public abstract class Chest : MonoBehaviour\n    {\n        private const string Opened = nameof(Opened);\n\n        [SerializeField] private ParticlesPlayer _openParticles;\n        [SerializeField] private Animator _animator;\n        [SerializeField] private float _deactivateDelay = 2f;\n\n        private readonly int _openedId = Animator.StringToHash(Opened);\n\n        public virtual void Open()\n        {\n            _openParticles.SpawnTillDuration();\n            _animator.SetTrigger(_openedId);\n            \n            Invoke(nameof(Deactivate), _deactivateDelay);\n        }\n\n        private void Deactivate() => gameObject.SetActive(false);\n    }\n}\n","size_bytes":741},"CapybaraGame/Assets/Scripts/Player/Collectables/Food.cs":{"content":"using UnityEngine;\n\nnamespace SaveTheCapybara.Player\n{\n    public class Food : MonoBehaviour {  }\n}\n","size_bytes":100},"CapybaraGame/Assets/Scripts/Player/Collectables/MelonChest.cs":{"content":"using Zenject;\n\nnamespace SaveTheCapybara.Player\n{\n    public class MelonChest : Chest\n    {\n        public const int SimpleAmount = 1;\n        \n        private PlayerData _playerData;\n\n        public override void Open()\n        {\n            base.Open();\n            ReleaseContent();\n        }\n\n        protected void ReleaseContent()\n        {\n            _playerData.AddSimpleMelon();\n        }\n\n        [Inject]\n        private void Construct(PlayerData playerData)\n        {\n            _playerData = playerData;\n        }\n    }\n}","size_bytes":537},"CapybaraGame/Assets/Scripts/Player/Collectables/SimpleChest.cs":{"content":"using Zenject;\n\nnamespace SaveTheCapybara.Player\n{\n    public class SimpleChest : Chest\n    {\n        public const int CoinsInsideAmount = 5;\n\n        private PlayerData _playerData;\n\n        public override void Open()\n        {\n            base.Open();\n            ReleaseContent();\n        }\n\n        protected void ReleaseContent()\n        {\n            _playerData.AddSimpleChestCoins();\n        }\n\n        [Inject]\n        private void Construct(PlayerData playerData)\n        {\n            _playerData = playerData;\n        }\n    }\n}","size_bytes":540},"CapybaraGame/Assets/Scripts/Player/Collectables/SwordChest.cs":{"content":"namespace SaveTheCapybara.Player\n{\n    public class SwordChest : Chest {  }\n}","size_bytes":77},"CapybaraGame/Assets/Scripts/Player/Collectables/TreasureChest.cs":{"content":"using UnityEngine;\nusing Zenject;\n\nnamespace SaveTheCapybara.Player\n{\n    public class TreasureChest : Chest\n    {\n        public const int CoinsInsideAmount = 15;\n        public const int FoodInsideAmount = 5;\n\n        private PlayerData _playerData;\n\n        public override void Open()\n        {\n            base.Open();\n            GetComponent<BoxCollider2D>().enabled = false;\n            \n            ReleaseContent();\n        }\n\n        protected void ReleaseContent()\n        {\n            _playerData.AddTreasureChestReward();\n        }\n\n        [Inject]\n        private void Construct(PlayerData playerData)\n        {\n            _playerData = playerData;\n        }\n    }\n}","size_bytes":684},"CapybaraGame/Assets/Scripts/Player/Hero Menu/HeroMenuPresenter.cs":{"content":"using System;\nusing SaveTheCapybara.Player;\nusing SaveTheCapybara.UI;\nusing Core.Player;\n\nnamespace Core.UI\n{\n    public class HeroMenuPresenter\n    {\n        private readonly PlayerData _playerData;\n        private readonly HeroSkins _heroSkins;\n        private readonly UpgradeScreen _view;\n\n        public HeroMenuPresenter(\n            PlayerData playerData, \n            HeroSkins heroSkins, \n            UpgradeScreen view)\n        {\n            _playerData = playerData;\n            _heroSkins = heroSkins;\n            _view = view;\n        }\n\n        public void OnViewReveal()\n        {\n            _view.InitializeSkins(_heroSkins.Current, _heroSkins.GetSortedPresets());\n        }\n\n        public SkinPreset GetPresetByName(SkinName skinName) => \n            _heroSkins.GetByName(skinName);\n\n        public void OnSkinBuyButtonClicked(SkinPreset skin)\n        {\n            _heroSkins.Buy(skin);\n            SetPanelsByAvailability(skin.Name);\n        }\n\n        public void OnSelectButtonClicked(SkinPreset skin)\n        {\n            _heroSkins.SetCurrent(skin);\n            SetPanelsByAvailability(skin.Name);\n        }\n\n        public void SetPanelsByAvailability(SkinName skinName)\n        {\n            switch (_heroSkins.GetAvailability(skinName))\n            {\n                case SkinAvailability.Buyable:\n                    _view.SetSkinBuyable(_heroSkins.CanBuy(_view.GetDisplayedSkin()));\n                    break;\n\n                case SkinAvailability.Selectable:\n                    _view.SetSkinSelectableState();\n                    break;\n\n                case SkinAvailability.Selected:\n                    _view.SetSkinSelectedState();\n                    break;\n\n                default:\n                    _view.SetSkinSelectedState();\n                    break;\n            }\n        }\n\n        [Obsolete]\n        public void UpgradeHero(bool force = false)\n        {\n        } \n\n        [Obsolete]\n        public void OnUpdateLevelData()\n        {\n            // _view.UpdateLevelData(_playerData.Cost, _playerData.HeroLevel);\n        }\n\n        [Obsolete]\n        public void ValidateUpgradeButton()\n        {\n            // _view.UpdateUpgradeButton(_playerData.CanUpgradeHero);\n        }\n    }\n}","size_bytes":2237},"CapybaraGame/Assets/Scripts/Player/Hero Menu/ResourcePanel.cs":{"content":"using SaveTheCapybara.Player;\nusing TMPro;\nusing UnityEngine;\n\nnamespace SaveTheCapybara.UI\n{\n    public class ResourcePanel : MonoBehaviour\n    {\n        [Header(\"General\")]\n        [SerializeField] private TMP_Text _coinsTMP;\n        [SerializeField] private TMP_Text _foodTMP;\n        \n        private PlayerData _playerData;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            DisplayResources();\n        }\n\n        #endregion\n        \n        public void Init(PlayerData playerData) =>\n            _playerData = playerData;\n\n        public void DisplayResources()\n        {\n            _coinsTMP.SetText(_playerData.Coins.ToString());\n            _foodTMP.SetText(_playerData.Food.ToString());\n        }\n    }\n}","size_bytes":750},"CapybaraGame/Assets/Scripts/Player/Hero Menu/SkinItemView.cs":{"content":"using SaveTheCapybara.UI;\nusing Core.Player;\nusing TMPro;\nusing UnityEngine;\nusing UnityEngine.EventSystems;\nusing UnityEngine.UI;\n\nnamespace Core.UI\n{\n    public class SkinItemView : TweenClickable, IPointerClickHandler\n    {\n        [SerializeField] private GameObject _selectedPanel;\n        [SerializeField] private Image _image;\n        [SerializeField] private TMP_Text _nameTMP;\n\n        private SkinsPanel _panel;\n\n        public SkinName Name { get; private set; }\n\n        public void OnPointerClick(PointerEventData eventData)\n        {\n            if (_panel == null)\n            {\n                Debug.LogError($\"{nameof(SkinItemView)}::{nameof(OnPointerClick)}: root panel is null when clicking on item view!\");\n                return;\n            }\n\n            _panel.CommandItemDisplay(Name);\n        }\n\n        public void Initialize(SkinsPanel panel, SkinName skinName, Sprite menuItem)\n        {\n            _panel = panel;\n\n            Name = skinName;\n\n            _image.sprite = menuItem;\n            _nameTMP.SetText(Name.ToString());\n\n            OnPointerUp(null);\n        }\n\n        public void SetSelected(bool value) => \n            _selectedPanel.SetActive(value);\n    }\n}","size_bytes":1204},"CapybaraGame/Assets/Scripts/Player/Hero Menu/SkinPlacementPanel.cs":{"content":"using System;\nusing SaveTheCapybara.UI;\nusing Core.Player;\nusing TMPro;\nusing UnityEngine;\n\nnamespace Core.UI\n{\n    public class SkinPlacementPanel : MonoBehaviour\n    {\n        [Header(\"Hero Placement\")]\n        [SerializeField] private HeroSkinSetter _placementSkinSetter;\n        \n        [Header(\"Buttons\")]\n        [SerializeField] private UIButton _buyButton;\n        [SerializeField] private UIButton _selectButton;\n\n        [Header(\"Cost\")]\n        [SerializeField] private TMP_Text _costTMP;\n\n        [Header(\"Colors\")]\n        [SerializeField] private Color _costAvailableColor = Color.white;\n        [SerializeField] private Color _costLockedColor = Color.red;\n\n        public event Action BuyButtonCommand;\n        public event Action SelectButtonCommand;\n\n        #region MonoBehaviour\n\n        private void OnEnable()\n        {\n            _buyButton.OnClicked += InvokeBuyButtonEvent;\n            _selectButton.OnClicked += InvokeSelectButtonEvent;\n        }\n\n        private void OnDisable()\n        {\n            _buyButton.OnClicked -= InvokeBuyButtonEvent;\n            _selectButton.OnClicked -= InvokeSelectButtonEvent;\n        }\n\n        #endregion\n\n        public void SetBuyState(int cost, bool canBuy)\n        {\n            HideSelectButton();\n            _buyButton.SetActive(true);\n\n            _buyButton.Interactable = canBuy;\n\n            if (canBuy == true)\n                _costTMP.color = _costAvailableColor;\n            else\n                _costTMP.color = _costLockedColor;\n\n            _costTMP.text = cost.ToString();\n        }\n\n        public void SetSelectableState()\n        {\n            HideBuyButton();\n            ShowSelectButton();\n        }\n\n        public void SetSelectedState()\n        {\n            HideSelectButton();\n            HideBuyButton();\n        }\n\n        public void DisplayPreset(SkinPreset preset) => \n            _placementSkinSetter.Set(preset);\n\n        public void SetAvailability(bool state)\n        {\n            _buyButton.Interactable = state;\n            if (state == true)\n                _costTMP.color = _costAvailableColor;\n            else\n                _costTMP.color = _costLockedColor;\n        }\n\n        private void InvokeBuyButtonEvent()\n        {\n            BuyButtonCommand?.Invoke();\n        }\n\n        private void InvokeSelectButtonEvent() =>\n            SelectButtonCommand?.Invoke();\n\n        private void ShowSelectButton()\n        {\n            _selectButton.SetActive(true);\n            _selectButton.Interactable = true;\n        }\n        \n        private void HideBuyButton()\n        {\n            _buyButton.Interactable = false;\n            _buyButton.SetActive(false);\n        }\n\n        private void HideSelectButton()\n        {\n            _selectButton.Interactable = false;\n            _selectButton.SetActive(false);\n        }\n    }\n}","size_bytes":2843},"CapybaraGame/Assets/Scripts/Player/Hero Menu/SkinsPanel.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing Core.Player;\nusing NTC.Global.Pool;\nusing UnityEngine;\n\nnamespace Core.UI\n{\n    public class SkinsPanel : MonoBehaviour\n    {\n        [SerializeField] private SkinItemView _itemPrefab;\n\n        [Space]\n        [SerializeField] private Transform _itemsRoot;\n        \n        private List<SkinItemView> _items;\n        \n        public event Action<SkinName> ItemDisplayCommand;\n\n        public void CreateItems(IEnumerable<SkinPreset> presets)\n        {\n            if (_items == null)\n                _items = new(presets.Count());\n            else if (_items.Count > 0)\n                ClearItems();\n\n            foreach (SkinPreset preset in presets)\n            {\n                SkinItemView item = NightPool.Spawn(_itemPrefab, _itemsRoot);\n\n                item.Initialize(this, preset.Name, preset.MenuItem);\n                item.SetSelected(false);\n\n                _items.Add(item);\n            }\n        }\n\n        public void CommandItemDisplay(SkinName skinName) => \n            ItemDisplayCommand?.Invoke(skinName);\n\n        public void SetSelected(SkinName skinName, bool state)\n        {\n            SkinItemView selected = _items.Single(item => item.Name == skinName);\n\n            selected.SetSelected(state);\n            selected.transform.SetAsFirstSibling();\n        }\n\n        private void ClearItems()\n        {\n            foreach (SkinItemView item in _items)\n                NightPool.Despawn(item);\n\n            _items.Clear();\n        }\n    }\n}","size_bytes":1542},"CapybaraGame/Assets/Scripts/Player/Shop/PurchaseManager.cs":{"content":"using System;\nusing SaveTheCapybara.Ad;\nusing UnityEngine;\nusing UnityEngine.Purchasing;\nusing UnityEngine.Purchasing.Extension;\nusing Zenject;\n\nnamespace SaveTheCapybara.Player\n{\n    [Serializable]\n    public class ConsumablePurchase\n    {\n        public string Name;\n        public string ID;\n        public string Description;\n        public float Price;\n        public float Amount;\n    }\n    \n    [Serializable]\n    public class NonConsumablePurchase\n    {\n        public string Name;\n        public string ID;\n        public string Description;\n        public float Price;\n    }\n    \n    public class PurchaseManager : MonoBehaviour, IDetailedStoreListener\n    {\n        [SerializeField] private ConsumablePurchase _consumablePurchase;\n        [SerializeField] private NonConsumablePurchase _nonConsumablePurchase;\n        \n        private IStoreController _storeController;\n        private PlayerData _playerData;\n        \n        public bool IsFullInitialized => _storeController != null;\n        public bool HasReceiptNonConsumable { get; private set; } = false;\n\n        [Inject]\n        private void Construct(PlayerData playerData)\n        {\n            _playerData = playerData;\n        }\n\n        private void Awake()\n        {\n            Setup();\n        }\n\n        // melons (consumable)\n        public void InitiateConsumablePurchase()\n        {\n            _storeController.InitiatePurchase(_consumablePurchase.ID);\n        }\n        \n        // NO ADS (non consumable)\n        public void InitiateNonConsumablePurchase()\n        {\n            _storeController.InitiatePurchase(_nonConsumablePurchase.ID);\n        }\n        \n        private void Setup()\n        {\n            ConfigurationBuilder builder = ConfigurationBuilder.Instance(StandardPurchasingModule.Instance());\n            \n            builder.AddProduct(_consumablePurchase.ID, ProductType.Consumable);\n            builder.AddProduct(_nonConsumablePurchase.ID, ProductType.NonConsumable);\n            \n            UnityPurchasing.Initialize(this, builder);\n            \n            Debug.Log($\"{nameof(PurchaseManager)}::Setup completed\");\n        }\n\n        private void CheckNonConsumable()\n        {\n            var product = _storeController.products.WithID(_nonConsumablePurchase.ID);\n            HasReceiptNonConsumable = product.hasReceipt;\n            \n            AdTimer.Instance.SetNoAds(HasReceiptNonConsumable);\n        }\n\n        private void ProcessConsumable()\n        {\n            _playerData.AddPurchasedMelons(Mathf.RoundToInt(_consumablePurchase.Amount));\n        }\n        \n        private void ProcessNonConsumable()\n        {\n            AdTimer.Instance.SetNoAds(true);\n        }\n        \n        #region StoreCallbacks\n\n        public void OnInitializeFailed(InitializationFailureReason error)\n        {\n            Debug.LogError($\"{nameof(PurchaseManager)}::OnInitializeFailed: {error}\");\n        }\n\n        public void OnInitializeFailed(InitializationFailureReason error, string message)\n        {\n            Debug.LogError($\"{nameof(PurchaseManager)}::OnInitializeFailed w/ message: {error}, {message}\");\n        }\n\n        public PurchaseProcessingResult ProcessPurchase(PurchaseEventArgs purchaseEvent)\n        {\n            if (purchaseEvent.purchasedProduct.definition.id.Equals(_consumablePurchase.ID))\n            {\n                ProcessConsumable();\n            }\n            else if (purchaseEvent.purchasedProduct.definition.id.Equals(_nonConsumablePurchase.ID))\n            {\n                ProcessNonConsumable();\n            }\n            \n            return PurchaseProcessingResult.Complete;\n        }\n\n        public void OnPurchaseFailed(Product product, PurchaseFailureReason failureReason)\n        {\n            Debug.LogError($\"{nameof(PurchaseManager)}::OnPurchaseFailed: {failureReason}\");\n        }\n\n        public void OnInitialized(IStoreController controller, IExtensionProvider extensions)\n        {\n            _storeController = controller;\n            \n            CheckNonConsumable();\n            Debug.Log($\"{nameof(PurchaseManager)}::OnInitialized: successfully!\");\n        }\n\n        public void OnPurchaseFailed(Product product, PurchaseFailureDescription failureDescription)\n        {\n            Debug.LogError($\"{nameof(PurchaseManager)}::OnPurchaseFailed: {failureDescription}\");\n        }\n\n        #endregion\n    }\n}","size_bytes":4375},"CapybaraGame/Assets/Scripts/Tools/DOTween/ScreenTweener.cs":{"content":"using DG.Tweening;\nusing UnityEngine;\nusing UnityEngine.UI;\n\nnamespace SaveTheCapybara.Other\n{\n    public class ScreenTweener\n    {\n        private const float DefaultLogoTargetY = 285f;\n\n        private readonly float _logoShowDuration = 0.5f;\n        private readonly float _buttonsDelay = 0.3f;\n        private readonly float _buttonsScaleDuration = 0.4f;\n        private readonly float _barScaleDuration = 0.6f;\n        private readonly float _swordButtonFadeDuration = 4f;\n        private readonly float _swordButtonFadeDelay = 4f;\n        private readonly float _questBarScaleDuration = 0.4f;\n        private readonly float _questBarDisplayDuration = 7f;\n        private readonly float _questBarDisplayInterval = 10f;\n        \n        private bool _isQuestBarDisplaying = false;\n        \n        private readonly float _rewardsInterval = .8f;\n        private readonly float _rewardsScaleDuration = .8f;\n\n        public ScreenTweener() {  }\n\n        public ScreenTweener(float commonShowDuration) : base()\n        {\n            _logoShowDuration = commonShowDuration;\n            _buttonsScaleDuration = commonShowDuration;\n        }\n\n        public void TweenRewardBlocks(Transform[] blocks)\n        {\n            float preferredHeight = blocks[0].GetComponent<LayoutElement>().preferredHeight;\n            float preferredWidth = blocks[0].GetComponent<LayoutElement>().preferredWidth;\n            \n            foreach (var block in blocks)\n            {\n                block.GetComponent<LayoutElement>().preferredWidth = 0f;\n            }\n            \n            Sequence sequence = DOTween.Sequence();\n            Vector2 preferredSize = new(preferredWidth, preferredHeight);\n            foreach (var block in blocks)\n            {\n                block.gameObject.SetActive(true);\n                sequence\n                    .Append(block.GetComponent<LayoutElement>().DOPreferredSize(preferredSize, _rewardsScaleDuration).SetEase(Ease.OutBounce))\n                    .AppendInterval(_rewardsInterval);\n            }\n        }\n\n        public void FadeIn(CanvasGroup canvasGroup)\n        {\n            canvasGroup.alpha = 0;\n            canvasGroup.DOFade(1, _logoShowDuration);\n        }\n\n        public void TweenLogo(\n            Transform logo,\n            float logoTargetY = DefaultLogoTargetY)\n        {\n            logo.localScale = Vector2.zero;\n\n            logo.DOScale(Vector2.one, _logoShowDuration);\n            logo.DOLocalMoveY(logoTargetY, _logoShowDuration);\n        }\n\n        public void ScaleTweenLogo(Transform logo)\n        {\n            logo.localScale = Vector2.zero;\n\n            logo.DOScale(Vector2.one, _logoShowDuration);\n        }\n\n        public void TweenButton(Transform button)\n        {\n            button.localScale = Vector2.zero;\n\n            DOTween.Sequence()\n                .AppendInterval(_buttonsDelay)\n                .Append(button.DOScale(Vector2.one, _buttonsScaleDuration));\n        }\n\n        public void TweenButtonWithoutDelay(Transform button)\n        {\n            button.localScale = Vector2.zero;\n\n            DOTween.Sequence()\n                .Append(button.DOScale(Vector2.one, _buttonsScaleDuration));\n        }\n\n        public void TweenSwordButton(Transform button)\n        {\n            DOTween.Sequence()\n                .Append(button.DOScale(Vector2.one, _buttonsScaleDuration))\n                .AppendInterval(_swordButtonFadeDelay)\n                .Append(button.DOScale(Vector2.zero, _swordButtonFadeDuration))\n                .AppendCallback(() => button.gameObject.SetActive(false));\n        }\n\n        public void DisplayQuestBar(Transform bar)\n        {\n            if (_isQuestBarDisplaying == true || bar == null)\n                return;\n\n            _isQuestBarDisplaying = true;\n            bar.localScale = Vector2.zero;\n            bar.gameObject.SetActive(true);\n\n            // NEW\n            bar.DOScale(Vector2.one, _questBarScaleDuration);\n        }\n\n        public void TweenProgressBar(Transform transform)\n        {\n            transform.localScale = Vector2.zero;\n\n            DOTween.Sequence()\n                .AppendInterval(_buttonsDelay)\n                .Append(transform.DOScale(Vector2.one, _barScaleDuration).SetEase(Ease.OutBounce));\n        }\n    }\n}","size_bytes":4263},"CapybaraGame/Assets/Scripts/UI/MVP/CoinsPresenter.cs":{"content":"using SaveTheCapybara.Player;\n\nnamespace SaveTheCapybara.UI\n{\n    public class CoinsPresenter\n    {\n        private readonly PlayerData _playerData;\n        private readonly CoinsUIContainer _container;\n        private readonly UIText _coinsText;\n\n        public CoinsPresenter(PlayerData playerData, CoinsUIContainer container)\n        {\n            _playerData = playerData;\n            _container = container;\n\n            _coinsText = _container.Text;\n        }\n\n        public void Init()\n        {\n            _container.transform.SetAsLastSibling();\n\n            int coins = _playerData.Coins;\n            UpdateCoinsText(coins);\n        }\n\n        public void Enable()\n        {\n            _playerData.OnCoinsChanged += UpdateCoinsText;\n        }\n\n        public void Disable()\n        {\n            _playerData.OnCoinsChanged -= UpdateCoinsText;\n        }\n\n        private void UpdateCoinsText(int amount)\n        {\n            string text = $\"{amount}\";\n            _coinsText.UpdateText(text);\n        }\n    }\n}\n","size_bytes":1024},"CapybaraGame/Assets/Scripts/UI/MVP/GameOverHandlerPresenter.cs":{"content":"using System.Threading.Tasks;\nusing SaveTheCapybara.Game;\nusing SaveTheCapybara.Player;\n\nnamespace SaveTheCapybara.UI\n{\n    public class GameOverHandlerPresenter\n    {\n        private readonly GameOverHandler _gameOverHandler;\n        private readonly GameUI _gameUI;\n        private readonly GameOverScreenProvider _overScreenProvider;\n        private readonly GameFinishedScreenProvider _finishedScreenProvider;\n        private readonly Score _score;\n        private GameOverScreen _screen;\n\n        private bool WasGameContinuedBefore => _gameOverHandler.WasGameContinuedBefore;\n\n        public GameOverHandlerPresenter(\n            GameOverHandler handler,\n            GameUI inGameUI,\n            GameOverScreenProvider screenProvider,\n            GameFinishedScreenProvider screenProvider2,\n            Score score)\n        {\n            _gameOverHandler = handler;\n            _gameUI = inGameUI;\n            _overScreenProvider = screenProvider;\n            _finishedScreenProvider = screenProvider2;\n            _score = score;\n        }\n\n        public void Enable()\n        {\n            _gameOverHandler.OnGameHasOver += OnGameHasOverHandler;\n            _gameOverHandler.OnGameFinished += OnGameFinishedHandler;\n            _gameOverHandler.OnGameUIConcealPrompted += ConcealGameUI;\n        }\n\n        public void Disable()\n        {\n            _gameOverHandler.OnGameHasOver -= OnGameHasOverHandler;\n            _gameOverHandler.OnGameFinished -= OnGameFinishedHandler;\n            _gameOverHandler.OnGameUIConcealPrompted -= ConcealGameUI;\n\n            if (_screen != null)\n                _screen.OnGameContinued -= OnGameHasContinuedHandler;\n        }\n\n        private async void OnGameHasOverHandler()\n        {\n            _gameUI.Conceal();\n            _score.StopCount();\n            await LoadOverScreen();\n\n            if (WasGameContinuedBefore == true)\n                _screen.BlockContinuing();\n        }\n\n        private async void OnGameFinishedHandler()\n        {\n            // _gameUI.Conceal();\n            _score.StopCount();\n            await LoadFinishedScreen();\n        }\n\n        private async Task LoadOverScreen()\n        {\n            _screen = await _overScreenProvider.Load();\n            _screen.Reveal();\n\n            _screen.OnGameContinued += OnGameHasContinuedHandler;\n        }\n        \n        private async Task LoadFinishedScreen()\n        {\n            var screen = await _finishedScreenProvider.Load();\n            screen.Reveal();\n        }\n\n        private void OnGameHasContinuedHandler()\n        {\n            if (WasGameContinuedBefore == true)\n                return;\n\n            _gameUI.Reveal();\n            _score.StartCount();\n            _overScreenProvider.Unload();\n            _gameOverHandler.HandleHeroRevival();\n\n            _screen.OnGameContinued -= OnGameHasContinuedHandler;\n        }\n\n        private void ConcealGameUI()\n        {\n            _gameUI.Conceal();\n        }\n    }\n}","size_bytes":2958},"CapybaraGame/Assets/Scripts/UI/MVP/HeroPresenter.cs":{"content":"using SaveTheCapybara.Player;\n\nnamespace SaveTheCapybara.UI\n{\n    public class HeroPresenter\n    {\n        private readonly Hero _hero;\n        private readonly HeroJump _heroJump;\n        private readonly JumpButton _jumpButton;\n        private readonly JumpSlider _jumpSlider;\n        private readonly GameUI _gameUI;\n\n        public HeroPresenter(\n            Hero hero,\n            GameUI gameUI)\n        {\n            _hero = hero;\n            _gameUI = gameUI;\n\n            _jumpButton = gameUI.JumpButton;\n            _jumpSlider = gameUI.JumpSlider;\n            _heroJump = _hero.Jump;\n        }\n\n        public void Enable()\n        {\n            _hero.OnFoodEaten += OnFoodEatenHandler;\n            _jumpButton.OnClicked += OnClickedHandler;\n            _gameUI.SwordAdRewarded.OnRewardGotten += OnSwordAdRewardedHandler;\n        }\n\n        public void Disable()\n        {\n            _hero.OnFoodEaten -= OnFoodEatenHandler;\n            _jumpButton.OnClicked -= OnClickedHandler;\n            _gameUI.SwordAdRewarded.OnRewardGotten -= OnSwordAdRewardedHandler;\n        }\n\n        private void OnFoodEatenHandler()\n        {\n            _jumpSlider.TryDecreaseLerpSpeed();\n        }\n\n        private void OnClickedHandler()\n        {\n            if (_heroJump.IsNotGrounded)\n                return;\n                \n            UpdateForceValue();\n            _heroJump.SayShouldJump();\n\n            _jumpSlider.TryIncreaseLerpSpeed();\n        }\n\n        private void UpdateForceValue()\n        {\n            float value = _jumpSlider.Value;\n            _heroJump.UpdateForceValue(value);\n        }\n\n        private void OnSwordAdRewardedHandler()\n        {\n            _hero.GetSword();\n        }\n    }\n}","size_bytes":1714},"CapybaraGame/Assets/Scripts/UI/MVP/QuestPresenter.cs":{"content":"using SaveTheCapybara.Level;\nusing System;\n\nnamespace SaveTheCapybara.UI\n{\n    public class QuestPresenter\n    {\n        private readonly LevelGenerator _levelGenerator;\n        private readonly GameUI _gameUI;\n        private bool _isQuestBarInitialized = false;\n\n        public QuestPresenter(LevelGenerator levelGenerator, GameUI gameUI)\n        {\n            _levelGenerator = levelGenerator;\n            _gameUI = gameUI;\n        }\n\n        public void Enable()\n        {\n            _levelGenerator.OnHeroXPositionUpdated += OnHeroXPositionUpdatedHandler;\n\n            InitSliderValues();\n        }\n\n        public void Disable()\n        {\n            _levelGenerator.OnHeroXPositionUpdated -= OnHeroXPositionUpdatedHandler;\n        }\n\n        private void InitSliderValues()\n        {\n            float max = LevelGenerator.SpecialPlatformSequentialNumber * Platform.Length;\n            _gameUI.InitQuestBarValues(0f, max);\n            _isQuestBarInitialized = true;\n        }\n\n        private void OnHeroXPositionUpdatedHandler(float value)\n        {\n            if (_isQuestBarInitialized == false)\n                throw new InvalidOperationException(\"QuestBar has to be initialized! Use InitSliderValues() before\");\n\n            _gameUI.UpdateQuestBar(value);\n        }\n    }\n}\n","size_bytes":1288},"CapybaraGame/Assets/Scripts/UI/MVP/ScorePresenter.cs":{"content":"using SaveTheCapybara.Player;\n\nnamespace SaveTheCapybara.UI\n{\n    public class ScorePresenter\n    {\n        private readonly Score _score;\n        private readonly UIText _scoreText;\n\n        public ScorePresenter(Score score, UIText scoreText)\n        {\n            _score = score;\n            _scoreText = scoreText;\n        }\n\n        public void Enable()\n        {\n            _score.OnScoreChanged += UpdateScoreText;\n        }\n\n        public void Disable()\n        {\n            _score.OnScoreChanged -= UpdateScoreText;\n        }\n\n        private void UpdateScoreText(int count)\n        {\n            string text = $\"{count}\";\n            _scoreText.UpdateText(text);\n        }\n    }\n}","size_bytes":693},"CapybaraGame/Assets/Scripts/UnityPurchasing/generated/GooglePlayTangle.cs":{"content":"// WARNING: Do not modify! Generated file.\n\nnamespace UnityEngine.Purchasing.Security {\n    public class GooglePlayTangle\n    {\n        private static byte[] data = System.Convert.FromBase64String(\"wptuHjJz4btowTcmWMCjvJLcxp6q1PoZ4Z2RWQFNK6oXl/0LzhOX5jkJLiQG3dOfClTv2sm9Jf83vCINL1X6lMu+9HM13HMTc/hK3uhd0ifdhN4++8X+oLBdGRexlHATfpgK/LOHNdBqcmNJBiUKjD1PwNm8JLnQ9+Ol4I1wAqamj4L4e/fY/xEogT/jBmlqcHrlHYJbi2ZEePXqwMgDqHaIsefa3i3x9LdYsK8WP3J/mfhLjvxTyPq+pv56AphAPQXouQZ2cPqICwUKOogLAAiICwsKqJw/QksByzqICyg6BwwDIIxCjP0HCwsLDwoJ/yo161/ipmS1/Qb9PJw0aUREhGwTocJFDWkBKUM4fP6gm2FLqHwgwx0CcNp6XXpVWQgJCwoL\");\n        private static int[] order = new int[] { 10,11,6,13,13,6,9,13,8,9,11,11,13,13,14 };\n        private static int key = 10;\n\n        public static readonly bool IsPopulated = true;\n\n        public static byte[] Data() {\n        \tif (IsPopulated == false)\n        \t\treturn null;\n            return Obfuscator.DeObfuscate(data, order, key);\n        }\n    }\n}\n","size_bytes":956},"client/public/unity/Build/Build/WebGLBuild.loader.js":{"content":"function createUnityInstance(t,n,c){function s(e,t){if(!s.aborted&&n.showBanner)return\"error\"==t&&(s.aborted=!0),n.showBanner(e,t);switch(t){case\"error\":console.error(e);break;case\"warning\":console.warn(e);break;default:console.log(e)}}function r(e){var t=e.reason||e.error,n=t?t.toString():e.message||e.reason||\"\",r=t&&t.stack?t.stack.toString():\"\";(n+=\"\\n\"+(r=r.startsWith(n)?r.substring(n.length):r).trim())&&l.stackTraceRegExp&&l.stackTraceRegExp.test(n)&&D(n,e.filename||t&&(t.fileName||t.sourceURL)||\"\",e.lineno||t&&(t.lineNumber||t.line)||0)}function e(e,t,n){var r=e[t];void 0!==r&&r||(console.warn('Config option \"'+t+'\" is missing or empty. Falling back to default value: \"'+n+'\". Consider updating your WebGL template to include the missing config option.'),e[t]=n)}c=c||function(){};var o,l={canvas:t,webglContextAttributes:{preserveDrawingBuffer:!1,powerPreference:2},cacheControl:function(e){return e==l.dataUrl||e.match(/\\.bundle/)?\"must-revalidate\":\"no-store\"},streamingAssetsUrl:\"StreamingAssets\",downloadProgress:{},deinitializers:[],intervals:{},setInterval:function(e,t){e=window.setInterval(e,t);return this.intervals[e]=!0,e},clearInterval:function(e){delete this.intervals[e],window.clearInterval(e)},preRun:[],postRun:[],print:function(e){console.log(e)},printErr:function(e){console.error(e),\"string\"==typeof e&&-1!=e.indexOf(\"wasm streaming compile failed\")&&(-1!=e.toLowerCase().indexOf(\"mime\")?s('HTTP Response Header \"Content-Type\" configured incorrectly on the server for file '+l.codeUrl+' , should be \"application/wasm\". Startup time performance will suffer.',\"warning\"):s('WebAssembly streaming compilation failed! This can happen for example if \"Content-Encoding\" HTTP header is incorrectly enabled on the server for file '+l.codeUrl+\", but the file is not pre-compressed on disk (or vice versa). Check the Network tab in browser Devtools to debug server header configuration.\",\"warning\"))},locateFile:function(e){return\"build.wasm\"==e?this.codeUrl:e},disabledCanvasEvents:[\"contextmenu\",\"dragstart\"]};for(o in e(n,\"companyName\",\"Unity\"),e(n,\"productName\",\"WebGL Player\"),e(n,\"productVersion\",\"1.0\"),n)l[o]=n[o];l.streamingAssetsUrl=new URL(l.streamingAssetsUrl,document.URL).href;var a=l.disabledCanvasEvents.slice();function i(e){e.preventDefault()}a.forEach(function(e){t.addEventListener(e,i)}),window.addEventListener(\"error\",r),window.addEventListener(\"unhandledrejection\",r);var u=\"\",d=\"\";function h(e){document.webkitCurrentFullScreenElement===t?t.style.width&&(u=t.style.width,d=t.style.height,t.style.width=\"100%\",t.style.height=\"100%\"):u&&(t.style.width=u,t.style.height=d,d=u=\"\")}document.addEventListener(\"webkitfullscreenchange\",h),l.deinitializers.push(function(){for(var e in l.disableAccessToMediaDevices(),a.forEach(function(e){t.removeEventListener(e,i)}),window.removeEventListener(\"error\",r),window.removeEventListener(\"unhandledrejection\",r),document.removeEventListener(\"webkitfullscreenchange\",h),l.intervals)window.clearInterval(e);l.intervals={}}),l.QuitCleanup=function(){for(var e=0;e<l.deinitializers.length;e++)l.deinitializers[e]();l.deinitializers=[],\"function\"==typeof l.onQuit&&l.onQuit()};var f,p,m,g,b,v,w,y,S,C={Module:l,SetFullscreen:function(){if(l.SetFullscreen)return l.SetFullscreen.apply(l,arguments);l.print(\"Failed to set Fullscreen mode: Player not loaded yet.\")},SendMessage:function(){if(l.SendMessage)return l.SendMessage.apply(l,arguments);l.print(\"Failed to execute SendMessage: Player not loaded yet.\")},Quit:function(){return new Promise(function(e,t){l.shouldQuit=!0,l.onQuit=e})},GetMemoryInfo:function(){var e=l._getMemInfo();return{totalWASMHeapSize:l.HEAPU32[e>>2],usedWASMHeapSize:l.HEAPU32[1+(e>>2)],totalJSHeapSize:l.HEAPF64[1+(e>>3)],usedJSHeapSize:l.HEAPF64[2+(e>>3)]}}};function D(e,t,n){-1==e.indexOf(\"fullscreen error\")&&(l.startupErrorHandler?l.startupErrorHandler(e,t,n):l.errorHandler&&l.errorHandler(e,t,n)||(console.log(\"Invoking error handler due to\\n\"+e),\"function\"==typeof dump&&dump(\"Invoking error handler due to\\n\"+e),D.didShowErrorMessage||(-1!=(e=\"An error occurred running the Unity content on this page. See your browser JavaScript console for more info. The error was:\\n\"+e).indexOf(\"DISABLE_EXCEPTION_CATCHING\")?e=\"An exception has occurred, but exception handling has been disabled in this build. If you are the developer of this content, enable exceptions in your project WebGL player settings to be able to catch the exception or see the stack trace.\":-1!=e.indexOf(\"Cannot enlarge memory arrays\")?e=\"Out of memory. If you are the developer of this content, try allocating more memory to your WebGL build in the WebGL player settings.\":-1==e.indexOf(\"Invalid array buffer length\")&&-1==e.indexOf(\"Invalid typed array length\")&&-1==e.indexOf(\"out of memory\")&&-1==e.indexOf(\"could not allocate memory\")||(e=\"The browser could not allocate enough memory for the WebGL content. If you are the developer of this content, try allocating less memory to your WebGL build in the WebGL player settings.\"),alert(e),D.didShowErrorMessage=!0)))}function P(e,t){if(\"symbolsUrl\"!=e){var n=l.downloadProgress[e],r=(n=n||(l.downloadProgress[e]={started:!1,finished:!1,lengthComputable:!1,total:0,loaded:0}),\"object\"!=typeof t||\"progress\"!=t.type&&\"load\"!=t.type||(n.started||(n.started=!0,n.lengthComputable=t.lengthComputable),n.total=t.total,n.loaded=t.loaded,\"load\"==t.type&&(n.finished=!0)),0),o=0,a=0,i=0,s=0;for(e in l.downloadProgress){if(!(n=l.downloadProgress[e]).started)return;a++,n.lengthComputable?(r+=n.loaded,o+=n.total,i++):n.finished||s++}c(.9*(a?(a-s-(o?i*(o-r)/o:0))/a:0))}}function x(){var e=this;this.isConnected=this.connect().then(function(){return e.cleanUpCache()}),this.isConnected.catch(function(e){e=\"Error when initializing cache: \"+e,console.log(\"[UnityCache] \"+e)})}function E(e){console.log(\"[UnityCache] \"+e)}function U(e){return U.link=U.link||document.createElement(\"a\"),U.link.href=e,U.link.href}function T(){new Promise(function(a,e){var i=document.createElement(\"script\");i.src=l.frameworkUrl,i.onload=function(){if(\"undefined\"==typeof unityFramework||!unityFramework){var e,t=[[\"br\",\"br\"],[\"gz\",\"gzip\"]];for(e in t){var n,r=t[e];if(l.frameworkUrl.endsWith(\".\"+r[0]))return n=\"Unable to parse \"+l.frameworkUrl+\"!\",\"file:\"==location.protocol?void s(n+\" Loading pre-compressed (brotli or gzip) content via a file:// URL without a web server is not supported by this browser. Please use a local development web server to host compressed Unity content, or use the Unity Build and Run option.\",\"error\"):(n+=' This can happen if build compression was enabled but web server hosting the content was misconfigured to not serve the file with HTTP Response Header \"Content-Encoding: '+r[1]+'\" present. Check browser Console and Devtools Network tab to debug.',\"br\"==r[0]&&\"http:\"==location.protocol&&(r=-1!=[\"localhost\",\"127.0.0.1\"].indexOf(location.hostname)?\"\":\"Migrate your server to use HTTPS.\",n=/Firefox/.test(navigator.userAgent)?\"Unable to parse \"+l.frameworkUrl+'!<br>If using custom web server, verify that web server is sending .br files with HTTP Response Header \"Content-Encoding: br\". Brotli compression may not be supported in Firefox over HTTP connections. '+r+' See <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1670675\">https://bugzilla.mozilla.org/show_bug.cgi?id=1670675</a> for more information.':\"Unable to parse \"+l.frameworkUrl+'!<br>If using custom web server, verify that web server is sending .br files with HTTP Response Header \"Content-Encoding: br\". Brotli compression may not be supported over HTTP connections. Migrate your server to use HTTPS.'),void s(n,\"error\"))}s(\"Unable to parse \"+l.frameworkUrl+\"! The file is corrupt, or compression was misconfigured? (check Content-Encoding HTTP Response Header on web server)\",\"error\")}var o=unityFramework;unityFramework=null,i.onload=null,a(o)},i.onerror=function(e){s(\"Unable to load file \"+l.frameworkUrl+\"! Check that the file exists on the remote server. (also check browser Console and Devtools Network tab to debug)\",\"error\")},document.body.appendChild(i),l.deinitializers.push(function(){document.body.removeChild(i)})}).then(function(e){e(l)});P(n=\"dataUrl\"),e=l.cacheControl(l[n]),t=l.companyName&&l.productName?l.cachedFetch:l.fetchWithProgress,r=l[n],r=/file:\\/\\//.exec(r)?\"same-origin\":void 0;var n,e,t,r,o=t(l[n],{method:\"GET\",companyName:l.companyName,productName:l.productName,productVersion:l.productVersion,control:e,mode:r,onProgress:function(e){P(n,e)}}).then(function(e){return e.parsedBody}).catch(function(e){var t=\"Failed to download file \"+l[n];\"file:\"==location.protocol?s(t+\". Loading web pages via a file:// URL without a web server is not supported by this browser. Please use a local development web server to host Unity content, or use the Unity Build and Run option.\",\"error\"):console.error(t)});l.preRun.push(function(){l.addRunDependency(\"dataUrl\"),o.then(function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=0,r=\"UnityWebData1.0\\0\";if(!String.fromCharCode.apply(null,e.subarray(n,n+r.length))==r)throw\"unknown data format\";var o=t.getUint32(n+=r.length,!0);for(n+=4;n<o;){var a=t.getUint32(n,!0),i=(n+=4,t.getUint32(n,!0)),s=(n+=4,t.getUint32(n,!0)),c=(n+=4,String.fromCharCode.apply(null,e.subarray(n,n+s)));n+=s;for(var u=0,d=c.indexOf(\"/\",u)+1;0<d;u=d,d=c.indexOf(\"/\",u)+1)l.FS_createPath(c.substring(0,u),c.substring(u,d-1),!0,!0);l.FS_createDataFile(c,null,e.subarray(a,a+i),!0,!0,!0)}l.removeRunDependency(\"dataUrl\")})})}return l.SystemInfo=function(){var e,t,n,r,o=navigator.userAgent+\" \",a=[[\"Firefox\",\"Firefox\"],[\"OPR\",\"Opera\"],[\"Edg\",\"Edge\"],[\"SamsungBrowser\",\"Samsung Browser\"],[\"Trident\",\"Internet Explorer\"],[\"MSIE\",\"Internet Explorer\"],[\"Chrome\",\"Chrome\"],[\"CriOS\",\"Chrome on iOS Safari\"],[\"FxiOS\",\"Firefox on iOS Safari\"],[\"Safari\",\"Safari\"]];function i(e,t,n){return(e=RegExp(e,\"i\").exec(t))&&e[n]}for(var s=0;s<a.length;++s)if(t=i(a[s][0]+\"[/ ](.*?)[ \\\\)]\",o,1)){e=a[s][1];break}\"Safari\"==e&&(t=i(\"Version/(.*?) \",o,1)),\"Internet Explorer\"==e&&(t=i(\"rv:(.*?)\\\\)? \",o,1)||t);for(var c=[[\"Windows (.*?)[;)]\",\"Windows\"],[\"Android ([0-9_.]+)\",\"Android\"],[\"iPhone OS ([0-9_.]+)\",\"iPhoneOS\"],[\"iPad.*? OS ([0-9_.]+)\",\"iPadOS\"],[\"FreeBSD( )\",\"FreeBSD\"],[\"OpenBSD( )\",\"OpenBSD\"],[\"Linux|X11()\",\"Linux\"],[\"Mac OS X ([0-9_\\\\.]+)\",\"MacOS\"],[\"bot|google|baidu|bing|msn|teoma|slurp|yandex\",\"Search Bot\"]],u=0;u<c.length;++u)if(l=i(c[u][0],o,1)){n=c[u][1],l=l.replace(/_/g,\".\");break}var d,l={\"NT 5.0\":\"2000\",\"NT 5.1\":\"XP\",\"NT 5.2\":\"Server 2003\",\"NT 6.0\":\"Vista\",\"NT 6.1\":\"7\",\"NT 6.2\":\"8\",\"NT 6.3\":\"8.1\",\"NT 10.0\":\"10\"}[l]||l,h=((h=document.createElement(\"canvas\"))&&(d=(f=h.getContext(\"webgl2\"))?2:0,f||(f=h&&h.getContext(\"webgl\"))&&(d=1),f&&(r=f.getExtension(\"WEBGL_debug_renderer_info\")&&f.getParameter(37446)||f.getParameter(7937))),\"undefined\"!=typeof SharedArrayBuffer),f=\"object\"==typeof WebAssembly&&\"function\"==typeof WebAssembly.compile;return{width:screen.width,height:screen.height,userAgent:o.trim(),browser:e||\"Unknown browser\",browserVersion:t||\"Unknown version\",mobile:/Mobile|Android|iP(ad|hone)/.test(navigator.appVersion),os:n||\"Unknown OS\",osVersion:l||\"Unknown OS Version\",gpu:r||\"Unknown GPU\",language:navigator.userLanguage||navigator.language,hasWebGL:d,hasCursorLock:!!document.body.requestPointerLock,hasFullscreen:!!document.body.requestFullscreen||!!document.body.webkitRequestFullscreen,hasThreads:h,hasWasm:f,hasWasmThreads:!1}}(),l.abortHandler=function(e){return D(e,\"\",0),!0},Error.stackTraceLimit=Math.max(Error.stackTraceLimit||0,50),l.readBodyWithProgress=function(a,i,s){var e=a.body?a.body.getReader():void 0,c=void 0!==a.headers.get(\"Content-Length\"),u=function(e,t){if(!t)return 0;var t=e.headers.get(\"Content-Encoding\"),n=parseInt(e.headers.get(\"Content-Length\"));switch(t){case\"br\":return Math.round(5*n);case\"gzip\":return Math.round(4*n);default:return n}}(a,c),d=new Uint8Array(u),l=[],h=0,f=0;return c||console.warn(\"[UnityCache] Response is served without Content-Length header. Please reconfigure server to include valid Content-Length for better download performance.\"),function o(){return void 0===e?a.arrayBuffer().then(function(e){var t=new Uint8Array(e);return i({type:\"progress\",response:a,total:e.length,loaded:0,lengthComputable:c,chunk:s?t:null}),t}):e.read().then(function(e){if(e.done){if(h===u)return d;if(h<u)return d.slice(0,h);for(var t=new Uint8Array(h),n=(t.set(d,0),f),r=0;r<l.length;++r)t.set(l[r],n),n+=l[r].length;return t}return h+e.value.length<=d.length?(d.set(e.value,h),f=h+e.value.length):l.push(e.value),h+=e.value.length,i({type:\"progress\",response:a,total:Math.max(u,h),loaded:h,lengthComputable:c,chunk:s?e.value:null}),o()})}().then(function(e){return i({type:\"load\",response:a,total:e.length,loaded:e.length,lengthComputable:c,chunk:null}),a.parsedBody=e,a})},l.fetchWithProgress=function(e,t){var n=function(){};return t&&t.onProgress&&(n=t.onProgress),fetch(e,t).then(function(e){return l.readBodyWithProgress(e,n,t.enableStreamingDownload)})},l.UnityCache=(f={name:\"UnityCache\",version:4},p={name:\"RequestMetaDataStore\",version:1},m=\"RequestStore\",g=\"WebAssembly\",b=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,v=null,x.getInstance=function(){return v=v||new x},x.destroyInstance=function(){return v?v.close().then(function(){v=null}):Promise.resolve()},x.prototype.clearCache=function(){var r=this;return this.isConnected.then(function(){return r.execute(p.name,\"clear\",[])}).then(function(){return r.cache.keys()}).then(function e(t){var n;return 0===t.length?Promise.resolve():(n=t.pop(),r.cache.delete(n).then(function(){return e(t)}))})},x.UnityCacheDatabase=f,x.RequestMetaDataStore=p,x.MaximumCacheSize=1073741824,x.prototype.loadRequest=function(e){var t=this;return t.isConnected.then(function(){return Promise.all([t.cache.match(e),t.loadRequestMetaData(e)])}).then(function(e){if(void 0!==e[0]&&void 0!==e[1])return{response:e[0],metaData:e[1]}})},x.prototype.loadRequestMetaData=function(e){e=\"string\"==typeof e?e:e.url;return this.execute(p.name,\"get\",[e])},x.prototype.updateRequestMetaData=function(e){return this.execute(p.name,\"put\",[e])},x.prototype.storeRequest=function(e,t){var n=this;return n.isConnected.then(function(){return n.cache.put(e,t)})},x.prototype.close=function(){return this.isConnected.then(function(){this.database&&(this.database.close(),this.database=null),this.cache&&(this.cache=null)}.bind(this))},x.prototype.connect=function(){var o=this;return void 0===b?Promise.reject(new Error(\"Could not connect to cache: IndexedDB is not supported.\")):void 0===window.caches?Promise.reject(new Error(\"Could not connect to cache: Cache API is not supported.\")):new Promise(function(t,n){try{function r(){o.openDBTimeout&&(clearTimeout(o.openDBTimeout),o.openDBTimeout=null)}o.openDBTimeout=setTimeout(function(){void 0===o.database&&n(new Error(\"Could not connect to cache: Database timeout.\"))},2e4);var e=b.open(f.name,f.version);e.onupgradeneeded=o.upgradeDatabase.bind(o),e.onsuccess=function(e){r(),o.database=e.target.result,t()},e.onerror=function(e){r(),o.database=null,n(new Error(\"Could not connect to database.\"))}}catch(e){r(),o.database=null,o.cache=null,n(new Error(\"Could not connect to cache: Could not connect to database.\"))}}).then(function(){var e=f.name+\"_\"+l.companyName+\"_\"+l.productName;return caches.open(e)}).then(function(e){o.cache=e})},x.prototype.upgradeDatabase=function(e){var t,e=e.target.result;e.objectStoreNames.contains(p.name)||(t=e.createObjectStore(p.name,{keyPath:\"url\"}),[\"accessedAt\",\"updatedAt\"].forEach(function(e){t.createIndex(e,e)})),e.objectStoreNames.contains(m)&&e.deleteObjectStore(m),e.objectStoreNames.contains(g)&&e.deleteObjectStore(g)},x.prototype.execute=function(a,i,s){return this.isConnected.then(function(){return new Promise(function(t,n){try{var e,r,o;null===this.database?n(new Error(\"indexedDB access denied\")):(e=-1!=[\"put\",\"delete\",\"clear\"].indexOf(i)?\"readwrite\":\"readonly\",r=this.database.transaction([a],e).objectStore(a),\"openKeyCursor\"==i&&(r=r.index(s[0]),s=s.slice(1)),(o=r[i].apply(r,s)).onsuccess=function(e){t(e.target.result)},o.onerror=function(e){n(e)})}catch(e){n(e)}}.bind(this))}.bind(this))},x.prototype.getMetaDataEntries=function(){var r=this,o=0,a=[];return new Promise(function(t,n){var e=r.database.transaction([p.name],\"readonly\").objectStore(p.name).openCursor();e.onsuccess=function(e){e=e.target.result;e?(o+=e.value.size,a.push(e.value),e.continue()):t({metaDataEntries:a,cacheSize:o})},e.onerror=function(e){n(e)}})},x.prototype.cleanUpCache=function(){var i=this;return this.getMetaDataEntries().then(function(e){for(var t=e.metaDataEntries,n=e.cacheSize,r=[],o=[],a=0;a<t.length;++a)t[a].version==l.productVersion?o.push(t[a]):(r.push(t[a]),n-=t[a].size);o.sort(function(e,t){return e.accessedAt-t.accessedAt});for(a=0;a<o.length&&!(n<x.MaximumCacheSize);++a)r.push(o[a]),n-=o[a].size;return function e(){var t;return 0===r.length?Promise.resolve():(t=r.pop(),i.cache.delete(t.url).then(function(e){if(e)return r=t.url,new Promise(function(e,t){var n=i.database.transaction([p.name],\"readwrite\");n.objectStore(p.name).delete(r),n.oncomplete=e,n.onerror=t});var r}).then(e))}()})},x),l.cachedFetch=(w=l.UnityCache,y=l.fetchWithProgress,S=l.readBodyWithProgress,function(o,a){var e,t,i=w.getInstance(),s=U(\"string\"==typeof o?o:o.url),c={enabled:(e=s,(!(t=a)||!t.method||\"GET\"===t.method)&&((!t||-1!=[\"must-revalidate\",\"immutable\"].indexOf(t.control))&&!!e.match(\"^https?://\")))};function u(n,r){return fetch(n,r).then(function(e){var t;return!c.enabled||c.revalidated?e:304===e.status?(c.revalidated=!0,i.updateRequestMetaData(c.metaData).then(function(){E(\"'\"+c.metaData.url+\"' successfully revalidated and served from the indexedDB cache\")}).catch(function(e){E(\"'\"+c.metaData.url+\"' successfully revalidated but not stored in the indexedDB cache due to the error: \"+e)}),S(c.response,r.onProgress,r.enableStreamingDownload)):200==e.status?(c.response=e,c.metaData.updatedAt=c.metaData.accessedAt,c.revalidated=!0,t=e.clone(),S(e,r.onProgress,r.enableStreamingDownload).then(function(e){return c.metaData.size=e.parsedBody.length,Promise.all([i.storeRequest(n,t),i.updateRequestMetaData(c.metaData)]).then(function(){E(\"'\"+s+\"' successfully downloaded and stored in the indexedDB cache\")}).catch(function(e){E(\"'\"+s+\"' successfully downloaded but not stored in the indexedDB cache due to the error: \"+e)}),e})):(E(\"'\"+s+\"' request failed with status: \"+e.status+\" \"+e.statusText),S(e,r.onProgress,r.enableStreamingDownload))})}return a&&(c.control=a.control,c.companyName=a.companyName,c.productName=a.productName,c.productVersion=a.productVersion),c.revalidated=!1,c.metaData={url:s,accessedAt:Date.now(),version:c.productVersion},c.response=null,c.enabled?i.loadRequest(s).then(function(e){var n,r,t;return e?(n=e.response,r=e.metaData,c.response=n,c.metaData.size=r.size,c.metaData.updatedAt=r.updatedAt,\"immutable\"==c.control?(c.revalidated=!0,i.updateRequestMetaData(r).then(function(){E(\"'\"+c.metaData.url+\"' served from the indexedDB cache without revalidation\")}),S(n,a.onProgress,a.enableStreamingDownload)):(e=s,(t=window.location.href.match(/^[a-z]+:\\/\\/[^\\/]+/))&&!e.lastIndexOf(t[0],0)||!n.headers.get(\"Last-Modified\")&&!n.headers.get(\"ETag\")?(e=(a=a||{}).headers||{},a.headers=e,n.headers.get(\"Last-Modified\")?(e[\"If-Modified-Since\"]=n.headers.get(\"Last-Modified\"),e[\"Cache-Control\"]=\"no-cache\"):n.headers.get(\"ETag\")&&(e[\"If-None-Match\"]=n.headers.get(\"ETag\"),e[\"Cache-Control\"]=\"no-cache\"),u(o,a)):fetch(s,{method:\"HEAD\"}).then(function(t){return c.revalidated=[\"Last-Modified\",\"ETag\"].every(function(e){return!n.headers.get(e)||n.headers.get(e)==t.headers.get(e)}),c.revalidated?(i.updateRequestMetaData(r).then(function(){E(\"'\"+c.metaData.url+\"' successfully revalidated and served from the indexedDB cache\")}),S(c.response,a.onProgress,a.enableStreamingDownload)):u(o,a)}))):u(o,a)}).catch(function(e){return E(\"Failed to load '\"+c.metaData.url+\"' from indexedDB cache due to the error: \"+e),y(o,a)}):y(o,a)}),new Promise(function(e,t){var n;l.SystemInfo.hasWebGL?1==l.SystemInfo.hasWebGL?(n='Your browser does not support graphics API \"WebGL 2\" which is required for this content.',\"Safari\"==l.SystemInfo.browser&&parseInt(l.SystemInfo.browserVersion)<15&&(l.SystemInfo.mobile||1<navigator.maxTouchPoints?n+=\"\\nUpgrade to iOS 15 or later.\":n+=\"\\nUpgrade to Safari 15 or later.\"),t(n)):l.SystemInfo.hasWasm?(l.startupErrorHandler=t,c(0),l.postRun.push(function(){c(1),delete l.startupErrorHandler,e(C)}),T()):t(\"Your browser does not support WebAssembly.\"):t(\"Your browser does not support WebGL.\")})}","size_bytes":20642},"client/public/unity/Build/TemplateData/style.css":{"content":"body { padding: 0; margin: 0 }\n#unity-container { position: absolute }\n#unity-container.unity-desktop { left: 50%; top: 50%; transform: translate(-50%, -50%) }\n#unity-container.unity-mobile { position: fixed; width: 100%; height: 100% }\n#unity-canvas { background: #231F20 }\n.unity-mobile #unity-canvas { width: 100%; height: 100% }\n#unity-loading-bar { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); display: none }\n#unity-logo { width: 154px; height: 130px; background: url('unity-logo-dark.png') no-repeat center }\n#unity-progress-bar-empty { width: 141px; height: 18px; margin-top: 10px; margin-left: 6.5px; background: url('progress-bar-empty-dark.png') no-repeat center }\n#unity-progress-bar-full { width: 0%; height: 18px; margin-top: 10px; background: url('progress-bar-full-dark.png') no-repeat center }\n#unity-footer { position: relative }\n.unity-mobile #unity-footer { display: none }\n#unity-webgl-logo { float:left; width: 204px; height: 38px; background: url('webgl-logo.png') no-repeat center }\n#unity-build-title { float: right; margin-right: 10px; line-height: 38px; font-family: arial; font-size: 18px }\n#unity-fullscreen-button { cursor:pointer; float: right; width: 38px; height: 38px; background: url('fullscreen-button.png') no-repeat center }\n#unity-warning { position: absolute; left: 50%; top: 5%; transform: translate(-50%); background: white; padding: 10px; display: none }\n","size_bytes":1428},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModuleAudio.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\n#if true // MODULE_MARKER\r\nusing System;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Plugins.Options;\r\nusing UnityEngine;\r\n#if UNITY_5 || UNITY_2017_1_OR_NEWER\r\nusing UnityEngine.Audio; // Required for AudioMixer\r\n#endif\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n\tpublic static class DOTweenModuleAudio\r\n    {\r\n        #region Shortcuts\r\n\r\n        #region Audio\r\n\r\n        /// <summary>Tweens an AudioSource's volume to the given value.\r\n        /// Also stores the AudioSource as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach (0 to 1)</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<float, float, FloatOptions> DOFade(this AudioSource target, float endValue, float duration)\r\n        {\r\n            if (endValue < 0) endValue = 0;\r\n            else if (endValue > 1) endValue = 1;\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(() => target.volume, x => target.volume = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an AudioSource's pitch to the given value.\r\n        /// Also stores the AudioSource as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<float, float, FloatOptions> DOPitch(this AudioSource target, float endValue, float duration)\r\n        {\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(() => target.pitch, x => target.pitch = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n#if UNITY_5 || UNITY_2017_1_OR_NEWER\r\n        #region AudioMixer (Unity 5 or Newer)\r\n\r\n        /// <summary>Tweens an AudioMixer's exposed float to the given value.\r\n        /// Also stores the AudioMixer as the tween's target so it can be used for filtered operations.\r\n        /// Note that you need to manually expose a float in an AudioMixerGroup in order to be able to tween it from an AudioMixer.</summary>\r\n        /// <param name=\"floatName\">Name given to the exposed float to set</param>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<float, float, FloatOptions> DOSetFloat(this AudioMixer target, string floatName, float endValue, float duration)\r\n        {\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(()=> {\r\n                    float currVal;\r\n                    target.GetFloat(floatName, out currVal);\r\n                    return currVal;\r\n                }, x=> target.SetFloat(floatName, x), endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #region Operation Shortcuts\r\n\r\n        /// <summary>\r\n        /// Completes all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens completed\r\n        /// (meaning the tweens that don't have infinite loops and were not already complete)\r\n        /// </summary>\r\n        /// <param name=\"withCallbacks\">For Sequences only: if TRUE also internal Sequence callbacks will be fired,\r\n        /// otherwise they will be ignored</param>\r\n        public static int DOComplete(this AudioMixer target, bool withCallbacks = false)\r\n        {\r\n            return DOTween.Complete(target, withCallbacks);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Kills all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens killed.\r\n        /// </summary>\r\n        /// <param name=\"complete\">If TRUE completes the tween before killing it</param>\r\n        public static int DOKill(this AudioMixer target, bool complete = false)\r\n        {\r\n            return DOTween.Kill(target, complete);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Flips the direction (backwards if it was going forward or viceversa) of all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens flipped.\r\n        /// </summary>\r\n        public static int DOFlip(this AudioMixer target)\r\n        {\r\n            return DOTween.Flip(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Sends to the given position all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens involved.\r\n        /// </summary>\r\n        /// <param name=\"to\">Time position to reach\r\n        /// (if higher than the whole tween duration the tween will simply reach its end)</param>\r\n        /// <param name=\"andPlay\">If TRUE will play the tween after reaching the given position, otherwise it will pause it</param>\r\n        public static int DOGoto(this AudioMixer target, float to, bool andPlay = false)\r\n        {\r\n            return DOTween.Goto(target, to, andPlay);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Pauses all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens paused.\r\n        /// </summary>\r\n        public static int DOPause(this AudioMixer target)\r\n        {\r\n            return DOTween.Pause(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Plays all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens played.\r\n        /// </summary>\r\n        public static int DOPlay(this AudioMixer target)\r\n        {\r\n            return DOTween.Play(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Plays backwards all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens played.\r\n        /// </summary>\r\n        public static int DOPlayBackwards(this AudioMixer target)\r\n        {\r\n            return DOTween.PlayBackwards(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Plays forward all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens played.\r\n        /// </summary>\r\n        public static int DOPlayForward(this AudioMixer target)\r\n        {\r\n            return DOTween.PlayForward(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Restarts all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens restarted.\r\n        /// </summary>\r\n        public static int DORestart(this AudioMixer target)\r\n        {\r\n            return DOTween.Restart(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Rewinds all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens rewinded.\r\n        /// </summary>\r\n        public static int DORewind(this AudioMixer target)\r\n        {\r\n            return DOTween.Rewind(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Smoothly rewinds all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens rewinded.\r\n        /// </summary>\r\n        public static int DOSmoothRewind(this AudioMixer target)\r\n        {\r\n            return DOTween.SmoothRewind(target);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Toggles the paused state (plays if it was paused, pauses if it was playing) of all tweens that have this target as a reference\r\n        /// (meaning tweens that were started from this target, or that had this target added as an Id)\r\n        /// and returns the total number of tweens involved.\r\n        /// </summary>\r\n        public static int DOTogglePause(this AudioMixer target)\r\n        {\r\n            return DOTween.TogglePause(target);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n#endif\r\n\r\n        #endregion\r\n    }\r\n}\r\n#endif\r\n","size_bytes":9054},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModuleEPOOutline.cs":{"content":"ï»¿using UnityEngine;\r\n\r\n#if false || EPO_DOTWEEN // MODULE_MARKER\r\n\r\nusing EPOOutline;\r\nusing DG.Tweening.Plugins.Options;\r\nusing DG.Tweening;\r\nusing DG.Tweening.Core;\r\n\r\nnamespace DG.Tweening\r\n{\r\n    public static class DOTweenModuleEPOOutline\r\n    {\r\n        public static int DOKill(this SerializedPass target, bool complete)\r\n        {\r\n            return DOTween.Kill(target, complete);\r\n        }\r\n\r\n        public static TweenerCore<float, float, FloatOptions> DOFloat(this SerializedPass target, string propertyName, float endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.GetFloat(propertyName), x => target.SetFloat(propertyName, x), endValue, duration);\r\n            tweener.SetOptions(true).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this SerializedPass target, string propertyName, float endValue, float duration)\r\n        {\r\n            var tweener = DOTween.ToAlpha(() => target.GetColor(propertyName), x => target.SetColor(propertyName, x), endValue, duration);\r\n            tweener.SetOptions(true).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this SerializedPass target, string propertyName, Color endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.GetColor(propertyName), x => target.SetColor(propertyName, x), endValue, duration);\r\n            tweener.SetOptions(false).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<Vector4, Vector4, VectorOptions> DOVector(this SerializedPass target, string propertyName, Vector4 endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.GetVector(propertyName), x => target.SetVector(propertyName, x), endValue, duration);\r\n            tweener.SetOptions(false).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<float, float, FloatOptions> DOFloat(this SerializedPass target, int propertyId, float endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.GetFloat(propertyId), x => target.SetFloat(propertyId, x), endValue, duration);\r\n            tweener.SetOptions(true).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this SerializedPass target, int propertyId, float endValue, float duration)\r\n        {\r\n            var tweener = DOTween.ToAlpha(() => target.GetColor(propertyId), x => target.SetColor(propertyId, x), endValue, duration);\r\n            tweener.SetOptions(true).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this SerializedPass target, int propertyId, Color endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.GetColor(propertyId), x => target.SetColor(propertyId, x), endValue, duration);\r\n            tweener.SetOptions(false).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static TweenerCore<Vector4, Vector4, VectorOptions> DOVector(this SerializedPass target, int propertyId, Vector4 endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.GetVector(propertyId), x => target.SetVector(propertyId, x), endValue, duration);\r\n            tweener.SetOptions(false).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        public static int DOKill(this Outlinable.OutlineProperties target, bool complete = false)\r\n        {\r\n            return DOTween.Kill(target, complete);\r\n        }\r\n\r\n        public static int DOKill(this Outliner target, bool complete = false)\r\n        {\r\n            return DOTween.Kill(target, complete);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Controls the alpha (transparency) of the outline\r\n        /// </summary>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this Outlinable.OutlineProperties target, float endValue, float duration)\r\n        {\r\n            var tweener = DOTween.ToAlpha(() => target.Color, x => target.Color = x, endValue, duration);\r\n            tweener.SetOptions(true).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        /// <summary>\r\n        /// Controls the color of the outline\r\n        /// </summary>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this Outlinable.OutlineProperties target, Color endValue, float duration)\r\n        {\r\n            var tweener = DOTween.To(() => target.Color, x => target.Color = x, endValue, duration);\r\n            tweener.SetOptions(false).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        /// <summary>\r\n        /// Controls the amount of blur applied to the outline\r\n        /// </summary>\r\n        public static TweenerCore<float, float, FloatOptions> DOBlurShift(this Outlinable.OutlineProperties target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            var tweener = DOTween.To(() => target.BlurShift, x => target.BlurShift = x, endValue, duration);\r\n            tweener.SetOptions(snapping).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        /// <summary>\r\n        /// Controls the amount of blur applied to the outline\r\n        /// </summary>\r\n        public static TweenerCore<float, float, FloatOptions> DOBlurShift(this Outliner target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            var tweener = DOTween.To(() => target.BlurShift, x => target.BlurShift = x, endValue, duration);\r\n            tweener.SetOptions(snapping).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        /// <summary>\r\n        /// Controls the amount of dilation applied to the outline\r\n        /// </summary>\r\n        public static TweenerCore<float, float, FloatOptions> DODilateShift(this Outlinable.OutlineProperties target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            var tweener = DOTween.To(() => target.DilateShift, x => target.DilateShift = x, endValue, duration);\r\n            tweener.SetOptions(snapping).SetTarget(target);\r\n            return tweener;\r\n        }\r\n\r\n        /// <summary>\r\n        /// Controls the amount of dilation applied to the outline\r\n        /// </summary>\r\n        public static TweenerCore<float, float, FloatOptions> DODilateShift(this Outliner target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            var tweener = DOTween.To(() => target.DilateShift, x => target.DilateShift = x, endValue, duration);\r\n            tweener.SetOptions(snapping).SetTarget(target);\r\n            return tweener;\r\n        }\r\n    }\r\n}\r\n#endif\r\n","size_bytes":6855},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModulePhysics.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\n#if true // MODULE_MARKER\r\nusing System;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Core.Enums;\r\nusing DG.Tweening.Plugins;\r\nusing DG.Tweening.Plugins.Core.PathCore;\r\nusing DG.Tweening.Plugins.Options;\r\nusing UnityEngine;\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n\tpublic static class DOTweenModulePhysics\r\n    {\r\n        #region Shortcuts\r\n\r\n        #region Rigidbody\r\n\r\n        /// <summary>Tweens a Rigidbody's position to the given value.\r\n        /// Also stores the rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOMove(this Rigidbody target, Vector3 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody's X position to the given value.\r\n        /// Also stores the rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOMoveX(this Rigidbody target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, new Vector3(endValue, 0, 0), duration);\r\n            t.SetOptions(AxisConstraint.X, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody's Y position to the given value.\r\n        /// Also stores the rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOMoveY(this Rigidbody target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, new Vector3(0, endValue, 0), duration);\r\n            t.SetOptions(AxisConstraint.Y, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody's Z position to the given value.\r\n        /// Also stores the rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOMoveZ(this Rigidbody target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, new Vector3(0, 0, endValue), duration);\r\n            t.SetOptions(AxisConstraint.Z, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody's rotation to the given value.\r\n        /// Also stores the rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"mode\">Rotation mode</param>\r\n        public static TweenerCore<Quaternion, Vector3, QuaternionOptions> DORotate(this Rigidbody target, Vector3 endValue, float duration, RotateMode mode = RotateMode.Fast)\r\n        {\r\n            TweenerCore<Quaternion, Vector3, QuaternionOptions> t = DOTween.To(() => target.rotation, target.MoveRotation, endValue, duration);\r\n            t.SetTarget(target);\r\n            t.plugOptions.rotateMode = mode;\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody's rotation so that it will look towards the given position.\r\n        /// Also stores the rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"towards\">The position to look at</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"axisConstraint\">Eventual axis constraint for the rotation</param>\r\n        /// <param name=\"up\">The vector that defines in which direction up is (default: Vector3.up)</param>\r\n        public static TweenerCore<Quaternion, Vector3, QuaternionOptions> DOLookAt(this Rigidbody target, Vector3 towards, float duration, AxisConstraint axisConstraint = AxisConstraint.None, Vector3? up = null)\r\n        {\r\n            TweenerCore<Quaternion, Vector3, QuaternionOptions> t = DOTween.To(() => target.rotation, target.MoveRotation, towards, duration)\r\n                .SetTarget(target).SetSpecialStartupMode(SpecialStartupMode.SetLookAt);\r\n            t.plugOptions.axisConstraint = axisConstraint;\r\n            t.plugOptions.up = (up == null) ? Vector3.up : (Vector3)up;\r\n            return t;\r\n        }\r\n\r\n        #region Special\r\n\r\n        /// <summary>Tweens a Rigidbody's position to the given value, while also applying a jump effect along the Y axis.\r\n        /// Returns a Sequence instead of a Tweener.\r\n        /// Also stores the Rigidbody as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param>\r\n        /// <param name=\"jumpPower\">Power of the jump (the max height of the jump is represented by this plus the final Y offset)</param>\r\n        /// <param name=\"numJumps\">Total number of jumps</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Sequence DOJump(this Rigidbody target, Vector3 endValue, float jumpPower, int numJumps, float duration, bool snapping = false)\r\n        {\r\n            if (numJumps < 1) numJumps = 1;\r\n            float startPosY = 0;\r\n            float offsetY = -1;\r\n            bool offsetYSet = false;\r\n            Sequence s = DOTween.Sequence();\r\n            Tween yTween = DOTween.To(() => target.position, target.MovePosition, new Vector3(0, jumpPower, 0), duration / (numJumps * 2))\r\n                .SetOptions(AxisConstraint.Y, snapping).SetEase(Ease.OutQuad).SetRelative()\r\n                .SetLoops(numJumps * 2, LoopType.Yoyo)\r\n                .OnStart(() => startPosY = target.position.y);\r\n            s.Append(DOTween.To(() => target.position, target.MovePosition, new Vector3(endValue.x, 0, 0), duration)\r\n                    .SetOptions(AxisConstraint.X, snapping).SetEase(Ease.Linear)\r\n                ).Join(DOTween.To(() => target.position, target.MovePosition, new Vector3(0, 0, endValue.z), duration)\r\n                    .SetOptions(AxisConstraint.Z, snapping).SetEase(Ease.Linear)\r\n                ).Join(yTween)\r\n                .SetTarget(target).SetEase(DOTween.defaultEaseType);\r\n            yTween.OnUpdate(() => {\r\n                if (!offsetYSet) {\r\n                    offsetYSet = true;\r\n                    offsetY = s.isRelative ? endValue.y : endValue.y - startPosY;\r\n                }\r\n                Vector3 pos = target.position;\r\n                pos.y += DOVirtual.EasedValue(0, offsetY, yTween.ElapsedPercentage(), Ease.OutQuad);\r\n                target.MovePosition(pos);\r\n            });\r\n            return s;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody's position through the given path waypoints, using the chosen path algorithm.\r\n        /// Also stores the Rigidbody as the tween's target so it can be used for filtered operations.\r\n        /// <para>NOTE: to tween a rigidbody correctly it should be set to kinematic at least while being tweened.</para>\r\n        /// <para>BEWARE: doesn't work on Windows Phone store (waiting for Unity to fix their own bug).\r\n        /// If you plan to publish there you should use a regular transform.DOPath.</para></summary>\r\n        /// <param name=\"path\">The waypoints to go through</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"pathType\">The type of path: Linear (straight path), CatmullRom (curved CatmullRom path) or CubicBezier (curved with control points)</param>\r\n        /// <param name=\"pathMode\">The path mode: 3D, side-scroller 2D, top-down 2D</param>\r\n        /// <param name=\"resolution\">The resolution of the path (useless in case of Linear paths): higher resolutions make for more detailed curved paths but are more expensive.\r\n        /// Defaults to 10, but a value of 5 is usually enough if you don't have dramatic long curves between waypoints</param>\r\n        /// <param name=\"gizmoColor\">The color of the path (shown when gizmos are active in the Play panel and the tween is running)</param>\r\n        public static TweenerCore<Vector3, Path, PathOptions> DOPath(\r\n            this Rigidbody target, Vector3[] path, float duration, PathType pathType = PathType.Linear,\r\n            PathMode pathMode = PathMode.Full3D, int resolution = 10, Color? gizmoColor = null\r\n        )\r\n        {\r\n            if (resolution < 1) resolution = 1;\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => target.position, target.MovePosition, new Path(pathType, path, resolution, gizmoColor), duration)\r\n                .SetTarget(target).SetUpdate(UpdateType.Fixed);\r\n\r\n            t.plugOptions.isRigidbody = true;\r\n            t.plugOptions.mode = pathMode;\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a Rigidbody's localPosition through the given path waypoints, using the chosen path algorithm.\r\n        /// Also stores the Rigidbody as the tween's target so it can be used for filtered operations\r\n        /// <para>NOTE: to tween a rigidbody correctly it should be set to kinematic at least while being tweened.</para>\r\n        /// <para>BEWARE: doesn't work on Windows Phone store (waiting for Unity to fix their own bug).\r\n        /// If you plan to publish there you should use a regular transform.DOLocalPath.</para></summary>\r\n        /// <param name=\"path\">The waypoint to go through</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"pathType\">The type of path: Linear (straight path), CatmullRom (curved CatmullRom path) or CubicBezier (curved with control points)</param>\r\n        /// <param name=\"pathMode\">The path mode: 3D, side-scroller 2D, top-down 2D</param>\r\n        /// <param name=\"resolution\">The resolution of the path: higher resolutions make for more detailed curved paths but are more expensive.\r\n        /// Defaults to 10, but a value of 5 is usually enough if you don't have dramatic long curves between waypoints</param>\r\n        /// <param name=\"gizmoColor\">The color of the path (shown when gizmos are active in the Play panel and the tween is running)</param>\r\n        public static TweenerCore<Vector3, Path, PathOptions> DOLocalPath(\r\n            this Rigidbody target, Vector3[] path, float duration, PathType pathType = PathType.Linear,\r\n            PathMode pathMode = PathMode.Full3D, int resolution = 10, Color? gizmoColor = null\r\n        )\r\n        {\r\n            if (resolution < 1) resolution = 1;\r\n            Transform trans = target.transform;\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => trans.localPosition, x => target.MovePosition(trans.parent == null ? x : trans.parent.TransformPoint(x)), new Path(pathType, path, resolution, gizmoColor), duration)\r\n                .SetTarget(target).SetUpdate(UpdateType.Fixed);\r\n\r\n            t.plugOptions.isRigidbody = true;\r\n            t.plugOptions.mode = pathMode;\r\n            t.plugOptions.useLocalPosition = true;\r\n            return t;\r\n        }\r\n        // Used by path editor when creating the actual tween, so it can pass a pre-compiled path\r\n        internal static TweenerCore<Vector3, Path, PathOptions> DOPath(\r\n            this Rigidbody target, Path path, float duration, PathMode pathMode = PathMode.Full3D\r\n        )\r\n        {\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => target.position, target.MovePosition, path, duration)\r\n                .SetTarget(target);\r\n\r\n            t.plugOptions.isRigidbody = true;\r\n            t.plugOptions.mode = pathMode;\r\n            return t;\r\n        }\r\n        internal static TweenerCore<Vector3, Path, PathOptions> DOLocalPath(\r\n            this Rigidbody target, Path path, float duration, PathMode pathMode = PathMode.Full3D\r\n        )\r\n        {\r\n            Transform trans = target.transform;\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => trans.localPosition, x => target.MovePosition(trans.parent == null ? x : trans.parent.TransformPoint(x)), path, duration)\r\n                .SetTarget(target);\r\n\r\n            t.plugOptions.isRigidbody = true;\r\n            t.plugOptions.mode = pathMode;\r\n            t.plugOptions.useLocalPosition = true;\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\t}\r\n}\r\n#endif\r\n","size_bytes":13989},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModulePhysics2D.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\n#if true && (UNITY_4_3 || UNITY_4_4 || UNITY_4_5 || UNITY_4_6 || UNITY_5 || UNITY_2017_1_OR_NEWER) // MODULE_MARKER\r\nusing System;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Plugins;\r\nusing DG.Tweening.Plugins.Core.PathCore;\r\nusing DG.Tweening.Plugins.Options;\r\nusing UnityEngine;\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n\tpublic static class DOTweenModulePhysics2D\r\n    {\r\n        #region Shortcuts\r\n\r\n        #region Rigidbody2D Shortcuts\r\n\r\n        /// <summary>Tweens a Rigidbody2D's position to the given value.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOMove(this Rigidbody2D target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody2D's X position to the given value.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOMoveX(this Rigidbody2D target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, new Vector2(endValue, 0), duration);\r\n            t.SetOptions(AxisConstraint.X, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody2D's Y position to the given value.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOMoveY(this Rigidbody2D target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.position, target.MovePosition, new Vector2(0, endValue), duration);\r\n            t.SetOptions(AxisConstraint.Y, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody2D's rotation to the given value.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<float, float, FloatOptions> DORotate(this Rigidbody2D target, float endValue, float duration)\r\n        {\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(() => target.rotation, target.MoveRotation, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #region Special\r\n\r\n        /// <summary>Tweens a Rigidbody2D's position to the given value, while also applying a jump effect along the Y axis.\r\n        /// Returns a Sequence instead of a Tweener.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations.\r\n        /// <para>IMPORTANT: a rigidbody2D can't be animated in a jump arc using MovePosition, so the tween will directly set the position</para></summary>\r\n        /// <param name=\"endValue\">The end value to reach</param>\r\n        /// <param name=\"jumpPower\">Power of the jump (the max height of the jump is represented by this plus the final Y offset)</param>\r\n        /// <param name=\"numJumps\">Total number of jumps</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Sequence DOJump(this Rigidbody2D target, Vector2 endValue, float jumpPower, int numJumps, float duration, bool snapping = false)\r\n        {\r\n            if (numJumps < 1) numJumps = 1;\r\n            float startPosY = 0;\r\n            float offsetY = -1;\r\n            bool offsetYSet = false;\r\n            Sequence s = DOTween.Sequence();\r\n            Tween yTween = DOTween.To(() => target.position, x => target.position = x, new Vector2(0, jumpPower), duration / (numJumps * 2))\r\n                .SetOptions(AxisConstraint.Y, snapping).SetEase(Ease.OutQuad).SetRelative()\r\n                .SetLoops(numJumps * 2, LoopType.Yoyo)\r\n                .OnStart(() => startPosY = target.position.y);\r\n            s.Append(DOTween.To(() => target.position, x => target.position = x, new Vector2(endValue.x, 0), duration)\r\n                    .SetOptions(AxisConstraint.X, snapping).SetEase(Ease.Linear)\r\n                ).Join(yTween)\r\n                .SetTarget(target).SetEase(DOTween.defaultEaseType);\r\n            yTween.OnUpdate(() => {\r\n                if (!offsetYSet) {\r\n                    offsetYSet = true;\r\n                    offsetY = s.isRelative ? endValue.y : endValue.y - startPosY;\r\n                }\r\n                Vector3 pos = target.position;\r\n                pos.y += DOVirtual.EasedValue(0, offsetY, yTween.ElapsedPercentage(), Ease.OutQuad);\r\n                target.MovePosition(pos);\r\n            });\r\n            return s;\r\n        }\r\n\r\n        /// <summary>Tweens a Rigidbody2D's position through the given path waypoints, using the chosen path algorithm.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations.\r\n        /// <para>NOTE: to tween a Rigidbody2D correctly it should be set to kinematic at least while being tweened.</para>\r\n        /// <para>BEWARE: doesn't work on Windows Phone store (waiting for Unity to fix their own bug).\r\n        /// If you plan to publish there you should use a regular transform.DOPath.</para></summary>\r\n        /// <param name=\"path\">The waypoints to go through</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"pathType\">The type of path: Linear (straight path), CatmullRom (curved CatmullRom path) or CubicBezier (curved with control points)</param>\r\n        /// <param name=\"pathMode\">The path mode: 3D, side-scroller 2D, top-down 2D</param>\r\n        /// <param name=\"resolution\">The resolution of the path (useless in case of Linear paths): higher resolutions make for more detailed curved paths but are more expensive.\r\n        /// Defaults to 10, but a value of 5 is usually enough if you don't have dramatic long curves between waypoints</param>\r\n        /// <param name=\"gizmoColor\">The color of the path (shown when gizmos are active in the Play panel and the tween is running)</param>\r\n        public static TweenerCore<Vector3, Path, PathOptions> DOPath(\r\n            this Rigidbody2D target, Vector2[] path, float duration, PathType pathType = PathType.Linear,\r\n            PathMode pathMode = PathMode.Full3D, int resolution = 10, Color? gizmoColor = null\r\n        )\r\n        {\r\n            if (resolution < 1) resolution = 1;\r\n            int len = path.Length;\r\n            Vector3[] path3D = new Vector3[len];\r\n            for (int i = 0; i < len; ++i) path3D[i] = path[i];\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => target.position, x => target.MovePosition(x), new Path(pathType, path3D, resolution, gizmoColor), duration)\r\n                .SetTarget(target).SetUpdate(UpdateType.Fixed);\r\n\r\n            t.plugOptions.isRigidbody2D = true;\r\n            t.plugOptions.mode = pathMode;\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a Rigidbody2D's localPosition through the given path waypoints, using the chosen path algorithm.\r\n        /// Also stores the Rigidbody2D as the tween's target so it can be used for filtered operations\r\n        /// <para>NOTE: to tween a Rigidbody2D correctly it should be set to kinematic at least while being tweened.</para>\r\n        /// <para>BEWARE: doesn't work on Windows Phone store (waiting for Unity to fix their own bug).\r\n        /// If you plan to publish there you should use a regular transform.DOLocalPath.</para></summary>\r\n        /// <param name=\"path\">The waypoint to go through</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"pathType\">The type of path: Linear (straight path), CatmullRom (curved CatmullRom path) or CubicBezier (curved with control points)</param>\r\n        /// <param name=\"pathMode\">The path mode: 3D, side-scroller 2D, top-down 2D</param>\r\n        /// <param name=\"resolution\">The resolution of the path: higher resolutions make for more detailed curved paths but are more expensive.\r\n        /// Defaults to 10, but a value of 5 is usually enough if you don't have dramatic long curves between waypoints</param>\r\n        /// <param name=\"gizmoColor\">The color of the path (shown when gizmos are active in the Play panel and the tween is running)</param>\r\n        public static TweenerCore<Vector3, Path, PathOptions> DOLocalPath(\r\n            this Rigidbody2D target, Vector2[] path, float duration, PathType pathType = PathType.Linear,\r\n            PathMode pathMode = PathMode.Full3D, int resolution = 10, Color? gizmoColor = null\r\n        )\r\n        {\r\n            if (resolution < 1) resolution = 1;\r\n            int len = path.Length;\r\n            Vector3[] path3D = new Vector3[len];\r\n            for (int i = 0; i < len; ++i) path3D[i] = path[i];\r\n            Transform trans = target.transform;\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => trans.localPosition, x => target.MovePosition(trans.parent == null ? x : trans.parent.TransformPoint(x)), new Path(pathType, path3D, resolution, gizmoColor), duration)\r\n                .SetTarget(target).SetUpdate(UpdateType.Fixed);\r\n\r\n            t.plugOptions.isRigidbody2D = true;\r\n            t.plugOptions.mode = pathMode;\r\n            t.plugOptions.useLocalPosition = true;\r\n            return t;\r\n        }\r\n        // Used by path editor when creating the actual tween, so it can pass a pre-compiled path\r\n        internal static TweenerCore<Vector3, Path, PathOptions> DOPath(\r\n            this Rigidbody2D target, Path path, float duration, PathMode pathMode = PathMode.Full3D\r\n        )\r\n        {\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => target.position, x => target.MovePosition(x), path, duration)\r\n                .SetTarget(target);\r\n\r\n            t.plugOptions.isRigidbody2D = true;\r\n            t.plugOptions.mode = pathMode;\r\n            return t;\r\n        }\r\n        internal static TweenerCore<Vector3, Path, PathOptions> DOLocalPath(\r\n            this Rigidbody2D target, Path path, float duration, PathMode pathMode = PathMode.Full3D\r\n        )\r\n        {\r\n            Transform trans = target.transform;\r\n            TweenerCore<Vector3, Path, PathOptions> t = DOTween.To(PathPlugin.Get(), () => trans.localPosition, x => target.MovePosition(trans.parent == null ? x : trans.parent.TransformPoint(x)), path, duration)\r\n                .SetTarget(target);\r\n\r\n            t.plugOptions.isRigidbody2D = true;\r\n            t.plugOptions.mode = pathMode;\r\n            t.plugOptions.useLocalPosition = true;\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\t}\r\n}\r\n#endif\r\n","size_bytes":12215},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModuleSprite.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\n#if true && (UNITY_4_3 || UNITY_4_4 || UNITY_4_5 || UNITY_4_6 || UNITY_5 || UNITY_2017_1_OR_NEWER) // MODULE_MARKER\r\nusing System;\r\nusing UnityEngine;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Plugins.Options;\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n\tpublic static class DOTweenModuleSprite\r\n    {\r\n        #region Shortcuts\r\n\r\n        #region SpriteRenderer\r\n\r\n        /// <summary>Tweens a SpriteRenderer's color to the given value.\r\n        /// Also stores the spriteRenderer as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this SpriteRenderer target, Color endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.To(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Material's alpha color to the given value.\r\n        /// Also stores the spriteRenderer as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this SpriteRenderer target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.ToAlpha(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a SpriteRenderer's color using the given gradient\r\n        /// (NOTE 1: only uses the colors of the gradient, not the alphas - NOTE 2: creates a Sequence, not a Tweener).\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"gradient\">The gradient to use</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Sequence DOGradientColor(this SpriteRenderer target, Gradient gradient, float duration)\r\n        {\r\n            Sequence s = DOTween.Sequence();\r\n            GradientColorKey[] colors = gradient.colorKeys;\r\n            int len = colors.Length;\r\n            for (int i = 0; i < len; ++i) {\r\n                GradientColorKey c = colors[i];\r\n                if (i == 0 && c.time <= 0) {\r\n                    target.color = c.color;\r\n                    continue;\r\n                }\r\n                float colorDuration = i == len - 1\r\n                    ? duration - s.Duration(false) // Verifies that total duration is correct\r\n                    : duration * (i == 0 ? c.time : c.time - colors[i - 1].time);\r\n                s.Append(target.DOColor(c.color, colorDuration).SetEase(Ease.Linear));\r\n            }\r\n            s.SetTarget(target);\r\n            return s;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Blendables\r\n\r\n        #region SpriteRenderer\r\n\r\n        /// <summary>Tweens a SpriteRenderer's color to the given value,\r\n        /// in a way that allows other DOBlendableColor tweens to work together on the same target,\r\n        /// instead than fight each other as multiple DOColor would do.\r\n        /// Also stores the SpriteRenderer as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The value to tween to</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Tweener DOBlendableColor(this SpriteRenderer target, Color endValue, float duration)\r\n        {\r\n            endValue = endValue - target.color;\r\n            Color to = new Color(0, 0, 0, 0);\r\n            return DOTween.To(() => to, x => {\r\n                    Color diff = x - to;\r\n                    to = x;\r\n                    target.color += diff;\r\n                }, endValue, duration)\r\n                .Blendable().SetTarget(target);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\t}\r\n}\r\n#endif\r\n","size_bytes":4256},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModuleUI.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\n#if true && (UNITY_4_6 || UNITY_5 || UNITY_2017_1_OR_NEWER) // MODULE_MARKER\r\n\r\nusing System;\r\nusing System.Globalization;\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Core.Enums;\r\nusing DG.Tweening.Plugins;\r\nusing DG.Tweening.Plugins.Options;\r\nusing Outline = UnityEngine.UI.Outline;\r\nusing Text = UnityEngine.UI.Text;\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n\tpublic static class DOTweenModuleUI\r\n    {\r\n        #region Shortcuts\r\n\r\n        #region CanvasGroup\r\n\r\n        /// <summary>Tweens a CanvasGroup's alpha color to the given value.\r\n        /// Also stores the canvasGroup as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<float, float, FloatOptions> DOFade(this CanvasGroup target, float endValue, float duration)\r\n        {\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(() => target.alpha, x => target.alpha = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Graphic\r\n\r\n        /// <summary>Tweens an Graphic's color to the given value.\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this Graphic target, Color endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.To(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an Graphic's alpha color to the given value.\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this Graphic target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.ToAlpha(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Image\r\n\r\n        /// <summary>Tweens an Image's color to the given value.\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this Image target, Color endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.To(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an Image's alpha color to the given value.\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this Image target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.ToAlpha(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an Image's fillAmount to the given value.\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach (0 to 1)</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<float, float, FloatOptions> DOFillAmount(this Image target, float endValue, float duration)\r\n        {\r\n            if (endValue > 1) endValue = 1;\r\n            else if (endValue < 0) endValue = 0;\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(() => target.fillAmount, x => target.fillAmount = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an Image's colors using the given gradient\r\n        /// (NOTE 1: only uses the colors of the gradient, not the alphas - NOTE 2: creates a Sequence, not a Tweener).\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"gradient\">The gradient to use</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Sequence DOGradientColor(this Image target, Gradient gradient, float duration)\r\n        {\r\n            Sequence s = DOTween.Sequence();\r\n            GradientColorKey[] colors = gradient.colorKeys;\r\n            int len = colors.Length;\r\n            for (int i = 0; i < len; ++i) {\r\n                GradientColorKey c = colors[i];\r\n                if (i == 0 && c.time <= 0) {\r\n                    target.color = c.color;\r\n                    continue;\r\n                }\r\n                float colorDuration = i == len - 1\r\n                    ? duration - s.Duration(false) // Verifies that total duration is correct\r\n                    : duration * (i == 0 ? c.time : c.time - colors[i - 1].time);\r\n                s.Append(target.DOColor(c.color, colorDuration).SetEase(Ease.Linear));\r\n            }\r\n            s.SetTarget(target);\r\n            return s;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region LayoutElement\r\n\r\n        /// <summary>Tweens an LayoutElement's flexibleWidth/Height to the given value.\r\n        /// Also stores the LayoutElement as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOFlexibleSize(this LayoutElement target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => new Vector2(target.flexibleWidth, target.flexibleHeight), x => {\r\n                    target.flexibleWidth = x.x;\r\n                    target.flexibleHeight = x.y;\r\n                }, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an LayoutElement's minWidth/Height to the given value.\r\n        /// Also stores the LayoutElement as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOMinSize(this LayoutElement target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => new Vector2(target.minWidth, target.minHeight), x => {\r\n                target.minWidth = x.x;\r\n                target.minHeight = x.y;\r\n            }, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens an LayoutElement's preferredWidth/Height to the given value.\r\n        /// Also stores the LayoutElement as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOPreferredSize(this LayoutElement target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => new Vector2(target.preferredWidth, target.preferredHeight), x => {\r\n                target.preferredWidth = x.x;\r\n                target.preferredHeight = x.y;\r\n            }, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Outline\r\n\r\n        /// <summary>Tweens a Outline's effectColor to the given value.\r\n        /// Also stores the Outline as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this Outline target, Color endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.To(() => target.effectColor, x => target.effectColor = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Outline's effectColor alpha to the given value.\r\n        /// Also stores the Outline as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this Outline target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.ToAlpha(() => target.effectColor, x => target.effectColor = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Outline's effectDistance to the given value.\r\n        /// Also stores the Outline as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOScale(this Outline target, Vector2 endValue, float duration)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.effectDistance, x => target.effectDistance = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region RectTransform\r\n\r\n        /// <summary>Tweens a RectTransform's anchoredPosition to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOAnchorPos(this RectTransform target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.anchoredPosition, x => target.anchoredPosition = x, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's anchoredPosition X to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOAnchorPosX(this RectTransform target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.anchoredPosition, x => target.anchoredPosition = x, new Vector2(endValue, 0), duration);\r\n            t.SetOptions(AxisConstraint.X, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's anchoredPosition Y to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOAnchorPosY(this RectTransform target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.anchoredPosition, x => target.anchoredPosition = x, new Vector2(0, endValue), duration);\r\n            t.SetOptions(AxisConstraint.Y, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a RectTransform's anchoredPosition3D to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOAnchorPos3D(this RectTransform target, Vector3 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.anchoredPosition3D, x => target.anchoredPosition3D = x, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's anchoredPosition3D X to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOAnchorPos3DX(this RectTransform target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.anchoredPosition3D, x => target.anchoredPosition3D = x, new Vector3(endValue, 0, 0), duration);\r\n            t.SetOptions(AxisConstraint.X, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's anchoredPosition3D Y to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOAnchorPos3DY(this RectTransform target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.anchoredPosition3D, x => target.anchoredPosition3D = x, new Vector3(0, endValue, 0), duration);\r\n            t.SetOptions(AxisConstraint.Y, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's anchoredPosition3D Z to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector3, Vector3, VectorOptions> DOAnchorPos3DZ(this RectTransform target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector3, Vector3, VectorOptions> t = DOTween.To(() => target.anchoredPosition3D, x => target.anchoredPosition3D = x, new Vector3(0, 0, endValue), duration);\r\n            t.SetOptions(AxisConstraint.Z, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a RectTransform's anchorMax to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOAnchorMax(this RectTransform target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.anchorMax, x => target.anchorMax = x, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a RectTransform's anchorMin to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOAnchorMin(this RectTransform target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.anchorMin, x => target.anchorMin = x, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a RectTransform's pivot to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOPivot(this RectTransform target, Vector2 endValue, float duration)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.pivot, x => target.pivot = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's pivot X to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOPivotX(this RectTransform target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.pivot, x => target.pivot = x, new Vector2(endValue, 0), duration);\r\n            t.SetOptions(AxisConstraint.X).SetTarget(target);\r\n            return t;\r\n        }\r\n        /// <summary>Tweens a RectTransform's pivot Y to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOPivotY(this RectTransform target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.pivot, x => target.pivot = x, new Vector2(0, endValue), duration);\r\n            t.SetOptions(AxisConstraint.Y).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a RectTransform's sizeDelta to the given value.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOSizeDelta(this RectTransform target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.sizeDelta, x => target.sizeDelta = x, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Punches a RectTransform's anchoredPosition towards the given direction and then back to the starting one\r\n        /// as if it was connected to the starting position via an elastic.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"punch\">The direction and strength of the punch (added to the RectTransform's current position)</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"vibrato\">Indicates how much will the punch vibrate</param>\r\n        /// <param name=\"elasticity\">Represents how much (0 to 1) the vector will go beyond the starting position when bouncing backwards.\r\n        /// 1 creates a full oscillation between the punch direction and the opposite direction,\r\n        /// while 0 oscillates only between the punch and the start position</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Tweener DOPunchAnchorPos(this RectTransform target, Vector2 punch, float duration, int vibrato = 10, float elasticity = 1, bool snapping = false)\r\n        {\r\n            return DOTween.Punch(() => target.anchoredPosition, x => target.anchoredPosition = x, punch, duration, vibrato, elasticity)\r\n                .SetTarget(target).SetOptions(snapping);\r\n        }\r\n\r\n        /// <summary>Shakes a RectTransform's anchoredPosition with the given values.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"strength\">The shake strength</param>\r\n        /// <param name=\"vibrato\">Indicates how much will the shake vibrate</param>\r\n        /// <param name=\"randomness\">Indicates how much the shake will be random (0 to 180 - values higher than 90 kind of suck, so beware). \r\n        /// Setting it to 0 will shake along a single direction.</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        /// <param name=\"fadeOut\">If TRUE the shake will automatically fadeOut smoothly within the tween's duration, otherwise it will not</param>\r\n        /// <param name=\"randomnessMode\">Randomness mode</param>\r\n        public static Tweener DOShakeAnchorPos(this RectTransform target, float duration, float strength = 100, int vibrato = 10, float randomness = 90, bool snapping = false, bool fadeOut = true, ShakeRandomnessMode randomnessMode = ShakeRandomnessMode.Full)\r\n        {\r\n            return DOTween.Shake(() => target.anchoredPosition, x => target.anchoredPosition = x, duration, strength, vibrato, randomness, true, fadeOut, randomnessMode)\r\n                .SetTarget(target).SetSpecialStartupMode(SpecialStartupMode.SetShake).SetOptions(snapping);\r\n        }\r\n        /// <summary>Shakes a RectTransform's anchoredPosition with the given values.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"strength\">The shake strength on each axis</param>\r\n        /// <param name=\"vibrato\">Indicates how much will the shake vibrate</param>\r\n        /// <param name=\"randomness\">Indicates how much the shake will be random (0 to 180 - values higher than 90 kind of suck, so beware). \r\n        /// Setting it to 0 will shake along a single direction.</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        /// <param name=\"fadeOut\">If TRUE the shake will automatically fadeOut smoothly within the tween's duration, otherwise it will not</param>\r\n        /// <param name=\"randomnessMode\">Randomness mode</param>\r\n        public static Tweener DOShakeAnchorPos(this RectTransform target, float duration, Vector2 strength, int vibrato = 10, float randomness = 90, bool snapping = false, bool fadeOut = true, ShakeRandomnessMode randomnessMode = ShakeRandomnessMode.Full)\r\n        {\r\n            return DOTween.Shake(() => target.anchoredPosition, x => target.anchoredPosition = x, duration, strength, vibrato, randomness, fadeOut, randomnessMode)\r\n                .SetTarget(target).SetSpecialStartupMode(SpecialStartupMode.SetShake).SetOptions(snapping);\r\n        }\r\n\r\n        #region Special\r\n\r\n        /// <summary>Tweens a RectTransform's anchoredPosition to the given value, while also applying a jump effect along the Y axis.\r\n        /// Returns a Sequence instead of a Tweener.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param>\r\n        /// <param name=\"jumpPower\">Power of the jump (the max height of the jump is represented by this plus the final Y offset)</param>\r\n        /// <param name=\"numJumps\">Total number of jumps</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Sequence DOJumpAnchorPos(this RectTransform target, Vector2 endValue, float jumpPower, int numJumps, float duration, bool snapping = false)\r\n        {\r\n            if (numJumps < 1) numJumps = 1;\r\n            float startPosY = 0;\r\n            float offsetY = -1;\r\n            bool offsetYSet = false;\r\n\r\n            // Separate Y Tween so we can elaborate elapsedPercentage on that insted of on the Sequence\r\n            // (in case users add a delay or other elements to the Sequence)\r\n            Sequence s = DOTween.Sequence();\r\n            Tween yTween = DOTween.To(() => target.anchoredPosition, x => target.anchoredPosition = x, new Vector2(0, jumpPower), duration / (numJumps * 2))\r\n                .SetOptions(AxisConstraint.Y, snapping).SetEase(Ease.OutQuad).SetRelative()\r\n                .SetLoops(numJumps * 2, LoopType.Yoyo)\r\n                .OnStart(()=> startPosY = target.anchoredPosition.y);\r\n            s.Append(DOTween.To(() => target.anchoredPosition, x => target.anchoredPosition = x, new Vector2(endValue.x, 0), duration)\r\n                    .SetOptions(AxisConstraint.X, snapping).SetEase(Ease.Linear)\r\n                ).Join(yTween)\r\n                .SetTarget(target).SetEase(DOTween.defaultEaseType);\r\n            s.OnUpdate(() => {\r\n                if (!offsetYSet) {\r\n                    offsetYSet = true;\r\n                    offsetY = s.isRelative ? endValue.y : endValue.y - startPosY;\r\n                }\r\n                Vector2 pos = target.anchoredPosition;\r\n                pos.y += DOVirtual.EasedValue(0, offsetY, s.ElapsedDirectionalPercentage(), Ease.OutQuad);\r\n                target.anchoredPosition = pos;\r\n            });\r\n            return s;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\r\n        #region ScrollRect\r\n\r\n        /// <summary>Tweens a ScrollRect's horizontal/verticalNormalizedPosition to the given value.\r\n        /// Also stores the ScrollRect as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Tweener DONormalizedPos(this ScrollRect target, Vector2 endValue, float duration, bool snapping = false)\r\n        {\r\n            return DOTween.To(() => new Vector2(target.horizontalNormalizedPosition, target.verticalNormalizedPosition),\r\n                x => {\r\n                    target.horizontalNormalizedPosition = x.x;\r\n                    target.verticalNormalizedPosition = x.y;\r\n                }, endValue, duration)\r\n                .SetOptions(snapping).SetTarget(target);\r\n        }\r\n        /// <summary>Tweens a ScrollRect's horizontalNormalizedPosition to the given value.\r\n        /// Also stores the ScrollRect as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Tweener DOHorizontalNormalizedPos(this ScrollRect target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            return DOTween.To(() => target.horizontalNormalizedPosition, x => target.horizontalNormalizedPosition = x, endValue, duration)\r\n                .SetOptions(snapping).SetTarget(target);\r\n        }\r\n        /// <summary>Tweens a ScrollRect's verticalNormalizedPosition to the given value.\r\n        /// Also stores the ScrollRect as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static Tweener DOVerticalNormalizedPos(this ScrollRect target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            return DOTween.To(() => target.verticalNormalizedPosition, x => target.verticalNormalizedPosition = x, endValue, duration)\r\n                .SetOptions(snapping).SetTarget(target);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Slider\r\n\r\n        /// <summary>Tweens a Slider's value to the given value.\r\n        /// Also stores the Slider as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<float, float, FloatOptions> DOValue(this Slider target, float endValue, float duration, bool snapping = false)\r\n        {\r\n            TweenerCore<float, float, FloatOptions> t = DOTween.To(() => target.value, x => target.value = x, endValue, duration);\r\n            t.SetOptions(snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Text\r\n\r\n        /// <summary>Tweens a Text's color to the given value.\r\n        /// Also stores the Text as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOColor(this Text target, Color endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.To(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>\r\n        /// Tweens a Text's text from one integer to another, with options for thousands separators\r\n        /// </summary>\r\n        /// <param name=\"fromValue\">The value to start from</param>\r\n        /// <param name=\"endValue\">The end value to reach</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"addThousandsSeparator\">If TRUE (default) also adds thousands separators</param>\r\n        /// <param name=\"culture\">The <see cref=\"CultureInfo\"/> to use (InvariantCulture if NULL)</param>\r\n        public static TweenerCore<int, int, NoOptions> DOCounter(\r\n            this Text target, int fromValue, int endValue, float duration, bool addThousandsSeparator = true, CultureInfo culture = null\r\n        ){\r\n            int v = fromValue;\r\n            CultureInfo cInfo = !addThousandsSeparator ? null : culture ?? CultureInfo.InvariantCulture;\r\n            TweenerCore<int, int, NoOptions> t = DOTween.To(() => v, x => {\r\n                v = x;\r\n                target.text = addThousandsSeparator\r\n                    ? v.ToString(\"N0\", cInfo)\r\n                    : v.ToString();\r\n            }, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Text's alpha color to the given value.\r\n        /// Also stores the Text as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param><param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Color, Color, ColorOptions> DOFade(this Text target, float endValue, float duration)\r\n        {\r\n            TweenerCore<Color, Color, ColorOptions> t = DOTween.ToAlpha(() => target.color, x => target.color = x, endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Text's text to the given value.\r\n        /// Also stores the Text as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end string to tween to</param><param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"richTextEnabled\">If TRUE (default), rich text will be interpreted correctly while animated,\r\n        /// otherwise all tags will be considered as normal text</param>\r\n        /// <param name=\"scrambleMode\">The type of scramble mode to use, if any</param>\r\n        /// <param name=\"scrambleChars\">A string containing the characters to use for scrambling.\r\n        /// Use as many characters as possible (minimum 10) because DOTween uses a fast scramble mode which gives better results with more characters.\r\n        /// Leave it to NULL (default) to use default ones</param>\r\n        public static TweenerCore<string, string, StringOptions> DOText(this Text target, string endValue, float duration, bool richTextEnabled = true, ScrambleMode scrambleMode = ScrambleMode.None, string scrambleChars = null)\r\n        {\r\n            if (endValue == null) {\r\n                if (Debugger.logPriority > 0) Debugger.LogWarning(\"You can't pass a NULL string to DOText: an empty string will be used instead to avoid errors\");\r\n                endValue = \"\";\r\n            }\r\n            TweenerCore<string, string, StringOptions> t = DOTween.To(() => target.text, x => target.text = x, endValue, duration);\r\n            t.SetOptions(richTextEnabled, scrambleMode, scrambleChars)\r\n                .SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Blendables\r\n\r\n        #region Graphic\r\n\r\n        /// <summary>Tweens a Graphic's color to the given value,\r\n        /// in a way that allows other DOBlendableColor tweens to work together on the same target,\r\n        /// instead than fight each other as multiple DOColor would do.\r\n        /// Also stores the Graphic as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The value to tween to</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Tweener DOBlendableColor(this Graphic target, Color endValue, float duration)\r\n        {\r\n            endValue = endValue - target.color;\r\n            Color to = new Color(0, 0, 0, 0);\r\n            return DOTween.To(() => to, x => {\r\n                Color diff = x - to;\r\n                to = x;\r\n                target.color += diff;\r\n            }, endValue, duration)\r\n                .Blendable().SetTarget(target);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Image\r\n\r\n        /// <summary>Tweens a Image's color to the given value,\r\n        /// in a way that allows other DOBlendableColor tweens to work together on the same target,\r\n        /// instead than fight each other as multiple DOColor would do.\r\n        /// Also stores the Image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The value to tween to</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Tweener DOBlendableColor(this Image target, Color endValue, float duration)\r\n        {\r\n            endValue = endValue - target.color;\r\n            Color to = new Color(0, 0, 0, 0);\r\n            return DOTween.To(() => to, x => {\r\n                Color diff = x - to;\r\n                to = x;\r\n                target.color += diff;\r\n            }, endValue, duration)\r\n                .Blendable().SetTarget(target);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region Text\r\n\r\n        /// <summary>Tweens a Text's color BY the given value,\r\n        /// in a way that allows other DOBlendableColor tweens to work together on the same target,\r\n        /// instead than fight each other as multiple DOColor would do.\r\n        /// Also stores the Text as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The value to tween to</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Tweener DOBlendableColor(this Text target, Color endValue, float duration)\r\n        {\r\n            endValue = endValue - target.color;\r\n            Color to = new Color(0, 0, 0, 0);\r\n            return DOTween.To(() => to, x => {\r\n                Color diff = x - to;\r\n                to = x;\r\n                target.color += diff;\r\n            }, endValue, duration)\r\n                .Blendable().SetTarget(target);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\r\n        #region Shapes\r\n\r\n        /// <summary>Tweens a RectTransform's anchoredPosition so that it draws a circle around the given center.\r\n        /// Also stores the RectTransform as the tween's target so it can be used for filtered operations.<para/>\r\n        /// IMPORTANT: SetFrom(value) requires a <see cref=\"Vector2\"/> instead of a float, where the X property represents the \"from degrees value\"</summary>\r\n        /// <param name=\"center\">Circle-center/pivot around which to rotate (in UI anchoredPosition coordinates)</param>\r\n        /// <param name=\"endValueDegrees\">The end value degrees to reach (to rotate counter-clockwise pass a negative value)</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        /// <param name=\"relativeCenter\">If TRUE the <see cref=\"center\"/> coordinates will be considered as relative to the target's current anchoredPosition</param>\r\n        /// <param name=\"snapping\">If TRUE the tween will smoothly snap all values to integers</param>\r\n        public static TweenerCore<Vector2, Vector2, CircleOptions> DOShapeCircle(\r\n            this RectTransform target, Vector2 center, float endValueDegrees, float duration, bool relativeCenter = false, bool snapping = false\r\n        )\r\n        {\r\n            TweenerCore<Vector2, Vector2, CircleOptions> t = DOTween.To(\r\n                CirclePlugin.Get(), () => target.anchoredPosition, x => target.anchoredPosition = x, center, duration\r\n            );\r\n            t.SetOptions(endValueDegrees, relativeCenter, snapping).SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n\r\n        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n        // â–ˆâ–ˆâ–ˆ INTERNAL CLASSES â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n\r\n        public static class Utils\r\n        {\r\n            /// <summary>\r\n            /// Converts the anchoredPosition of the first RectTransform to the second RectTransform,\r\n            /// taking into consideration offset, anchors and pivot, and returns the new anchoredPosition\r\n            /// </summary>\r\n            public static Vector2 SwitchToRectTransform(RectTransform from, RectTransform to)\r\n            {\r\n                Vector2 localPoint;\r\n                Vector2 fromPivotDerivedOffset = new Vector2(from.rect.width * 0.5f + from.rect.xMin, from.rect.height * 0.5f + from.rect.yMin);\r\n                Vector2 screenP = RectTransformUtility.WorldToScreenPoint(null, from.position);\r\n                screenP += fromPivotDerivedOffset;\r\n                RectTransformUtility.ScreenPointToLocalPointInRectangle(to, screenP, null, out localPoint);\r\n                Vector2 pivotDerivedOffset = new Vector2(to.rect.width * 0.5f + to.rect.xMin, to.rect.height * 0.5f + to.rect.yMin);\r\n                return to.anchoredPosition + localPoint - pivotDerivedOffset;\r\n            }\r\n        }\r\n\t}\r\n}\r\n#endif\r\n","size_bytes":43296},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModuleUnityVersion.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\nusing System;\r\nusing UnityEngine;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Plugins.Options;\r\n//#if UNITY_2018_1_OR_NEWER && (NET_4_6 || NET_STANDARD_2_0)\r\n//using Task = System.Threading.Tasks.Task;\r\n//#endif\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n    /// <summary>\r\n    /// Shortcuts/functions that are not strictly related to specific Modules\r\n    /// but are available only on some Unity versions\r\n    /// </summary>\r\n\tpublic static class DOTweenModuleUnityVersion\r\n    {\r\n#if UNITY_4_3 || UNITY_4_4 || UNITY_4_5 || UNITY_4_6 || UNITY_5 || UNITY_2017_1_OR_NEWER\r\n        #region Unity 4.3 or Newer\r\n\r\n        #region Material\r\n\r\n        /// <summary>Tweens a Material's color using the given gradient\r\n        /// (NOTE 1: only uses the colors of the gradient, not the alphas - NOTE 2: creates a Sequence, not a Tweener).\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"gradient\">The gradient to use</param><param name=\"duration\">The duration of the tween</param>\r\n        public static Sequence DOGradientColor(this Material target, Gradient gradient, float duration)\r\n        {\r\n            Sequence s = DOTween.Sequence();\r\n            GradientColorKey[] colors = gradient.colorKeys;\r\n            int len = colors.Length;\r\n            for (int i = 0; i < len; ++i) {\r\n                GradientColorKey c = colors[i];\r\n                if (i == 0 && c.time <= 0) {\r\n                    target.color = c.color;\r\n                    continue;\r\n                }\r\n                float colorDuration = i == len - 1\r\n                    ? duration - s.Duration(false) // Verifies that total duration is correct\r\n                    : duration * (i == 0 ? c.time : c.time - colors[i - 1].time);\r\n                s.Append(target.DOColor(c.color, colorDuration).SetEase(Ease.Linear));\r\n            }\r\n            s.SetTarget(target);\r\n            return s;\r\n        }\r\n        /// <summary>Tweens a Material's named color property using the given gradient\r\n        /// (NOTE 1: only uses the colors of the gradient, not the alphas - NOTE 2: creates a Sequence, not a Tweener).\r\n        /// Also stores the image as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"gradient\">The gradient to use</param>\r\n        /// <param name=\"property\">The name of the material property to tween (like _Tint or _SpecColor)</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        public static Sequence DOGradientColor(this Material target, Gradient gradient, string property, float duration)\r\n        {\r\n            Sequence s = DOTween.Sequence();\r\n            GradientColorKey[] colors = gradient.colorKeys;\r\n            int len = colors.Length;\r\n            for (int i = 0; i < len; ++i) {\r\n                GradientColorKey c = colors[i];\r\n                if (i == 0 && c.time <= 0) {\r\n                    target.SetColor(property, c.color);\r\n                    continue;\r\n                }\r\n                float colorDuration = i == len - 1\r\n                    ? duration - s.Duration(false) // Verifies that total duration is correct\r\n                    : duration * (i == 0 ? c.time : c.time - colors[i - 1].time);\r\n                s.Append(target.DOColor(c.color, property, colorDuration).SetEase(Ease.Linear));\r\n            }\r\n            s.SetTarget(target);\r\n            return s;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n#endif\r\n\r\n#if UNITY_5_3_OR_NEWER || UNITY_2017_1_OR_NEWER\r\n        #region Unity 5.3 or Newer\r\n\r\n        #region CustomYieldInstructions\r\n\r\n        /// <summary>\r\n        /// Returns a <see cref=\"CustomYieldInstruction\"/> that waits until the tween is killed or complete.\r\n        /// It can be used inside a coroutine as a yield.\r\n        /// <para>Example usage:</para><code>yield return myTween.WaitForCompletion(true);</code>\r\n        /// </summary>\r\n        public static CustomYieldInstruction WaitForCompletion(this Tween t, bool returnCustomYieldInstruction)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return null;\r\n            }\r\n            return new DOTweenCYInstruction.WaitForCompletion(t);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns a <see cref=\"CustomYieldInstruction\"/> that waits until the tween is killed or rewinded.\r\n        /// It can be used inside a coroutine as a yield.\r\n        /// <para>Example usage:</para><code>yield return myTween.WaitForRewind();</code>\r\n        /// </summary>\r\n        public static CustomYieldInstruction WaitForRewind(this Tween t, bool returnCustomYieldInstruction)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return null;\r\n            }\r\n            return new DOTweenCYInstruction.WaitForRewind(t);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns a <see cref=\"CustomYieldInstruction\"/> that waits until the tween is killed.\r\n        /// It can be used inside a coroutine as a yield.\r\n        /// <para>Example usage:</para><code>yield return myTween.WaitForKill();</code>\r\n        /// </summary>\r\n        public static CustomYieldInstruction WaitForKill(this Tween t, bool returnCustomYieldInstruction)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return null;\r\n            }\r\n            return new DOTweenCYInstruction.WaitForKill(t);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns a <see cref=\"CustomYieldInstruction\"/> that waits until the tween is killed or has gone through the given amount of loops.\r\n        /// It can be used inside a coroutine as a yield.\r\n        /// <para>Example usage:</para><code>yield return myTween.WaitForElapsedLoops(2);</code>\r\n        /// </summary>\r\n        /// <param name=\"elapsedLoops\">Elapsed loops to wait for</param>\r\n        public static CustomYieldInstruction WaitForElapsedLoops(this Tween t, int elapsedLoops, bool returnCustomYieldInstruction)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return null;\r\n            }\r\n            return new DOTweenCYInstruction.WaitForElapsedLoops(t, elapsedLoops);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns a <see cref=\"CustomYieldInstruction\"/> that waits until the tween is killed\r\n        /// or has reached the given time position (loops included, delays excluded).\r\n        /// It can be used inside a coroutine as a yield.\r\n        /// <para>Example usage:</para><code>yield return myTween.WaitForPosition(2.5f);</code>\r\n        /// </summary>\r\n        /// <param name=\"position\">Position (loops included, delays excluded) to wait for</param>\r\n        public static CustomYieldInstruction WaitForPosition(this Tween t, float position, bool returnCustomYieldInstruction)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return null;\r\n            }\r\n            return new DOTweenCYInstruction.WaitForPosition(t, position);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns a <see cref=\"CustomYieldInstruction\"/> that waits until the tween is killed or started\r\n        /// (meaning when the tween is set in a playing state the first time, after any eventual delay).\r\n        /// It can be used inside a coroutine as a yield.\r\n        /// <para>Example usage:</para><code>yield return myTween.WaitForStart();</code>\r\n        /// </summary>\r\n        public static CustomYieldInstruction WaitForStart(this Tween t, bool returnCustomYieldInstruction)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return null;\r\n            }\r\n            return new DOTweenCYInstruction.WaitForStart(t);\r\n        }\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n#endif\r\n\r\n#if UNITY_2018_1_OR_NEWER\r\n        #region Unity 2018.1 or Newer\r\n\r\n        #region Material\r\n\r\n        /// <summary>Tweens a Material's named texture offset property with the given ID to the given value.\r\n        /// Also stores the material as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param>\r\n        /// <param name=\"propertyID\">The ID of the material property to tween (also called nameID in Unity's manual)</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOOffset(this Material target, Vector2 endValue, int propertyID, float duration)\r\n        {\r\n            if (!target.HasProperty(propertyID)) {\r\n                if (Debugger.logPriority > 0) Debugger.LogMissingMaterialProperty(propertyID);\r\n                return null;\r\n            }\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.GetTextureOffset(propertyID), x => target.SetTextureOffset(propertyID, x), endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        /// <summary>Tweens a Material's named texture scale property with the given ID to the given value.\r\n        /// Also stores the material as the tween's target so it can be used for filtered operations</summary>\r\n        /// <param name=\"endValue\">The end value to reach</param>\r\n        /// <param name=\"propertyID\">The ID of the material property to tween (also called nameID in Unity's manual)</param>\r\n        /// <param name=\"duration\">The duration of the tween</param>\r\n        public static TweenerCore<Vector2, Vector2, VectorOptions> DOTiling(this Material target, Vector2 endValue, int propertyID, float duration)\r\n        {\r\n            if (!target.HasProperty(propertyID)) {\r\n                if (Debugger.logPriority > 0) Debugger.LogMissingMaterialProperty(propertyID);\r\n                return null;\r\n            }\r\n            TweenerCore<Vector2, Vector2, VectorOptions> t = DOTween.To(() => target.GetTextureScale(propertyID), x => target.SetTextureScale(propertyID, x), endValue, duration);\r\n            t.SetTarget(target);\r\n            return t;\r\n        }\r\n\r\n        #endregion\r\n\r\n        #region .NET 4.6 or Newer\r\n\r\n#if UNITY_2018_1_OR_NEWER && (NET_4_6 || NET_STANDARD_2_0)\r\n\r\n        #region Async Instructions\r\n\r\n        /// <summary>\r\n        /// Returns an async <see cref=\"System.Threading.Tasks.Task\"/> that waits until the tween is killed or complete.\r\n        /// It can be used inside an async operation.\r\n        /// <para>Example usage:</para><code>await myTween.WaitForCompletion();</code>\r\n        /// </summary>\r\n        public static async System.Threading.Tasks.Task AsyncWaitForCompletion(this Tween t)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return;\r\n            }\r\n            while (t.active && !t.IsComplete()) await System.Threading.Tasks.Task.Yield();\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns an async <see cref=\"System.Threading.Tasks.Task\"/> that waits until the tween is killed or rewinded.\r\n        /// It can be used inside an async operation.\r\n        /// <para>Example usage:</para><code>await myTween.AsyncWaitForRewind();</code>\r\n        /// </summary>\r\n        public static async System.Threading.Tasks.Task AsyncWaitForRewind(this Tween t)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return;\r\n            }\r\n            while (t.active && (!t.playedOnce || t.position * (t.CompletedLoops() + 1) > 0)) await System.Threading.Tasks.Task.Yield();\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns an async <see cref=\"System.Threading.Tasks.Task\"/> that waits until the tween is killed.\r\n        /// It can be used inside an async operation.\r\n        /// <para>Example usage:</para><code>await myTween.AsyncWaitForKill();</code>\r\n        /// </summary>\r\n        public static async System.Threading.Tasks.Task AsyncWaitForKill(this Tween t)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return;\r\n            }\r\n            while (t.active) await System.Threading.Tasks.Task.Yield();\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns an async <see cref=\"System.Threading.Tasks.Task\"/> that waits until the tween is killed or has gone through the given amount of loops.\r\n        /// It can be used inside an async operation.\r\n        /// <para>Example usage:</para><code>await myTween.AsyncWaitForElapsedLoops();</code>\r\n        /// </summary>\r\n        /// <param name=\"elapsedLoops\">Elapsed loops to wait for</param>\r\n        public static async System.Threading.Tasks.Task AsyncWaitForElapsedLoops(this Tween t, int elapsedLoops)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return;\r\n            }\r\n            while (t.active && t.CompletedLoops() < elapsedLoops) await System.Threading.Tasks.Task.Yield();\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns an async <see cref=\"System.Threading.Tasks.Task\"/> that waits until the tween is killed or started\r\n        /// (meaning when the tween is set in a playing state the first time, after any eventual delay).\r\n        /// It can be used inside an async operation.\r\n        /// <para>Example usage:</para><code>await myTween.AsyncWaitForPosition();</code>\r\n        /// </summary>\r\n        /// <param name=\"position\">Position (loops included, delays excluded) to wait for</param>\r\n        public static async System.Threading.Tasks.Task AsyncWaitForPosition(this Tween t, float position)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return;\r\n            }\r\n            while (t.active && t.position * (t.CompletedLoops() + 1) < position) await System.Threading.Tasks.Task.Yield();\r\n        }\r\n\r\n        /// <summary>\r\n        /// Returns an async <see cref=\"System.Threading.Tasks.Task\"/> that waits until the tween is killed.\r\n        /// It can be used inside an async operation.\r\n        /// <para>Example usage:</para><code>await myTween.AsyncWaitForKill();</code>\r\n        /// </summary>\r\n        public static async System.Threading.Tasks.Task AsyncWaitForStart(this Tween t)\r\n        {\r\n            if (!t.active) {\r\n                if (Debugger.logPriority > 0) Debugger.LogInvalidTween(t);\r\n                return;\r\n            }\r\n            while (t.active && !t.playedOnce) await System.Threading.Tasks.Task.Yield();\r\n        }\r\n\r\n        #endregion\r\n#endif\r\n\r\n        #endregion\r\n\r\n        #endregion\r\n#endif\r\n    }\r\n\r\n    // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n    // â–ˆâ–ˆâ–ˆ CLASSES â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n    // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n\r\n#if UNITY_5_3_OR_NEWER || UNITY_2017_1_OR_NEWER\r\n    public static class DOTweenCYInstruction\r\n    {\r\n        public class WaitForCompletion : CustomYieldInstruction\r\n        {\r\n            public override bool keepWaiting { get {\r\n                return t.active && !t.IsComplete();\r\n            }}\r\n            readonly Tween t;\r\n            public WaitForCompletion(Tween tween)\r\n            {\r\n                t = tween;\r\n            }\r\n        }\r\n\r\n        public class WaitForRewind : CustomYieldInstruction\r\n        {\r\n            public override bool keepWaiting { get {\r\n                return t.active && (!t.playedOnce || t.position * (t.CompletedLoops() + 1) > 0);\r\n            }}\r\n            readonly Tween t;\r\n            public WaitForRewind(Tween tween)\r\n            {\r\n                t = tween;\r\n            }\r\n        }\r\n\r\n        public class WaitForKill : CustomYieldInstruction\r\n        {\r\n            public override bool keepWaiting { get {\r\n                return t.active;\r\n            }}\r\n            readonly Tween t;\r\n            public WaitForKill(Tween tween)\r\n            {\r\n                t = tween;\r\n            }\r\n        }\r\n\r\n        public class WaitForElapsedLoops : CustomYieldInstruction\r\n        {\r\n            public override bool keepWaiting { get {\r\n                return t.active && t.CompletedLoops() < elapsedLoops;\r\n            }}\r\n            readonly Tween t;\r\n            readonly int elapsedLoops;\r\n            public WaitForElapsedLoops(Tween tween, int elapsedLoops)\r\n            {\r\n                t = tween;\r\n                this.elapsedLoops = elapsedLoops;\r\n            }\r\n        }\r\n\r\n        public class WaitForPosition : CustomYieldInstruction\r\n        {\r\n            public override bool keepWaiting { get {\r\n                return t.active && t.position * (t.CompletedLoops() + 1) < position;\r\n            }}\r\n            readonly Tween t;\r\n            readonly float position;\r\n            public WaitForPosition(Tween tween, float position)\r\n            {\r\n                t = tween;\r\n                this.position = position;\r\n            }\r\n        }\r\n\r\n        public class WaitForStart : CustomYieldInstruction\r\n        {\r\n            public override bool keepWaiting { get {\r\n                return t.active && !t.playedOnce;\r\n            }}\r\n            readonly Tween t;\r\n            public WaitForStart(Tween tween)\r\n            {\r\n                t = tween;\r\n            }\r\n        }\r\n    }\r\n#endif\r\n}\r\n","size_bytes":18653},"CapybaraGame/Assets/Plugins/Demigiant/DOTween/Modules/DOTweenModuleUtils.cs":{"content":"ï»¿// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2018/07/13\r\n\r\nusing System;\r\nusing System.Reflection;\r\nusing UnityEngine;\r\nusing DG.Tweening.Core;\r\nusing DG.Tweening.Plugins.Core.PathCore;\r\nusing DG.Tweening.Plugins.Options;\r\n\r\n#pragma warning disable 1591\r\nnamespace DG.Tweening\r\n{\r\n    /// <summary>\r\n    /// Utility functions that deal with available Modules.\r\n    /// Modules defines:\r\n    /// - DOTAUDIO\r\n    /// - DOTPHYSICS\r\n    /// - DOTPHYSICS2D\r\n    /// - DOTSPRITE\r\n    /// - DOTUI\r\n    /// Extra defines set and used for implementation of external assets:\r\n    /// - DOTWEEN_TMP â–º TextMesh Pro\r\n    /// - DOTWEEN_TK2D â–º 2D Toolkit\r\n    /// </summary>\r\n\tpublic static class DOTweenModuleUtils\r\n    {\r\n        static bool _initialized;\r\n\r\n        #region Reflection\r\n\r\n        /// <summary>\r\n        /// Called via Reflection by DOTweenComponent on Awake\r\n        /// </summary>\r\n#if UNITY_2018_1_OR_NEWER\r\n        [UnityEngine.Scripting.Preserve]\r\n#endif\r\n        public static void Init()\r\n        {\r\n            if (_initialized) return;\r\n\r\n            _initialized = true;\r\n            DOTweenExternalCommand.SetOrientationOnPath += Physics.SetOrientationOnPath;\r\n\r\n#if UNITY_EDITOR\r\n#if UNITY_4_3 || UNITY_4_4 || UNITY_4_5 || UNITY_4_6 || UNITY_5 || UNITY_2017_1\r\n            UnityEditor.EditorApplication.playmodeStateChanged += PlaymodeStateChanged;\r\n#else\r\n            UnityEditor.EditorApplication.playModeStateChanged += PlaymodeStateChanged;\r\n#endif\r\n#endif\r\n        }\r\n\r\n#if UNITY_2018_1_OR_NEWER\r\n#pragma warning disable\r\n        [UnityEngine.Scripting.Preserve]\r\n        // Just used to preserve methods when building, never called\r\n        static void Preserver()\r\n        {\r\n            Assembly[] loadedAssemblies = AppDomain.CurrentDomain.GetAssemblies();\r\n            MethodInfo mi = typeof(MonoBehaviour).GetMethod(\"Stub\");\r\n        }\r\n#pragma warning restore\r\n#endif\r\n\r\n        #endregion\r\n\r\n#if UNITY_EDITOR\r\n        // Fires OnApplicationPause in DOTweenComponent even when Editor is paused (otherwise it's only fired at runtime)\r\n#if UNITY_4_3 || UNITY_4_4 || UNITY_4_5 || UNITY_4_6 || UNITY_5 || UNITY_2017_1\r\n        static void PlaymodeStateChanged()\r\n        #else\r\n        static void PlaymodeStateChanged(UnityEditor.PlayModeStateChange state)\r\n#endif\r\n        {\r\n            if (DOTween.instance == null) return;\r\n            DOTween.instance.OnApplicationPause(UnityEditor.EditorApplication.isPaused);\r\n        }\r\n#endif\r\n\r\n        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n        // â–ˆâ–ˆâ–ˆ INTERNAL CLASSES â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\r\n\r\n        public static class Physics\r\n        {\r\n            // Called via DOTweenExternalCommand callback\r\n            public static void SetOrientationOnPath(PathOptions options, Tween t, Quaternion newRot, Transform trans)\r\n            {\r\n#if true // PHYSICS_MARKER\r\n                if (options.isRigidbody) ((Rigidbody)t.target).rotation = newRot;\r\n                else trans.rotation = newRot;\r\n#else\r\n                trans.rotation = newRot;\r\n#endif\r\n            }\r\n\r\n            // Returns FALSE if the DOTween's Physics2D Module is disabled, or if there's no Rigidbody2D attached\r\n            public static bool HasRigidbody2D(Component target)\r\n            {\r\n#if true // PHYSICS2D_MARKER\r\n                return target.GetComponent<Rigidbody2D>() != null;\r\n#else\r\n                return false;\r\n#endif\r\n            }\r\n\r\n            #region Called via Reflection\r\n\r\n\r\n            // Called via Reflection by DOTweenPathInspector\r\n            // Returns FALSE if the DOTween's Physics Module is disabled, or if there's no rigidbody attached\r\n#if UNITY_2018_1_OR_NEWER\r\n            [UnityEngine.Scripting.Preserve]\r\n#endif\r\n            public static bool HasRigidbody(Component target)\r\n            {\r\n#if true // PHYSICS_MARKER\r\n                return target.GetComponent<Rigidbody>() != null;\r\n#else\r\n                return false;\r\n#endif\r\n            }\r\n\r\n            // Called via Reflection by DOTweenPath\r\n#if UNITY_2018_1_OR_NEWER\r\n            [UnityEngine.Scripting.Preserve]\r\n#endif\r\n            public static TweenerCore<Vector3, Path, PathOptions> CreateDOTweenPathTween(\r\n                MonoBehaviour target, bool tweenRigidbody, bool isLocal, Path path, float duration, PathMode pathMode\r\n            ){\r\n                TweenerCore<Vector3, Path, PathOptions> t = null;\r\n                bool rBodyFoundAndTweened = false;\r\n#if true // PHYSICS_MARKER\r\n                if (tweenRigidbody) {\r\n                    Rigidbody rBody = target.GetComponent<Rigidbody>();\r\n                    if (rBody != null) {\r\n                        rBodyFoundAndTweened = true;\r\n                        t = isLocal\r\n                            ? rBody.DOLocalPath(path, duration, pathMode)\r\n                            : rBody.DOPath(path, duration, pathMode);\r\n                    }\r\n                }\r\n#endif\r\n#if true // PHYSICS2D_MARKER\r\n                if (!rBodyFoundAndTweened && tweenRigidbody) {\r\n                    Rigidbody2D rBody2D = target.GetComponent<Rigidbody2D>();\r\n                    if (rBody2D != null) {\r\n                        rBodyFoundAndTweened = true;\r\n                        t = isLocal\r\n                            ? rBody2D.DOLocalPath(path, duration, pathMode)\r\n                            : rBody2D.DOPath(path, duration, pathMode);\r\n                    }\r\n                }\r\n#endif\r\n                if (!rBodyFoundAndTweened) {\r\n                    t = isLocal\r\n                        ? target.transform.DOLocalPath(path, duration, pathMode)\r\n                        : target.transform.DOPath(path, duration, pathMode);\r\n                }\r\n                return t;\r\n            }\r\n\r\n            #endregion\r\n        }\r\n    }\r\n}\r\n","size_bytes":6719},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/Commands/PlayerPrefsCommands.cs":{"content":"ï»¿#if IDG_ENABLE_HELPER_COMMANDS\nusing UnityEngine;\n\nnamespace IngameDebugConsole.Commands\n{\n\tpublic class PlayerPrefsCommands\n\t{\n\t\t[ConsoleMethod( \"prefs.int\", \"Returns the value of an Integer PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static string PlayerPrefsGetInt( string key )\n\t\t{\n\t\t\tif( !PlayerPrefs.HasKey( key ) ) return \"Key Not Found\";\n\t\t\treturn PlayerPrefs.GetInt( key ).ToString();\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.int\", \"Sets the value of an Integer PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void PlayerPrefsSetInt( string key, int value )\n\t\t{\n\t\t\tPlayerPrefs.SetInt( key, value );\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.float\", \"Returns the value of a Float PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static string PlayerPrefsGetFloat( string key )\n\t\t{\n\t\t\tif( !PlayerPrefs.HasKey( key ) ) return \"Key Not Found\";\n\t\t\treturn PlayerPrefs.GetFloat( key ).ToString();\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.float\", \"Sets the value of a Float PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void PlayerPrefsSetFloat( string key, float value )\n\t\t{\n\t\t\tPlayerPrefs.SetFloat( key, value );\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.string\", \"Returns the value of a String PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static string PlayerPrefsGetString( string key )\n\t\t{\n\t\t\tif( !PlayerPrefs.HasKey( key ) ) return \"Key Not Found\";\n\t\t\treturn PlayerPrefs.GetString( key );\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.string\", \"Sets the value of a String PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void PlayerPrefsSetString( string key, string value )\n\t\t{\n\t\t\tPlayerPrefs.SetString( key, value );\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.delete\", \"Deletes a PlayerPrefs field\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void PlayerPrefsDelete( string key )\n\t\t{\n\t\t\tPlayerPrefs.DeleteKey( key );\n\t\t}\n\n\t\t[ConsoleMethod( \"prefs.clear\", \"Deletes all PlayerPrefs fields\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void PlayerPrefsClear()\n\t\t{\n\t\t\tPlayerPrefs.DeleteAll();\n\t\t}\n\t}\n}\n#endif","size_bytes":2072},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/Commands/SceneCommands.cs":{"content":"ï»¿#if IDG_ENABLE_HELPER_COMMANDS\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace IngameDebugConsole.Commands\n{\n\tpublic class SceneCommands\n\t{\n\t\t[ConsoleMethod( \"scene.load\", \"Loads a scene\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void LoadScene( string sceneName )\n\t\t{\n\t\t\tLoadSceneInternal( sceneName, false, LoadSceneMode.Single );\n\t\t}\n\n\t\t[ConsoleMethod( \"scene.load\", \"Loads a scene\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void LoadScene( string sceneName, LoadSceneMode mode )\n\t\t{\n\t\t\tLoadSceneInternal( sceneName, false, mode );\n\t\t}\n\n\t\t[ConsoleMethod( \"scene.loadasync\", \"Loads a scene asynchronously\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void LoadSceneAsync( string sceneName )\n\t\t{\n\t\t\tLoadSceneInternal( sceneName, true, LoadSceneMode.Single );\n\t\t}\n\n\t\t[ConsoleMethod( \"scene.loadasync\", \"Loads a scene asynchronously\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void LoadSceneAsync( string sceneName, LoadSceneMode mode )\n\t\t{\n\t\t\tLoadSceneInternal( sceneName, true, mode );\n\t\t}\n\n\t\tprivate static void LoadSceneInternal( string sceneName, bool isAsync, LoadSceneMode mode )\n\t\t{\n\t\t\tif( SceneManager.GetSceneByName( sceneName ).IsValid() )\n\t\t\t{\n\t\t\t\tDebug.Log( \"Scene \" + sceneName + \" is already loaded\" );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif( isAsync )\n\t\t\t\tSceneManager.LoadSceneAsync( sceneName, mode );\n\t\t\telse\n\t\t\t\tSceneManager.LoadScene( sceneName, mode );\n\t\t}\n\n\t\t[ConsoleMethod( \"scene.unload\", \"Unloads a scene\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void UnloadScene( string sceneName )\n\t\t{\n\t\t\tSceneManager.UnloadSceneAsync( sceneName );\n\t\t}\n\n\t\t[ConsoleMethod( \"scene.restart\", \"Restarts the active scene\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void RestartScene()\n\t\t{\n\t\t\tSceneManager.LoadScene( SceneManager.GetActiveScene().name, LoadSceneMode.Single );\n\t\t}\n\t}\n}\n#endif","size_bytes":1852},"CapybaraGame/Assets/Plugins/IngameDebugConsole/Scripts/Commands/TimeCommands.cs":{"content":"ï»¿#if IDG_ENABLE_HELPER_COMMANDS\nusing UnityEngine;\n\nnamespace IngameDebugConsole.Commands\n{\n\tpublic class TimeCommands\n\t{\n\t\t[ConsoleMethod( \"time.scale\", \"Sets the Time.timeScale value\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static void SetTimeScale( float value )\n\t\t{\n\t\t\tTime.timeScale = Mathf.Max( value, 0f );\n\t\t}\n\n\t\t[ConsoleMethod( \"time.scale\", \"Returns the current Time.timeScale value\" ), UnityEngine.Scripting.Preserve]\n\t\tpublic static float GetTimeScale()\n\t\t{\n\t\t\treturn Time.timeScale;\n\t\t}\n\t}\n}\n#endif","size_bytes":517},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/IPoolItem.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nnamespace NTC.Global.Pool\n{\n    public interface IPoolItem\n    {\n        public void OnSpawn();\n        public void OnDespawn();\n    }\n}","size_bytes":442},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/NightPool.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing static NTC.Global.System.Tasks.TaskSugar;\nusing Object = UnityEngine.Object;\n\nnamespace NTC.Global.Pool\n{\n    public static class NightPool\n    {\n        /// <summary>\n        /// Event for each spawned GameObject\n        /// </summary>\n        public static event Action<GameObject> OnObjectSpawned;\n        \n        /// <summary>\n        /// Event for each despawned GameObject\n        /// </summary>\n        public static event Action<GameObject> OnObjectDespawned;\n        \n        /// <summary>\n        /// List of all pools\n        /// </summary>\n        private static readonly List<Pool> AllPools = new List<Pool>(64);\n        \n        /// <summary>\n        /// List to search for all IPoolItem components on GameObject\n        /// </summary>\n        private static readonly List<IPoolItem> ItemEventComponents = new List<IPoolItem>(32);\n\n        /// <summary>\n        /// Allows you to determine whether the game is running or the Unity is open\n        /// </summary>\n        private static bool IsEditor => Application.isPlaying == false;\n\n        /// <summary>\n        /// Installs pool items by PoolPreset\n        /// </summary>\n        public static void InstallPoolItems(PoolPreset poolPreset)\n        {\n            if (poolPreset == null || IsEditor)\n                return;\n            \n            foreach (var poolItem in poolPreset.PoolItems)\n            {\n                var prefab = poolItem.Prefab;\n                var pool = GetPoolByPrefab(prefab);\n                \n                pool.PopulatePool(poolItem.Size);\n            }\n        }\n\n        public static T Spawn<T>(T component, Vector3 position = default, Quaternion rotation = default) \n            where T : Component\n        {\n            return \n                DefaultSpawn(component.gameObject, position, rotation, null, false).\n                GetComponent<T>();\n        }\n        \n        public static T Spawn<T>(T component, Transform parent, Quaternion rotation = default, \n            bool worldStaysPosition = false) where T : Component\n        {\n            var position = parent != null \n                ? parent.position \n                : Vector3.zero;\n            \n            return \n                DefaultSpawn(component.gameObject, position, rotation, parent, worldStaysPosition).\n                GetComponent<T>();\n        }\n\n        public static GameObject Spawn(GameObject toSpawn, Vector3 position = default, Quaternion rotation = default)\n        {\n            return DefaultSpawn(toSpawn, position, rotation, null, false);\n        }\n        \n        public static GameObject Spawn(GameObject toSpawn, Transform parent, Quaternion rotation = default, \n            bool worldPositionStays = false)\n        {\n            var position = parent != null \n                ? parent.position \n                : Vector3.zero;\n            \n            return DefaultSpawn(toSpawn, position, rotation, parent, worldPositionStays);\n        }\n\n        public static void Despawn(Component toDespawn, float delay = 0f)\n        {\n            DefaultDespawn(toDespawn.gameObject, delay);\n        }\n\n        public static void Despawn(GameObject toDespawn, float delay = 0f)\n        {\n            DefaultDespawn(toDespawn, delay);\n        }\n\n        /// <summary>\n        /// Destroys pool by GameObject\n        /// </summary>\n        public static void DestroyPool(GameObject gameObject)\n        {\n            if (gameObject == null)\n            {\n#if DEBUG\n                Debug.LogWarning(\"GameObject is null!\");\n#endif\n                return;\n            }\n            \n            if (gameObject.TryGetComponent(out Poolable poolable))\n            {\n                DestroyPool(poolable.Pool);\n            }\n            else\n            {\n#if DEBUG\n                Debug.LogError($\"{gameObject.name} was not spawned by NightPool!\");\n#endif\n            }\n        }\n\n        public static void DestroyPool(Pool pool)\n        {\n            if (pool == null)\n            {\n#if DEBUG\n                Debug.LogWarning(\"Pool is null!\");\n#endif\n                return;\n            }\n            \n            foreach (var poolable in pool.Poolables)\n            {\n                Object.Destroy(poolable.gameObject);\n            }\n\n            Object.Destroy(pool.gameObject);\n            \n            AllPools.Remove(pool);\n        }\n        \n        /// <summary>\n        /// Destroys all pools\n        /// </summary>\n        public static void DestroyAllPools()\n        {\n            if (IsEditor) \n                return;\n\n            var pools = AllPools.ToArray();\n            \n            foreach (var pool in pools)\n            {\n                DestroyPool(pool);\n            }\n            \n            AllPools.Clear();\n        }\n        \n        /// <summary>\n        /// Resets the static components of NightPool\n        /// </summary>\n        public static void Reset()\n        {\n            ResetLists();\n            \n            ResetActions();\n        }\n\n        /// <summary>\n        /// Allows to search for the requires pool by prefab of GameObject\n        /// </summary>\n        /// <returns> Pool by prefab if exists one. Otherwise, it will create a new </returns>\n        public static Pool GetPoolByPrefab(GameObject prefab)\n        {\n            var count = AllPools.Count;\n            \n            for (var i = 0; i < count; i++)\n            {\n                if (AllPools[i].Prefab == prefab)\n                {\n                    return AllPools[i];\n                }\n            }\n\n            return CreateNewPool(prefab);\n        }\n\n        /// <summary>\n        /// Creates a new pool\n        /// </summary>\n        /// <returns> A new pool </returns>\n        private static Pool CreateNewPool(GameObject prefab)\n        {\n            var poolParent = new GameObject($\"[NightPool] {prefab.name}\");\n            var newPool = poolParent.AddComponent<Pool>();\n            \n            newPool.Setup(prefab, poolParent.transform);\n\n            AllPools.Add(newPool);\n\n            return newPool;\n        }\n        \n        /// <summary>\n        /// Default spawn method\n        /// </summary>\n        /// <returns> Spawned GameObject </returns>\n        private static GameObject DefaultSpawn(GameObject prefab, Vector3 position, Quaternion rotation, \n            Transform parent, bool worldPositionStays)\n        {\n            if (IsEditor)\n                return default;\n            \n            var pool = GetPoolByPrefab(prefab);\n            var freePoolable = pool.GetFreeObject();\n            var gameObject = freePoolable.gameObject;\n            \n            gameObject.SetActive(true);\n            \n            SetupTransform(freePoolable.transform, position, rotation, parent, worldPositionStays);\n            \n            CheckForSpawnEvents(gameObject);\n            \n            return gameObject;\n        }\n        \n        /// <summary>\n        /// Default despawn method\n        /// </summary>\n        /// <param name=\"toDespawn\"> GameObject to despawn </param>\n        /// <param name=\"delay\"> For despawn with a delay </param>\n        private static async void DefaultDespawn(GameObject toDespawn, float delay = 0f)\n        {\n            if (IsEditor)\n                return;\n\n            if (toDespawn.TryGetComponent(out Poolable poolable))\n            {\n                if (delay > 0)\n                {\n                    await Delay(delay);\n                    \n                    if (IsEditor)\n                        return;\n                    \n                    if (toDespawn == null)\n                        return;\n                }\n                \n                var pool = poolable.Pool;\n\n                if (pool != null)\n                {\n                    toDespawn.SetActive(false);\n                    toDespawn.transform.SetParent(pool.PoolablesParent);\n                \n                    pool.IncludePoolable(poolable);\n                }\n                else\n                {\n                    Object.Destroy(toDespawn);\n                }\n\n                CheckForDespawnEvents(toDespawn);\n            }\n            else\n            {\n#if DEBUG\n                Debug.LogError($\"{toDespawn.name} was not spawned by NightPool and will be destroyed!\");\n#endif\n                Object.Destroy(toDespawn, delay);\n            }\n        }\n        \n        /// <summary>\n        /// Sets the position and rotation of Transform\n        /// </summary>\n        private static void SetupTransform(Transform transform, Vector3 position, Quaternion rotation, \n            Transform parent = null, bool worldPositionStays = false)\n        {\n            transform.SetParent(parent, worldPositionStays);\n            transform.SetPositionAndRotation(position, rotation);\n        }\n\n        /// <summary>\n        /// Tries to find IPoolItem component on GameObject and invokes void OnSpawn() if found\n        /// </summary>\n        private static void CheckForSpawnEvents(GameObject toCheck)\n        {\n            OnObjectSpawned?.Invoke(toCheck);\n\n            toCheck.GetComponentsInChildren(ItemEventComponents);\n\n            for (var i = 0; i < ItemEventComponents.Count; i++)\n            {\n                ItemEventComponents[i].OnSpawn();\n            }\n        }\n        \n        /// <summary>\n        /// Tries to find IPoolItem component on GameObject and invokes void OnDespawn() if found\n        /// </summary>\n        private static void CheckForDespawnEvents(GameObject toCheck)\n        {\n            OnObjectDespawned?.Invoke(toCheck);\n            \n            toCheck.GetComponentsInChildren(ItemEventComponents);\n            \n            for (var i = 0; i < ItemEventComponents.Count; i++)\n            {\n                ItemEventComponents[i].OnDespawn();\n            }\n        }\n        \n        /// <summary>\n        /// Resets static Lists in NightPool\n        /// </summary>\n        private static void ResetLists()\n        {\n            AllPools?.Clear();\n            ItemEventComponents?.Clear();\n        }\n\n        /// <summary>\n        /// Resets static Actions in NightPool\n        /// </summary>\n        private static void ResetActions()\n        {\n            OnObjectSpawned = null;\n            OnObjectDespawned = null;\n        }\n    }\n}","size_bytes":10590},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/NightPoolDespawner.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing UnityEngine;\n\nnamespace NTC.Global.Pool\n{\n    public class NightPoolDespawner : MonoBehaviour\n    {\n        [SerializeField] private float timeToDespawn = 3f;\n\n        private bool processed;\n        private float timer;\n\n        private void OnEnable()\n        {\n            Restore();\n        }\n\n        private void OnDisable()\n        {\n            Restore();\n        }\n\n        private void Update()\n        {\n            if (IsDespawnMoment() == false)\n                return;\n            \n            NightPool.Despawn(gameObject);\n            \n            OnProcessed();\n        }\n\n        private bool IsDespawnMoment()\n        {\n            if (processed)\n                return false;\n            \n            timer += Time.deltaTime;\n\n            if (timer >= timeToDespawn)\n                return true;\n\n            return false;\n        }\n\n        private void Restore()\n        {\n            timer = 0f;\n            processed = false;\n        }\n\n        private void OnProcessed()\n        {\n            processed = true;\n            timer = 0f;\n        }\n    }\n}","size_bytes":1389},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/NightPoolEntry.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing UnityEngine;\n\nnamespace NTC.Global.Pool\n{\n    public class NightPoolEntry : MonoBehaviour\n    {\n        [SerializeField] private PoolPreset poolPreset;\n\n        private void Awake()\n        {\n            NightPool.InstallPoolItems(poolPreset);\n        }\n\n        private void OnDestroy()\n        {\n            NightPool.Reset();\n        }\n    }\n}","size_bytes":658},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/Pool.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing System.Collections.Generic;\nusing UnityEngine;\n\nnamespace NTC.Global.Pool\n{\n    [DisallowMultipleComponent]\n    public class Pool : MonoBehaviour\n    {\n        public GameObject Prefab { get; private set; }\n        public Transform PoolablesParent { get; private set; }\n        \n        public IReadOnlyList<Poolable> Poolables => pooledGameObjects;\n\n        private readonly List<Poolable> pooledGameObjects = new List<Poolable>(64);\n        \n        private bool isSetup;\n        \n        public void Setup(GameObject prefab, Transform parent)\n        {\n            if (isSetup) return;\n\n            Prefab = prefab;\n            PoolablesParent = parent;\n            \n            isSetup = true;\n        }\n        \n        public Poolable GetFreeObject()\n        {\n            if (pooledGameObjects.Count > 0)\n            {\n                var poolable = pooledGameObjects[0];\n\n                pooledGameObjects.RemoveAt(0);\n                \n                return poolable;\n            }\n            \n            return InstantiateObjectInThisPool();\n        }\n\n        public void PopulatePool(int count)\n        {\n            for (var i = 0; i < count; i++)\n            {\n                IncludePoolable(InstantiateObjectInThisPool());\n            }\n        }\n\n        public void IncludePoolable(Poolable poolable)\n        {\n            if (Prefab != poolable.Prefab)\n            {\n#if DEBUG\n                Debug.LogError(\"You tries to include object from other pool!\");\n#endif\n                return;\n            }\n\n            if (pooledGameObjects.Contains(poolable) == false)\n            {\n                pooledGameObjects.Add(poolable);\n            }\n        }\n        \n        public void ExcludePoolable(Poolable poolable)\n        {\n            if (Prefab != poolable.Prefab)\n            {\n#if DEBUG\n                Debug.LogError(\"You tries to exclude object from other pool!\");\n#endif\n                return;\n            }\n\n            pooledGameObjects.Remove(poolable);\n        }\n        \n        private Poolable InstantiateObjectInThisPool()\n        {\n            var newPoolable = Instantiate(Prefab, PoolablesParent).AddComponent<Poolable>();\n            \n            newPoolable.Setup(this, Prefab, false);\n\n            return newPoolable;\n        }\n    }\n}","size_bytes":2593},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/PoolItem.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing System;\nusing UnityEngine;\n\nnamespace NTC.Global.Pool\n{\n    [Serializable]\n    public sealed class PoolItem\n    {\n        [SerializeField] private GameObject prefab;\n        [SerializeField] private int size;\n        \n        public GameObject Prefab => prefab;\n        public int Size => size;\n    }\n}","size_bytes":614},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/PoolPreset.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing System.Collections.Generic;\nusing UnityEngine;\n\nnamespace NTC.Global.Pool\n{\n    [CreateAssetMenu(menuName = \"Source/Pool/PoolPreset\", fileName = \"PoolPreset\", order = 0)]\n    public class PoolPreset : ScriptableObject\n    {\n        [SerializeField] private string poolName;\n        [SerializeField] private List<PoolItem> poolItems = new List<PoolItem>(256);\n\n        public IReadOnlyList<PoolItem> PoolItems => poolItems;\n\n        public string GetName()\n        {\n            return poolName;\n        }\n    }\n}","size_bytes":824},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/NightPool/Poolable.cs":{"content":"ï»¿// ----------------------------------------------------------------------------\n// The MIT License\n// NightPool is an object pool for Unity https://github.com/MeeXaSiK/NightPool\n// Copyright (c) 2021-2022 Night Train Code\n// ----------------------------------------------------------------------------\n\nusing System;\nusing UnityEngine;\n\nnamespace NTC.Global.Pool\n{\n    [DisallowMultipleComponent]\n    public class Poolable : MonoBehaviour, IPoolItem\n    {\n        public Pool Pool { get; private set; }\n        public GameObject Prefab { get; private set; }\n        public bool IsActive { get; private set; }\n        \n        private bool isSetup;\n\n        public void Setup(Pool pool, GameObject prefab, bool active)\n        {\n            if (isSetup)\n                return;\n            \n            if (prefab == null)\n                throw new NullReferenceException(nameof(prefab), null);\n\n            gameObject.SetActive(active);\n\n            IsActive = active;\n            Pool = pool;\n            Prefab = prefab;\n\n            isSetup = true;\n        }\n\n        void IPoolItem.OnSpawn()\n        {\n            IsActive = true;\n        }\n\n        void IPoolItem.OnDespawn()\n        {\n            IsActive = false;\n        }\n\n        private void OnDestroy()\n        {\n            if (Pool != null)\n            {\n                Pool.ExcludePoolable(this);\n            }\n        }\n    }\n}","size_bytes":1397},"CapybaraGame/Assets/Plugins/NightPool-2.2.0/Code/System/TaskSugar.cs":{"content":"ï»¿using System;\nusing System.Threading.Tasks;\n\nnamespace NTC.Global.System.Tasks\n{\n    public static class TaskSugar\n    {\n        public static Task Delay(float time)\n        {\n            return Task.Delay(TimeSpan.FromSeconds(time));\n        }\n        \n        public static Task Seconds(this float time)\n        {\n            return Task.Delay(TimeSpan.FromSeconds(time));\n        }\n    }\n}","size_bytes":395},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/BindingUtil.cs":{"content":"using System;\r\nusing System.Collections.Generic;\r\nusing System.Diagnostics;\r\nusing ModestTree;\r\nusing Zenject.Internal;\r\nusing System.Linq;\r\nusing TypeExtensions = ModestTree.TypeExtensions;\r\n\r\n#if !NOT_UNITY3D\r\nusing UnityEngine;\r\n\r\n#if UNITY_EDITOR\r\nusing UnityEditor;\r\n#endif\r\n\r\n#endif\r\n\r\nnamespace Zenject\r\n{\r\n    internal static class BindingUtil\r\n    {\r\n#if !NOT_UNITY3D\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsValidPrefab(UnityEngine.Object prefab)\r\n        {\r\n            Assert.That(!ZenUtilInternal.IsNull(prefab), \"Received null prefab during bind command\");\r\n\r\n#if UNITY_EDITOR\r\n            // Unfortunately we can't do this check because asset bundles return PrefabType.None here\r\n            // as discussed here: https://github.com/svermeulen/Zenject/issues/269#issuecomment-323419408\r\n            //Assert.That(PrefabUtility.GetPrefabType(prefab) == PrefabType.Prefab,\r\n                //\"Expected prefab but found game object with name '{0}' during bind command\", prefab.name);\r\n#endif\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsValidGameObject(GameObject gameObject)\r\n        {\r\n            Assert.That(!ZenUtilInternal.IsNull(gameObject), \"Received null game object during bind command\");\r\n\r\n#if UNITY_EDITOR\r\n            // Unfortunately we can't do this check because asset bundles return PrefabType.None here\r\n            // as discussed here: https://github.com/svermeulen/Zenject/issues/269#issuecomment-323419408\r\n            //Assert.That(PrefabUtility.GetPrefabType(gameObject) != PrefabType.Prefab,\r\n                //\"Expected game object but found prefab instead with name '{0}' during bind command\", gameObject.name);\r\n#endif\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsNotComponent(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsNotComponent(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsNotComponent<T>()\r\n        {\r\n            AssertIsNotComponent(typeof(T));\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsNotComponent(Type type)\r\n        {\r\n            Assert.That(!type.DerivesFrom(typeof(Component)),\r\n                \"Invalid type given during bind command.  Expected type '{0}' to NOT derive from UnityEngine.Component\", type);\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertDerivesFromUnityObject(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertDerivesFromUnityObject(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertDerivesFromUnityObject<T>()\r\n        {\r\n            AssertDerivesFromUnityObject(typeof(T));\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertDerivesFromUnityObject(Type type)\r\n        {\r\n            Assert.That(type.DerivesFrom<UnityEngine.Object>(),\r\n                \"Invalid type given during bind command.  Expected type '{0}' to derive from UnityEngine.Object\", type);\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertTypesAreNotComponents(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsNotComponent(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsValidResourcePath(string resourcePath)\r\n        {\r\n            Assert.That(!string.IsNullOrEmpty(resourcePath), \"Null or empty resource path provided\");\r\n\r\n            // We'd like to validate the path here but unfortunately there doesn't appear to be\r\n            // a way to do this besides loading it\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsInterfaceOrScriptableObject(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsInterfaceOrScriptableObject(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsInterfaceOrScriptableObject<T>()\r\n        {\r\n            AssertIsInterfaceOrScriptableObject(typeof(T));\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsInterfaceOrScriptableObject(Type type)\r\n        {\r\n            Assert.That(type.DerivesFrom(typeof(ScriptableObject)) || type.IsInterface(),\r\n                \"Invalid type given during bind command.  Expected type '{0}' to either derive from UnityEngine.ScriptableObject or be an interface\", type);\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsInterfaceOrComponent(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsInterfaceOrComponent(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsInterfaceOrComponent<T>()\r\n        {\r\n            AssertIsInterfaceOrComponent(typeof(T));\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsInterfaceOrComponent(Type type)\r\n        {\r\n            Assert.That(type.DerivesFrom(typeof(Component)) || type.IsInterface(),\r\n                \"Invalid type given during bind command.  Expected type '{0}' to either derive from UnityEngine.Component or be an interface\", type);\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsComponent(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsComponent(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsComponent<T>()\r\n        {\r\n            AssertIsComponent(typeof(T));\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsComponent(Type type)\r\n        {\r\n            Assert.That(type.DerivesFrom(typeof(Component)),\r\n                \"Invalid type given during bind command.  Expected type '{0}' to derive from UnityEngine.Component\", type);\r\n        }\r\n#else\r\n        public static void AssertTypesAreNotComponents(IEnumerable<Type> types)\r\n        {\r\n        }\r\n\r\n        public static void AssertIsNotComponent(Type type)\r\n        {\r\n        }\r\n\r\n        public static void AssertIsNotComponent<T>()\r\n        {\r\n        }\r\n\r\n        public static void AssertIsNotComponent(IEnumerable<Type> types)\r\n        {\r\n        }\r\n#endif\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertTypesAreNotAbstract(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsNotAbstract(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsNotAbstract(IEnumerable<Type> types)\r\n        {\r\n            foreach (var type in types)\r\n            {\r\n                AssertIsNotAbstract(type);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsNotAbstract<T>()\r\n        {\r\n            AssertIsNotAbstract(typeof(T));\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsNotAbstract(Type type)\r\n        {\r\n            Assert.That(!type.IsAbstract(),\r\n                \"Invalid type given during bind command.  Expected type '{0}' to not be abstract.\", type);\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsDerivedFromType(Type concreteType, Type parentType)\r\n        {\r\n#if !(UNITY_WSA && ENABLE_DOTNET)\r\n            // TODO: Is it possible to do this on WSA?\r\n\r\n            Assert.That(parentType.IsOpenGenericType() == concreteType.IsOpenGenericType(),\r\n                \"Invalid type given during bind command.  Expected type '{0}' and type '{1}' to both either be open generic types or not open generic types\", parentType, concreteType);\r\n\r\n            if (parentType.IsOpenGenericType())\r\n            {\r\n                Assert.That(concreteType.IsOpenGenericType());\r\n                Assert.That(TypeExtensions.IsAssignableToGenericType(concreteType, parentType),\r\n                    \"Invalid type given during bind command.  Expected open generic type '{0}' to derive from open generic type '{1}'\", concreteType, parentType);\r\n            }\r\n            else\r\n#endif\r\n            {\r\n                Assert.That(concreteType.DerivesFromOrEqual(parentType),\r\n                    \"Invalid type given during bind command.  Expected type '{0}' to derive from type '{1}'\", concreteType, parentType);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertConcreteTypeListIsNotEmpty(IEnumerable<Type> concreteTypes)\r\n        {\r\n            Assert.That(concreteTypes.Count() >= 1,\r\n                \"Must supply at least one concrete type to the current binding\");\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsDerivedFromTypes(\r\n            IEnumerable<Type> concreteTypes, IEnumerable<Type> parentTypes, InvalidBindResponses invalidBindResponse)\r\n        {\r\n            if (invalidBindResponse == InvalidBindResponses.Assert)\r\n            {\r\n                AssertIsDerivedFromTypes(concreteTypes, parentTypes);\r\n            }\r\n            else\r\n            {\r\n                Assert.IsEqual(invalidBindResponse, InvalidBindResponses.Skip);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsDerivedFromTypes(IEnumerable<Type> concreteTypes, IEnumerable<Type> parentTypes)\r\n        {\r\n            foreach (var concreteType in concreteTypes)\r\n            {\r\n                AssertIsDerivedFromTypes(concreteType, parentTypes);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertIsDerivedFromTypes(Type concreteType, IEnumerable<Type> parentTypes)\r\n        {\r\n            foreach (var parentType in parentTypes)\r\n            {\r\n                AssertIsDerivedFromType(concreteType, parentType);\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertInstanceDerivesFromOrEqual(object instance, IEnumerable<Type> parentTypes)\r\n        {\r\n            if (!ZenUtilInternal.IsNull(instance))\r\n            {\r\n                foreach (var baseType in parentTypes)\r\n                {\r\n                    AssertInstanceDerivesFromOrEqual(instance, baseType);\r\n                }\r\n            }\r\n        }\r\n\r\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\r\n        [Conditional(\"UNITY_EDITOR\")]\r\n#endif\r\n        public static void AssertInstanceDerivesFromOrEqual(object instance, Type baseType)\r\n        {\r\n            if (!ZenUtilInternal.IsNull(instance))\r\n            {\r\n                Assert.That(instance.GetType().DerivesFromOrEqual(baseType),\r\n                    \"Invalid type given during bind command.  Expected type '{0}' to derive from type '{1}'\", instance.GetType(), baseType);\r\n            }\r\n        }\r\n\r\n        public static IProvider CreateCachedProvider(IProvider creator)\r\n        {\r\n            if (creator.TypeVariesBasedOnMemberType)\r\n            {\r\n                return new CachedOpenTypeProvider(creator);\r\n            }\r\n\r\n            return new CachedProvider(creator);\r\n        }\r\n    }\r\n}\r\n","size_bytes":12702},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/EditorStaticInstaller.cs":{"content":"\nnamespace Zenject\n{\n    // Derive from this class, add [InitializeOnLoad], and then call Install\n    // in a static constructor to add some editor time bindings\n    // For example:\n    //\n    // [InitializeOnLoad]\n    // public class FooInstaller : EditorStaticInstaller<FooInstaller>\n    // {\n    //     static FooInstaller()\n    //     {\n    //         Install();\n    //     }\n    //\n    //     public override void InstallBindings()\n    //     {\n    //         Container.BindInstance(\"hello world\");\n    //     }\n    // }\n    //\n    public abstract class EditorStaticInstaller<T> : InstallerBase\n        where T : EditorStaticInstaller<T>\n    {\n        public static void Install()\n        {\n            StaticContext.Container.Instantiate<T>().InstallBindings();\n        }\n    }\n}\n","size_bytes":786},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/ObjectGraphVisualizer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // Responsibilities:\n    // - Output a file specifying the full object graph for a given root dependency\n    // - This file uses the DOT language with can be fed into GraphViz to generate an image\n    // - http://www.graphviz.org/\n    public static class ObjectGraphVisualizer\n    {\n        public static void OutputObjectGraphToFile(\n            DiContainer container, string outputPath,\n            IEnumerable<Type> externalIgnoreTypes, IEnumerable<Type> contractTypes)\n        {\n            // Output the entire object graph to file\n            var graph = CalculateObjectGraph(container, contractTypes);\n\n            var ignoreTypes = new List<Type>\n            {\n                typeof(DiContainer),\n                typeof(InitializableManager)\n            };\n\n            ignoreTypes.AddRange(externalIgnoreTypes);\n\n            var resultStr = \"digraph { \\n\";\n\n            resultStr += \"rankdir=LR;\\n\";\n\n            foreach (var entry in graph)\n            {\n                if (ShouldIgnoreType(entry.Key, ignoreTypes))\n                {\n                    continue;\n                }\n\n                foreach (var dependencyType in entry.Value)\n                {\n                    if (ShouldIgnoreType(dependencyType, ignoreTypes))\n                    {\n                        continue;\n                    }\n\n                    resultStr += GetFormattedTypeName(entry.Key) + \" -> \" + GetFormattedTypeName(dependencyType) + \"; \\n\";\n                }\n            }\n\n            resultStr += \" }\";\n\n            File.WriteAllText(outputPath, resultStr);\n        }\n\n        static bool ShouldIgnoreType(Type type, List<Type> ignoreTypes)\n        {\n            return ignoreTypes.Contains(type);\n        }\n\n        static Dictionary<Type, List<Type>> CalculateObjectGraph(\n            DiContainer container, IEnumerable<Type> contracts)\n        {\n            var map = new Dictionary<Type, List<Type>>();\n\n            foreach (var contractType in contracts)\n            {\n                var depends = GetDependencies(container, contractType);\n\n                if (depends.Any())\n                {\n                    map.Add(contractType, depends);\n                }\n            }\n\n            return map;\n        }\n\n        static List<Type> GetDependencies(\n            DiContainer container, Type type)\n        {\n            var dependencies = new List<Type>();\n\n            foreach (var contractType in container.GetDependencyContracts(type))\n            {\n                List<Type> dependTypes;\n\n                if (contractType.FullName.StartsWith(\"System.Collections.Generic.List\"))\n                {\n                    var subTypes = contractType.GenericArguments();\n                    Assert.IsEqual(subTypes.Length, 1);\n\n                    var subType = subTypes[0];\n                    dependTypes = container.ResolveTypeAll(subType);\n                }\n                else\n                {\n                    dependTypes = container.ResolveTypeAll(contractType);\n                    Assert.That(dependTypes.Count <= 1);\n                }\n\n                foreach (var dependType in dependTypes)\n                {\n                    dependencies.Add(dependType);\n                }\n            }\n\n            return dependencies;\n        }\n\n        static string GetFormattedTypeName(Type type)\n        {\n            var str = type.PrettyName();\n\n            // GraphViz does not read names with <, >, or . characters so replace them\n            str = str.Replace(\">\", \"_\");\n            str = str.Replace(\"<\", \"_\");\n            str = str.Replace(\".\", \"_\");\n\n            return str;\n        }\n    }\n}\n\n","size_bytes":3755},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/UnityInspectorListEditor.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEditor;\nusing UnityEditorInternal;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public abstract class UnityInspectorListEditor : Editor\n    {\n        List<ReorderableList> _installersLists;\n        List<SerializedProperty> _installersProperties;\n\n        protected abstract string[] PropertyDisplayNames\n        {\n            get;\n        }\n\n        protected abstract string[] PropertyNames\n        {\n            get;\n        }\n\n        protected abstract string[] PropertyDescriptions\n        {\n            get;\n        }\n\n        public virtual void OnEnable()\n        {\n            _installersProperties = new List<SerializedProperty>();\n            _installersLists = new List<ReorderableList>();\n\n            var descriptions = PropertyDescriptions;\n            var names = PropertyNames;\n            var displayNames = PropertyDisplayNames;\n\n            Assert.IsEqual(descriptions.Length, names.Length);\n\n            var infos = Enumerable.Range(0, names.Length).Select(i => new { Name = names[i], DisplayName = displayNames[i], Description = descriptions[i] }).ToList();\n\n            foreach (var info in infos)\n            {\n                var installersProperty = serializedObject.FindProperty(info.Name);\n                _installersProperties.Add(installersProperty);\n\n                ReorderableList installersList = new ReorderableList(serializedObject, installersProperty, true, true, true, true);\n                _installersLists.Add(installersList);\n\n                var closedName = info.DisplayName;\n                var closedDesc = info.Description;\n\n                installersList.drawHeaderCallback += rect =>\n                {\n                    GUI.Label(rect,\n                    new GUIContent(closedName, closedDesc));\n                };\n                installersList.drawElementCallback += (rect, index, active, focused) =>\n                {\n                    rect.width -= 40;\n                    rect.x += 20;\n                    EditorGUI.PropertyField(rect, installersProperty.GetArrayElementAtIndex(index), GUIContent.none, true);\n                };\n            }\n        }\n\n        public sealed override void OnInspectorGUI()\n        {\n            serializedObject.Update();\n\n            OnGui();\n\n            serializedObject.ApplyModifiedProperties();\n        }\n\n        protected virtual void OnGui()\n        {\n            if (Application.isPlaying)\n            {\n                GUI.enabled = false;\n            }\n\n            foreach (var list in _installersLists)\n            {\n                list.DoLayoutList();\n            }\n\n            GUI.enabled = true;\n        }\n    }\n}\n\n","size_bytes":2708},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/ZenMenuItems.cs":{"content":"#if !NOT_UNITY3D\n\nusing System.IO;\nusing ModestTree;\nusing UnityEditor;\nusing UnityEditor.SceneManagement;\nusing UnityEngine;\n\nnamespace Zenject.Internal\n{\n    public static class ZenMenuItems\n    {\n        [MenuItem(\"Edit/Zenject/Validate Current Scenes #&v\")]\n        public static void ValidateCurrentScene()\n        {\n            ValidateCurrentSceneInternal();\n        }\n\n        [MenuItem(\"Edit/Zenject/Validate Then Run #&r\")]\n        public static void ValidateCurrentSceneThenRun()\n        {\n            if (ValidateCurrentSceneInternal())\n            {\n                EditorApplication.isPlaying = true;\n            }\n        }\n\n        [MenuItem(\"Edit/Zenject/Help...\")]\n        public static void OpenDocumentation()\n        {\n            Application.OpenURL(\"https://github.com/svermeulen/zenject\");\n        }\n\n        [MenuItem(\"GameObject/Zenject/Scene Context\", false, 9)]\n        public static void CreateSceneContext(MenuCommand menuCommand)\n        {\n            var root = new GameObject(\"SceneContext\").AddComponent<SceneContext>();\n            Selection.activeGameObject = root.gameObject;\n\n            EditorSceneManager.MarkSceneDirty(EditorSceneManager.GetActiveScene());\n        }\n\n        [MenuItem(\"GameObject/Zenject/Decorator Context\", false, 9)]\n        public static void CreateDecoratorContext(MenuCommand menuCommand)\n        {\n            var root = new GameObject(\"DecoratorContext\").AddComponent<SceneDecoratorContext>();\n            Selection.activeGameObject = root.gameObject;\n\n            EditorSceneManager.MarkSceneDirty(EditorSceneManager.GetActiveScene());\n        }\n\n        [MenuItem(\"GameObject/Zenject/Game Object Context\", false, 9)]\n        public static void CreateGameObjectContext(MenuCommand menuCommand)\n        {\n            var root = new GameObject(\"GameObjectContext\").AddComponent<GameObjectContext>();\n            Selection.activeGameObject = root.gameObject;\n\n            EditorSceneManager.MarkSceneDirty(EditorSceneManager.GetActiveScene());\n        }\n\n        [MenuItem(\"Edit/Zenject/Create Project Context\")]\n        public static void CreateProjectContextInDefaultLocation()\n        {\n            var fullDirPath = Path.Combine(Application.dataPath, \"Resources\");\n\n            if (!Directory.Exists(fullDirPath))\n            {\n                Directory.CreateDirectory(fullDirPath);\n            }\n\n            CreateProjectContextInternal(\"Assets/Resources\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Default Scene Contract Config\", false, 80)]\n        public static void CreateDefaultSceneContractConfig()\n        {\n            var folderPath = ZenUnityEditorUtil.GetCurrentDirectoryAssetPathFromSelection();\n\n            if (!folderPath.EndsWith(\"/Resources\"))\n            {\n                EditorUtility.DisplayDialog(\"Error\",\n                    \"ZenjectDefaultSceneContractConfig objects must be placed directly underneath a folder named 'Resources'.  Please try again.\", \"Ok\");\n                return;\n            }\n\n            var config = ScriptableObject.CreateInstance<DefaultSceneContractConfig>();\n\n            ZenUnityEditorUtil.SaveScriptableObjectAsset(\n                Path.Combine(folderPath, DefaultSceneContractConfig.ResourcePath + \".asset\"), config);\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Scriptable Object Installer\", false, 1)]\n        public static void CreateScriptableObjectInstaller()\n        {\n            AddCSharpClassTemplate(\"Scriptable Object Installer\", \"UntitledInstaller\",\n                  \"using UnityEngine;\"\n                + \"\\nusing Zenject;\"\n                + \"\\n\"\n                + \"\\n[CreateAssetMenu(fileName = \\\"CLASS_NAME\\\", menuName = \\\"Installers/CLASS_NAME\\\")]\"\n                + \"\\npublic class CLASS_NAME : ScriptableObjectInstaller<CLASS_NAME>\"\n                + \"\\n{\"\n                + \"\\n    public override void InstallBindings()\"\n                + \"\\n    {\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Mono Installer\", false, 1)]\n        public static void CreateMonoInstaller()\n        {\n            AddCSharpClassTemplate(\"Mono Installer\", \"UntitledInstaller\",\n                  \"using UnityEngine;\"\n                + \"\\nusing Zenject;\"\n                + \"\\n\"\n                + \"\\npublic class CLASS_NAME : MonoInstaller\"\n                + \"\\n{\"\n                + \"\\n    public override void InstallBindings()\"\n                + \"\\n    {\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Installer\", false, 1)]\n        public static void CreateInstaller()\n        {\n            AddCSharpClassTemplate(\"Installer\", \"UntitledInstaller\",\n                  \"using UnityEngine;\"\n                + \"\\nusing Zenject;\"\n                + \"\\n\"\n                + \"\\npublic class CLASS_NAME : Installer<CLASS_NAME>\"\n                + \"\\n{\"\n                + \"\\n    public override void InstallBindings()\"\n                + \"\\n    {\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Editor Window\", false, 20)]\n        public static void CreateEditorWindow()\n        {\n            AddCSharpClassTemplate(\"Editor Window\", \"UntitledEditorWindow\",\n                  \"using UnityEngine;\"\n                + \"\\nusing UnityEditor;\"\n                + \"\\nusing Zenject;\"\n                + \"\\n\"\n                + \"\\npublic class CLASS_NAME : ZenjectEditorWindow\"\n                + \"\\n{\"\n                + \"\\n    [MenuItem(\\\"Window/CLASS_NAME\\\")]\"\n                + \"\\n    public static CLASS_NAME GetOrCreateWindow()\"\n                + \"\\n    {\"\n                + \"\\n        var window = EditorWindow.GetWindow<CLASS_NAME>();\"\n                + \"\\n        window.titleContent = new GUIContent(\\\"CLASS_NAME\\\");\"\n                + \"\\n        return window;\"\n                + \"\\n    }\"\n                + \"\\n\"\n                + \"\\n    public override void InstallBindings()\"\n                + \"\\n    {\"\n                + \"\\n        // TODO\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Project Context\", false, 40)]\n        public static void CreateProjectContext()\n        {\n            var absoluteDir = ZenUnityEditorUtil.TryGetSelectedFolderPathInProjectsTab();\n\n            if (absoluteDir == null)\n            {\n                EditorUtility.DisplayDialog(\"Error\",\n                    \"Could not find directory to place the '{0}.prefab' asset.  Please try again by right clicking in the desired folder within the projects pane.\"\n                    .Fmt(ProjectContext.ProjectContextResourcePath), \"Ok\");\n                return;\n            }\n\n            var parentFolderName = Path.GetFileName(absoluteDir);\n\n            if (parentFolderName != \"Resources\")\n            {\n                EditorUtility.DisplayDialog(\"Error\",\n                    \"'{0}.prefab' must be placed inside a directory named 'Resources'.  Please try again by right clicking within the Project pane in a valid Resources folder.\"\n                    .Fmt(ProjectContext.ProjectContextResourcePath), \"Ok\");\n                return;\n            }\n\n            CreateProjectContextInternal(absoluteDir);\n        }\n\n        static void CreateProjectContextInternal(string absoluteDir)\n        {\n            var assetPath = ZenUnityEditorUtil.ConvertFullAbsolutePathToAssetPath(absoluteDir);\n            var prefabPath = (Path.Combine(assetPath, ProjectContext.ProjectContextResourcePath) + \".prefab\").Replace(\"\\\\\", \"/\");\n\n            var gameObject = new GameObject();\n\n            try\n            {\n                gameObject.AddComponent<ProjectContext>();\n\n#if UNITY_2018_3_OR_NEWER\n                var prefabObj = PrefabUtility.SaveAsPrefabAsset(gameObject, prefabPath);\n#else\n                var prefabObj = PrefabUtility.ReplacePrefab(gameObject, PrefabUtility.CreateEmptyPrefab(prefabPath));\n#endif\n\n                Selection.activeObject = prefabObj;\n            }\n            finally\n            {\n                GameObject.DestroyImmediate(gameObject);\n            }\n\n            Debug.Log(\"Created new ProjectContext at '{0}'\".Fmt(prefabPath));\n        }\n\n        public static string AddCSharpClassTemplate(\n            string friendlyName, string defaultFileName, string templateStr)\n        {\n            return AddCSharpClassTemplate(\n                friendlyName, defaultFileName, templateStr, ZenUnityEditorUtil.GetCurrentDirectoryAssetPathFromSelection());\n        }\n\n        public static string AddCSharpClassTemplate(\n            string friendlyName, string defaultFileName,\n            string templateStr, string folderPath)\n        {\n            var absolutePath = EditorUtility.SaveFilePanel(\n                \"Choose name for \" + friendlyName,\n                folderPath,\n                defaultFileName + \".cs\",\n                \"cs\");\n\n            if (absolutePath == \"\")\n            {\n                // Dialog was cancelled\n                return null;\n            }\n\n            if (!absolutePath.ToLower().EndsWith(\".cs\"))\n            {\n                absolutePath += \".cs\";\n            }\n\n            var className = Path.GetFileNameWithoutExtension(absolutePath);\n            File.WriteAllText(absolutePath, templateStr.Replace(\"CLASS_NAME\", className));\n\n            AssetDatabase.Refresh();\n\n            var assetPath = ZenUnityEditorUtil.ConvertFullAbsolutePathToAssetPath(absolutePath);\n\n            EditorUtility.FocusProjectWindow();\n            Selection.activeObject = AssetDatabase.LoadAssetAtPath<UnityEngine.Object>(assetPath);\n\n            return assetPath;\n        }\n\n        [MenuItem(\"Edit/Zenject/Validate All Active Scenes\")]\n        public static void ValidateAllActiveScenes()\n        {\n            ZenUnityEditorUtil.SaveThenRunPreserveSceneSetup(() =>\n                {\n                    var numValidated = ZenUnityEditorUtil.ValidateAllActiveScenes();\n                    Log.Info(\"Validated all '{0}' active scenes successfully\", numValidated);\n                });\n        }\n\n        static bool ValidateCurrentSceneInternal()\n        {\n            return ZenUnityEditorUtil.SaveThenRunPreserveSceneSetup(() =>\n                {\n                    SceneParentAutomaticLoader.ValidateMultiSceneSetupAndLoadDefaultSceneParents();\n                    ZenUnityEditorUtil.ValidateCurrentSceneSetup();\n                    Log.Info(\"All scenes validated successfully\");\n                });\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Unit Test\", false, 60)]\n        public static void CreateUnitTest()\n        {\n            AddCSharpClassTemplate(\"Unit Test\", \"UntitledUnitTest\",\n                  \"using Zenject;\"\n                + \"\\nusing NUnit.Framework;\"\n                + \"\\n\"\n                + \"\\n[TestFixture]\"\n                + \"\\npublic class CLASS_NAME : ZenjectUnitTestFixture\"\n                + \"\\n{\"\n                + \"\\n    [Test]\"\n                + \"\\n    public void RunTest1()\"\n                + \"\\n    {\"\n                + \"\\n        // TODO\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Integration Test\", false, 60)]\n        public static void CreateIntegrationTest()\n        {\n            AddCSharpClassTemplate(\"Integration Test\", \"UntitledIntegrationTest\",\n                  \"using Zenject;\"\n                + \"\\nusing System.Collections;\"\n                + \"\\nusing UnityEngine.TestTools;\"\n                + \"\\n\"\n                + \"\\npublic class CLASS_NAME : ZenjectIntegrationTestFixture\"\n                + \"\\n{\"\n                + \"\\n    [UnityTest]\"\n                + \"\\n    public IEnumerator RunTest1()\"\n                + \"\\n    {\"\n                + \"\\n        // Setup initial state by creating game objects from scratch, loading prefabs/scenes, etc\"\n                + \"\\n\"\n                + \"\\n        PreInstall();\"\n                + \"\\n\"\n                + \"\\n        // Call Container.Bind methods\"\n                + \"\\n\"\n                + \"\\n        PostInstall();\"\n                + \"\\n\"\n                + \"\\n        // Add test assertions for expected state\"\n                + \"\\n        // Using Container.Resolve or [Inject] fields\"\n                + \"\\n        yield break;\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n\n        [MenuItem(\"Assets/Create/Zenject/Scene Test\", false, 60)]\n        public static void CreateSceneTest()\n        {\n            AddCSharpClassTemplate(\"Scene Test Fixture\", \"UntitledSceneTest\",\n                  \"using Zenject;\"\n                + \"\\nusing System.Collections;\"\n                + \"\\nusing UnityEngine;\"\n                + \"\\nusing UnityEngine.TestTools;\"\n                + \"\\n\"\n                + \"\\npublic class CLASS_NAME : SceneTestFixture\"\n                + \"\\n{\"\n                + \"\\n    [UnityTest]\"\n                + \"\\n    public IEnumerator TestScene()\"\n                + \"\\n    {\"\n                + \"\\n        yield return LoadScene(\\\"InsertSceneNameHere\\\");\"\n                + \"\\n\"\n                + \"\\n        // TODO: Add assertions here now that the scene has started\"\n                + \"\\n        // Or you can just uncomment to simply wait some time to make sure the scene plays without errors\"\n                + \"\\n        //yield return new WaitForSeconds(1.0f);\"\n                + \"\\n\"\n                + \"\\n        // Note that you can use SceneContainer.Resolve to look up objects that you need for assertions\"\n                + \"\\n    }\"\n                + \"\\n}\");\n        }\n    }\n}\n#endif\n","size_bytes":13570},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/ZenUnityEditorUtil.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing ModestTree;\nusing UnityEditor;\nusing UnityEditor.SceneManagement;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace Zenject.Internal\n{\n    public static class ZenUnityEditorUtil\n    {\n        // Returns true if succeeds without errors\n        public static bool SaveThenRunPreserveSceneSetup(Action action)\n        {\n            if (EditorSceneManager.SaveCurrentModifiedScenesIfUserWantsTo())\n            {\n                var originalSceneSetup = EditorSceneManager.GetSceneManagerSetup();\n\n                try\n                {\n                    action();\n                    return true;\n                }\n                catch (Exception e)\n                {\n                    Log.ErrorException(e);\n                    return false;\n                }\n                finally\n                {\n                    EditorSceneManager.RestoreSceneManagerSetup(originalSceneSetup);\n                }\n            }\n\n            return false;\n        }\n\n        // Feel free to call this method from an editor script, or a unit test, etc.\n        // An exception will be thrown if any validation errors are encountered\n        public static void ValidateCurrentSceneSetup()\n        {\n            bool encounteredError = false;\n\n            Application.LogCallback logCallback = (condition, stackTrace, type) =>\n            {\n                if (type == LogType.Error || type == LogType.Assert\n                    || type == LogType.Exception)\n                {\n                    encounteredError = true;\n                }\n            };\n\n            Application.logMessageReceived += logCallback;\n\n            try\n            {\n                Assert.That(!ProjectContext.HasInstance);\n                ProjectContext.ValidateOnNextRun = true;\n\n                foreach (var sceneContext in GetAllSceneContexts())\n                {\n                    sceneContext.Validate();\n                }\n            }\n            catch (Exception e)\n            {\n                Log.ErrorException(e);\n                encounteredError = true;\n            }\n            finally\n            {\n                Application.logMessageReceived -= logCallback;\n            }\n\n            if (encounteredError)\n            {\n                throw new ZenjectException(\"Zenject Validation Failed!  See errors below for details.\");\n            }\n        }\n\n        // NOTE: An exception will be thrown if any validation errors are encountered\n        // Returns the number of scenes that successfully validated\n        public static int ValidateAllActiveScenes()\n        {\n            var activeScenePaths = EditorBuildSettings.scenes.Where(x => x.enabled)\n                .Select(x => x.path).ToList();\n\n            foreach (var scenePath in activeScenePaths)\n            {\n                EditorSceneManager.OpenScene(scenePath, OpenSceneMode.Single);\n                ValidateCurrentSceneSetup();\n            }\n\n            return activeScenePaths.Count;\n        }\n\n        // Don't use this\n        public static void RunCurrentSceneSetup()\n        {\n            Assert.That(!ProjectContext.HasInstance);\n\n            foreach (var sceneContext in GetAllSceneContexts())\n            {\n                try\n                {\n                    sceneContext.Run();\n                }\n                catch (Exception e)\n                {\n                    // Add a bit more context\n                    throw new ZenjectException(\n                        \"Scene '{0}' Failed To Start!\".Fmt(sceneContext.gameObject.scene.name), e);\n                }\n            }\n        }\n\n        public static SceneContext GetSceneContextForScene(Scene scene)\n        {\n            var sceneContext = TryGetSceneContextForScene(scene);\n\n            Assert.IsNotNull(sceneContext,\n                \"Could not find scene context for scene '{0}'\", scene.name);\n\n            return sceneContext;\n        }\n\n        public static SceneContext TryGetSceneContextForScene(Scene scene)\n        {\n            if (!scene.isLoaded)\n            {\n                return null;\n            }\n\n            var sceneContexts = scene.GetRootGameObjects()\n                .SelectMany(x => x.GetComponentsInChildren<SceneContext>()).ToList();\n\n            if (sceneContexts.IsEmpty())\n            {\n                return null;\n            }\n\n            Assert.That(sceneContexts.Count == 1,\n                \"Found multiple SceneContexts in scene '{0}'.  Expected a maximum of one.\", scene.name);\n\n            return sceneContexts[0];\n        }\n\n        public static SceneDecoratorContext GetDecoratorContextForScene(Scene scene)\n        {\n            var decoratorContext = TryGetDecoratorContextForScene(scene);\n\n            Assert.IsNotNull(decoratorContext,\n                \"Could not find decorator context for scene '{0}'\", scene.name);\n\n            return decoratorContext;\n        }\n\n        public static SceneDecoratorContext TryGetDecoratorContextForScene(Scene scene)\n        {\n            if (!scene.isLoaded)\n            {\n                return null;\n            }\n\n            var decoratorContexts = scene.GetRootGameObjects()\n                .SelectMany(x => x.GetComponentsInChildren<SceneDecoratorContext>()).ToList();\n\n            if (decoratorContexts.IsEmpty())\n            {\n                return null;\n            }\n\n            Assert.That(decoratorContexts.Count == 1,\n                \"Found multiple DecoratorContexts in scene '{0}'.  Expected a maximum of one.\", scene.name);\n\n            return decoratorContexts[0];\n        }\n\n        static IEnumerable<SceneContext> GetAllSceneContexts()\n        {\n            var decoratedSceneNames = new List<string>();\n\n            for (int i = 0; i < EditorSceneManager.sceneCount; i++)\n            {\n                var scene = EditorSceneManager.GetSceneAt(i);\n\n                var sceneContext = TryGetSceneContextForScene(scene);\n                var decoratorContext = TryGetDecoratorContextForScene(scene);\n\n                if (sceneContext != null)\n                {\n                    Assert.That(decoratorContext == null,\n                        \"Found both SceneDecoratorContext and SceneContext in the same scene '{0}'.  This is not allowed\", scene.name);\n\n                    decoratedSceneNames.RemoveAll(x => sceneContext.ContractNames.Contains(x));\n\n                    yield return sceneContext;\n                }\n                else if (decoratorContext != null)\n                {\n                    Assert.That(!string.IsNullOrEmpty(decoratorContext.DecoratedContractName),\n                        \"Missing Decorated Contract Name on SceneDecoratorContext in scene '{0}'\", scene.name);\n\n                    decoratedSceneNames.Add(decoratorContext.DecoratedContractName);\n                }\n            }\n\n            Assert.That(decoratedSceneNames.IsEmpty(),\n                \"Found decorator scenes without a corresponding scene to decorator.  Missing scene contracts: {0}\", decoratedSceneNames.Join(\", \"));\n        }\n\n        public static string ConvertAssetPathToAbsolutePath(string assetPath)\n        {\n            return Path.Combine(\n                Path.Combine(Path.GetFullPath(Application.dataPath), \"..\"), assetPath);\n        }\n\n        public static string ConvertFullAbsolutePathToAssetPath(string fullPath)\n        {\n            fullPath = Path.GetFullPath(fullPath);\n\n            var assetFolderFullPath = Path.GetFullPath(Application.dataPath);\n\n            if (fullPath.Length == assetFolderFullPath.Length)\n            {\n                Assert.IsEqual(fullPath, assetFolderFullPath);\n                return \"Assets\";\n            }\n\n            var assetPath = fullPath.Remove(0, assetFolderFullPath.Length + 1).Replace(\"\\\\\", \"/\");\n            return \"Assets/\" + assetPath;\n        }\n\n        public static string GetCurrentDirectoryAssetPathFromSelection()\n        {\n            return ConvertFullAbsolutePathToAssetPath(\n                GetCurrentDirectoryAbsolutePathFromSelection());\n        }\n\n        public static string GetCurrentDirectoryAbsolutePathFromSelection()\n        {\n            var folderPath = TryGetSelectedFolderPathInProjectsTab();\n\n            if (folderPath != null)\n            {\n                return folderPath;\n            }\n\n            var filePath = TryGetSelectedFilePathInProjectsTab();\n\n            if (filePath != null)\n            {\n                return Path.GetDirectoryName(filePath);\n            }\n\n            return Application.dataPath;\n        }\n\n        public static string TryGetSelectedFilePathInProjectsTab()\n        {\n            return GetSelectedFilePathsInProjectsTab().OnlyOrDefault();\n        }\n\n        public static List<string> GetSelectedFilePathsInProjectsTab()\n        {\n            return GetSelectedPathsInProjectsTab()\n                .Where(x => File.Exists(x)).ToList();\n        }\n\n        public static List<string> GetSelectedAssetPathsInProjectsTab()\n        {\n            var paths = new List<string>();\n\n            UnityEngine.Object[] selectedAssets = Selection.GetFiltered(\n                typeof(UnityEngine.Object), SelectionMode.Assets);\n\n            foreach (var item in selectedAssets)\n            {\n                var assetPath = AssetDatabase.GetAssetPath(item);\n\n                if (!string.IsNullOrEmpty(assetPath))\n                {\n                    paths.Add(assetPath);\n                }\n            }\n\n            return paths;\n        }\n\n        public static List<string> GetSelectedPathsInProjectsTab()\n        {\n            var paths = new List<string>();\n\n            UnityEngine.Object[] selectedAssets = Selection.GetFiltered(\n                typeof(UnityEngine.Object), SelectionMode.Assets);\n\n            foreach (var item in selectedAssets)\n            {\n                var relativePath = AssetDatabase.GetAssetPath(item);\n\n                if (!string.IsNullOrEmpty(relativePath))\n                {\n                    var fullPath = Path.GetFullPath(Path.Combine(\n                        Application.dataPath, Path.Combine(\"..\", relativePath)));\n\n                    paths.Add(fullPath);\n                }\n            }\n\n            return paths;\n        }\n\n        // Taken from http://wiki.unity3d.com/index.php?title=CreateScriptableObjectAsset\n        public static void SaveScriptableObjectAsset(\n            string path, ScriptableObject asset)\n        {\n            Assert.That(path.EndsWith(\".asset\"));\n\n            string assetPathAndName = AssetDatabase.GenerateUniqueAssetPath(path);\n\n            AssetDatabase.CreateAsset(asset, assetPathAndName);\n\n            AssetDatabase.SaveAssets();\n            AssetDatabase.Refresh();\n            EditorUtility.FocusProjectWindow();\n            Selection.activeObject = asset;\n        }\n\n        // Note that the path is relative to the Assets folder\n        public static List<string> GetSelectedFolderPathsInProjectsTab()\n        {\n            return GetSelectedPathsInProjectsTab()\n                .Where(x => Directory.Exists(x)).ToList();\n        }\n\n        // Returns the best guess directory in projects pane\n        // Useful when adding to Assets -> Create context menu\n        // Returns null if it can't find one\n        // Note that the path is relative to the Assets folder for use in AssetDatabase.GenerateUniqueAssetPath etc.\n        public static string TryGetSelectedFolderPathInProjectsTab()\n        {\n            return GetSelectedFolderPathsInProjectsTab().OnlyOrDefault();\n        }\n    }\n}\n\n#endif\n","size_bytes":11565},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/FactoryProviderWrapper.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    public class FactoryProviderWrapper<TContract> : IFactory<TContract>\n    {\n        readonly IProvider _provider;\n        readonly InjectContext _injectContext;\n\n        public FactoryProviderWrapper(\n            IProvider provider, InjectContext injectContext)\n        {\n            Assert.That(injectContext.MemberType.DerivesFromOrEqual<TContract>());\n\n            _provider = provider;\n            _injectContext = injectContext;\n        }\n\n        public TContract Create()\n        {\n            var instance = _provider.GetInstance(_injectContext);\n\n            if (_injectContext.Container.IsValidating)\n            {\n                // During validation it is sufficient to just call the _provider.GetInstance\n                return default(TContract);\n            }\n\n            Assert.That(instance == null\n                || instance.GetType().DerivesFromOrEqual(_injectContext.MemberType));\n\n            return (TContract)instance;\n        }\n    }\n}\n\n","size_bytes":1005},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/IFactory.cs":{"content":"namespace Zenject\n{\n    public interface IFactory\n    {\n    }\n\n    public interface IFactory<out TValue> : IFactory\n    {\n        TValue Create();\n    }\n\n    public interface IFactory<in TParam1, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, in TParam7, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, in TParam7, in TParam8, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7, TParam8 param8);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, in TParam7, in TParam8, in TParam9, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7, TParam8 param8, TParam9 param9);\n    }\n\n    public interface IFactory<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, in TParam7, in TParam8, in TParam9, in TParam10, out TValue> : IFactory\n    {\n        TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7, TParam8 param8, TParam9 param9, TParam10 param10);\n    }\n}\n\n","size_bytes":2588},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/KeyedFactory.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n\nnamespace Zenject\n{\n    public abstract class KeyedFactoryBase<TBase, TKey> : IValidatable\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        [InjectOptional]\n        readonly List<ValuePair<TKey, Type>> _typePairs = null;\n\n        Dictionary<TKey, Type> _typeMap = null;\n\n        [InjectOptional]\n        readonly Type _fallbackType = null;\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        protected abstract IEnumerable<Type> ProvidedTypes\n        {\n            get;\n        }\n\n        public ICollection<TKey> Keys\n        {\n            get { return _typeMap.Keys; }\n        }\n\n        protected Dictionary<TKey, Type> TypeMap\n        {\n            get { return _typeMap; }\n        }\n\n        [Inject]\n        public void Initialize()\n        {\n            Assert.That(_fallbackType == null || _fallbackType.DerivesFromOrEqual<TBase>(),\n                \"Expected fallback type '{0}' to derive from '{1}'\", _fallbackType, typeof(TBase));\n\n#if UNITY_EDITOR\n            var duplicates = _typePairs.Select(x => x.First).GetDuplicates();\n\n            if (!duplicates.IsEmpty())\n            {\n                throw Assert.CreateException(\n                    \"Found duplicate values in KeyedFactory: {0}\", duplicates.Select(x => x.ToString()).Join(\", \"));\n            }\n#endif\n\n            _typeMap = _typePairs.ToDictionary(x => x.First, x => x.Second);\n            _typePairs.Clear();\n        }\n\n        public bool HasKey(TKey key)\n        {\n            return _typeMap.ContainsKey(key);\n        }\n\n        protected Type GetTypeForKey(TKey key)\n        {\n            Type keyedType;\n\n            if (!_typeMap.TryGetValue(key, out keyedType))\n            {\n                Assert.IsNotNull(_fallbackType, \"Could not find instance for key '{0}'\", key);\n                return _fallbackType;\n            }\n\n            return keyedType;\n        }\n\n        public virtual void Validate()\n        {\n            foreach (var constructType in _typeMap.Values)\n            {\n                Container.InstantiateExplicit(\n                    constructType, ValidationUtil.CreateDefaultArgs(ProvidedTypes.ToArray()));\n            }\n        }\n\n        protected static ConditionCopyNonLazyBinder AddBindingInternal<TDerived>(DiContainer container, TKey key)\n            where TDerived : TBase\n        {\n            return container.Bind<ValuePair<TKey, Type>>()\n                .FromInstance(ValuePair.New(key, typeof(TDerived)));\n        }\n    }\n\n    // Zero parameters\n    public class KeyedFactory<TBase, TKey> : KeyedFactoryBase<TBase, TKey>\n    {\n        protected override IEnumerable<Type> ProvidedTypes\n        {\n            get { return new Type[0]; }\n        }\n\n        public virtual TBase Create(TKey key)\n        {\n            var type = GetTypeForKey(key);\n            return (TBase)Container.Instantiate(type);\n        }\n    }\n\n    // One parameter\n    public class KeyedFactory<TBase, TKey, TParam1> : KeyedFactoryBase<TBase, TKey>\n    {\n        protected override IEnumerable<Type> ProvidedTypes\n        {\n            get { return new[] { typeof(TParam1) }; }\n        }\n\n        public virtual TBase Create(TKey key, TParam1 param1)\n        {\n            return (TBase)Container.InstantiateExplicit(\n                GetTypeForKey(key),\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1)\n                });\n        }\n    }\n\n    // Two parameters\n    public class KeyedFactory<TBase, TKey, TParam1, TParam2> : KeyedFactoryBase<TBase, TKey>\n    {\n        protected override IEnumerable<Type> ProvidedTypes\n        {\n            get { return new[] { typeof(TParam1), typeof(TParam2) }; }\n        }\n\n        public virtual TBase Create(TKey key, TParam1 param1, TParam2 param2)\n        {\n            return (TBase)Container.InstantiateExplicit(\n                GetTypeForKey(key),\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2)\n                });\n        }\n    }\n\n    // Three parameters\n    public class KeyedFactory<TBase, TKey, TParam1, TParam2, TParam3> : KeyedFactoryBase<TBase, TKey>\n    {\n        protected override IEnumerable<Type> ProvidedTypes\n        {\n            get { return new[] { typeof(TParam1), typeof(TParam2), typeof(TParam3) }; }\n        }\n\n        public virtual TBase Create(TKey key, TParam1 param1, TParam2 param2, TParam3 param3)\n        {\n            return (TBase)Container.InstantiateExplicit(\n                GetTypeForKey(key),\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3)\n                });\n        }\n    }\n\n    // Four parameters\n    public class KeyedFactory<TBase, TKey, TParam1, TParam2, TParam3, TParam4> : KeyedFactoryBase<TBase, TKey>\n    {\n        protected override IEnumerable<Type> ProvidedTypes\n        {\n            get { return new[] { typeof(TParam1), typeof(TParam2), typeof(TParam3), typeof(TParam4) }; }\n        }\n\n        public virtual TBase Create(TKey key, TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4)\n        {\n            return (TBase)Container.InstantiateExplicit(\n                GetTypeForKey(key),\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3),\n                    InjectUtil.CreateTypePair(param4)\n                });\n        }\n    }\n}\n","size_bytes":5858},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/PlaceholderFactory.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing JetBrains.Annotations;\n#endif\n\nnamespace Zenject\n{\n    // Zero parameters\n    public class PlaceholderFactory<TValue> : PlaceholderFactoryBase<TValue>, IFactory<TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create()\n        {\n            return CreateInternal(new List<TypeValuePair>());\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get { yield break; }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TValue> : PlaceholderFactory<TValue>\n    {\n    }\n\n    // One parameter\n    public class PlaceholderFactory<TParam1, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create(TParam1 param)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get { yield return typeof(TParam1); }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TValue> : PlaceholderFactory<TParam1, TValue>\n    {\n    }\n\n    // Two parameters\n    public class PlaceholderFactory<TParam1, TParam2, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TParam2, TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create(TParam1 param1, TParam2 param2)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get\n            {\n                yield return typeof(TParam1);\n                yield return typeof(TParam2);\n            }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TParam2, TValue> : PlaceholderFactory<TParam1, TParam2, TValue>\n    {\n    }\n\n    // Three parameters\n    public class PlaceholderFactory<TParam1, TParam2, TParam3, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TParam2, TParam3, TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create(TParam1 param1, TParam2 param2, TParam3 param3)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get\n            {\n                yield return typeof(TParam1);\n                yield return typeof(TParam2);\n                yield return typeof(TParam3);\n            }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TParam2, TParam3, TValue> : PlaceholderFactory<TParam1, TParam2, TParam3, TValue>\n    {\n    }\n\n    // Four parameters\n    public class PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TParam2, TParam3, TParam4, TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3),\n                    InjectUtil.CreateTypePair(param4)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get\n            {\n                yield return typeof(TParam1);\n                yield return typeof(TParam2);\n                yield return typeof(TParam3);\n                yield return typeof(TParam4);\n            }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TParam2, TParam3, TParam4, TValue>\n        : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TValue>\n    {\n    }\n\n    // Five parameters\n    public class PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3),\n                    InjectUtil.CreateTypePair(param4),\n                    InjectUtil.CreateTypePair(param5)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get\n            {\n                yield return typeof(TParam1);\n                yield return typeof(TParam2);\n                yield return typeof(TParam3);\n                yield return typeof(TParam4);\n                yield return typeof(TParam5);\n            }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n    {\n    }\n\n    // Six parameters\n    public class PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n    {\n        // Note: Most of the time you should not override this method and should instead\n        // use BindFactory<>.FromIFactory if you want to do some custom logic\n#if !NOT_UNITY3D\n        [NotNull]\n#endif\n        public virtual TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3),\n                    InjectUtil.CreateTypePair(param4),\n                    InjectUtil.CreateTypePair(param5),\n                    InjectUtil.CreateTypePair(param6)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get\n            {\n                yield return typeof(TParam1);\n                yield return typeof(TParam2);\n                yield return typeof(TParam3);\n                yield return typeof(TParam4);\n                yield return typeof(TParam5);\n                yield return typeof(TParam6);\n            }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n    {\n    }\n\n    // Ten parameters\n    public class PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue>\n        : PlaceholderFactoryBase<TValue>, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue>\n    {\n        // If you were hoping to override this method, use BindFactory<>.ToFactory instead\n        public virtual TValue Create(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7, TParam8 param8, TParam9 param9, TParam10 param10)\n        {\n            return CreateInternal(\n                new List<TypeValuePair>\n                {\n                    InjectUtil.CreateTypePair(param1),\n                    InjectUtil.CreateTypePair(param2),\n                    InjectUtil.CreateTypePair(param3),\n                    InjectUtil.CreateTypePair(param4),\n                    InjectUtil.CreateTypePair(param5),\n                    InjectUtil.CreateTypePair(param6),\n                    InjectUtil.CreateTypePair(param7),\n                    InjectUtil.CreateTypePair(param8),\n                    InjectUtil.CreateTypePair(param9),\n                    InjectUtil.CreateTypePair(param10)\n                });\n        }\n\n        protected sealed override IEnumerable<Type> ParamTypes\n        {\n            get\n            {\n                yield return typeof(TParam1);\n                yield return typeof(TParam2);\n                yield return typeof(TParam3);\n                yield return typeof(TParam4);\n                yield return typeof(TParam5);\n                yield return typeof(TParam6);\n                yield return typeof(TParam7);\n                yield return typeof(TParam8);\n                yield return typeof(TParam9);\n                yield return typeof(TParam10);\n            }\n        }\n    }\n\n    [Obsolete(\"Zenject.Factory has been renamed to PlaceholderFactory.  Zenject.Factory will be removed in future versions\")]\n    public class Factory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue>\n        : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue>\n    {\n    }\n}\n\n","size_bytes":11444},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/PlaceholderFactoryBase.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public interface IPlaceholderFactory : IValidatable\n    {\n    }\n\n    // Placeholder factories can be used to choose a creation method in an installer, using FactoryBinder\n    public abstract class PlaceholderFactoryBase<TValue> : IPlaceholderFactory\n    {\n        IProvider _provider;\n        InjectContext _injectContext;\n\n        [Inject]\n        void Construct(IProvider provider, InjectContext injectContext)\n        {\n            Assert.IsNotNull(provider);\n            Assert.IsNotNull(injectContext);\n\n            _provider = provider;\n            _injectContext = injectContext;\n        }\n\n        protected TValue CreateInternal(List<TypeValuePair> extraArgs)\n        {\n            try\n            {\n                var result = _provider.GetInstance(_injectContext, extraArgs);\n\n                if (_injectContext.Container.IsValidating && result is ValidationMarker)\n                {\n                    return default(TValue);\n                }\n\n                Assert.That(result == null || result.GetType().DerivesFromOrEqual<TValue>());\n\n                return (TValue) result;\n            }\n            catch (Exception e)\n            {\n                throw new ZenjectException(\n                    \"Error during construction of type '{0}' via {1}.Create method!\".Fmt(typeof(TValue), GetType()), e);\n            }\n        }\n\n        public virtual void Validate()\n        {\n            _provider.GetInstance(\n                _injectContext, ValidationUtil.CreateDefaultArgs(ParamTypes.ToArray()));\n        }\n\n        protected abstract IEnumerable<Type> ParamTypes\n        {\n            get;\n        }\n    }\n}\n","size_bytes":1739},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/PrefabFactory.cs":{"content":"ï»¿#if !NOT_UNITY3D\n\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    // This factory type can be useful if you want to control where the prefab comes from at runtime\n    // rather than from within the installers\n\n    //No parameters\n    public class PrefabFactory<T> : IFactory<UnityEngine.Object, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(UnityEngine.Object prefab)\n        {\n            Assert.That(prefab != null,\n               \"Null prefab given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            return _container.InstantiatePrefabForComponent<T>(prefab);\n        }\n\n        // Note: We can't really validate here without access to the prefab\n        // We could validate the class directly with the current container but that fails when the\n        // class is inside a GameObjectContext\n    }\n\n    // One parameter\n    public class PrefabFactory<P1, T> : IFactory<UnityEngine.Object, P1, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(UnityEngine.Object prefab, P1 param)\n        {\n            Assert.That(prefab != null,\n               \"Null prefab given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param));\n        }\n    }\n\n    // Two parameters\n    public class PrefabFactory<P1, P2, T> : IFactory<UnityEngine.Object, P1, P2, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(UnityEngine.Object prefab, P1 param, P2 param2)\n        {\n            Assert.That(prefab != null,\n               \"Null prefab given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param, param2));\n        }\n    }\n\n    // Three parameters\n    public class PrefabFactory<P1, P2, P3, T> : IFactory<UnityEngine.Object, P1, P2, P3, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(UnityEngine.Object prefab, P1 param, P2 param2, P3 param3)\n        {\n            Assert.That(prefab != null,\n               \"Null prefab given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param, param2, param3));\n        }\n    }\n\n    // Four parameters\n    public class PrefabFactory<P1, P2, P3, P4, T> : IFactory<UnityEngine.Object, P1, P2, P3, P4, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(UnityEngine.Object prefab, P1 param, P2 param2, P3 param3, P4 param4)\n        {\n            Assert.That(prefab != null,\n               \"Null prefab given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param, param2, param3, param4));\n        }\n    }\n}\n\n#endif\n\n\n","size_bytes":4023},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/PrefabResourceFactory.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    // This factory type can be useful if you want to control where the prefab comes from at runtime\n    // rather than from within the installers\n\n    //No parameters\n    public class PrefabResourceFactory<T> : IFactory<string, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(string prefabResourceName)\n        {\n            Assert.That(!string.IsNullOrEmpty(prefabResourceName),\n              \"Null or empty prefab resource name given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            var prefab = (GameObject)Resources.Load(prefabResourceName);\n            return _container.InstantiatePrefabForComponent<T>(prefab);\n        }\n\n        // Note: We can't really validate here without access to the prefab\n        // We could validate the class directly with the current container but that fails when the\n        // class is inside a GameObjectContext\n    }\n\n    // One parameter\n    public class PrefabResourceFactory<P1, T> : IFactory<string, P1, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(string prefabResourceName, P1 param)\n        {\n            Assert.That(!string.IsNullOrEmpty(prefabResourceName),\n              \"Null or empty prefab resource name given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            var prefab = (GameObject)Resources.Load(prefabResourceName);\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param));\n        }\n    }\n\n    // Two parameters\n    public class PrefabResourceFactory<P1, P2, T> : IFactory<string, P1, P2, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(string prefabResourceName, P1 param, P2 param2)\n        {\n            Assert.That(!string.IsNullOrEmpty(prefabResourceName),\n              \"Null or empty prefab resource name given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            var prefab = (GameObject)Resources.Load(prefabResourceName);\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param, param2));\n        }\n    }\n\n    // Three parameters\n    public class PrefabResourceFactory<P1, P2, P3, T> : IFactory<string, P1, P2, P3, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(string prefabResourceName, P1 param, P2 param2, P3 param3)\n        {\n            Assert.That(!string.IsNullOrEmpty(prefabResourceName),\n              \"Null or empty prefab resource name given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            var prefab = (GameObject)Resources.Load(prefabResourceName);\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param, param2, param3));\n        }\n    }\n\n    // Four parameters\n    public class PrefabResourceFactory<P1, P2, P3, P4, T> : IFactory<string, P1, P2, P3, P4, T>\n        //where T : Component\n    {\n        [Inject]\n        readonly DiContainer _container = null;\n\n        public DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual T Create(string prefabResourceName, P1 param, P2 param2, P3 param3, P4 param4)\n        {\n            Assert.That(!string.IsNullOrEmpty(prefabResourceName),\n              \"Null or empty prefab resource name given to factory create method when instantiating object with type '{0}'.\", typeof(T));\n\n            var prefab = (GameObject)Resources.Load(prefabResourceName);\n\n            return (T)_container.InstantiatePrefabForComponentExplicit(\n                typeof(T), prefab, InjectUtil.CreateArgListExplicit(param, param2, param3, param4));\n        }\n    }\n}\n\n#endif\n\n\n\n","size_bytes":4614},"CapybaraGame/Assets/Plugins/Zenject/Source/Injection/InjectContext.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class InjectContext : IDisposable\n    {\n        BindingId _bindingId;\n        Type _objectType;\n        InjectContext _parentContext;\n        object _objectInstance;\n        string _memberName;\n        bool _optional;\n        InjectSources _sourceType;\n        object _fallBackValue;\n        object _concreteIdentifier;\n        DiContainer _container;\n\n        public InjectContext()\n        {\n            _bindingId = new BindingId();\n            Reset();\n        }\n\n        public InjectContext(DiContainer container, Type memberType)\n            : this()\n        {\n            Container = container;\n            MemberType = memberType;\n        }\n\n        public InjectContext(DiContainer container, Type memberType, object identifier)\n            : this(container, memberType)\n        {\n            Identifier = identifier;\n        }\n\n        public InjectContext(DiContainer container, Type memberType, object identifier, bool optional)\n            : this(container, memberType, identifier)\n        {\n            Optional = optional;\n        }\n\n        public void Dispose()\n        {\n            ZenPools.DespawnInjectContext(this);\n        }\n\n        public void Reset()\n        {\n            _objectType = null;\n            _parentContext = null;\n            _objectInstance = null;\n            _memberName = \"\";\n            _optional = false;\n            _sourceType = InjectSources.Any;\n            _fallBackValue = null;\n            _container = null;\n            _bindingId.Type = null;\n            _bindingId.Identifier = null;\n        }\n\n        public BindingId BindingId\n        {\n            get { return _bindingId; }\n        }\n\n        // The type of the object which is having its members injected\n        // NOTE: This is null for root calls to Resolve<> or Instantiate<>\n        public Type ObjectType\n        {\n            get { return _objectType; }\n            set { _objectType = value; }\n        }\n\n        // Parent context that triggered the creation of ObjectType\n        // This can be used for very complex conditions using parent info such as identifiers, types, etc.\n        // Note that ParentContext.MemberType is not necessarily the same as ObjectType,\n        // since the ObjectType could be a derived type from ParentContext.MemberType\n        public InjectContext ParentContext\n        {\n            get { return _parentContext; }\n            set { _parentContext = value; }\n        }\n\n        // The instance which is having its members injected\n        // Note that this is null when injecting into the constructor\n        public object ObjectInstance\n        {\n            get { return _objectInstance; }\n            set { _objectInstance = value; }\n        }\n\n        // Identifier - most of the time this is null\n        // It will match 'foo' in this example:\n        //      ... In an installer somewhere:\n        //          Container.Bind<Foo>(\"foo\").AsSingle();\n        //      ...\n        //      ... In a constructor:\n        //          public Foo([Inject(Id = \"foo\") Foo foo)\n        public object Identifier\n        {\n            get { return _bindingId.Identifier; }\n            set { _bindingId.Identifier = value; }\n        }\n\n        // The constructor parameter name, or field name, or property name\n        public string MemberName\n        {\n            get { return _memberName; }\n            set { _memberName = value; }\n        }\n\n        // The type of the constructor parameter, field or property\n        public Type MemberType\n        {\n            get { return _bindingId.Type; }\n            set { _bindingId.Type = value; }\n        }\n\n        // When optional, null is a valid value to be returned\n        public bool Optional\n        {\n            get { return _optional; }\n            set { _optional = value; }\n        }\n\n        // When set to true, this will only look up dependencies in the local container and will not\n        // search in parent containers\n        public InjectSources SourceType\n        {\n            get { return _sourceType; }\n            set { _sourceType = value; }\n        }\n\n        public object ConcreteIdentifier\n        {\n            get { return _concreteIdentifier; }\n            set { _concreteIdentifier = value; }\n        }\n\n        // When optional, this is used to provide the value\n        public object FallBackValue\n        {\n            get { return _fallBackValue; }\n            set { _fallBackValue = value; }\n        }\n\n        // The container used for this injection\n        public DiContainer Container\n        {\n            get { return _container; }\n            set { _container = value; }\n        }\n\n        public IEnumerable<InjectContext> ParentContexts\n        {\n            get\n            {\n                if (ParentContext == null)\n                {\n                    yield break;\n                }\n\n                yield return ParentContext;\n\n                foreach (var context in ParentContext.ParentContexts)\n                {\n                    yield return context;\n                }\n            }\n        }\n\n        public IEnumerable<InjectContext> ParentContextsAndSelf\n        {\n            get\n            {\n                yield return this;\n\n                foreach (var context in ParentContexts)\n                {\n                    yield return context;\n                }\n            }\n        }\n\n        // This will return the types of all the objects that are being injected\n        // So if you have class Foo which has constructor parameter of type IBar,\n        // and IBar resolves to Bar, this will be equal to (Bar, Foo)\n        public IEnumerable<Type> AllObjectTypes\n        {\n            get\n            {\n                foreach (var context in ParentContextsAndSelf)\n                {\n                    if (context.ObjectType != null)\n                    {\n                        yield return context.ObjectType;\n                    }\n                }\n            }\n        }\n\n        public InjectContext CreateSubContext(Type memberType)\n        {\n            return CreateSubContext(memberType, null);\n        }\n\n        public InjectContext CreateSubContext(Type memberType, object identifier)\n        {\n            var subContext = new InjectContext();\n\n            subContext.ParentContext = this;\n            subContext.Identifier = identifier;\n            subContext.MemberType = memberType;\n\n            // Clear these\n            subContext.ConcreteIdentifier = null;\n            subContext.MemberName = \"\";\n            subContext.FallBackValue = null;\n\n            // Inherit these ones by default\n            subContext.ObjectType = ObjectType;\n            subContext.ObjectInstance = ObjectInstance;\n            subContext.Optional = Optional;\n            subContext.SourceType = SourceType;\n            subContext.Container = Container;\n\n            return subContext;\n        }\n\n        public InjectContext Clone()\n        {\n            var clone = new InjectContext();\n\n            clone.ObjectType = ObjectType;\n            clone.ParentContext = ParentContext;\n            clone.ConcreteIdentifier = ConcreteIdentifier;\n            clone.ObjectInstance = ObjectInstance;\n            clone.Identifier = Identifier;\n            clone.MemberType = MemberType;\n            clone.MemberName = MemberName;\n            clone.Optional = Optional;\n            clone.SourceType = SourceType;\n            clone.FallBackValue = FallBackValue;\n            clone.Container = Container;\n\n            return clone;\n        }\n\n        // This is very useful to print out for debugging purposes\n        public string GetObjectGraphString()\n        {\n            var result = new StringBuilder();\n\n            foreach (var context in ParentContextsAndSelf.Reverse())\n            {\n                if (context.ObjectType == null)\n                {\n                    continue;\n                }\n\n                result.AppendLine(context.ObjectType.PrettyName());\n            }\n\n            return result.ToString();\n        }\n    }\n}\n","size_bytes":8193},"CapybaraGame/Assets/Plugins/Zenject/Source/Injection/InjectUtil.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [DebuggerStepThrough]\n    public struct TypeValuePair\n    {\n        public Type Type;\n        public object Value;\n\n        public TypeValuePair(Type type, object value)\n        {\n            Type = type;\n            Value = value;\n        }\n    }\n\n    [DebuggerStepThrough]\n    public static class InjectUtil\n    {\n        public static List<TypeValuePair> CreateArgList(IEnumerable<object> args)\n        {\n            Assert.That(!args.ContainsItem(null),\n                \"Cannot include null values when creating a zenject argument list because zenject has no way of deducing the type from a null value.  If you want to allow null, use the Explicit form.\");\n            return args.Select(x => new TypeValuePair(x.GetType(), x)).ToList();\n        }\n\n        public static TypeValuePair CreateTypePair<T>(T param)\n        {\n            // Use the most derived type that we can find here\n            return new TypeValuePair(\n                param == null ? typeof(T) : param.GetType(), param);\n        }\n\n        public static List<TypeValuePair> CreateArgListExplicit<T>(T param)\n        {\n            return new List<TypeValuePair>\n            {\n                CreateTypePair(param)\n            };\n        }\n\n        public static List<TypeValuePair> CreateArgListExplicit<TParam1, TParam2>(TParam1 param1, TParam2 param2)\n        {\n            return new List<TypeValuePair>\n            {\n                CreateTypePair(param1),\n                CreateTypePair(param2)\n            };\n        }\n\n        public static List<TypeValuePair> CreateArgListExplicit<TParam1, TParam2, TParam3>(\n            TParam1 param1, TParam2 param2, TParam3 param3)\n        {\n            return new List<TypeValuePair>\n            {\n                CreateTypePair(param1),\n                CreateTypePair(param2),\n                CreateTypePair(param3)\n            };\n        }\n\n        public static List<TypeValuePair> CreateArgListExplicit<TParam1, TParam2, TParam3, TParam4>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4)\n        {\n            return new List<TypeValuePair>\n            {\n                CreateTypePair(param1),\n                CreateTypePair(param2),\n                CreateTypePair(param3),\n                CreateTypePair(param4)\n            };\n        }\n\n        public static List<TypeValuePair> CreateArgListExplicit<TParam1, TParam2, TParam3, TParam4, TParam5>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5)\n        {\n            return new List<TypeValuePair>\n            {\n                CreateTypePair(param1),\n                CreateTypePair(param2),\n                CreateTypePair(param3),\n                CreateTypePair(param4),\n                CreateTypePair(param5)\n            };\n        }\n\n        public static List<TypeValuePair> CreateArgListExplicit<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6)\n        {\n            return new List<TypeValuePair>\n            {\n                CreateTypePair(param1),\n                CreateTypePair(param2),\n                CreateTypePair(param3),\n                CreateTypePair(param4),\n                CreateTypePair(param5),\n                CreateTypePair(param6)\n            };\n        }\n\n        // Find the first match with the given type and remove it from the list\n        // Return true if it was removed\n        public static bool PopValueWithType(\n            List<TypeValuePair> extraArgMap, Type injectedFieldType, out object value)\n        {\n            for (int i = 0; i < extraArgMap.Count; i++)\n            {\n                var arg = extraArgMap[i];\n\n                if (arg.Type.DerivesFromOrEqual(injectedFieldType))\n                {\n                    value = arg.Value;\n                    extraArgMap.RemoveAt(i);\n                    return true;\n                }\n            }\n\n            value = injectedFieldType.GetDefaultValue();\n            return false;\n        }\n    }\n}\n","size_bytes":4195},"CapybaraGame/Assets/Plugins/Zenject/Source/Injection/LazyInject.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [ZenjectAllowDuringValidation]\n    [NoReflectionBaking]\n    public class LazyInject<T> : IValidatable\n    {\n        readonly DiContainer _container;\n        readonly InjectContext _context;\n\n        bool _hasValue;\n        T _value;\n\n        public LazyInject(DiContainer container, InjectContext context)\n        {\n            Assert.DerivesFromOrEqual<T>(context.MemberType);\n\n            _container = container;\n            _context = context;\n        }\n\n        void IValidatable.Validate()\n        {\n            _container.Resolve(_context);\n        }\n\n        public T Value\n        {\n            get\n            {\n                if (!_hasValue)\n                {\n                    _value = (T)_container.Resolve(_context);\n                    _hasValue = true;\n                }\n\n                return _value;\n            }\n        }\n    }\n}\n","size_bytes":896},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/IInstaller.cs":{"content":"namespace Zenject\n{\n    // We extract the interface so that monobehaviours can be installers\n    public interface IInstaller\n    {\n        void InstallBindings();\n\n        bool IsEnabled\n        {\n            get;\n        }\n    }\n\n}\n","size_bytes":233},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Installer.cs":{"content":"namespace Zenject\n{\n    //\n    // I'd recommmend using Installer<> instead, and then always use the approach\n    // of calling `MyInstaller.Install(Container)`\n    // This way, if you want to add strongly typed parameters later you can do this\n    // by deriving from a different Installer<> base class\n    //\n    public abstract class Installer : InstallerBase\n    {\n    }\n\n    //\n    // Derive from this class then install like this:\n    //     FooInstaller.Install(Container);\n    //\n    public abstract class Installer<TDerived> : InstallerBase\n        where TDerived : Installer<TDerived>\n    {\n        public static void Install(DiContainer container)\n        {\n            container.Instantiate<TDerived>().InstallBindings();\n        }\n    }\n\n    // Use these versions to pass parameters to your installer\n\n    public abstract class Installer<TParam1, TDerived> : InstallerBase\n        where TDerived : Installer<TParam1, TDerived>\n    {\n        public static void Install(DiContainer container, TParam1 p1)\n        {\n            container.InstantiateExplicit<TDerived>(\n                InjectUtil.CreateArgListExplicit(p1)).InstallBindings();\n        }\n    }\n\n    public abstract class Installer<TParam1, TParam2, TDerived> : InstallerBase\n        where TDerived : Installer<TParam1, TParam2, TDerived>\n    {\n        public static void Install(DiContainer container, TParam1 p1, TParam2 p2)\n        {\n            container.InstantiateExplicit<TDerived>(\n                InjectUtil.CreateArgListExplicit(p1, p2)).InstallBindings();\n        }\n    }\n\n    public abstract class Installer<TParam1, TParam2, TParam3, TDerived> : InstallerBase\n        where TDerived : Installer<TParam1, TParam2, TParam3, TDerived>\n    {\n        public static void Install(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            container.InstantiateExplicit<TDerived>(\n                InjectUtil.CreateArgListExplicit(p1, p2, p3)).InstallBindings();\n        }\n    }\n\n    public abstract class Installer<TParam1, TParam2, TParam3, TParam4, TDerived> : InstallerBase\n        where TDerived : Installer<TParam1, TParam2, TParam3, TParam4, TDerived>\n    {\n        public static void Install(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            container.InstantiateExplicit<TDerived>(\n                InjectUtil.CreateArgListExplicit(p1, p2, p3, p4)).InstallBindings();\n        }\n    }\n\n    public abstract class Installer<TParam1, TParam2, TParam3, TParam4, TParam5, TDerived> : InstallerBase\n        where TDerived : Installer<TParam1, TParam2, TParam3, TParam4, TParam5, TDerived>\n    {\n        public static void Install(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5)\n        {\n            container.InstantiateExplicit<TDerived>(\n                InjectUtil.CreateArgListExplicit(p1, p2, p3, p4, p5)).InstallBindings();\n        }\n    }\n}\n","size_bytes":2925},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/InstallerBase.cs":{"content":"namespace Zenject\n{\n    public abstract class InstallerBase : IInstaller\n    {\n        [Inject]\n        DiContainer _container = null;\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual bool IsEnabled\n        {\n            get { return true; }\n        }\n\n        public abstract void InstallBindings();\n    }\n}\n\n","size_bytes":385},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/MonoInstaller.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\n\nnamespace Zenject\n{\n    // We'd prefer to make this abstract but Unity 5.3.5 has a bug where references\n    // can get lost during compile errors for classes that are abstract\n    public class MonoInstaller : MonoInstallerBase\n    {\n    }\n\n    //\n    // Derive from this class instead to install like this:\n    //     FooInstaller.InstallFromResource(Container);\n    // Or\n    //     FooInstaller.InstallFromResource(\"My/Path/ToPrefab\", Container);\n    //\n    // (Instead of needing to add the MonoInstaller via inspector)\n    //\n    // This approach is needed if you want to pass in strongly parameters to it from\n    // another installer\n    public class MonoInstaller<TDerived> : MonoInstaller\n        where TDerived : MonoInstaller<TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container)\n        {\n            return InstallFromResource(resourcePath, container, new object[0]);\n        }\n\n        public static TDerived InstallFromResource(DiContainer container, object[] extraArgs)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container, extraArgs);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, object[] extraArgs)\n        {\n            var installer = MonoInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.Inject(installer, extraArgs);\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class MonoInstaller<TParam1, TDerived> : MonoInstallerBase\n        where TDerived : MonoInstaller<TParam1, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1)\n        {\n            var installer = MonoInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class MonoInstaller<TParam1, TParam2, TDerived> : MonoInstallerBase\n        where TDerived : MonoInstaller<TParam1, TParam2, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2)\n        {\n            var installer = MonoInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class MonoInstaller<TParam1, TParam2, TParam3, TDerived> : MonoInstallerBase\n        where TDerived : MonoInstaller<TParam1, TParam2, TParam3, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2, p3);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            var installer = MonoInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2, p3));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class MonoInstaller<TParam1, TParam2, TParam3, TParam4, TDerived> : MonoInstallerBase\n        where TDerived : MonoInstaller<TParam1, TParam2, TParam3, TParam4, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2, p3, p4);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            var installer = MonoInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2, p3, p4));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class MonoInstaller<TParam1, TParam2, TParam3, TParam4, TParam5, TDerived> : MonoInstallerBase\n        where TDerived : MonoInstaller<TParam1, TParam2, TParam3, TParam4, TParam5, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5)\n        {\n            return InstallFromResource(MonoInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2, p3, p4, p5);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5)\n        {\n            var installer = MonoInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2, p3, p4, p5));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public static class MonoInstallerUtil\n    {\n        public static string GetDefaultResourcePath<TInstaller>()\n            where TInstaller : MonoInstallerBase\n        {\n            return \"Installers/\" + typeof(TInstaller).PrettyName();\n        }\n\n        public static TInstaller CreateInstaller<TInstaller>(\n            string resourcePath, DiContainer container)\n            where TInstaller : MonoInstallerBase\n        {\n            bool shouldMakeActive;\n            var gameObj = container.CreateAndParentPrefabResource(\n                resourcePath, GameObjectCreationParameters.Default, null, out shouldMakeActive);\n\n            if (shouldMakeActive && !container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                {\n                    gameObj.SetActive(true);\n                }\n            }\n\n            var installers = gameObj.GetComponentsInChildren<TInstaller>();\n\n            Assert.That(installers.Length == 1,\n                \"Could not find unique MonoInstaller with type '{0}' on prefab '{1}'\", typeof(TInstaller), gameObj.name);\n\n            return installers[0];\n        }\n    }\n}\n\n#endif\n","size_bytes":7189},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/MonoInstallerBase.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Diagnostics;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    // We'd prefer to make this abstract but Unity 5.3.5 has a bug where references\n    // can get lost during compile errors for classes that are abstract\n    [DebuggerStepThrough]\n    public class MonoInstallerBase : MonoBehaviour, IInstaller\n    {\n        [Inject]\n        protected DiContainer Container\n        {\n            get; set;\n        }\n\n        public virtual bool IsEnabled\n        {\n            get { return enabled; }\n        }\n\n        public virtual void Start()\n        {\n            // Define this method so we expose the enabled check box\n        }\n\n        public virtual void InstallBindings()\n        {\n            throw new NotImplementedException();\n        }\n    }\n}\n\n#endif\n\n","size_bytes":802},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/ScriptableObjectInstaller.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    // We'd prefer to make this abstract but Unity 5.3.5 has a bug where references\n    // can get lost during compile errors for classes that are abstract\n    public class ScriptableObjectInstaller : ScriptableObjectInstallerBase\n    {\n    }\n\n    //\n    // Derive from this class instead to install like this:\n    //     FooInstaller.InstallFromResource(Container);\n    // Or\n    //     FooInstaller.InstallFromResource(\"My/Path/ToScriptableObjectInstance\", Container);\n    //\n    // (Instead of needing to add the ScriptableObjectInstaller directly via inspector)\n    //\n    // This approach is needed if you want to pass in strongly typed runtime parameters too it\n    //\n    public class ScriptableObjectInstaller<TDerived> : ScriptableObjectInstaller\n        where TDerived : ScriptableObjectInstaller<TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container)\n        {\n            return InstallFromResource(\n                ScriptableObjectInstallerUtil.GetDefaultResourcePath<TDerived>(), container);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container)\n        {\n            var installer = ScriptableObjectInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.Inject(installer);\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class ScriptableObjectInstaller<TParam1, TDerived> : ScriptableObjectInstallerBase\n        where TDerived : ScriptableObjectInstaller<TParam1, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1)\n        {\n            return InstallFromResource(\n                ScriptableObjectInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1)\n        {\n            var installer = ScriptableObjectInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class ScriptableObjectInstaller<TParam1, TParam2, TDerived> : ScriptableObjectInstallerBase\n        where TDerived : ScriptableObjectInstaller<TParam1, TParam2, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2)\n        {\n            return InstallFromResource(\n                ScriptableObjectInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2)\n        {\n            var installer = ScriptableObjectInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class ScriptableObjectInstaller<TParam1, TParam2, TParam3, TDerived> : ScriptableObjectInstallerBase\n        where TDerived : ScriptableObjectInstaller<TParam1, TParam2, TParam3, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            return InstallFromResource(\n                ScriptableObjectInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2, p3);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            var installer = ScriptableObjectInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2, p3));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public class ScriptableObjectInstaller<TParam1, TParam2, TParam3, TParam4, TDerived> : ScriptableObjectInstallerBase\n        where TDerived : ScriptableObjectInstaller<TParam1, TParam2, TParam3, TParam4, TDerived>\n    {\n        public static TDerived InstallFromResource(DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            return InstallFromResource(\n                ScriptableObjectInstallerUtil.GetDefaultResourcePath<TDerived>(), container, p1, p2, p3, p4);\n        }\n\n        public static TDerived InstallFromResource(string resourcePath, DiContainer container, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            var installer = ScriptableObjectInstallerUtil.CreateInstaller<TDerived>(resourcePath, container);\n            container.InjectExplicit(installer, InjectUtil.CreateArgListExplicit(p1, p2, p3, p4));\n            installer.InstallBindings();\n            return installer;\n        }\n    }\n\n    public static class ScriptableObjectInstallerUtil\n    {\n        public static string GetDefaultResourcePath<TInstaller>()\n            where TInstaller : ScriptableObjectInstallerBase\n        {\n            return \"Installers/\" + typeof(TInstaller).PrettyName();\n        }\n\n        public static TInstaller CreateInstaller<TInstaller>(\n            string resourcePath, DiContainer container)\n            where TInstaller : ScriptableObjectInstallerBase\n        {\n            var installers = Resources.LoadAll(resourcePath);\n\n            Assert.That(installers.Length == 1,\n                \"Could not find unique ScriptableObjectInstaller with type '{0}' at resource path '{1}'\", typeof(TInstaller), resourcePath);\n\n            var installer = installers[0];\n\n            Assert.That(installer is TInstaller,\n                \"Expected to find installer with type '{0}' at resource path '{1}'\", typeof(TInstaller), resourcePath);\n\n            return (TInstaller)installer;\n        }\n    }\n}\n\n#endif\n","size_bytes":6040},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/ScriptableObjectInstallerBase.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    // We'd prefer to make this abstract but Unity 5.3.5 has a bug where references\n    // can get lost during compile errors for classes that are abstract\n    public class ScriptableObjectInstallerBase : ScriptableObject, IInstaller\n    {\n        [Inject]\n        DiContainer _container = null;\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        bool IInstaller.IsEnabled\n        {\n            get { return true; }\n        }\n\n        public virtual void InstallBindings()\n        {\n            throw new NotImplementedException();\n        }\n    }\n}\n\n#endif\n\n","size_bytes":689},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/ZenjectBinding.cs":{"content":"#if !NOT_UNITY3D\n\nusing UnityEngine;\nusing UnityEngine.Serialization;\n\nnamespace Zenject\n{\n    public class ZenjectBinding : MonoBehaviour\n    {\n        [Tooltip(\"The component to add to the Zenject container\")]\n        [SerializeField]\n        Component[] _components = null;\n\n        [Tooltip(\"Note: This value is optional and can be ignored in most cases.  This can be useful to differentiate multiple bindings of the same type.  For example, if you have multiple cameras in your scene, you can 'name' them by giving each one a different identifier.  For your main camera you might call it 'Main' then any class can refer to it by using an attribute like [Inject(Id = 'Main')]\")]\n        [SerializeField]\n        string _identifier = string.Empty;\n\n        [Tooltip(\"When set, this will bind the given components to the SceneContext.  It can be used as a shortcut to explicitly dragging the SceneContext into the Context field.  This is useful when using ZenjectBinding inside GameObjectContext.  If your ZenjectBinding is for a component that is not underneath GameObjectContext then it is not necessary to check this\")]\n        [SerializeField]\n        bool _useSceneContext = false;\n\n        [Tooltip(\"Note: This value is optional and can be ignored in most cases.  This value will determine what container the component gets added to.  If unset, the component will be bound on the most 'local' context.  In most cases this will be the SceneContext, unless this component is underneath a GameObjectContext, or ProjectContext, in which case it will bind to that instead by default.  You can also override this default by providing the Context directly.  This can be useful if you want to bind something that is inside a GameObjectContext to the SceneContext container.\")]\n        [SerializeField]\n        [FormerlySerializedAs(\"_compositionRoot\")]\n        Context _context = null;\n\n        [Tooltip(\"This value is used to determine how to bind this component.  When set to 'Self' is equivalent to calling Container.FromInstance inside an installer. When set to 'AllInterfaces' this is equivalent to calling 'Container.BindInterfaces<MyMonoBehaviour>().ToInstance', and similarly for InterfacesAndSelf\")]\n        [SerializeField]\n        BindTypes _bindType = BindTypes.Self;\n\n        public bool UseSceneContext\n        {\n            get { return _useSceneContext; }\n        }\n\n        public Context Context\n        {\n            get { return _context; }\n            set { _context = value; }\n        }\n\n        public Component[] Components\n        {\n            get { return _components; }\n        }\n\n        public string Identifier\n        {\n            get { return _identifier; }\n        }\n\n        public BindTypes BindType\n        {\n            get { return _bindType; }\n        }\n\n        public void Start()\n        {\n            // Define this method so we expose the enabled check box\n        }\n\n        public enum BindTypes\n        {\n            Self,\n            AllInterfaces,\n            AllInterfacesAndSelf,\n            BaseType\n        }\n    }\n}\n\n#endif\n","size_bytes":3080},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/ZenjectManagersInstaller.cs":{"content":"\nnamespace Zenject\n{\n    // This is installed by default in ProjectContext, however, if you are using Zenject outside\n    // of Unity then you might want to call this\n    //\n    // In this case though, you will have to manually call InitializableManager.Initialize,\n    // DisposableManager.Dispose, TickableManager.Tick, etc. when appropriate for the environment\n    // you are working in\n    //\n    // You might also want to use this installer in a ZenjectUnitTestFixture\n    public class ZenjectManagersInstaller : Installer<ZenjectManagersInstaller>\n    {\n        public override void InstallBindings()\n        {\n            Container.Bind(typeof(TickableManager), typeof(InitializableManager), typeof(DisposableManager))\n                .ToSelf().AsSingle().CopyIntoAllSubContainers();\n        }\n    }\n}\n\n","size_bytes":810},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/Assert.cs":{"content":"ï»¿using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing Zenject;\n\nnamespace ModestTree\n{\n    public static class Assert\n    {\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void That(bool condition)\n        {\n            if (!condition)\n            {\n                throw CreateException(\"Assert hit!\");\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotEmpty(string str)\n        {\n            if (String.IsNullOrEmpty(str))\n            {\n                throw CreateException(\"Unexpected null or empty string\");\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        // This is better because IsEmpty with IEnumerable causes a memory alloc\n        public static void IsEmpty<T>(IList<T> list)\n        {\n            if (list.Count != 0)\n            {\n                throw CreateException(\n                    \"Expected collection to be empty but instead found '{0}' elements\", list.Count);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsEmpty<T>(IEnumerable<T> sequence)\n        {\n            if (!sequence.IsEmpty())\n            {\n                throw CreateException(\"Expected collection to be empty but instead found '{0}' elements\",\n                    sequence.Count());\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsType<T>(object obj)\n        {\n            IsType<T>(obj, \"\");\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsType<T>(object obj, string message)\n        {\n            if (!(obj is T))\n            {\n                throw CreateException(\"Assert Hit! {0}\\nWrong type found. Expected '{1}' (left) but found '{2}' (right). \", message, typeof(T).PrettyName(), obj.GetType().PrettyName());\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void DerivesFrom<T>(Type type)\n        {\n            if (!type.DerivesFrom<T>())\n            {\n                throw CreateException(\"Expected type '{0}' to derive from '{1}'\", type.Name, typeof(T).Name);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void DerivesFromOrEqual<T>(Type type)\n        {\n            if (!type.DerivesFromOrEqual<T>())\n            {\n                throw CreateException(\"Expected type '{0}' to derive from or be equal to '{1}'\", type.Name, typeof(T).Name);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void DerivesFrom(Type childType, Type parentType)\n        {\n            if (!childType.DerivesFrom(parentType))\n            {\n                throw CreateException(\"Expected type '{0}' to derive from '{1}'\", childType.Name, parentType.Name);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void DerivesFromOrEqual(Type childType, Type parentType)\n        {\n            if (!childType.DerivesFromOrEqual(parentType))\n            {\n                throw CreateException(\"Expected type '{0}' to derive from or be equal to '{1}'\", childType.Name, parentType.Name);\n            }\n        }\n\n        // Use AssertEquals to get better error output (with values)\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsEqual(object left, object right)\n        {\n            IsEqual(left, right, \"\");\n        }\n\n        // Use AssertEquals to get better error output (with values)\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsEqual(object left, object right, Func<string> messageGenerator)\n        {\n            if (!object.Equals(left, right))\n            {\n                left = left ?? \"<NULL>\";\n                right = right ?? \"<NULL>\";\n                throw CreateException(\"Assert Hit! {0}.  Expected '{1}' (left) but found '{2}' (right). \", messageGenerator(), left, right);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsApproximately(float left, float right, float epsilon = 0.00001f)\n        {\n            bool isEqual = Math.Abs(left - right) < epsilon;\n\n            if (!isEqual)\n            {\n                throw CreateException(\"Assert Hit! Expected '{0}' (left) but found '{1}' (right). \", left, right);\n            }\n        }\n\n        // Use AssertEquals to get better error output (with values)\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsEqual(object left, object right, string message)\n        {\n            if (!object.Equals(left, right))\n            {\n                left = left ?? \"<NULL>\";\n                right = right ?? \"<NULL>\";\n                throw CreateException(\"Assert Hit! {0}\\nExpected '{1}' (left) but found '{2}' (right). \", message, left, right);\n            }\n        }\n\n        // Use Assert.IsNotEqual to get better error output (with values)\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotEqual(object left, object right)\n        {\n            IsNotEqual(left, right, \"\");\n        }\n\n        // Use Assert.IsNotEqual to get better error output (with values)\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotEqual(object left, object right, Func<string> messageGenerator)\n        {\n            if(object.Equals(left, right))\n            {\n                left = left ?? \"<NULL>\";\n                right = right ?? \"<NULL>\";\n                throw CreateException(\"Assert Hit! {0}.  Expected '{1}' (left) to differ from '{2}' (right). \", messageGenerator(), left, right);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNull(object val)\n        {\n            if (val != null)\n            {\n                throw CreateException(\n                    \"Assert Hit! Expected null pointer but instead found '{0}'\", val);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNull(object val, string message)\n        {\n            if (val != null)\n            {\n                throw CreateException(\n                    \"Assert Hit! {0}\", message);\n            }\n        }\n\n        // We don't use params here to avoid the memory alloc\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNull(object val, string message, object p1)\n        {\n            if (val != null)\n            {\n                throw CreateException(\n                    \"Assert Hit! {0}\", message.Fmt(p1));\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotNull(object val)\n        {\n            if (val == null)\n            {\n                throw CreateException(\"Assert Hit! Found null pointer when value was expected\");\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotNull(object val, string message)\n        {\n            if (val == null)\n            {\n                throw CreateException(\"Assert Hit! {0}\", message);\n            }\n        }\n\n        // We don't use params here to avoid the memory alloc\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotNull(object val, string message, object p1)\n        {\n            if (val == null)\n            {\n                throw CreateException(\"Assert Hit! {0}\", message.Fmt(p1));\n            }\n        }\n\n        // We don't use params here to avoid the memory alloc\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotNull(object val, string message, object p1, object p2)\n        {\n            if (val == null)\n            {\n                throw CreateException(\"Assert Hit! {0}\", message.Fmt(p1, p2));\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotEmpty<T>(IEnumerable<T> val, string message = \"\")\n        {\n            if (!val.Any())\n            {\n                throw CreateException(\"Assert Hit! Expected empty collection but found {0} values. {1}\", val.Count(), message);\n            }\n        }\n\n        // Use Assert.IsNotEqual to get better error output (with values)\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void IsNotEqual(object left, object right, string message)\n        {\n            if (object.Equals(left, right))\n            {\n                left = left ?? \"<NULL>\";\n                right = right ?? \"<NULL>\";\n                throw CreateException(\"Assert Hit! {0}. Unexpected value found '{1}'. \", message, left);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void Warn(bool condition)\n        {\n            if (!condition)\n            {\n                ModestTree.Log.Warn(\"Warning!  See call stack\");\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void Warn(bool condition, Func<string> messageGenerator)\n        {\n            if (!condition)\n            {\n                ModestTree.Log.Warn(\"Warning Assert hit! \" + messageGenerator());\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void That(\n            bool condition, string message)\n        {\n            if (!condition)\n            {\n                throw CreateException(\"Assert hit! \" + message);\n            }\n        }\n\n        // We don't use params here to avoid the memory alloc\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void That(\n            bool condition, string message, object p1)\n        {\n            if (!condition)\n            {\n                throw CreateException(\"Assert hit! \" + message.Fmt(p1));\n            }\n        }\n\n        // We don't use params here to avoid the memory alloc\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void That(\n            bool condition, string message, object p1, object p2)\n        {\n            if (!condition)\n            {\n                throw CreateException(\"Assert hit! \" + message.Fmt(p1, p2));\n            }\n        }\n\n        // We don't use params here to avoid the memory alloc\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void That(\n            bool condition, string message, object p1, object p2, object p3)\n        {\n            if (!condition)\n            {\n                throw CreateException(\"Assert hit! \" + message.Fmt(p1, p2, p3));\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void Warn(bool condition, string message)\n        {\n            if (!condition)\n            {\n                ModestTree.Log.Warn(\"Warning Assert hit! \" + message);\n            }\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void Throws(Action action)\n        {\n            Throws<Exception>(action);\n        }\n\n#if ZEN_STRIP_ASSERTS_IN_BUILDS\n        [Conditional(\"UNITY_EDITOR\")]\n#endif\n        public static void Throws<TException>(Action action)\n            where TException : Exception\n        {\n            try\n            {\n                action();\n            }\n            catch (TException)\n            {\n                return;\n            }\n\n            throw CreateException(\n                \"Expected to receive exception of type '{0}' but nothing was thrown\", typeof(TException).Name);\n        }\n\n        public static ZenjectException CreateException()\n        {\n            return new ZenjectException(\"Assert hit!\");\n        }\n\n        public static ZenjectException CreateException(string message)\n        {\n            return new ZenjectException(message);\n        }\n\n        public static ZenjectException CreateException(string message, params object[] parameters)\n        {\n            return new ZenjectException(message.Fmt(parameters));\n        }\n\n        public static ZenjectException CreateException(Exception innerException, string message, params object[] parameters)\n        {\n            return new ZenjectException(message.Fmt(parameters), innerException);\n        }\n    }\n}\n","size_bytes":13146},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/Func.cs":{"content":"#if !NET_4_6\n\nnamespace ModestTree.Util\n{\n    // C# 3.5 only defines Func and Action to a maximum of 4 generic parameters\n    // Note that if you are using .NET framework > 3.5 you will have to comment these out to avoid ambiguous errors\n    public delegate TResult Func<T1, T2, T3, T4, T5, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5);\n    public delegate TResult Func<T1, T2, T3, T4, T5, T6, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6);\n    public delegate TResult Func<T1, T2, T3, T4, T5, T6, T7, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7);\n    public delegate TResult Func<T1, T2, T3, T4, T5, T6, T7, T8, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8);\n    public delegate TResult Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9);\n    public delegate TResult Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9, T10 arg10);\n    public delegate TResult Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, TResult>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9, T10 arg10, T11 arg11);\n\n    public delegate void Action<T1, T2, T3, T4, T5>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5);\n    public delegate void Action<T1, T2, T3, T4, T5, T6>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6);\n    public delegate void Action<T1, T2, T3, T4, T5, T6, T7>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7);\n    public delegate void Action<T1, T2, T3, T4, T5, T6, T7, T8>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8);\n    public delegate void Action<T1, T2, T3, T4, T5, T6, T7, T8, T9>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9);\n    public delegate void Action<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9, T10 arg10);\n    public delegate void Action<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11>(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9, T10 arg10, T11 arg11);\n}\n\n#endif\n","size_bytes":2255},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/LinqExtensions.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Collections;\nusing ModestTree.Util;\n\nnamespace ModestTree\n{\n    public static class LinqExtensions\n    {\n        public static IEnumerable<T> Yield<T>(this T item)\n        {\n            yield return item;\n        }\n\n        // Return the first item when the list is of length one and otherwise returns default\n        public static TSource OnlyOrDefault<TSource>(this IEnumerable<TSource> source)\n        {\n            Assert.IsNotNull(source);\n\n            if (source.Count() > 1)\n            {\n                return default(TSource);\n            }\n\n            return source.FirstOrDefault();\n        }\n\n        // These are more efficient than Count() in cases where the size of the collection is not known\n        public static bool HasAtLeast<T>(this IEnumerable<T> enumerable, int amount)\n        {\n            return enumerable.Take(amount).Count() == amount;\n        }\n\n        public static bool HasMoreThan<T>(this IEnumerable<T> enumerable, int amount)\n        {\n            return enumerable.HasAtLeast(amount+1);\n        }\n\n        public static bool HasLessThan<T>(this IEnumerable<T> enumerable, int amount)\n        {\n            return enumerable.HasAtMost(amount-1);\n        }\n\n        public static bool HasAtMost<T>(this IEnumerable<T> enumerable, int amount)\n        {\n            return enumerable.Take(amount + 1).Count() <= amount;\n        }\n\n        public static bool IsEmpty<T>(this IEnumerable<T> enumerable)\n        {\n            return !enumerable.Any();\n        }\n\n        public static IEnumerable<T> GetDuplicates<T>(this IEnumerable<T> list)\n        {\n            return list.GroupBy(x => x).Where(x => x.Skip(1).Any()).Select(x => x.Key);\n        }\n\n        public static IEnumerable<T> Except<T>(this IEnumerable<T> list, T item)\n        {\n            return list.Except(item.Yield());\n        }\n\n        // LINQ already has a method called \"Contains\" that does the same thing as this\n        // BUT it fails to work with Mono 3.5 in some cases.\n        // For example the following prints False, True in Mono 3.5 instead of True, True like it should:\n        //\n        // IEnumerable<string> args = new string[]\n        // {\n        //     \"\",\n        //     null,\n        // };\n\n        // Log.Info(args.ContainsItem(null));\n        // Log.Info(args.Where(x => x == null).Any());\n        public static bool ContainsItem<T>(this IEnumerable<T> list, T value)\n        {\n            // Use object.Equals to support null values\n            return list.Where(x => object.Equals(x, value)).Any();\n        }\n    }\n}\n","size_bytes":2628},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/Log.cs":{"content":"using System;\nusing System.Diagnostics;\n\nnamespace ModestTree\n{\n    // Simple wrapper around unity's logging system\n    public static class Log\n    {\n        // Strip out debug logs outside of unity\n        [Conditional(\"UNITY_EDITOR\")]\n        public static void Debug(string message, params object[] args)\n        {\n#if NOT_UNITY3D\n            //Console.WriteLine(message.Fmt(args));\n#else\n            //UnityEngine.Debug.Log(message.Fmt(args));\n#endif\n        }\n\n        /////////////\n\n        public static void Info(string message, params object[] args)\n        {\n#if NOT_UNITY3D\n            Console.WriteLine(message.Fmt(args));\n#else\n            UnityEngine.Debug.Log(message.Fmt(args));\n#endif\n        }\n\n        /////////////\n\n        public static void Warn(string message, params object[] args)\n        {\n#if NOT_UNITY3D\n            Console.WriteLine(message.Fmt(args));\n#else\n            UnityEngine.Debug.LogWarning(message.Fmt(args));\n#endif\n        }\n\n        /////////////\n\n        public static void Trace(string message, params object[] args)\n        {\n#if NOT_UNITY3D\n            Console.WriteLine(message.Fmt(args));\n#else\n            UnityEngine.Debug.Log(message.Fmt(args));\n#endif\n        }\n\n        /////////////\n\n        public static void ErrorException(Exception e)\n        {\n#if NOT_UNITY3D\n            Console.WriteLine(e.ToString());\n#else\n            UnityEngine.Debug.LogException(e);\n#endif\n        }\n\n        public static void ErrorException(string message, Exception e)\n        {\n#if NOT_UNITY3D\n            Console.WriteLine(message);\n#else\n            UnityEngine.Debug.LogError(message);\n            UnityEngine.Debug.LogException(e);\n#endif\n        }\n\n        public static void Error(string message, params object[] args)\n        {\n#if NOT_UNITY3D\n            Console.WriteLine(message.Fmt(args));\n#else\n            UnityEngine.Debug.LogError(message.Fmt(args));\n#endif\n        }\n    }\n}\n\n","size_bytes":1930},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/MiscExtensions.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace ModestTree\n{\n    public static class MiscExtensions\n    {\n        // We'd prefer to use the name Format here but that conflicts with\n        // the existing string.Format method\n        public static string Fmt(this string s, params object[] args)\n        {\n            // Do in-place change to avoid the memory alloc\n            // This should be fine because the params is always used instead of directly\n            // passing an array\n            for (int i = 0; i < args.Length; i++)\n            {\n                var arg = args[i];\n\n                if (arg == null)\n                {\n                    // This is much more understandable than just the empty string\n                    args[i] = \"NULL\";\n                }\n                else if (arg is Type)\n                {\n                    // This often reads much better sometimes\n                    args[i] = ((Type)arg).PrettyName();\n                }\n            }\n\n            return String.Format(s, args);\n        }\n\n        public static int IndexOf<T>(this IList<T> list, T item)\n        {\n            for (int i = 0; i < list.Count; i++)\n            {\n                if (object.Equals(list[i], item))\n                {\n                    return i;\n                }\n            }\n\n            return -1;\n        }\n\n        public static string Join(this IEnumerable<string> values, string separator)\n        {\n            return string.Join(separator, values.ToArray());\n        }\n\n        // When using C# 4.6, for some reason the normal AddRange causes some allocations\n        // https://issuetracker.unity3d.com/issues/dot-net-4-dot-6-unexpected-gc-allocations-in-list-dot-addrange\n        public static void AllocFreeAddRange<T>(this IList<T> list, IList<T> items)\n        {\n            for (int i = 0; i < items.Count; i++)\n            {\n                list.Add(items[i]);\n            }\n        }\n\n        // Most of the time when you call remove you always intend on removing something\n        // so assert in that case\n        public static void RemoveWithConfirm<T>(this IList<T> list, T item)\n        {\n            bool removed = list.Remove(item);\n            Assert.That(removed);\n        }\n\n        public static void RemoveWithConfirm<T>(this LinkedList<T> list, T item)\n        {\n            bool removed = list.Remove(item);\n            Assert.That(removed);\n        }\n\n        public static void RemoveWithConfirm<TKey, TVal>(this IDictionary<TKey, TVal> dictionary, TKey key)\n        {\n            bool removed = dictionary.Remove(key);\n            Assert.That(removed);\n        }\n\n        public static void RemoveWithConfirm<T>(this HashSet<T> set, T item)\n        {\n            bool removed = set.Remove(item);\n            Assert.That(removed);\n        }\n\n        public static TVal GetValueAndRemove<TKey, TVal>(this IDictionary<TKey, TVal> dictionary, TKey key)\n        {\n            TVal val = dictionary[key];\n            dictionary.RemoveWithConfirm(key);\n            return val;\n        }\n    }\n}\n","size_bytes":3081},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/PreserveAttribute.cs":{"content":"using System;\n\nnamespace ModestTree.Util\n{\n    [AttributeUsage(AttributeTargets.All, AllowMultiple = false)]\n    public class PreserveAttribute : Attribute\n    {\n    }\n}\n","size_bytes":170},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/TypeExtensions.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reflection;\nusing System.Text;\n\nnamespace ModestTree\n{\n    public static class TypeExtensions\n    {\n        static readonly Dictionary<Type, bool> _isClosedGenericType = new Dictionary<Type, bool>();\n        static readonly Dictionary<Type, bool> _isOpenGenericType = new Dictionary<Type, bool>();\n        static readonly Dictionary<Type, bool> _isValueType = new Dictionary<Type, bool>();\n        static readonly Dictionary<Type, Type[]> _interfaces = new Dictionary<Type, Type[]>();\n\n        public static bool DerivesFrom<T>(this Type a)\n        {\n            return DerivesFrom(a, typeof(T));\n        }\n\n        // This seems easier to think about than IsAssignableFrom\n        public static bool DerivesFrom(this Type a, Type b)\n        {\n            return b != a && a.DerivesFromOrEqual(b);\n        }\n\n        public static bool DerivesFromOrEqual<T>(this Type a)\n        {\n            return DerivesFromOrEqual(a, typeof(T));\n        }\n\n        public static bool DerivesFromOrEqual(this Type a, Type b)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return b == a || b.GetTypeInfo().IsAssignableFrom(a.GetTypeInfo());\n#else\n            return b == a || b.IsAssignableFrom(a);\n#endif\n        }\n\n#if !(UNITY_WSA && ENABLE_DOTNET)\n        // TODO: Is it possible to do this on WSA?\n        public static bool IsAssignableToGenericType(Type givenType, Type genericType)\n        {\n            var interfaceTypes = givenType.Interfaces();\n\n            foreach (var it in interfaceTypes)\n            {\n                if (it.IsGenericType && it.GetGenericTypeDefinition() == genericType)\n                {\n                    return true;\n                }\n            }\n\n            if (givenType.IsGenericType && givenType.GetGenericTypeDefinition() == genericType)\n            {\n                return true;\n            }\n\n            Type baseType = givenType.BaseType;\n\n            if (baseType == null)\n            {\n                return false;\n            }\n\n            return IsAssignableToGenericType(baseType, genericType);\n        }\n#endif\n\n        public static bool IsEnum(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsEnum;\n#else\n            return type.IsEnum;\n#endif\n        }\n\n        public static bool IsValueType(this Type type)\n        {\n            bool result;\n            if (!_isValueType.TryGetValue(type, out result))\n            {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n                result = type.GetTypeInfo().IsValueType;\n#else\n                result = type.IsValueType;\n#endif\n                _isValueType[type] = result;\n            }\n            return result;\n        }\n\n        public static MethodInfo[] DeclaredInstanceMethods(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetRuntimeMethods()\n                .Where(x => x.DeclaringType == type).ToArray();\n#else\n            return type.GetMethods(\n                BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.DeclaredOnly);\n#endif\n        }\n\n        public static PropertyInfo[] DeclaredInstanceProperties(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            // There doesn't appear to be an IsStatic member on PropertyInfo\n            return type.GetRuntimeProperties()\n                .Where(x => x.DeclaringType == type).ToArray();\n#else\n            return type.GetProperties(\n                BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.DeclaredOnly);\n#endif\n        }\n\n        public static FieldInfo[] DeclaredInstanceFields(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetRuntimeFields()\n                .Where(x => x.DeclaringType == type && !x.IsStatic).ToArray();\n#else\n            return type.GetFields(\n                BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.DeclaredOnly);\n#endif\n        }\n\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n        public static bool IsAssignableFrom(this Type a, Type b)\n        {\n            return a.GetTypeInfo().IsAssignableFrom(b.GetTypeInfo());\n        }\n#endif\n\n        public static Type BaseType(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().BaseType;\n#else\n            return type.BaseType;\n#endif\n        }\n\n        public static bool IsGenericType(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsGenericType;\n#else\n            return type.IsGenericType;\n#endif\n        }\n        public static bool IsGenericTypeDefinition(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsGenericTypeDefinition;\n#else\n            return type.IsGenericTypeDefinition;\n#endif\n        }\n\n        public static bool IsPrimitive(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsPrimitive;\n#else\n            return type.IsPrimitive;\n#endif\n        }\n\n        public static bool IsInterface(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsInterface;\n#else\n            return type.IsInterface;\n#endif\n        }\n\n        public static bool ContainsGenericParameters(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().ContainsGenericParameters;\n#else\n            return type.ContainsGenericParameters;\n#endif\n        }\n\n        public static bool IsAbstract(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsAbstract;\n#else\n            return type.IsAbstract;\n#endif\n        }\n\n        public static bool IsSealed(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().IsSealed;\n#else\n            return type.IsSealed;\n#endif\n        }\n\n        public static MethodInfo Method(this Delegate del)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return del.GetMethodInfo();\n#else\n            return del.Method;\n#endif\n        }\n\n        public static Type[] GenericArguments(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().GenericTypeArguments;\n#else\n            return type.GetGenericArguments();\n#endif\n        }\n\n        public static Type[] Interfaces(this Type type)\n        {\n            Type[] result;\n            if (!_interfaces.TryGetValue(type, out result))\n            {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n                result = type.GetTypeInfo().ImplementedInterfaces.ToArray();\n#else\n                result = type.GetInterfaces();\n#endif\n                _interfaces.Add(type, result);\n            }\n            return result;\n        }\n\n        public static ConstructorInfo[] Constructors(this Type type)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().DeclaredConstructors.ToArray();\n#else\n            return type.GetConstructors(\n                BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance);\n#endif\n        }\n\n        public static object GetDefaultValue(this Type type)\n        {\n#if ENABLE_IL2CPP\n            // Workaround for IL2CPP returning default(T) for Activator.CreateInstance(typeof(T?))\n            if (type.IsGenericType() && type.GetGenericTypeDefinition() == typeof(Nullable<>))\n            {\n                return null;\n            }\n#endif\n\n            if (type.IsValueType())\n            {\n                return Activator.CreateInstance(type);\n            }\n\n            return null;\n        }\n\n        public static bool IsClosedGenericType(this Type type)\n        {\n            bool result;\n            if (!_isClosedGenericType.TryGetValue(type, out result))\n            {\n                result = type.IsGenericType() && type != type.GetGenericTypeDefinition();\n                _isClosedGenericType[type] = result;\n            }\n            return result;\n        }\n\n        public static IEnumerable<Type> GetParentTypes(this Type type)\n        {\n            if (type == null || type.BaseType() == null || type == typeof(object) || type.BaseType() == typeof(object))\n            {\n                yield break;\n            }\n\n            yield return type.BaseType();\n\n            foreach (var ancestor in type.BaseType().GetParentTypes())\n            {\n                yield return ancestor;\n            }\n        }\n\n        public static bool IsOpenGenericType(this Type type)\n        {\n            bool result;\n            if (!_isOpenGenericType.TryGetValue(type, out result))\n            {\n                result = type.IsGenericType() && type == type.GetGenericTypeDefinition();\n                _isOpenGenericType[type] = result;\n            }\n            return result;\n        }\n\n        public static T GetAttribute<T>(this MemberInfo provider)\n            where T : Attribute\n        {\n            return provider.AllAttributes<T>().Single();\n        }\n\n        public static T TryGetAttribute<T>(this MemberInfo provider)\n            where T : Attribute\n        {\n            return provider.AllAttributes<T>().OnlyOrDefault();\n        }\n\n        public static bool HasAttribute(\n            this MemberInfo provider, params Type[] attributeTypes)\n        {\n            return provider.AllAttributes(attributeTypes).Any();\n        }\n\n        public static bool HasAttribute<T>(this MemberInfo provider)\n            where T : Attribute\n        {\n            return provider.AllAttributes(typeof(T)).Any();\n        }\n\n        public static IEnumerable<T> AllAttributes<T>(\n            this MemberInfo provider)\n            where T : Attribute\n        {\n            return provider.AllAttributes(typeof(T)).Cast<T>();\n        }\n\n        public static IEnumerable<Attribute> AllAttributes(\n            this MemberInfo provider, params Type[] attributeTypes)\n        {\n            Attribute[] allAttributes;\n#if NETFX_CORE\n            allAttributes = provider.GetCustomAttributes<Attribute>(true).ToArray();\n#else\n            allAttributes = System.Attribute.GetCustomAttributes(provider, typeof(Attribute), true);\n#endif\n            if (attributeTypes.Length == 0)\n            {\n                return allAttributes;\n            }\n\n            return allAttributes.Where(a => attributeTypes.Any(x => a.GetType().DerivesFromOrEqual(x)));\n        }\n\n        // We could avoid this duplication here by using ICustomAttributeProvider but this class\n        // does not exist on the WP8 platform\n        public static bool HasAttribute(\n            this ParameterInfo provider, params Type[] attributeTypes)\n        {\n            return provider.AllAttributes(attributeTypes).Any();\n        }\n\n        public static bool HasAttribute<T>(this ParameterInfo provider)\n            where T : Attribute\n        {\n            return provider.AllAttributes(typeof(T)).Any();\n        }\n\n        public static IEnumerable<T> AllAttributes<T>(\n            this ParameterInfo provider)\n            where T : Attribute\n        {\n            return provider.AllAttributes(typeof(T)).Cast<T>();\n        }\n\n        public static IEnumerable<Attribute> AllAttributes(\n            this ParameterInfo provider, params Type[] attributeTypes)\n        {\n            Attribute[] allAttributes;\n#if NETFX_CORE\n            allAttributes = provider.GetCustomAttributes<Attribute>(true).ToArray();\n#else\n            allAttributes = System.Attribute.GetCustomAttributes(provider, typeof(Attribute), true);\n#endif\n            if (attributeTypes.Length == 0)\n            {\n                return allAttributes;\n            }\n\n            return allAttributes.Where(a => attributeTypes.Any(x => a.GetType().DerivesFromOrEqual(x)));\n        }\n    }\n}\n","size_bytes":12111},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/TypeStringFormatter.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reflection;\nusing System.Text;\n\nnamespace ModestTree\n{\n    public static class TypeStringFormatter\n    {\n        static readonly Dictionary<Type, string> _prettyNameCache = new Dictionary<Type, string>();\n\n        public static string PrettyName(this Type type)\n        {\n            string prettyName;\n\n            if (!_prettyNameCache.TryGetValue(type, out prettyName))\n            {\n                prettyName = PrettyNameInternal(type);\n                _prettyNameCache.Add(type, prettyName);\n            }\n\n            return prettyName;\n        }\n\n        static string PrettyNameInternal(Type type)\n        {\n            var sb = new StringBuilder();\n\n            if (type.IsNested)\n            {\n                sb.Append(type.DeclaringType.PrettyName());\n                sb.Append(\".\");\n            }\n\n            if (type.IsArray)\n            {\n                sb.Append(type.GetElementType().PrettyName());\n                sb.Append(\"[]\");\n            }\n            else\n            {\n                var name = GetCSharpTypeName(type.Name);\n\n                if (type.IsGenericType())\n                {\n                    var quoteIndex = name.IndexOf('`');\n\n                    if (quoteIndex != -1)\n                    {\n                        sb.Append(name.Substring(0, name.IndexOf('`')));\n                    }\n                    else\n                    {\n                        sb.Append(name);\n                    }\n\n                    sb.Append(\"<\");\n\n                    if (type.IsGenericTypeDefinition())\n                    {\n                        var numArgs = type.GenericArguments().Count();\n\n                        if (numArgs > 0)\n                        {\n                            sb.Append(new String(',', numArgs - 1));\n                        }\n                    }\n                    else\n                    {\n                        sb.Append(string.Join(\", \", type.GenericArguments().Select(t => t.PrettyName()).ToArray()));\n                    }\n\n                    sb.Append(\">\");\n                }\n                else\n                {\n                    sb.Append(name);\n                }\n            }\n\n            return sb.ToString();\n        }\n\n        static string GetCSharpTypeName(string typeName)\n        {\n            switch (typeName)\n            {\n                case \"String\":\n                case \"Object\":\n                case \"Void\":\n                case \"Byte\":\n                case \"Double\":\n                case \"Decimal\":\n                    return typeName.ToLower();\n                case \"Int16\":\n                    return \"short\";\n                case \"Int32\":\n                    return \"int\";\n                case \"Int64\":\n                    return \"long\";\n                case \"Single\":\n                    return \"float\";\n                case \"Boolean\":\n                    return \"bool\";\n                default:\n                    return typeName;\n            }\n        }\n    }\n}\n\n","size_bytes":3053},"CapybaraGame/Assets/Plugins/Zenject/Source/Internal/ValuePair.cs":{"content":"using System;\nusing System.Collections.Generic;\n\nnamespace ModestTree.Util\n{\n    public class ValuePair<T1, T2>\n    {\n        public readonly T1 First;\n        public readonly T2 Second;\n\n        public ValuePair()\n        {\n            First = default(T1);\n            Second = default(T2);\n        }\n\n        public ValuePair(T1 first, T2 second)\n        {\n            First = first;\n            Second = second;\n        }\n\n        public override bool Equals(Object obj)\n        {\n            var that = obj as ValuePair<T1, T2>;\n\n            if (that == null)\n            {\n                return false;\n            }\n\n            return Equals(that);\n        }\n\n        public bool Equals(ValuePair<T1, T2> that)\n        {\n            if (that == null)\n            {\n                return false;\n            }\n\n            return object.Equals(First, that.First) && object.Equals(Second, that.Second);\n        }\n\n        public override int GetHashCode()\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + (First == null ? 0 : First.GetHashCode());\n                hash = hash * 29 + (Second == null ? 0 : Second.GetHashCode());\n                return hash;\n            }\n        }\n    }\n\n    public class ValuePair<T1, T2, T3>\n    {\n        public readonly T1 First;\n        public readonly T2 Second;\n        public readonly T3 Third;\n\n        public ValuePair()\n        {\n            First = default(T1);\n            Second = default(T2);\n            Third = default(T3);\n        }\n\n        public ValuePair(T1 first, T2 second, T3 third)\n        {\n            First = first;\n            Second = second;\n            Third = third;\n        }\n\n        public override bool Equals(Object obj)\n        {\n            var that = obj as ValuePair<T1, T2, T3>;\n\n            if (that == null)\n            {\n                return false;\n            }\n\n            return Equals(that);\n        }\n\n        public bool Equals(ValuePair<T1, T2, T3> that)\n        {\n            if (that == null)\n            {\n                return false;\n            }\n\n            return object.Equals(First, that.First) && object.Equals(Second, that.Second) && object.Equals(Third, that.Third);\n        }\n\n        public override int GetHashCode()\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + (First == null ? 0 : First.GetHashCode());\n                hash = hash * 29 + (Second == null ? 0 : Second.GetHashCode());\n                hash = hash * 29 + (Third == null ? 0 : Third.GetHashCode());\n                return hash;\n            }\n        }\n    }\n\n    public class ValuePair<T1, T2, T3, T4>\n    {\n        public readonly T1 First;\n        public readonly T2 Second;\n        public readonly T3 Third;\n        public readonly T4 Fourth;\n\n        public ValuePair()\n        {\n            First = default(T1);\n            Second = default(T2);\n            Third = default(T3);\n            Fourth = default(T4);\n        }\n\n        public ValuePair(T1 first, T2 second, T3 third, T4 fourth)\n        {\n            First = first;\n            Second = second;\n            Third = third;\n            Fourth = fourth;\n        }\n\n        public override bool Equals(Object obj)\n        {\n            var that = obj as ValuePair<T1, T2, T3, T4>;\n\n            if (that == null)\n            {\n                return false;\n            }\n\n            return Equals(that);\n        }\n\n        public bool Equals(ValuePair<T1, T2, T3, T4> that)\n        {\n            if (that == null)\n            {\n                return false;\n            }\n\n            return object.Equals(First, that.First) && object.Equals(Second, that.Second)\n                && object.Equals(Third, that.Third) && object.Equals(Fourth, that.Fourth);\n        }\n\n        public override int GetHashCode()\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + (First == null ? 0 : First.GetHashCode());\n                hash = hash * 29 + (Second == null ? 0 : Second.GetHashCode());\n                hash = hash * 29 + (Third == null ? 0 : Third.GetHashCode());\n                hash = hash * 29 + (Fourth == null ? 0 : Fourth.GetHashCode());\n                return hash;\n            }\n        }\n    }\n\n    public static class ValuePair\n    {\n        public static ValuePair<T1, T2> New<T1, T2>(T1 first, T2 second)\n        {\n            return new ValuePair<T1, T2>(first, second);\n        }\n\n        public static ValuePair<T1, T2, T3> New<T1, T2, T3>(T1 first, T2 second, T3 third)\n        {\n            return new ValuePair<T1, T2, T3>(first, second, third);\n        }\n\n        public static ValuePair<T1, T2, T3, T4> New<T1, T2, T3, T4>(T1 first, T2 second, T3 third, T4 fourth)\n        {\n            return new ValuePair<T1, T2, T3, T4>(first, second, third, fourth);\n        }\n    }\n}\n\n","size_bytes":5012},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/BindingId.cs":{"content":"using System;\nusing System.Diagnostics;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [DebuggerStepThrough]\n    public struct BindingId : IEquatable<BindingId>\n    {\n        Type _type;\n        object _identifier;\n\n        public BindingId(Type type, object identifier)\n        {\n            _type = type;\n            _identifier = identifier;\n        }\n\n        public Type Type\n        {\n            get { return _type; }\n            set { _type = value; }\n        }\n\n        public object Identifier\n        {\n            get { return _identifier; }\n            set { _identifier = value; }\n        }\n\n        public override string ToString()\n        {\n            if (_identifier == null)\n            {\n                return _type.PrettyName();\n            }\n\n            return \"{0} (ID: {1})\".Fmt(_type, _identifier);\n        }\n\n        public override int GetHashCode()\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + _type.GetHashCode();\n                hash = hash * 29 + (_identifier == null ? 0 : _identifier.GetHashCode());\n                return hash;\n            }\n        }\n\n        public override bool Equals(object other)\n        {\n            if (other is BindingId)\n            {\n                BindingId otherId = (BindingId)other;\n                return otherId == this;\n            }\n\n            return false;\n        }\n\n        public bool Equals(BindingId that)\n        {\n            return this == that;\n        }\n\n        public static bool operator ==(BindingId left, BindingId right)\n        {\n            return left.Type == right.Type && Equals(left.Identifier, right.Identifier);\n        }\n\n        public static bool operator !=(BindingId left, BindingId right)\n        {\n            return !left.Equals(right);\n        }\n    }\n}\n","size_bytes":1859},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/DiContainer.cs":{"content":"ï»¿using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\nusing Zenject.Internal;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    public delegate bool BindingCondition(InjectContext c);\n\n    // Responsibilities:\n    // - Expose methods to configure object graph via BindX() methods\n    // - Look up bound values via Resolve() method\n    // - Instantiate new values via InstantiateX() methods\n    [NoReflectionBaking]\n    public class DiContainer : IInstantiator\n    {\n        readonly Dictionary<Type, IDecoratorProvider> _decorators = new Dictionary<Type, IDecoratorProvider>();\n        readonly Dictionary<BindingId, List<ProviderInfo>> _providers = new Dictionary<BindingId, List<ProviderInfo>>();\n\n        readonly DiContainer[][] _containerLookups = new DiContainer[4][];\n\n        readonly HashSet<LookupId> _resolvesInProgress = new HashSet<LookupId>();\n        readonly HashSet<LookupId> _resolvesTwiceInProgress = new HashSet<LookupId>();\n\n        readonly LazyInstanceInjector _lazyInjector;\n\n        readonly SingletonMarkRegistry _singletonMarkRegistry = new SingletonMarkRegistry();\n        readonly Queue<BindStatement> _currentBindings = new Queue<BindStatement>();\n        readonly List<BindStatement> _childBindings = new List<BindStatement>();\n\n        readonly HashSet<Type> _validatedTypes = new HashSet<Type>();\n        readonly List<IValidatable> _validationQueue = new List<IValidatable>();\n\n#if !NOT_UNITY3D\n        Transform _contextTransform;\n        bool _hasLookedUpContextTransform;\n        Transform _inheritedDefaultParent;\n        Transform _explicitDefaultParent;\n        bool _hasExplicitDefaultParent;\n#endif\n\n        ZenjectSettings _settings;\n\n        bool _hasResolvedRoots;\n        bool _isFinalizingBinding;\n        bool _isValidating;\n        bool _isInstalling;\n#if DEBUG || UNITY_EDITOR\n        bool _hasDisplayedInstallWarning;\n#endif\n\n        public DiContainer(\n            IEnumerable<DiContainer> parentContainersEnumerable, bool isValidating)\n        {\n            _isValidating = isValidating;\n\n            _lazyInjector = new LazyInstanceInjector(this);\n\n            InstallDefaultBindings();\n            FlushBindings();\n            Assert.That(_currentBindings.Count == 0);\n\n            _settings = ZenjectSettings.Default;\n\n            var selfLookup = new[] { this };\n            _containerLookups[(int)InjectSources.Local] = selfLookup;\n\n            var parentContainers = parentContainersEnumerable.ToArray();\n            _containerLookups[(int)InjectSources.Parent] = parentContainers;\n\n            var ancestorContainers = FlattenInheritanceChain().ToArray();\n\n            _containerLookups[(int)InjectSources.AnyParent] = ancestorContainers;\n            _containerLookups[(int)InjectSources.Any] = selfLookup.Concat(ancestorContainers).ToArray();\n\n            if (!parentContainers.IsEmpty())\n            {\n                for (int i = 0; i < parentContainers.Length; i++)\n                {\n                    parentContainers[i].FlushBindings();\n                }\n\n#if !NOT_UNITY3D\n                _inheritedDefaultParent = parentContainers.First().DefaultParent;\n#endif\n\n                // Make sure to avoid duplicates which could happen if a parent container\n                // appears multiple times in the inheritance chain\n                foreach (var ancestorContainer in ancestorContainers.Distinct())\n                {\n                    foreach (var binding in ancestorContainer._childBindings)\n                    {\n                        if (ShouldInheritBinding(binding, ancestorContainer))\n                        {\n                            FinalizeBinding(binding);\n                        }\n                    }\n                }\n\n                Assert.That(_currentBindings.Count == 0);\n                Assert.That(_childBindings.Count == 0);\n            }\n\n            // Assumed to be configured in a parent container\n            var settings = TryResolve<ZenjectSettings>();\n\n            if (settings != null)\n            {\n                _settings = settings;\n            }\n        }\n\n        public DiContainer(bool isValidating)\n            : this(Enumerable.Empty<DiContainer>(), isValidating)\n        {\n        }\n\n        public DiContainer()\n            : this(Enumerable.Empty<DiContainer>(), false)\n        {\n        }\n\n        public DiContainer(DiContainer parentContainer, bool isValidating)\n            : this(new [] { parentContainer }, isValidating)\n        {\n        }\n\n        public DiContainer(DiContainer parentContainer)\n            : this(new [] { parentContainer }, false)\n        {\n        }\n\n        public DiContainer(IEnumerable<DiContainer> parentContainers)\n            : this(parentContainers, false)\n        {\n        }\n\n        // By default the settings will be inherited from parent containers, but can be\n        // set explicitly here as well which is useful in particular in unit tests\n        // Note however that if you want child containers to use this same value you have\n        // to bind it as well\n        public ZenjectSettings Settings\n        {\n            get { return _settings; }\n            set\n            {\n                _settings = value;\n                Rebind<ZenjectSettings>().FromInstance(value);\n            }\n        }\n\n        internal SingletonMarkRegistry SingletonMarkRegistry\n        {\n            get { return _singletonMarkRegistry; }\n        }\n\n        public IEnumerable<IProvider> AllProviders\n        {\n            // Distinct is necessary since the same providers can be used with multiple contracts\n            get { return _providers.Values.SelectMany(x => x).Select(x => x.Provider).Distinct(); }\n        }\n\n        void InstallDefaultBindings()\n        {\n            Bind(typeof(DiContainer), typeof(IInstantiator)).FromInstance(this);\n            Bind(typeof(LazyInject<>)).FromMethodUntyped(CreateLazyBinding).Lazy();\n        }\n\n        object CreateLazyBinding(InjectContext context)\n        {\n            // By cloning it this also means that Ids, optional, etc. are forwarded properly\n            var newContext = context.Clone();\n            newContext.MemberType = context.MemberType.GenericArguments().Single();\n\n            var result = Activator.CreateInstance(\n                typeof(LazyInject<>)\n                .MakeGenericType(newContext.MemberType), this, newContext);\n\n            if (_isValidating)\n            {\n                QueueForValidate((IValidatable)result);\n            }\n\n            return result;\n        }\n\n        public void QueueForValidate(IValidatable validatable)\n        {\n            // Don't bother adding to queue if the initial resolve is already completed\n            if (!_hasResolvedRoots)\n            {\n                var concreteType = validatable.GetType();\n\n                if (!_validatedTypes.Contains(concreteType))\n                {\n                    _validatedTypes.Add(concreteType);\n                    _validationQueue.Add(validatable);\n                }\n            }\n        }\n\n        bool ShouldInheritBinding(BindStatement binding, DiContainer ancestorContainer)\n        {\n            if (binding.BindingInheritanceMethod == BindingInheritanceMethods.CopyIntoAll\n                || binding.BindingInheritanceMethod == BindingInheritanceMethods.MoveIntoAll)\n            {\n                return true;\n            }\n\n            if ((binding.BindingInheritanceMethod == BindingInheritanceMethods.CopyDirectOnly\n                    || binding.BindingInheritanceMethod == BindingInheritanceMethods.MoveDirectOnly)\n                && ParentContainers.Contains(ancestorContainer))\n            {\n                return true;\n            }\n\n            return false;\n        }\n\n#if !NOT_UNITY3D\n        // This might be null in some rare cases like when used in ZenjectUnitTestFixture\n        Transform ContextTransform\n        {\n            get\n            {\n                if (!_hasLookedUpContextTransform)\n                {\n                    _hasLookedUpContextTransform = true;\n\n                    var context = TryResolve<Context>();\n\n                    if (context != null)\n                    {\n                        _contextTransform = context.transform;\n                    }\n                }\n\n                return _contextTransform;\n            }\n        }\n#endif\n\n        // When true, this will throw exceptions whenever we create new game objects\n        // This is helpful when used in places like EditorWindowKernel where we can't\n        // assume that there is a \"scene\" to place objects\n        public bool AssertOnNewGameObjects\n        {\n            get;\n            set;\n        }\n\n#if !NOT_UNITY3D\n\n        public Transform InheritedDefaultParent\n        {\n            get { return _inheritedDefaultParent; }\n        }\n\n        public Transform DefaultParent\n        {\n            get { return _explicitDefaultParent; }\n            set\n            {\n                _explicitDefaultParent = value;\n                // Need to use a flag because null is a valid explicit default parent\n                _hasExplicitDefaultParent = true;\n            }\n        }\n#endif\n\n        public DiContainer[] ParentContainers\n        {\n            get { return _containerLookups[(int)InjectSources.Parent]; }\n        }\n\n        public DiContainer[] AncestorContainers\n        {\n            get { return _containerLookups[(int)InjectSources.AnyParent]; }\n        }\n\n        public bool ChecksForCircularDependencies\n        {\n            get\n            {\n#if ZEN_MULTITHREADING\n                // When multithreading is supported we can't use a static field to track the lookup\n                // TODO: We could look at the inject context though\n                return false;\n#else\n                return true;\n#endif\n            }\n        }\n\n        public bool IsValidating\n        {\n            get { return _isValidating; }\n        }\n\n        // When this is true, it will log warnings when Resolve or Instantiate\n        // methods are called\n        // Used to ensure that Resolve and Instantiate methods are not called\n        // during bind phase.  This is important since Resolve and Instantiate\n        // make use of the bindings, so if the bindings are not complete then\n        // unexpected behaviour can occur\n        public bool IsInstalling\n        {\n            get { return _isInstalling; }\n            set { _isInstalling = value; }\n        }\n\n        public IEnumerable<BindingId> AllContracts\n        {\n            get\n            {\n                FlushBindings();\n                return _providers.Keys;\n            }\n        }\n\n        public void ResolveRoots()\n        {\n            Assert.That(!_hasResolvedRoots);\n\n            FlushBindings();\n\n            ResolveDependencyRoots();\n#if DEBUG\n            if (IsValidating && _settings.ValidationRootResolveMethod == RootResolveMethods.All)\n            {\n                ValidateFullResolve();\n            }\n#endif\n\n            _lazyInjector.LazyInjectAll();\n\n            if (IsValidating)\n            {\n                FlushValidationQueue();\n            }\n\n            Assert.That(!_hasResolvedRoots);\n            _hasResolvedRoots = true;\n        }\n\n        void ResolveDependencyRoots()\n        {\n            var rootBindings = new List<BindingId>();\n            var rootProviders = new List<ProviderInfo>();\n\n            foreach (var bindingPair in _providers)\n            {\n                foreach (var provider in bindingPair.Value)\n                {\n                    if (provider.NonLazy)\n                    {\n                        // Save them to a list instead of resolving for them here to account\n                        // for the rare case where one of the resolves does another binding\n                        // and therefore changes _providers, causing an exception.\n                        rootBindings.Add(bindingPair.Key);\n                        rootProviders.Add(provider);\n                    }\n                }\n            }\n\n            Assert.IsEqual(rootProviders.Count, rootBindings.Count);\n\n            var instances = ZenPools.SpawnList<object>();\n\n            try\n            {\n                for (int i = 0; i < rootProviders.Count; i++)\n                {\n                    var bindId = rootBindings[i];\n                    var providerInfo = rootProviders[i];\n\n                    using (var context = ZenPools.SpawnInjectContext(this, bindId.Type))\n                    {\n                        context.Identifier = bindId.Identifier;\n                        context.SourceType = InjectSources.Local;\n\n                        // Should this be true?  Are there cases where you are ok that NonLazy matches\n                        // zero providers?\n                        // Probably better to be false to catch mistakes\n                        context.Optional = false;\n\n                        instances.Clear();\n\n#if ZEN_INTERNAL_PROFILING\n                        using (ProfileTimers.CreateTimedBlock(\"DiContainer.Resolve\"))\n#endif\n                        {\n                            SafeGetInstances(providerInfo, context, instances);\n                        }\n\n                        // Zero matches might actually be valid in some cases\n                        //Assert.That(matches.Any());\n                    }\n                }\n            }\n            finally\n            {\n                ZenPools.DespawnList(instances);\n            }\n        }\n\n        void ValidateFullResolve()\n        {\n            Assert.That(!_hasResolvedRoots);\n            Assert.That(IsValidating);\n\n            foreach (var bindingId in _providers.Keys.ToList())\n            {\n                if (!bindingId.Type.IsOpenGenericType())\n                {\n                    using (var context = ZenPools.SpawnInjectContext(this, bindingId.Type))\n                    {\n                        context.Identifier = bindingId.Identifier;\n                        context.SourceType = InjectSources.Local;\n                        context.Optional = true;\n\n                        ResolveAll(context);\n                    }\n                }\n            }\n        }\n\n        void FlushValidationQueue()\n        {\n            Assert.That(!_hasResolvedRoots);\n            Assert.That(IsValidating);\n\n            var validatables = new List<IValidatable>();\n\n            // Repeatedly flush the validation queue until it's empty, to account for\n            // cases where calls to Validate() add more objects to the queue\n            while (_validationQueue.Any())\n            {\n                validatables.Clear();\n                validatables.AllocFreeAddRange(_validationQueue);\n                _validationQueue.Clear();\n\n                for (int i = 0; i < validatables.Count; i++)\n                {\n                    validatables[i].Validate();\n                }\n            }\n        }\n\n        public DiContainer CreateSubContainer()\n        {\n            return CreateSubContainer(_isValidating);\n        }\n\n        public void QueueForInject(object instance)\n        {\n            _lazyInjector.AddInstance(instance);\n        }\n\n        // Note: this only does anything useful during the injection phase\n        // It will inject on the given instance if it hasn't already been injected, but only\n        // if the given instance has been queued for inject already by calling QueueForInject\n        // In some rare cases this can be useful - for example if you want to add a binding in a\n        // a higher level container to a resolve inside a lower level game object context container\n        // since in this case you need the game object context to be injected so you can access its\n        // Container property\n        public T LazyInject<T>(T instance)\n        {\n            _lazyInjector.LazyInject(instance);\n            return instance;\n        }\n\n        DiContainer CreateSubContainer(bool isValidating)\n        {\n            return new DiContainer(new[] { this }, isValidating);\n        }\n\n        public void RegisterProvider(\n            BindingId bindingId, BindingCondition condition, IProvider provider, bool nonLazy)\n        {\n            var info = new ProviderInfo(provider, condition, nonLazy, this);\n\n            List<ProviderInfo> providerInfos;\n\n            if (!_providers.TryGetValue(bindingId, out providerInfos))\n            {\n                providerInfos = new List<ProviderInfo>();\n                _providers.Add(bindingId, providerInfos);\n            }\n\n            providerInfos.Add(info);\n        }\n\n        void GetProviderMatches(\n            InjectContext context, List<ProviderInfo> buffer)\n        {\n            Assert.IsNotNull(context);\n            Assert.That(buffer.Count == 0);\n\n            var allMatches = ZenPools.SpawnList<ProviderInfo>();\n\n            try\n            {\n                GetProvidersForContract(\n                    context.BindingId, context.SourceType, allMatches);\n\n                for (int i = 0; i < allMatches.Count; i++)\n                {\n                    var match = allMatches[i];\n\n                    if (match.Condition == null || match.Condition(context))\n                    {\n                        buffer.Add(match);\n                    }\n                }\n            }\n            finally\n            {\n                ZenPools.DespawnList(allMatches);\n            }\n        }\n\n        ProviderInfo TryGetUniqueProvider(InjectContext context)\n        {\n            Assert.IsNotNull(context);\n\n            var bindingId = context.BindingId;\n            var sourceType = context.SourceType;\n\n            var containerLookups = _containerLookups[(int)sourceType];\n\n            for (int i = 0; i < containerLookups.Length; i++)\n            {\n                containerLookups[i].FlushBindings();\n            }\n\n            var localProviders = ZenPools.SpawnList<ProviderInfo>();\n\n            try\n            {\n                ProviderInfo selected = null;\n                int selectedDistance = Int32.MaxValue;\n                bool selectedHasCondition = false;\n                bool ambiguousSelection = false;\n\n                for (int i = 0; i < containerLookups.Length; i++)\n                {\n                    var container = containerLookups[i];\n\n                    int curDistance = GetContainerHeirarchyDistance(container);\n\n                    if (curDistance > selectedDistance)\n                    {\n                        // If matching provider was already found lower in the hierarchy => don't search for a new one,\n                        // because there can't be a better or equal provider in this container.\n                        continue;\n                    }\n\n                    localProviders.Clear();\n                    container.GetLocalProviders(bindingId, localProviders);\n\n                    for (int k = 0; k < localProviders.Count; k++)\n                    {\n                        var provider = localProviders[k];\n\n                        bool curHasCondition = provider.Condition != null;\n\n                        if (curHasCondition && !provider.Condition(context))\n                        {\n                            // The condition is not satisfied.\n                            continue;\n                        }\n\n                        // The distance can't decrease becuase we are iterating over the containers with increasing distance.\n                        // The distance can't increase because  we skip the container if the distance is greater than selected.\n                        // So the distances are equal and only the condition can help resolving the amiguity.\n                        Assert.That(selected == null || selectedDistance == curDistance);\n\n                        if (curHasCondition)\n                        {\n                            if (selectedHasCondition)\n                            {\n                                // Both providers have condition and are on equal depth.\n                                ambiguousSelection = true;\n                            }\n                            else\n                            {\n                                // Ambiguity is resolved because a provider with condition was found.\n                                ambiguousSelection = false;\n                            }\n                        }\n                        else\n                        {\n                            if (selectedHasCondition)\n                            {\n                                // Selected provider is better because it has condition.\n                                continue;\n                            }\n                            if (selected != null)\n                            {\n                                // Both providers don't have a condition and are on equal depth.\n                                ambiguousSelection = true;\n                            }\n                        }\n\n                        if (ambiguousSelection)\n                        {\n                            continue;\n                        }\n\n                        selectedDistance = curDistance;\n                        selectedHasCondition = curHasCondition;\n                        selected = provider;\n                    }\n                }\n\n                if (ambiguousSelection)\n                {\n                    throw Assert.CreateException(\n                        \"Found multiple matches when only one was expected for type '{0}'{1}. Object graph:\\n {2}\",\n                        context.MemberType,\n                        (context.ObjectType == null\n                            ? \"\"\n                            : \" while building object with type '{0}'\".Fmt(context.ObjectType)),\n                        context.GetObjectGraphString());\n                }\n\n                return selected;\n            }\n            finally\n            {\n                ZenPools.DespawnList(localProviders);\n            }\n        }\n\n        // Get the full list of ancestor Di Containers, making sure to avoid\n        // duplicates and also order them in a breadth-first way\n        List<DiContainer> FlattenInheritanceChain()\n        {\n            var processed = new List<DiContainer>();\n\n            var containerQueue = new Queue<DiContainer>();\n            containerQueue.Enqueue(this);\n\n            while (containerQueue.Count > 0)\n            {\n                var current = containerQueue.Dequeue();\n\n                foreach (var parent in current.ParentContainers)\n                {\n                    if (!processed.Contains(parent))\n                    {\n                        processed.Add(parent);\n                        containerQueue.Enqueue(parent);\n                    }\n                }\n            }\n\n            return processed;\n        }\n\n        void GetLocalProviders(BindingId bindingId, List<ProviderInfo> buffer)\n        {\n            List<ProviderInfo> localProviders;\n\n            if (_providers.TryGetValue(bindingId, out localProviders))\n            {\n                buffer.AllocFreeAddRange(localProviders);\n                return;\n            }\n\n            // If we are asking for a List<int>, we should also match for any localProviders that are bound to the open generic type List<>\n            // Currently it only matches one and not the other - not totally sure if this is better than returning both\n            if (bindingId.Type.IsGenericType() && _providers.TryGetValue(new BindingId(bindingId.Type.GetGenericTypeDefinition(), bindingId.Identifier), out localProviders))\n            {\n                buffer.AllocFreeAddRange(localProviders);\n            }\n\n            // None found\n        }\n\n        void GetProvidersForContract(\n            BindingId bindingId, InjectSources sourceType, List<ProviderInfo> buffer)\n        {\n            var containerLookups = _containerLookups[(int)sourceType];\n\n            for (int i = 0; i < containerLookups.Length; i++)\n            {\n                containerLookups[i].FlushBindings();\n            }\n\n            for (int i = 0; i < containerLookups.Length; i++)\n            {\n                containerLookups[i].GetLocalProviders(bindingId, buffer);\n            }\n        }\n\n        public void Install<TInstaller>()\n            where TInstaller : Installer\n        {\n            Instantiate<TInstaller>().InstallBindings();\n        }\n\n        // Note: You might want to use Installer<> as your base class instead to allow\n        // for strongly typed parameters\n        public void Install<TInstaller>(object[] extraArgs)\n            where TInstaller : Installer\n        {\n            Instantiate<TInstaller>(extraArgs).InstallBindings();\n        }\n\n        public IList ResolveAll(InjectContext context)\n        {\n            var buffer = ZenPools.SpawnList<object>();\n\n            try\n            {\n                ResolveAll(context, buffer);\n                return ReflectionUtil.CreateGenericList(context.MemberType, buffer);\n            }\n            finally\n            {\n                ZenPools.DespawnList(buffer);\n            }\n        }\n\n        public void ResolveAll(InjectContext context, List<object> buffer)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"DiContainer.Resolve\"))\n#endif\n            {\n                Assert.IsNotNull(context);\n                // Note that different types can map to the same provider (eg. a base type to a concrete class and a concrete class to itself)\n\n                FlushBindings();\n                CheckForInstallWarning(context);\n\n                var matches = ZenPools.SpawnList<ProviderInfo>();\n\n                try\n                {\n                    GetProviderMatches(context, matches);\n\n                    if (matches.Count == 0)\n                    {\n                        if (!context.Optional)\n                        {\n                            throw Assert.CreateException(\n                                \"Could not find required dependency with type '{0}' Object graph:\\n {1}\", context.MemberType, context.GetObjectGraphString());\n                        }\n\n                        return;\n                    }\n\n                    var instances = ZenPools.SpawnList<object>();\n                    var allInstances = ZenPools.SpawnList<object>();\n\n                    try\n                    {\n                        for (int i = 0; i < matches.Count; i++)\n                        {\n                            var match = matches[i];\n\n                            instances.Clear();\n                            SafeGetInstances(match, context, instances);\n\n                            for (int k = 0; k < instances.Count; k++)\n                            {\n                                allInstances.Add(instances[k]);\n                            }\n                        }\n\n                        if (allInstances.Count == 0 && !context.Optional)\n                        {\n                            throw Assert.CreateException(\n                                \"Could not find required dependency with type '{0}'.  Found providers but they returned zero results!\", context.MemberType);\n                        }\n\n                        if (IsValidating)\n                        {\n                            for (int i = 0; i < allInstances.Count; i++)\n                            {\n                                var instance = allInstances[i];\n\n                                if (instance is ValidationMarker)\n                                {\n                                    allInstances[i] = context.MemberType.GetDefaultValue();\n                                }\n                            }\n                        }\n\n                        buffer.AllocFreeAddRange(allInstances);\n                    }\n                    finally\n                    {\n                        ZenPools.DespawnList(instances);\n                        ZenPools.DespawnList(allInstances);\n                    }\n                }\n                finally\n                {\n                    ZenPools.DespawnList(matches);\n                }\n            }\n        }\n\n        void CheckForInstallWarning(InjectContext context)\n        {\n            if (!_settings.DisplayWarningWhenResolvingDuringInstall)\n            {\n                return;\n            }\n\n            Assert.IsNotNull(context);\n\n#if DEBUG || UNITY_EDITOR\n            if (!_isInstalling)\n            {\n                return;\n            }\n\n            if (_hasDisplayedInstallWarning)\n            {\n                return;\n            }\n\n            if (context == null)\n            {\n                // No way to tell whether this is ok or not so just assume ok\n                return;\n            }\n\n#if UNITY_EDITOR\n            if (context.MemberType.DerivesFrom<Context>())\n            {\n                // This happens when getting default transform parent so ok\n                return;\n            }\n#endif\n            if (IsValidating && TypeAnalyzer.ShouldAllowDuringValidation(context.MemberType))\n            {\n                return;\n            }\n\n            var rootContext = context.ParentContextsAndSelf.Last();\n\n            if (rootContext.MemberType.DerivesFrom<IInstaller>())\n            {\n                // Resolving/instantiating/injecting installers is valid during install phase\n                return;\n            }\n\n            _hasDisplayedInstallWarning = true;\n\n            // Feel free to comment this out if you are comfortable with this practice\n            Log.Warn(\"Zenject Warning: It is bad practice to call Inject/Resolve/Instantiate before all the Installers have completed!  This is important to ensure that all bindings have properly been installed in case they are needed when injecting/instantiating/resolving.  Detected when operating on type '{0}'.  If you don't care about this, you can disable this warning by setting flag 'ZenjectSettings.DisplayWarningWhenResolvingDuringInstall' to false (see docs for details on ZenjectSettings).\", rootContext.MemberType);\n#endif\n        }\n\n        // Returns the concrete type that would be returned with Resolve<T>\n        // without actually instantiating it\n        // This is safe to use within installers\n        public Type ResolveType<T>()\n        {\n            return ResolveType(typeof(T));\n        }\n\n        // Returns the concrete type that would be returned with Resolve(type)\n        // without actually instantiating it\n        // This is safe to use within installers\n        public Type ResolveType(Type type)\n        {\n            using (var context = ZenPools.SpawnInjectContext(this, type))\n            {\n                return ResolveType(context);\n            }\n        }\n\n        // Returns the concrete type that would be returned with Resolve(context)\n        // without actually instantiating it\n        // This is safe to use within installers\n        public Type ResolveType(InjectContext context)\n        {\n            Assert.IsNotNull(context);\n\n            FlushBindings();\n\n            var providerInfo = TryGetUniqueProvider(context);\n\n            if (providerInfo == null)\n            {\n                throw Assert.CreateException(\n                    \"Unable to resolve {0}{1}. Object graph:\\n{2}\", context.BindingId,\n                    (context.ObjectType == null ? \"\" : \" while building object with type '{0}'\".Fmt(context.ObjectType)),\n                    context.GetObjectGraphString());\n            }\n\n            return providerInfo.Provider.GetInstanceType(context);\n        }\n\n        public List<Type> ResolveTypeAll(Type type)\n        {\n            return ResolveTypeAll(type, null);\n        }\n\n        public List<Type> ResolveTypeAll(Type type, object identifier)\n        {\n            using (var context = ZenPools.SpawnInjectContext(this, type))\n            {\n                context.Identifier = identifier;\n                return ResolveTypeAll(context);\n            }\n        }\n\n        // Returns all the types that would be returned if ResolveAll was called with the given values\n        public List<Type> ResolveTypeAll(InjectContext context)\n        {\n            Assert.IsNotNull(context);\n\n            FlushBindings();\n\n            var matches = ZenPools.SpawnList<ProviderInfo>();\n\n            try\n            {\n                GetProviderMatches(context, matches);\n\n                if (matches.Count > 0 )\n                {\n                    return matches.Select(\n                        x => x.Provider.GetInstanceType(context))\n                        .Where(x => x != null).ToList();\n                }\n\n                return new List<Type>();\n            }\n            finally\n            {\n                ZenPools.DespawnList(matches);\n            }\n        }\n\n        public object Resolve(BindingId id)\n        {\n            using (var context = ZenPools.SpawnInjectContext(this, id.Type))\n            {\n                context.Identifier = id.Identifier;\n                return Resolve(context);\n            }\n        }\n\n        public object Resolve(InjectContext context)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"DiContainer.Resolve\"))\n#endif\n            {\n                // Note: context.Container is not necessarily equal to this, since\n                // you can have some lookups recurse to parent containers\n                Assert.IsNotNull(context);\n\n                var memberType = context.MemberType;\n\n                FlushBindings();\n                CheckForInstallWarning(context);\n\n                var lookupContext = context;\n\n                // The context used for lookups is always the same as the given context EXCEPT for LazyInject<>\n                // In CreateLazyBinding above, we forward the context to a new instance of LazyInject<>\n                // The problem is, we want the binding for Bind(typeof(LazyInject<>)) to always match even\n                // for members that are marked for a specific ID, so we need to discard the identifier\n                // for this one particular case\n                if (memberType.IsGenericType() && memberType.GetGenericTypeDefinition() == typeof(LazyInject<>))\n                {\n                    lookupContext = context.Clone();\n                    lookupContext.Identifier = null;\n                    lookupContext.SourceType = InjectSources.Local;\n                    lookupContext.Optional = false;\n                }\n\n                var providerInfo = TryGetUniqueProvider(lookupContext);\n\n                if (providerInfo == null)\n                {\n                    // If it's an array try matching to multiple values using its array type\n                    if (memberType.IsArray && memberType.GetArrayRank() == 1)\n                    {\n                        var subType = memberType.GetElementType();\n\n                        var subContext = context.Clone();\n                        subContext.MemberType = subType;\n                        // By making this optional this means that all injected fields of type T[]\n                        // will pass validation, which could be error prone, but I think this is better\n                        // than always requiring that they explicitly mark their array types as optional\n                        subContext.Optional = true;\n\n                        var results = ZenPools.SpawnList<object>();\n\n                        try\n                        {\n                            ResolveAll(subContext, results);\n                            return ReflectionUtil.CreateArray(subContext.MemberType, results);\n                        }\n                        finally\n                        {\n                            ZenPools.DespawnList(results);\n                        }\n                    }\n\n                    // If it's a generic list then try matching multiple instances to its generic type\n                    if (memberType.IsGenericType()\n                        && (memberType.GetGenericTypeDefinition() == typeof(List<>)\n                            || memberType.GetGenericTypeDefinition() == typeof(IList<>)\n#if NET_4_6\n                            || memberType.GetGenericTypeDefinition() == typeof(IReadOnlyList<>)\n#endif\n                            || memberType.GetGenericTypeDefinition() == typeof(IEnumerable<>)))\n                    {\n                        var subType = memberType.GenericArguments().Single();\n\n                        var subContext = context.Clone();\n                        subContext.MemberType = subType;\n                        // By making this optional this means that all injected fields of type List<>\n                        // will pass validation, which could be error prone, but I think this is better\n                        // than always requiring that they explicitly mark their list types as optional\n                        subContext.Optional = true;\n\n                        return ResolveAll(subContext);\n                    }\n\n                    if (context.Optional)\n                    {\n                        return context.FallBackValue;\n                    }\n\n                    throw Assert.CreateException(\"Unable to resolve '{0}'{1}. Object graph:\\n{2}\", context.BindingId,\n                        (context.ObjectType == null ? \"\" : \" while building object with type '{0}'\".Fmt(context.ObjectType)),\n                        context.GetObjectGraphString());\n                }\n\n                var instances = ZenPools.SpawnList<object>();\n\n                try\n                {\n                    SafeGetInstances(providerInfo, context, instances);\n\n                    if (instances.Count == 0)\n                    {\n                        if (context.Optional)\n                        {\n                            return context.FallBackValue;\n                        }\n\n                        throw Assert.CreateException(\n                            \"Unable to resolve '{0}'{1}. Object graph:\\n{2}\", context.BindingId,\n                            (context.ObjectType == null\n                             ? \"\"\n                             : \" while building object with type '{0}'\".Fmt(context.ObjectType)),\n                             context.GetObjectGraphString());\n                    }\n\n                    if (instances.Count() > 1)\n                    {\n                        throw Assert.CreateException(\n                            \"Provider returned multiple instances when only one was expected!  While resolving '{0}'{1}. Object graph:\\n{2}\", context.BindingId,\n                            (context.ObjectType == null\n                             ? \"\"\n                             : \" while building object with type '{0}'\".Fmt(context.ObjectType)),\n                             context.GetObjectGraphString());\n                    }\n\n                    return instances.First();\n                }\n                finally\n                {\n                    ZenPools.DespawnList(instances);\n                }\n            }\n        }\n\n        void SafeGetInstances(ProviderInfo providerInfo, InjectContext context, List<object> instances)\n        {\n            Assert.IsNotNull(context);\n\n            var provider = providerInfo.Provider;\n\n            if (ChecksForCircularDependencies)\n            {\n                var lookupId = ZenPools.SpawnLookupId(provider, context.BindingId);\n\n                try\n                {\n                    // Use the container associated with the provider to address some rare cases\n                    // which would otherwise result in an infinite loop.  Like this:\n                    // Container.Bind<ICharacter>().FromComponentInNewPrefab(Prefab).AsTransient()\n                    // With the prefab being a GameObjectContext containing a script that has a\n                    // ICharacter dependency.  In this case, we would otherwise use the _resolvesInProgress\n                    // associated with the GameObjectContext container, which will allow the recursive\n                    // lookup, which will trigger another GameObjectContext and container (since it is\n                    // transient) and the process continues indefinitely\n                    var providerContainer = providerInfo.Container;\n\n                    if (providerContainer._resolvesTwiceInProgress.Contains(lookupId))\n                    {\n                        // Allow one before giving up so that you can do circular dependencies via postinject or fields\n                        throw Assert.CreateException(\n                            \"Circular dependency detected! Object graph:\\n {0}\", context.GetObjectGraphString());\n                    }\n\n                    bool twice = false;\n                    if (!providerContainer._resolvesInProgress.Add(lookupId))\n                    {\n                        bool added = providerContainer._resolvesTwiceInProgress.Add(lookupId);\n                        Assert.That(added);\n                        twice = true;\n                    }\n\n                    try\n                    {\n                        GetDecoratedInstances(provider, context, instances);\n                    }\n                    finally\n                    {\n                        if (twice)\n                        {\n                            bool removed = providerContainer._resolvesTwiceInProgress.Remove(lookupId);\n                            Assert.That(removed);\n                        }\n                        else\n                        {\n                            bool removed = providerContainer._resolvesInProgress.Remove(lookupId);\n                            Assert.That(removed);\n                        }\n                    }\n                }\n                finally\n                {\n                    ZenPools.DespawnLookupId(lookupId);\n                }\n            }\n            else\n            {\n                GetDecoratedInstances(provider, context, instances);\n            }\n        }\n\n        public DecoratorToChoiceFromBinder<TContract> Decorate<TContract>()\n        {\n            var bindStatement = StartBinding();\n            var bindInfo = bindStatement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(IFactory<TContract, TContract>));\n\n            var factoryBindInfo = new FactoryBindInfo(\n                typeof(PlaceholderFactory<TContract, TContract>));\n\n            bindStatement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            var bindId = Guid.NewGuid();\n\n            bindInfo.Identifier = bindId;\n\n            IDecoratorProvider decoratorProvider;\n\n            if (!_decorators.TryGetValue(typeof(TContract), out decoratorProvider))\n            {\n                decoratorProvider = new DecoratorProvider<TContract>(this);\n                _decorators.Add(typeof(TContract), decoratorProvider);\n            }\n\n            ((DecoratorProvider<TContract>)decoratorProvider).AddFactoryId(bindId);\n\n            return new DecoratorToChoiceFromBinder<TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        void GetDecoratedInstances(\n            IProvider provider, InjectContext context, List<object> buffer)\n        {\n            // TODO:  This is flawed since it doesn't allow binding new decorators in subcontainers\n            var decoratorProvider = TryGetDecoratorProvider(context.BindingId.Type);\n\n            if (decoratorProvider != null)\n            {\n                decoratorProvider.GetAllInstances(provider, context, buffer);\n                return;\n            }\n\n            provider.GetAllInstances(context, buffer);\n        }\n\n        IDecoratorProvider TryGetDecoratorProvider(Type contractType)\n        {\n            IDecoratorProvider decoratorProvider;\n\n            if (_decorators.TryGetValue(contractType, out decoratorProvider))\n            {\n                return decoratorProvider;\n            }\n\n            var ancestorContainers = AncestorContainers;\n\n            for (int i = 0; i < ancestorContainers.Length; i++)\n            {\n                if (ancestorContainers[i]._decorators.TryGetValue(contractType, out decoratorProvider))\n                {\n                    return decoratorProvider;\n                }\n            }\n\n            return null;\n        }\n\n        int GetContainerHeirarchyDistance(DiContainer container)\n        {\n            return GetContainerHeirarchyDistance(container, 0).Value;\n        }\n\n        int? GetContainerHeirarchyDistance(DiContainer container, int depth)\n        {\n            if (container == this)\n            {\n                return depth;\n            }\n\n            int? result = null;\n\n            var parentContainers = ParentContainers;\n\n            for (int i = 0; i < parentContainers.Length; i++)\n            {\n                var parent = parentContainers[i];\n\n                var distance = parent.GetContainerHeirarchyDistance(container, depth + 1);\n\n                if (distance.HasValue && (!result.HasValue || distance.Value < result.Value))\n                {\n                    result = distance;\n                }\n            }\n\n            return result;\n        }\n\n        public IEnumerable<Type> GetDependencyContracts<TContract>()\n        {\n            return GetDependencyContracts(typeof(TContract));\n        }\n\n        public IEnumerable<Type> GetDependencyContracts(Type contract)\n        {\n            FlushBindings();\n\n            var info = TypeAnalyzer.TryGetInfo(contract);\n\n            if (info != null)\n            {\n                foreach (var injectMember in info.AllInjectables)\n                {\n                    yield return injectMember.MemberType;\n                }\n            }\n        }\n\n        object InstantiateInternal(\n            Type concreteType, bool autoInject, List<TypeValuePair> extraArgs, InjectContext context, object concreteIdentifier)\n        {\n#if !NOT_UNITY3D\n            Assert.That(!concreteType.DerivesFrom<Component>(),\n                \"Error occurred while instantiating object of type '{0}'. Instantiator should not be used to create new mono behaviours.  Must use InstantiatePrefabForComponent, InstantiatePrefab, or InstantiateComponent.\", concreteType);\n#endif\n\n            Assert.That(!concreteType.IsAbstract(), \"Expected type '{0}' to be non-abstract\", concreteType);\n\n            FlushBindings();\n            CheckForInstallWarning(context);\n\n            var typeInfo = TypeAnalyzer.TryGetInfo(concreteType);\n\n            Assert.IsNotNull(typeInfo, \"Tried to create type '{0}' but could not find type information\", concreteType);\n\n            bool allowDuringValidation = IsValidating && TypeAnalyzer.ShouldAllowDuringValidation(concreteType);\n\n            object newObj;\n\n#if !NOT_UNITY3D\n            if (concreteType.DerivesFrom<ScriptableObject>())\n            {\n                Assert.That(typeInfo.InjectConstructor.Parameters.Length == 0,\n                    \"Found constructor parameters on ScriptableObject type '{0}'.  This is not allowed.  Use an [Inject] method or fields instead.\");\n\n                if (!IsValidating || allowDuringValidation)\n                {\n                    newObj = ScriptableObject.CreateInstance(concreteType);\n                }\n                else\n                {\n                    newObj = new ValidationMarker(concreteType);\n                }\n            }\n            else\n#endif\n            {\n                Assert.IsNotNull(typeInfo.InjectConstructor.Factory,\n                    \"More than one (or zero) constructors found for type '{0}' when creating dependencies.  Use one [Inject] attribute to specify which to use.\", concreteType);\n\n                // Make a copy since we remove from it below\n                var paramValues = ZenPools.SpawnArray<object>(typeInfo.InjectConstructor.Parameters.Length);\n\n                try\n                {\n                    for (int i = 0; i < typeInfo.InjectConstructor.Parameters.Length; i++)\n                    {\n                        var injectInfo = typeInfo.InjectConstructor.Parameters[i];\n\n                        object value;\n\n                        if (!InjectUtil.PopValueWithType(\n                            extraArgs, injectInfo.MemberType, out value))\n                        {\n                            using (var subContext = ZenPools.SpawnInjectContext(\n                                this, injectInfo, context, null, concreteType, concreteIdentifier))\n                            {\n                                value = Resolve(subContext);\n                            }\n                        }\n\n                        if (value == null || value is ValidationMarker)\n                        {\n                            paramValues[i] = injectInfo.MemberType.GetDefaultValue();\n                        }\n                        else\n                        {\n                            paramValues[i] = value;\n                        }\n                    }\n\n                    if (!IsValidating || allowDuringValidation)\n                    {\n                        //ModestTree.Log.Debug(\"Zenject: Instantiating type '{0}'\", concreteType);\n                        try\n                        {\n#if ZEN_INTERNAL_PROFILING\n                            using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                            using (ProfileBlock.Start(\"{0}.{1}()\", concreteType, concreteType.Name))\n#endif\n                            {\n                                newObj = typeInfo.InjectConstructor.Factory(paramValues);\n                            }\n                        }\n                        catch (Exception e)\n                        {\n                            throw Assert.CreateException(\n                                e, \"Error occurred while instantiating object with type '{0}'\", concreteType);\n                        }\n                    }\n                    else\n                    {\n                        newObj = new ValidationMarker(concreteType);\n                    }\n                }\n                finally\n                {\n                    ZenPools.DespawnArray(paramValues);\n                }\n            }\n\n            if (autoInject)\n            {\n                InjectExplicit(newObj, concreteType, extraArgs, context, concreteIdentifier);\n\n                if (extraArgs.Count > 0 && !(newObj is ValidationMarker))\n                {\n                    throw Assert.CreateException(\n                        \"Passed unnecessary parameters when injecting into type '{0}'. \\nExtra Parameters: {1}\\nObject graph:\\n{2}\",\n                        newObj.GetType(), String.Join(\",\", extraArgs.Select(x => x.Type.PrettyName()).ToArray()), context.GetObjectGraphString());\n                }\n            }\n\n#if DEBUG\n            if (IsValidating && newObj is IValidatable)\n            {\n                QueueForValidate((IValidatable)newObj);\n            }\n#endif\n\n            return newObj;\n        }\n\n        // InjectExplicit is only necessary when you want to inject null values into your object\n        // otherwise you can just use Inject()\n        // Note: Any arguments that are used will be removed from extraArgMap\n        public void InjectExplicit(object injectable, List<TypeValuePair> extraArgs)\n        {\n            Type injectableType;\n\n            if (injectable is ValidationMarker)\n            {\n                injectableType = ((ValidationMarker)injectable).MarkedType;\n            }\n            else\n            {\n                injectableType = injectable.GetType();\n            }\n\n            InjectExplicit(\n                injectable,\n                injectableType,\n                extraArgs,\n                new InjectContext(this, injectableType, null),\n                null);\n        }\n\n        public void InjectExplicit(\n            object injectable, Type injectableType,\n            List<TypeValuePair> extraArgs, InjectContext context, object concreteIdentifier)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"DiContainer.Inject\"))\n#endif\n            {\n                if (IsValidating)\n                {\n                    var marker = injectable as ValidationMarker;\n\n                    if (marker != null && marker.InstantiateFailed)\n                    {\n                        // Do nothing in this case because it already failed and so there\n                        // could be many knock-on errors that aren't related to the user\n                        return;\n                    }\n\n                    if (_settings.ValidationErrorResponse == ValidationErrorResponses.Throw)\n                    {\n                        InjectExplicitInternal(\n                            injectable, injectableType, extraArgs, context, concreteIdentifier);\n                    }\n                    else\n                    {\n                        // In this case, just log it and continue to print out multiple validation errors\n                        // at once\n                        try\n                        {\n                            InjectExplicitInternal(injectable, injectableType, extraArgs, context, concreteIdentifier);\n                        }\n                        catch (Exception e)\n                        {\n                            Log.ErrorException(e);\n                        }\n                    }\n                }\n                else\n                {\n                    InjectExplicitInternal(injectable, injectableType, extraArgs, context, concreteIdentifier);\n                }\n            }\n        }\n\n        void CallInjectMethodsTopDown(\n            object injectable, Type injectableType,\n            InjectTypeInfo typeInfo, List<TypeValuePair> extraArgs,\n            InjectContext context, object concreteIdentifier, bool isDryRun)\n        {\n            if (typeInfo.BaseTypeInfo != null)\n            {\n                CallInjectMethodsTopDown(\n                    injectable, injectableType, typeInfo.BaseTypeInfo, extraArgs,\n                    context, concreteIdentifier, isDryRun);\n            }\n\n            for (int i = 0; i < typeInfo.InjectMethods.Length; i++)\n            {\n                var method = typeInfo.InjectMethods[i];\n                var paramValues = ZenPools.SpawnArray<object>(method.Parameters.Length);\n\n                try\n                {\n                    for (int k = 0; k < method.Parameters.Length; k++)\n                    {\n                        var injectInfo = method.Parameters[k];\n\n                        object value;\n\n                        if (!InjectUtil.PopValueWithType(extraArgs, injectInfo.MemberType, out value))\n                        {\n                            using (var subContext = ZenPools.SpawnInjectContext(\n                                this, injectInfo, context, injectable, injectableType, concreteIdentifier))\n                            {\n                                value = Resolve(subContext);\n                            }\n                        }\n\n                        if (value is ValidationMarker)\n                        {\n                            Assert.That(IsValidating);\n\n                            paramValues[k] = injectInfo.MemberType.GetDefaultValue();\n                        }\n                        else\n                        {\n                            paramValues[k] = value;\n                        }\n                    }\n\n                    if (!isDryRun)\n                    {\n#if ZEN_INTERNAL_PROFILING\n                        using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                        using (ProfileBlock.Start(\"{0}.{1}()\", typeInfo.Type, method.Name))\n#endif\n                        {\n                            method.Action(injectable, paramValues);\n                        }\n                    }\n                }\n                finally\n                {\n                    ZenPools.DespawnArray(paramValues);\n                }\n            }\n        }\n\n        void InjectMembersTopDown(\n            object injectable, Type injectableType,\n            InjectTypeInfo typeInfo, List<TypeValuePair> extraArgs,\n            InjectContext context, object concreteIdentifier, bool isDryRun)\n        {\n            if (typeInfo.BaseTypeInfo != null)\n            {\n                InjectMembersTopDown(\n                    injectable, injectableType, typeInfo.BaseTypeInfo, extraArgs,\n                    context, concreteIdentifier, isDryRun);\n            }\n\n            for (int i = 0; i < typeInfo.InjectMembers.Length; i++)\n            {\n                var injectInfo = typeInfo.InjectMembers[i].Info;\n                var setterMethod = typeInfo.InjectMembers[i].Setter;\n\n                object value;\n\n                if (InjectUtil.PopValueWithType(extraArgs, injectInfo.MemberType, out value))\n                {\n                    if (!isDryRun)\n                    {\n                        if (value is ValidationMarker)\n                        {\n                            Assert.That(IsValidating);\n                        }\n                        else\n                        {\n                            setterMethod(injectable, value);\n                        }\n                    }\n                }\n                else\n                {\n                    using (var subContext = ZenPools.SpawnInjectContext(\n                        this, injectInfo, context, injectable, injectableType, concreteIdentifier))\n                    {\n                        value = Resolve(subContext);\n                    }\n\n                    if (injectInfo.Optional && value == null)\n                    {\n                        // Do not override in this case so it retains the hard-coded value\n                    }\n                    else\n                    {\n                        if (!isDryRun)\n                        {\n                            if (value is ValidationMarker)\n                            {\n                                Assert.That(IsValidating);\n                            }\n                            else\n                            {\n                                setterMethod(injectable, value);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        void InjectExplicitInternal(\n            object injectable, Type injectableType, List<TypeValuePair> extraArgs,\n            InjectContext context, object concreteIdentifier)\n        {\n            Assert.That(injectable != null);\n\n            var typeInfo = TypeAnalyzer.TryGetInfo(injectableType);\n\n            if (typeInfo == null)\n            {\n                Assert.That(extraArgs.IsEmpty());\n                return;\n            }\n\n            var allowDuringValidation = IsValidating && TypeAnalyzer.ShouldAllowDuringValidation(injectableType);\n\n            // Installers are the only things that we instantiate/inject on during validation\n            var isDryRun = IsValidating && !allowDuringValidation;\n\n            if (!isDryRun)\n            {\n                Assert.IsEqual(injectable.GetType(), injectableType);\n            }\n\n#if !NOT_UNITY3D\n            if (injectableType == typeof(GameObject))\n            {\n                Assert.CreateException(\n                    \"Use InjectGameObject to Inject game objects instead of Inject method. Object graph: {0}\", context.GetObjectGraphString());\n            }\n#endif\n\n            FlushBindings();\n            CheckForInstallWarning(context);\n\n            InjectMembersTopDown(\n                injectable, injectableType, typeInfo, extraArgs, context, concreteIdentifier, isDryRun);\n\n            CallInjectMethodsTopDown(\n                injectable, injectableType, typeInfo, extraArgs, context, concreteIdentifier, isDryRun);\n\n            if (extraArgs.Count > 0)\n            {\n                throw Assert.CreateException(\n                    \"Passed unnecessary parameters when injecting into type '{0}'. \\nExtra Parameters: {1}\\nObject graph:\\n{2}\",\n                    injectableType, String.Join(\",\", extraArgs.Select(x => x.Type.PrettyName()).ToArray()), context.GetObjectGraphString());\n            }\n        }\n\n#if !NOT_UNITY3D\n\n        // Don't use this unless you know what you're doing\n        // You probably want to use InstantiatePrefab instead\n        // This one will only create the prefab and will not inject into it\n        // Also, this will always return the new game object as disabled, so that injection can occur before Awake / OnEnable / Start\n        internal GameObject CreateAndParentPrefabResource(\n            string resourcePath, GameObjectCreationParameters gameObjectBindInfo, InjectContext context, out bool shouldMakeActive)\n        {\n            var prefab = (GameObject)Resources.Load(resourcePath);\n\n            Assert.IsNotNull(prefab,\n                \"Could not find prefab at resource location '{0}'\".Fmt(resourcePath));\n\n            return CreateAndParentPrefab(prefab, gameObjectBindInfo, context, out shouldMakeActive);\n        }\n\n        GameObject GetPrefabAsGameObject(UnityEngine.Object prefab)\n        {\n            if (prefab is GameObject)\n            {\n                return (GameObject)prefab;\n            }\n\n            Assert.That(prefab is Component, \"Invalid type given for prefab. Given object name: '{0}'\", prefab.name);\n            return ((Component)prefab).gameObject;\n        }\n\n        // Don't use this unless you know what you're doing\n        // You probably want to use InstantiatePrefab instead\n        // This one will only create the prefab and will not inject into it\n        internal GameObject CreateAndParentPrefab(\n            UnityEngine.Object prefab, GameObjectCreationParameters gameObjectBindInfo,\n            InjectContext context, out bool shouldMakeActive)\n        {\n            Assert.That(prefab != null, \"Null prefab found when instantiating game object\");\n\n            Assert.That(!AssertOnNewGameObjects,\n                \"Given DiContainer does not support creating new game objects\");\n\n            FlushBindings();\n\n            var prefabAsGameObject = GetPrefabAsGameObject(prefab);\n\n            var prefabWasActive = prefabAsGameObject.activeSelf;\n\n            shouldMakeActive = prefabWasActive;\n\n            var parent = GetTransformGroup(gameObjectBindInfo, context);\n\n            Transform initialParent;\n#if !UNITY_EDITOR\n            if (prefabWasActive)\n            {\n                prefabAsGameObject.SetActive(false);\n            }\n#else\n            if (prefabWasActive)\n            {\n                initialParent = ZenUtilInternal.GetOrCreateInactivePrefabParent();\n            }\n            else\n#endif\n            {\n                if (parent != null)\n                {\n                    initialParent = parent;\n                }\n                else\n                {\n                    // This ensures it gets added to the right scene instead of just the active scene\n                    initialParent = ContextTransform;\n                }\n            }\n\n            bool positionAndRotationWereSet;\n            GameObject gameObj;\n\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"GameObject.Instantiate\"))\n#endif\n            {\n                if (gameObjectBindInfo.Position.HasValue && gameObjectBindInfo.Rotation.HasValue)\n                {\n                    gameObj = GameObject.Instantiate(\n                        prefabAsGameObject, gameObjectBindInfo.Position.Value, gameObjectBindInfo.Rotation.Value, initialParent);\n                    positionAndRotationWereSet = true;\n                }\n                else if (gameObjectBindInfo.Position.HasValue)\n                {\n                    gameObj = GameObject.Instantiate(\n                        prefabAsGameObject, gameObjectBindInfo.Position.Value, prefabAsGameObject.transform.rotation, initialParent);\n                    positionAndRotationWereSet = true;\n                }\n                else if (gameObjectBindInfo.Rotation.HasValue)\n                {\n                    gameObj = GameObject.Instantiate(\n                        prefabAsGameObject, prefabAsGameObject.transform.position, gameObjectBindInfo.Rotation.Value, initialParent);\n                    positionAndRotationWereSet = true;\n                }\n                else\n                {\n                    gameObj = GameObject.Instantiate(prefabAsGameObject, initialParent);\n                    positionAndRotationWereSet = false;\n                }\n            }\n\n#if !UNITY_EDITOR\n            if (prefabWasActive)\n            {\n                prefabAsGameObject.SetActive(true);\n            }\n#else\n            if (prefabWasActive)\n            {\n                gameObj.SetActive(false);\n\n                if (parent == null)\n                {\n                    gameObj.transform.SetParent(ContextTransform, positionAndRotationWereSet);\n                }\n            }\n#endif\n\n            if (gameObj.transform.parent != parent)\n            {\n                gameObj.transform.SetParent(parent, positionAndRotationWereSet);\n            }\n\n            if (gameObjectBindInfo.Name != null)\n            {\n                gameObj.name = gameObjectBindInfo.Name;\n            }\n\n            return gameObj;\n        }\n\n        public GameObject CreateEmptyGameObject(string name)\n        {\n            return CreateEmptyGameObject(new GameObjectCreationParameters { Name = name }, null);\n        }\n\n        public GameObject CreateEmptyGameObject(\n            GameObjectCreationParameters gameObjectBindInfo, InjectContext context)\n        {\n            Assert.That(!AssertOnNewGameObjects,\n                \"Given DiContainer does not support creating new game objects\");\n\n            FlushBindings();\n\n            var gameObj = new GameObject(gameObjectBindInfo.Name ?? \"GameObject\");\n            var parent = GetTransformGroup(gameObjectBindInfo, context);\n\n            if (parent == null)\n            {\n                // This ensures it gets added to the right scene instead of just the active scene\n                gameObj.transform.SetParent(ContextTransform, false);\n                gameObj.transform.SetParent(null, false);\n            }\n            else\n            {\n                gameObj.transform.SetParent(parent, false);\n            }\n\n            return gameObj;\n        }\n\n        Transform GetTransformGroup(\n            GameObjectCreationParameters gameObjectBindInfo, InjectContext context)\n        {\n            Assert.That(!AssertOnNewGameObjects,\n                \"Given DiContainer does not support creating new game objects\");\n\n            if (gameObjectBindInfo.ParentTransform != null)\n            {\n                Assert.IsNull(gameObjectBindInfo.GroupName);\n                Assert.IsNull(gameObjectBindInfo.ParentTransformGetter);\n\n                return gameObjectBindInfo.ParentTransform;\n            }\n\n            // Don't execute the ParentTransformGetter method during validation\n            // since it might do a resolve etc.\n            if (gameObjectBindInfo.ParentTransformGetter != null && !IsValidating)\n            {\n                Assert.IsNull(gameObjectBindInfo.GroupName);\n\n                if (context == null)\n                {\n                    context = new InjectContext\n                    {\n                        // This is the only information we can supply in this case\n                        Container = this\n                    };\n                }\n\n                // NOTE: Null is fine here, will just be a root game object in that case\n                return gameObjectBindInfo.ParentTransformGetter(context);\n            }\n\n            var groupName = gameObjectBindInfo.GroupName;\n\n            // Only use the inherited parent if is not set locally\n            var defaultParent = _hasExplicitDefaultParent ? _explicitDefaultParent : _inheritedDefaultParent;\n\n            if (defaultParent == null)\n            {\n                if (groupName == null)\n                {\n                    return null;\n                }\n\n                return (GameObject.Find(\"/\" + groupName) ?? CreateTransformGroup(groupName)).transform;\n            }\n\n            if (groupName == null)\n            {\n                return defaultParent;\n            }\n\n            foreach (Transform child in defaultParent)\n            {\n                if (child.name == groupName)\n                {\n                    return child;\n                }\n            }\n\n            var group = new GameObject(groupName).transform;\n            group.SetParent(defaultParent, false);\n            return group;\n        }\n\n        GameObject CreateTransformGroup(string groupName)\n        {\n            var gameObj = new GameObject(groupName);\n            gameObj.transform.SetParent(ContextTransform, false);\n            gameObj.transform.SetParent(null, false);\n            return gameObj;\n        }\n\n#endif\n\n        // Use this method to create any non-monobehaviour\n        // Any fields marked [Inject] will be set using the bindings on the container\n        // Any methods marked with a [Inject] will be called\n        // Any constructor parameters will be filled in with values from the container\n        public T Instantiate<T>()\n        {\n            return Instantiate<T>(new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T Instantiate<T>(IEnumerable<object> extraArgs)\n        {\n            var result = Instantiate(typeof(T), extraArgs);\n\n            if (IsValidating && !(result is T))\n            {\n                Assert.That(result is ValidationMarker);\n                return default(T);\n            }\n\n            return (T)result;\n        }\n\n        public object Instantiate(Type concreteType)\n        {\n            return Instantiate(concreteType, new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public object Instantiate(\n            Type concreteType, IEnumerable<object> extraArgs)\n        {\n            Assert.That(!extraArgs.ContainsItem(null),\n                \"Null value given to factory constructor arguments when instantiating object with type '{0}'. In order to use null use InstantiateExplicit\", concreteType);\n\n            return InstantiateExplicit(\n                concreteType, InjectUtil.CreateArgList(extraArgs));\n        }\n\n#if !NOT_UNITY3D\n        // Add new component to existing game object and fill in its dependencies\n        // This is the same as AddComponent except the [Inject] fields will be filled in\n        // NOTE: Gameobject here is not a prefab prototype, it is an instance\n        public TContract InstantiateComponent<TContract>(GameObject gameObject)\n            where TContract : Component\n        {\n            return InstantiateComponent<TContract>(gameObject, new object[0]);\n        }\n\n        // Add new component to existing game object and fill in its dependencies\n        // This is the same as AddComponent except the [Inject] fields will be filled in\n        // NOTE: Gameobject here is not a prefab prototype, it is an instance\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public TContract InstantiateComponent<TContract>(\n            GameObject gameObject, IEnumerable<object> extraArgs)\n            where TContract : Component\n        {\n            return (TContract)InstantiateComponent(typeof(TContract), gameObject, extraArgs);\n        }\n\n        // Add new component to existing game object and fill in its dependencies\n        // This is the same as AddComponent except the [Inject] fields will be filled in\n        // NOTE: Gameobject here is not a prefab prototype, it is an instance\n        public Component InstantiateComponent(\n            Type componentType, GameObject gameObject)\n        {\n            return InstantiateComponent(componentType, gameObject, new object[0]);\n        }\n\n        // Add new component to existing game object and fill in its dependencies\n        // This is the same as AddComponent except the [Inject] fields will be filled in\n        // NOTE: Gameobject here is not a prefab prototype, it is an instance\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public Component InstantiateComponent(\n            Type componentType, GameObject gameObject, IEnumerable<object> extraArgs)\n        {\n            return InstantiateComponentExplicit(\n                componentType, gameObject, InjectUtil.CreateArgList(extraArgs));\n        }\n\n        public T InstantiateComponentOnNewGameObject<T>()\n            where T : Component\n        {\n            return InstantiateComponentOnNewGameObject<T>(typeof(T).Name);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiateComponentOnNewGameObject<T>(IEnumerable<object> extraArgs)\n            where T : Component\n        {\n            return InstantiateComponentOnNewGameObject<T>(typeof(T).Name, extraArgs);\n        }\n\n        public T InstantiateComponentOnNewGameObject<T>(string gameObjectName)\n            where T : Component\n        {\n            return InstantiateComponentOnNewGameObject<T>(gameObjectName, new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiateComponentOnNewGameObject<T>(\n            string gameObjectName, IEnumerable<object> extraArgs)\n            where T : Component\n        {\n            return InstantiateComponent<T>(\n                CreateEmptyGameObject(gameObjectName),\n                extraArgs);\n        }\n\n        // Create a new game object from a prefab and fill in dependencies for all children\n        public GameObject InstantiatePrefab(UnityEngine.Object prefab)\n        {\n            return InstantiatePrefab(\n                prefab, GameObjectCreationParameters.Default);\n        }\n\n        // Create a new game object from a prefab and fill in dependencies for all children\n        public GameObject InstantiatePrefab(UnityEngine.Object prefab, Transform parentTransform)\n        {\n            return InstantiatePrefab(\n                prefab, new GameObjectCreationParameters { ParentTransform = parentTransform });\n        }\n\n        // Create a new game object from a prefab and fill in dependencies for all children\n        public GameObject InstantiatePrefab(\n            UnityEngine.Object prefab, Vector3 position, Quaternion rotation, Transform parentTransform)\n        {\n            return InstantiatePrefab(\n                prefab, new GameObjectCreationParameters\n                {\n                    ParentTransform = parentTransform,\n                    Position = position,\n                    Rotation = rotation\n                });\n        }\n\n        // Create a new game object from a prefab and fill in dependencies for all children\n        public GameObject InstantiatePrefab(\n            UnityEngine.Object prefab, GameObjectCreationParameters gameObjectBindInfo)\n        {\n            FlushBindings();\n\n            bool shouldMakeActive;\n            var gameObj = CreateAndParentPrefab(\n                prefab, gameObjectBindInfo, null, out shouldMakeActive);\n\n            InjectGameObject(gameObj);\n\n            if (shouldMakeActive && !IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                {\n                    gameObj.SetActive(true);\n                }\n            }\n\n            return gameObj;\n        }\n\n        // Create a new game object from a resource path and fill in dependencies for all children\n        public GameObject InstantiatePrefabResource(string resourcePath)\n        {\n            return InstantiatePrefabResource(resourcePath, GameObjectCreationParameters.Default);\n        }\n\n        // Create a new game object from a resource path and fill in dependencies for all children\n        public GameObject InstantiatePrefabResource(string resourcePath, Transform parentTransform)\n        {\n            return InstantiatePrefabResource(resourcePath, new GameObjectCreationParameters { ParentTransform = parentTransform });\n        }\n\n        public GameObject InstantiatePrefabResource(\n            string resourcePath, Vector3 position, Quaternion rotation, Transform parentTransform)\n        {\n            return InstantiatePrefabResource(\n                resourcePath, new GameObjectCreationParameters\n                {\n                    ParentTransform = parentTransform,\n                    Position = position,\n                    Rotation = rotation\n                });\n        }\n\n        // Create a new game object from a resource path and fill in dependencies for all children\n        public GameObject InstantiatePrefabResource(\n            string resourcePath, GameObjectCreationParameters creationInfo)\n        {\n            var prefab = (GameObject)Resources.Load(resourcePath);\n\n            Assert.IsNotNull(prefab,\n                \"Could not find prefab at resource location '{0}'\".Fmt(resourcePath));\n\n            return InstantiatePrefab(prefab, creationInfo);\n        }\n\n        // Same as InstantiatePrefab but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        public T InstantiatePrefabForComponent<T>(UnityEngine.Object prefab)\n        {\n            return (T)InstantiatePrefabForComponent(\n                typeof(T), prefab, null, new object[0]);\n        }\n\n        // Same as InstantiatePrefab but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, IEnumerable<object> extraArgs)\n        {\n            return (T)InstantiatePrefabForComponent(\n                typeof(T), prefab, null, extraArgs);\n        }\n\n        public T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Transform parentTransform)\n        {\n            return (T)InstantiatePrefabForComponent(\n                typeof(T), prefab, parentTransform, new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Transform parentTransform, IEnumerable<object> extraArgs)\n        {\n            return (T)InstantiatePrefabForComponent(\n                typeof(T), prefab, parentTransform, extraArgs);\n        }\n\n        public T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Vector3 position, Quaternion rotation, Transform parentTransform)\n        {\n            return (T)InstantiatePrefabForComponent(\n                typeof(T), prefab, new object[0], new GameObjectCreationParameters\n                {\n                    ParentTransform = parentTransform,\n                    Position = position,\n                    Rotation = rotation\n                });\n        }\n\n        public T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Vector3 position, Quaternion rotation, Transform parentTransform, IEnumerable<object> extraArgs)\n        {\n            return (T)InstantiatePrefabForComponent(\n                typeof(T), prefab, extraArgs, new GameObjectCreationParameters\n                {\n                    ParentTransform = parentTransform,\n                    Position = position,\n                    Rotation = rotation\n                });\n        }\n\n        // Same as InstantiatePrefab but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public object InstantiatePrefabForComponent(\n            Type concreteType, UnityEngine.Object prefab,\n            Transform parentTransform, IEnumerable<object> extraArgs)\n        {\n            return InstantiatePrefabForComponent(\n                concreteType, prefab, extraArgs,\n                new GameObjectCreationParameters { ParentTransform = parentTransform });\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public object InstantiatePrefabForComponent(\n            Type concreteType, UnityEngine.Object prefab,\n            IEnumerable<object> extraArgs, GameObjectCreationParameters creationInfo)\n        {\n            return InstantiatePrefabForComponentExplicit(\n                concreteType, prefab,\n                InjectUtil.CreateArgList(extraArgs), creationInfo);\n        }\n\n        // Same as InstantiatePrefabResource but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        public T InstantiatePrefabResourceForComponent<T>(string resourcePath)\n        {\n            return (T)InstantiatePrefabResourceForComponent(\n                typeof(T), resourcePath, null, new object[0]);\n        }\n\n        // Same as InstantiatePrefabResource but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, IEnumerable<object> extraArgs)\n        {\n            return (T)InstantiatePrefabResourceForComponent(\n                typeof(T), resourcePath, null, extraArgs);\n        }\n\n        public T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Transform parentTransform)\n        {\n            return (T)InstantiatePrefabResourceForComponent(\n                typeof(T), resourcePath, parentTransform, new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Transform parentTransform, IEnumerable<object> extraArgs)\n        {\n            return (T)InstantiatePrefabResourceForComponent(\n                typeof(T), resourcePath, parentTransform, extraArgs);\n        }\n\n        public T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Vector3 position, Quaternion rotation, Transform parentTransform)\n        {\n            return InstantiatePrefabResourceForComponent<T>(resourcePath, position, rotation, parentTransform, new object[0]);\n        }\n\n        public T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Vector3 position, Quaternion rotation, Transform parentTransform, IEnumerable<object> extraArgs)\n        {\n            var argsList = InjectUtil.CreateArgList(extraArgs);\n            var creationParameters = new GameObjectCreationParameters\n            {\n                ParentTransform = parentTransform,\n                Position = position,\n                Rotation = rotation\n            };\n            return (T)InstantiatePrefabResourceForComponentExplicit(\n                typeof(T), resourcePath, argsList, creationParameters);\n        }\n\n        // Same as InstantiatePrefabResource but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public object InstantiatePrefabResourceForComponent(\n            Type concreteType, string resourcePath, Transform parentTransform,\n            IEnumerable<object> extraArgs)\n        {\n            Assert.That(!extraArgs.ContainsItem(null),\n                \"Null value given to factory constructor arguments when instantiating object with type '{0}'. In order to use null use InstantiatePrefabForComponentExplicit\", concreteType);\n\n            return InstantiatePrefabResourceForComponentExplicit(\n                concreteType, resourcePath,\n                InjectUtil.CreateArgList(extraArgs),\n                new GameObjectCreationParameters { ParentTransform = parentTransform });\n        }\n\n        public T InstantiateScriptableObjectResource<T>(string resourcePath)\n            where T : ScriptableObject\n        {\n            return InstantiateScriptableObjectResource<T>(resourcePath, new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InstantiateScriptableObjectResource<T>(\n            string resourcePath, IEnumerable<object> extraArgs)\n            where T : ScriptableObject\n        {\n            return (T)InstantiateScriptableObjectResource(\n                typeof(T), resourcePath, extraArgs);\n        }\n\n        public object InstantiateScriptableObjectResource(\n            Type scriptableObjectType, string resourcePath)\n        {\n            return InstantiateScriptableObjectResource(\n                scriptableObjectType, resourcePath, new object[0]);\n        }\n\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public object InstantiateScriptableObjectResource(\n            Type scriptableObjectType, string resourcePath, IEnumerable<object> extraArgs)\n        {\n            Assert.DerivesFromOrEqual<ScriptableObject>(scriptableObjectType);\n            return InstantiateScriptableObjectResourceExplicit(\n                scriptableObjectType, resourcePath, InjectUtil.CreateArgList(extraArgs));\n        }\n\n        // Inject dependencies into any and all child components on the given game object\n        public void InjectGameObject(GameObject gameObject)\n        {\n            FlushBindings();\n\n            ZenUtilInternal.AddStateMachineBehaviourAutoInjectersUnderGameObject(gameObject);\n\n            var monoBehaviours = ZenPools.SpawnList<MonoBehaviour>();\n            try\n            {\n                ZenUtilInternal.GetInjectableMonoBehavioursUnderGameObject(gameObject, monoBehaviours);\n\n                for (int i = 0; i < monoBehaviours.Count; i++)\n                {\n                    Inject(monoBehaviours[i]);\n                }\n            }\n            finally\n            {\n                ZenPools.DespawnList(monoBehaviours);\n            }\n        }\n\n        // Same as InjectGameObject except it will also search the game object for the\n        // given component, and also optionally allow passing extra inject arguments into the\n        // given component\n        public T InjectGameObjectForComponent<T>(GameObject gameObject)\n            where T : Component\n        {\n            return InjectGameObjectForComponent<T>(gameObject, new object[0]);\n        }\n\n        // Same as InjectGameObject except it will also search the game object for the\n        // given component, and also optionally allow passing extra inject arguments into the\n        // given component\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public T InjectGameObjectForComponent<T>(\n            GameObject gameObject, IEnumerable<object> extraArgs)\n            where T : Component\n        {\n            return (T)InjectGameObjectForComponent(gameObject, typeof(T), extraArgs);\n        }\n\n        // Same as InjectGameObject except it will also search the game object for the\n        // given component, and also optionally allow passing extra inject arguments into the\n        // given component\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public object InjectGameObjectForComponent(\n            GameObject gameObject, Type componentType, IEnumerable<object> extraArgs)\n        {\n            return InjectGameObjectForComponentExplicit(\n                gameObject, componentType, InjectUtil.CreateArgList(extraArgs), new InjectContext(this, componentType, null), null);\n        }\n\n        // Same as InjectGameObjectForComponent except allows null values\n        // to be included in the argument list.  Also see InjectUtil.CreateArgList\n        public Component InjectGameObjectForComponentExplicit(\n            GameObject gameObject, Type componentType, List<TypeValuePair> extraArgs, InjectContext context, object concreteIdentifier)\n        {\n            if (!componentType.DerivesFrom<MonoBehaviour>() && extraArgs.Count > 0)\n            {\n                throw Assert.CreateException(\n                    \"Cannot inject into non-monobehaviours!  Argument list must be zero length\");\n            }\n\n            ZenUtilInternal.AddStateMachineBehaviourAutoInjectersUnderGameObject(gameObject);\n\n            var injectableMonoBehaviours = ZenPools.SpawnList<MonoBehaviour>();\n            try\n            {\n\n                ZenUtilInternal.GetInjectableMonoBehavioursUnderGameObject(gameObject, injectableMonoBehaviours);\n\n                for (int i = 0; i < injectableMonoBehaviours.Count; i++)\n                {\n                    var monoBehaviour = injectableMonoBehaviours[i];\n                    if (monoBehaviour.GetType().DerivesFromOrEqual(componentType))\n                    {\n                        InjectExplicit(monoBehaviour, monoBehaviour.GetType(), extraArgs, context, concreteIdentifier);\n                    }\n                    else\n                    {\n                        Inject(monoBehaviour);\n                    }\n                }\n            }\n            finally\n            {\n                ZenPools.DespawnList(injectableMonoBehaviours);\n            }\n\n            var matches = gameObject.GetComponentsInChildren(componentType, true);\n\n            Assert.That(matches.Length > 0,\n                \"Expected to find component with type '{0}' when injecting into game object '{1}'\", componentType, gameObject.name);\n\n            Assert.That(matches.Length == 1,\n                \"Found multiple component with type '{0}' when injecting into game object '{1}'\", componentType, gameObject.name);\n\n            return matches[0];\n        }\n#endif\n\n        // When you call any of these Inject methods\n        //    Any fields marked [Inject] will be set using the bindings on the container\n        //    Any methods marked with a [Inject] will be called\n        //    Any constructor parameters will be filled in with values from the container\n        public void Inject(object injectable)\n        {\n            Inject(injectable, new object[0]);\n        }\n\n        // Same as Inject(injectable) except allows adding extra values to be injected\n        // Note: For IL2CPP platforms make sure to use new object[] instead of new [] when creating\n        // the argument list to avoid errors converting to IEnumerable<object>\n        public void Inject(object injectable, IEnumerable<object> extraArgs)\n        {\n            InjectExplicit(\n                injectable, InjectUtil.CreateArgList(extraArgs));\n        }\n\n        // Resolve<> - Lookup a value in the container.\n        //\n        // Note that this may result in a new object being created (for transient bindings) or it\n        // may return an already created object (for FromInstance or ToSingle, etc. bindings)\n        //\n        // If a single unique value for the given type cannot be found, an exception is thrown.\n        //\n        public TContract Resolve<TContract>()\n        {\n            return (TContract)Resolve(typeof(TContract));\n        }\n\n        public object Resolve(Type contractType)\n        {\n            return ResolveId(contractType, null);\n        }\n\n        public TContract ResolveId<TContract>(object identifier)\n        {\n            return (TContract)ResolveId(typeof(TContract), identifier);\n        }\n\n        public object ResolveId(Type contractType, object identifier)\n        {\n            using (var context = ZenPools.SpawnInjectContext(this, contractType))\n            {\n                context.Identifier = identifier;\n                return Resolve(context);\n            }\n        }\n\n        // Same as Resolve<> except it will return null if a value for the given type cannot\n        // be found.\n        public TContract TryResolve<TContract>()\n            where TContract : class\n        {\n            return (TContract)TryResolve(typeof(TContract));\n        }\n\n        public object TryResolve(Type contractType)\n        {\n            return TryResolveId(contractType, null);\n        }\n\n        public TContract TryResolveId<TContract>(object identifier)\n            where TContract : class\n        {\n            return (TContract)TryResolveId(\n                typeof(TContract), identifier);\n        }\n\n        public object TryResolveId(Type contractType, object identifier)\n        {\n            using (var context = ZenPools.SpawnInjectContext(this, contractType))\n            {\n                context.Identifier = identifier;\n                context.Optional = true;\n                return Resolve(context);\n            }\n        }\n\n        // Same as Resolve<> except it will return all bindings that are associated with the given type\n        public List<TContract> ResolveAll<TContract>()\n        {\n            return (List<TContract>)ResolveAll(typeof(TContract));\n        }\n\n        public IList ResolveAll(Type contractType)\n        {\n            return ResolveIdAll(contractType, null);\n        }\n\n        public List<TContract> ResolveIdAll<TContract>(object identifier)\n        {\n            return (List<TContract>)ResolveIdAll(typeof(TContract), identifier);\n        }\n\n        public IList ResolveIdAll(Type contractType, object identifier)\n        {\n            using (var context = ZenPools.SpawnInjectContext(this, contractType))\n            {\n                context.Identifier = identifier;\n                context.Optional = true;\n                return ResolveAll(context);\n            }\n        }\n\n        // Removes all bindings\n        public void UnbindAll()\n        {\n            FlushBindings();\n            _providers.Clear();\n        }\n\n        // Remove all bindings bound to the given contract type\n        public bool Unbind<TContract>()\n        {\n            return Unbind(typeof(TContract));\n        }\n\n        public bool Unbind(Type contractType)\n        {\n            return UnbindId(contractType, null);\n        }\n\n        public bool UnbindId<TContract>(object identifier)\n        {\n            return UnbindId(typeof(TContract), identifier);\n        }\n\n        public bool UnbindId(Type contractType, object identifier)\n        {\n            FlushBindings();\n\n            var bindingId = new BindingId(contractType, identifier);\n\n            return _providers.Remove(bindingId);\n        }\n\n        public void UnbindInterfacesTo<TConcrete>()\n        {\n            UnbindInterfacesTo(typeof(TConcrete));\n        }\n\n        public void UnbindInterfacesTo(Type concreteType)\n        {\n            foreach (var i in concreteType.Interfaces())\n            {\n                Unbind(i, concreteType);\n            }\n        }\n\n        public bool Unbind<TContract, TConcrete>()\n        {\n            return Unbind(typeof(TContract), typeof(TConcrete));\n        }\n\n        public bool Unbind(Type contractType, Type concreteType)\n        {\n            return UnbindId(contractType, concreteType, null);\n        }\n\n        public bool UnbindId<TContract, TConcrete>(object identifier)\n        {\n            return UnbindId(typeof(TContract), typeof(TConcrete), identifier);\n        }\n\n        public bool UnbindId(Type contractType, Type concreteType, object identifier)\n        {\n            FlushBindings();\n\n            var bindingId = new BindingId(contractType, identifier);\n\n            List<ProviderInfo> providers;\n\n            if (!_providers.TryGetValue(bindingId, out providers))\n            {\n                return false;\n            }\n\n            var matches = providers.Where(x => x.Provider.GetInstanceType(new InjectContext(this, contractType, identifier)).DerivesFromOrEqual(concreteType)).ToList();\n\n            if (matches.Count == 0)\n            {\n                return false;\n            }\n\n            foreach (var info in matches)\n            {\n                bool success = providers.Remove(info);\n                Assert.That(success);\n            }\n\n            return true;\n        }\n\n        // Returns true if the given type is bound to something in the container\n        public bool HasBinding<TContract>()\n        {\n            return HasBinding(typeof(TContract));\n        }\n\n        public bool HasBinding(Type contractType)\n        {\n            return HasBindingId(contractType, null);\n        }\n\n        public bool HasBindingId<TContract>(object identifier)\n        {\n            return HasBindingId(typeof(TContract), identifier);\n        }\n\n        public bool HasBindingId(Type contractType, object identifier)\n        {\n            return HasBindingId(contractType, identifier, InjectSources.Any);\n        }\n\n        public bool HasBindingId(Type contractType, object identifier, InjectSources sourceType)\n        {\n            using (var ctx = ZenPools.SpawnInjectContext(this, contractType))\n            {\n                ctx.Identifier = identifier;\n                ctx.SourceType = sourceType;\n                return HasBinding(ctx);\n            }\n        }\n\n        // You shouldn't need to use this\n        public bool HasBinding(InjectContext context)\n        {\n            Assert.IsNotNull(context);\n\n            FlushBindings();\n\n            var matches = ZenPools.SpawnList<ProviderInfo>();\n\n            try\n            {\n                GetProviderMatches(context, matches);\n                return matches.Count > 0;\n            }\n            finally\n            {\n                ZenPools.DespawnList(matches);\n            }\n        }\n\n        // You shouldn't need to use this\n        public void FlushBindings()\n        {\n            while (_currentBindings.Count > 0)\n            {\n                var binding = _currentBindings.Dequeue();\n\n                if (binding.BindingInheritanceMethod != BindingInheritanceMethods.MoveDirectOnly\n                    && binding.BindingInheritanceMethod != BindingInheritanceMethods.MoveIntoAll)\n                {\n                    FinalizeBinding(binding);\n                }\n\n                if (binding.BindingInheritanceMethod != BindingInheritanceMethods.None)\n                {\n                    _childBindings.Add(binding);\n                }\n                else\n                {\n                    binding.Dispose();\n                }\n            }\n        }\n\n        void FinalizeBinding(BindStatement binding)\n        {\n            _isFinalizingBinding = true;\n\n            try\n            {\n                binding.FinalizeBinding(this);\n            }\n            finally\n            {\n                _isFinalizingBinding = false;\n            }\n        }\n\n        // Don't use this method\n        public BindStatement StartBinding(bool flush = true)\n        {\n            Assert.That(!_isFinalizingBinding,\n                \"Attempted to start a binding during a binding finalizer.  This is not allowed, since binding finalizers should directly use AddProvider instead, to allow for bindings to be inherited properly without duplicates\");\n\n            if (flush)\n            {\n                FlushBindings();\n            }\n\n            var bindStatement = ZenPools.SpawnStatement();\n            _currentBindings.Enqueue(bindStatement);\n            return bindStatement;\n        }\n\n        public ConcreteBinderGeneric<TContract> Rebind<TContract>()\n        {\n            return RebindId<TContract>(null);\n        }\n\n        public ConcreteBinderGeneric<TContract> RebindId<TContract>(object identifier)\n        {\n            UnbindId<TContract>(identifier);\n            return Bind<TContract>().WithId(identifier);\n        }\n\n        public ConcreteBinderNonGeneric Rebind(Type contractType)\n        {\n            return RebindId(contractType, null);\n        }\n\n        public ConcreteBinderNonGeneric RebindId(Type contractType, object identifier)\n        {\n            UnbindId(contractType, identifier);\n            return Bind(contractType).WithId(identifier);\n        }\n\n        // Map the given type to a way of obtaining it\n        // Note that this can include open generic types as well such as List<>\n        public ConcreteIdBinderGeneric<TContract> Bind<TContract>()\n        {\n            return Bind<TContract>(StartBinding());\n        }\n\n        // This is only useful for complex cases where you want to add multiple bindings\n        // at the same time and can be ignored by 99% of users\n        public ConcreteIdBinderGeneric<TContract> BindNoFlush<TContract>()\n        {\n            return Bind<TContract>(StartBinding(false));\n        }\n\n        ConcreteIdBinderGeneric<TContract> Bind<TContract>(\n            BindStatement bindStatement)\n        {\n            var bindInfo = bindStatement.SpawnBindInfo();\n\n            Assert.That(!typeof(TContract).DerivesFrom<IPlaceholderFactory>(),\n                \"You should not use Container.Bind for factory classes.  Use Container.BindFactory instead.\");\n\n            Assert.That(!bindInfo.ContractTypes.Contains(typeof(TContract)));\n            bindInfo.ContractTypes.Add(typeof(TContract));\n\n            return new ConcreteIdBinderGeneric<TContract>(\n                this, bindInfo, bindStatement);\n        }\n\n        // Non-generic version of Bind<> for cases where you only have the runtime type\n        // Note that this can include open generic types as well such as List<>\n        public ConcreteIdBinderNonGeneric Bind(params Type[] contractTypes)\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n            bindInfo.ContractTypes.AllocFreeAddRange(contractTypes);\n            return BindInternal(bindInfo, statement);\n        }\n\n        public ConcreteIdBinderNonGeneric Bind(IEnumerable<Type> contractTypes)\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n            bindInfo.ContractTypes.AddRange(contractTypes);\n            return BindInternal(bindInfo, statement);\n        }\n\n        ConcreteIdBinderNonGeneric BindInternal(\n            BindInfo bindInfo, BindStatement bindingFinalizer)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"DiContainer.Bind\"))\n#endif\n            {\n                Assert.That(bindInfo.ContractTypes.All(x => !x.DerivesFrom<IPlaceholderFactory>()),\n                    \"You should not use Container.Bind for factory classes.  Use Container.BindFactory instead.\");\n\n                return new ConcreteIdBinderNonGeneric(this, bindInfo, bindingFinalizer);\n            }\n        }\n\n#if !(UNITY_WSA && ENABLE_DOTNET)\n        public ConcreteIdBinderNonGeneric Bind(\n            Action<ConventionSelectTypesBinder> generator)\n        {\n            var conventionBindInfo = new ConventionBindInfo();\n            generator(new ConventionSelectTypesBinder(conventionBindInfo));\n\n            var contractTypesList = conventionBindInfo.ResolveTypes();\n\n            Assert.That(contractTypesList.All(x => !x.DerivesFrom<IPlaceholderFactory>()),\n                \"You should not use Container.Bind for factory classes.  Use Container.BindFactory instead.\");\n\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n            bindInfo.ContractTypes.AllocFreeAddRange(contractTypesList);\n\n            // This is nice because it allows us to do things like Bind(all interfaces).To<Foo>()\n            // (though of course it would be more efficient to use BindInterfacesTo in this case)\n            bindInfo.InvalidBindResponse = InvalidBindResponses.Skip;\n\n            return new ConcreteIdBinderNonGeneric(this, bindInfo, statement);\n        }\n#endif\n\n        // Bind all the interfaces for the given type to the same thing.\n        //\n        // Example:\n        //\n        //    public class Foo : ITickable, IInitializable\n        //    {\n        //    }\n        //\n        //    Container.BindInterfacesTo<Foo>().AsSingle();\n        //\n        //  This line above is equivalent to the following:\n        //\n        //    Container.Bind<ITickable>().ToSingle<Foo>();\n        //    Container.Bind<IInitializable>().ToSingle<Foo>();\n        //\n        // Note here that we do not bind Foo to itself.  For that, use BindInterfacesAndSelfTo\n        public FromBinderNonGeneric BindInterfacesTo<T>()\n        {\n            return BindInterfacesTo(typeof(T));\n        }\n\n        public FromBinderNonGeneric BindInterfacesTo(Type type)\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            var interfaces = type.Interfaces();\n\n            if (interfaces.Length == 0)\n            {\n                Log.Warn(\"Called BindInterfacesTo for type {0} but no interfaces were found\", type);\n            }\n\n            bindInfo.ContractTypes.AllocFreeAddRange(interfaces);\n            bindInfo.SetContextInfo(\"BindInterfacesTo({0})\".Fmt(type));\n\n            // Almost always, you don't want to use the default AsTransient so make them type it\n            bindInfo.RequireExplicitScope = true;\n            return BindInternal(bindInfo, statement).To(type);\n        }\n\n        // Same as BindInterfaces except also binds to self\n        public FromBinderNonGeneric BindInterfacesAndSelfTo<T>()\n        {\n            return BindInterfacesAndSelfTo(typeof(T));\n        }\n\n        public FromBinderNonGeneric BindInterfacesAndSelfTo(Type type)\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.AllocFreeAddRange(type.Interfaces());\n            bindInfo.ContractTypes.Add(type);\n\n            bindInfo.SetContextInfo(\"BindInterfacesAndSelfTo({0})\".Fmt(type));\n\n            // Almost always, you don't want to use the default AsTransient so make them type it\n            bindInfo.RequireExplicitScope = true;\n            return BindInternal(bindInfo, statement).To(type);\n        }\n\n        //  This is simply a shortcut to using the FromInstance method.\n        //\n        //  Example:\n        //      Container.BindInstance(new Foo());\n        //\n        //  This line above is equivalent to the following:\n        //\n        //      Container.Bind<Foo>().FromInstance(new Foo());\n        //\n        public IdScopeConcreteIdArgConditionCopyNonLazyBinder BindInstance<TContract>(TContract instance)\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n            bindInfo.ContractTypes.Add(typeof(TContract));\n\n            statement.SetFinalizer(\n                new ScopableBindingFinalizer(\n                    bindInfo,\n                    (container, type) => new InstanceProvider(type, instance, container, bindInfo.InstantiatedCallback)));\n\n            return new IdScopeConcreteIdArgConditionCopyNonLazyBinder(bindInfo);\n        }\n\n        // Unfortunately we can't support setting scope / condition / etc. here since all the\n        // bindings are finalized one at a time\n        public void BindInstances(params object[] instances)\n        {\n            for (int i = 0; i < instances.Length; i++)\n            {\n                var instance = instances[i];\n\n                Assert.That(!ZenUtilInternal.IsNull(instance),\n                    \"Found null instance provided to BindInstances method\");\n\n                Bind(instance.GetType()).FromInstance(instance);\n            }\n        }\n\n        FactoryToChoiceIdBinder<TContract> BindFactoryInternal<TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TContract> BindIFactory<TContract>()\n        {\n            return BindFactoryInternal<TContract, IFactory<TContract>, PlaceholderFactory<TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TContract> BindFactory<TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TContract>\n        {\n            return BindFactoryInternal<TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TContract> BindFactoryCustomInterface<TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        public MemoryPoolIdInitialSizeMaxSizeBinder<TItemContract> BindMemoryPool<TItemContract>()\n        {\n            return BindMemoryPool<TItemContract, MemoryPool<TItemContract>>();\n        }\n\n        public MemoryPoolIdInitialSizeMaxSizeBinder<TItemContract> BindMemoryPool<TItemContract, TPool>()\n            where TPool : IMemoryPool\n        {\n            return BindMemoryPoolCustomInterface<TItemContract, TPool, TPool>();\n        }\n\n        public MemoryPoolIdInitialSizeMaxSizeBinder<TItemContract> BindMemoryPoolCustomInterface<TItemContract, TPoolConcrete, TPoolContract>(bool includeConcreteType = false)\n            where TPoolConcrete : TPoolContract, IMemoryPool\n            where TPoolContract : IMemoryPool\n        {\n            return BindMemoryPoolCustomInterfaceInternal<TItemContract, TPoolConcrete, TPoolContract>(includeConcreteType, StartBinding());\n        }\n\n        internal MemoryPoolIdInitialSizeMaxSizeBinder<TItemContract> BindMemoryPoolCustomInterfaceNoFlush<TItemContract, TPoolConcrete, TPoolContract>(bool includeConcreteType = false)\n            where TPoolConcrete : TPoolContract, IMemoryPool\n            where TPoolContract : IMemoryPool\n        {\n            return BindMemoryPoolCustomInterfaceInternal<TItemContract, TPoolConcrete, TPoolContract>(includeConcreteType, StartBinding(false));\n        }\n\n        MemoryPoolIdInitialSizeMaxSizeBinder<TItemContract> BindMemoryPoolCustomInterfaceInternal<TItemContract, TPoolConcrete, TPoolContract>(\n            bool includeConcreteType, BindStatement statement)\n            where TPoolConcrete : TPoolContract, IMemoryPool\n            where TPoolContract : IMemoryPool\n        {\n            var contractTypes = new List<Type> { typeof(IDisposable), typeof(TPoolContract) };\n\n            if (includeConcreteType)\n            {\n                contractTypes.Add(typeof(TPoolConcrete));\n            }\n\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.AllocFreeAddRange(contractTypes);\n\n            // This interface is used in the optional class PoolCleanupChecker\n            // And also allow people to manually call DespawnAll() for all IMemoryPool\n            // if they want\n            bindInfo.ContractTypes.Add(typeof(IMemoryPool));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TPoolConcrete));\n            var poolBindInfo = new MemoryPoolBindInfo();\n\n            statement.SetFinalizer(\n                new MemoryPoolBindingFinalizer<TItemContract>(\n                    bindInfo, factoryBindInfo, poolBindInfo));\n\n            return new MemoryPoolIdInitialSizeMaxSizeBinder<TItemContract>(\n                this, bindInfo, factoryBindInfo, poolBindInfo);\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TContract> BindFactoryInternal<TParam1, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TContract> BindIFactory<TParam1, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TContract, IFactory<TParam1, TContract>, PlaceholderFactory<TParam1, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TContract> BindFactory<TParam1, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TContract> BindFactoryCustomInterface<TParam1, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TParam2, TContract> BindFactoryInternal<TParam1, TParam2, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TParam2, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TContract> BindIFactory<TParam1, TParam2, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TContract, IFactory<TParam1, TParam2, TContract>, PlaceholderFactory<TParam1, TParam2, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TContract> BindFactory<TParam1, TParam2, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TParam2, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TContract> BindFactoryCustomInterface<TParam1, TParam2, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TParam2, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TParam2, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TContract> BindFactoryInternal<TParam1, TParam2, TParam3, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TContract> BindIFactory<TParam1, TParam2, TParam3, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TContract, IFactory<TParam1, TParam2, TParam3, TContract>, PlaceholderFactory<TParam1, TParam2, TParam3, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TContract> BindFactory<TParam1, TParam2, TParam3, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TParam2, TParam3, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TContract> BindFactoryCustomInterface<TParam1, TParam2, TParam3, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TParam2, TParam3, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TParam2, TParam3, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TContract> BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TContract> BindIFactory<TParam1, TParam2, TParam3, TParam4, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TContract, IFactory<TParam1, TParam2, TParam3, TParam4, TContract>, PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TContract> BindFactory<TParam1, TParam2, TParam3, TParam4, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TContract> BindFactoryCustomInterface<TParam1, TParam2, TParam3, TParam4, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> BindIFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TParam5, TContract, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>, PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> BindFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> BindFactoryCustomInterface<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> BindIFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>, PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> BindFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> BindFactoryCustomInterface<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract, TFactoryContract, TFactoryConcrete>()\n            where TFactoryConcrete : TFactoryContract, IFactory\n            where TFactoryContract : IFactory\n        {\n            var statement = StartBinding();\n            var bindInfo = statement.SpawnBindInfo();\n\n            bindInfo.ContractTypes.Add(typeof(TFactoryContract));\n\n            var factoryBindInfo = new FactoryBindInfo(typeof(TFactoryConcrete));\n\n            statement.SetFinalizer(\n                new PlaceholderFactoryBindingFinalizer<TContract>(\n                    bindInfo, factoryBindInfo));\n\n            return new FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>(\n                this, bindInfo, factoryBindInfo);\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> BindIFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>()\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>, PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> BindFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract, TFactory>()\n            where TFactory : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n        {\n            return BindFactoryInternal<\n                TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract, TFactory, TFactory>();\n        }\n\n        public FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> BindFactoryCustomInterface<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract, TFactoryConcrete, TFactoryContract>()\n            where TFactoryConcrete : PlaceholderFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>, TFactoryContract\n            where TFactoryContract : IFactory\n        {\n            return BindFactoryInternal<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract, TFactoryContract, TFactoryConcrete>();\n        }\n\n        public T InstantiateExplicit<T>(List<TypeValuePair> extraArgs)\n        {\n            return (T)InstantiateExplicit(typeof(T), extraArgs);\n        }\n\n        public object InstantiateExplicit(Type concreteType, List<TypeValuePair> extraArgs)\n        {\n            bool autoInject = true;\n\n            return InstantiateExplicit(\n                concreteType,\n                autoInject,\n                extraArgs,\n                new InjectContext(this, concreteType, null),\n                null);\n        }\n\n        public object InstantiateExplicit(Type concreteType, bool autoInject, List<TypeValuePair> extraArgs, InjectContext context, object concreteIdentifier)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"DiContainer.Instantiate\"))\n#endif\n            {\n                if (IsValidating)\n                {\n                    if (_settings.ValidationErrorResponse == ValidationErrorResponses.Throw)\n                    {\n                        return InstantiateInternal(concreteType, autoInject, extraArgs, context, concreteIdentifier);\n                    }\n\n                    // In this case, just log it and continue to print out multiple validation errors\n                    // at once\n                    try\n                    {\n                        return InstantiateInternal(concreteType, autoInject, extraArgs, context, concreteIdentifier);\n                    }\n                    catch (Exception e)\n                    {\n                        Log.ErrorException(e);\n                        return new ValidationMarker(concreteType, true);\n                    }\n                }\n\n                return InstantiateInternal(concreteType, autoInject, extraArgs, context, concreteIdentifier);\n            }\n        }\n\n#if !NOT_UNITY3D\n        public Component InstantiateComponentExplicit(\n            Type componentType, GameObject gameObject, List<TypeValuePair> extraArgs)\n        {\n            Assert.That(componentType.DerivesFrom<Component>());\n\n            FlushBindings();\n\n            var monoBehaviour = gameObject.AddComponent(componentType);\n            InjectExplicit(monoBehaviour, extraArgs);\n            return monoBehaviour;\n        }\n\n        public object InstantiateScriptableObjectResourceExplicit(\n            Type scriptableObjectType, string resourcePath, List<TypeValuePair> extraArgs)\n        {\n            var objects = Resources.LoadAll(resourcePath, scriptableObjectType);\n\n            Assert.That(objects.Length > 0,\n                \"Could not find resource at path '{0}' with type '{1}'\", resourcePath, scriptableObjectType);\n\n            Assert.That(objects.Length == 1,\n                \"Found multiple scriptable objects at path '{0}' when only 1 was expected with type '{1}'\", resourcePath, scriptableObjectType);\n\n            var newObj = ScriptableObject.Instantiate(objects.Single());\n\n            InjectExplicit(newObj, extraArgs);\n\n            return newObj;\n        }\n\n        // Same as InstantiatePrefabResourceForComponent except allows null values\n        // to be included in the argument list.  Also see InjectUtil.CreateArgList\n        public object InstantiatePrefabResourceForComponentExplicit(\n            Type componentType, string resourcePath, List<TypeValuePair> extraArgs,\n            GameObjectCreationParameters creationInfo)\n        {\n            return InstantiatePrefabResourceForComponentExplicit(\n                componentType, resourcePath, extraArgs, new InjectContext(this, componentType, null), null, creationInfo);\n        }\n\n        public object InstantiatePrefabResourceForComponentExplicit(\n            Type componentType, string resourcePath, List<TypeValuePair> extraArgs, InjectContext context, object concreteIdentifier,\n            GameObjectCreationParameters creationInfo)\n        {\n            var prefab = (GameObject)Resources.Load(resourcePath);\n            Assert.IsNotNull(prefab,\n                \"Could not find prefab at resource location '{0}'\".Fmt(resourcePath));\n            return InstantiatePrefabForComponentExplicit(\n                componentType, prefab, extraArgs, context, concreteIdentifier, creationInfo);\n        }\n\n        public object InstantiatePrefabForComponentExplicit(\n            Type componentType, UnityEngine.Object prefab,\n            List<TypeValuePair> extraArgs)\n        {\n            return InstantiatePrefabForComponentExplicit(\n                componentType, prefab, extraArgs, GameObjectCreationParameters.Default);\n        }\n\n        public object InstantiatePrefabForComponentExplicit(\n            Type componentType, UnityEngine.Object prefab,\n            List<TypeValuePair> extraArgs, GameObjectCreationParameters gameObjectBindInfo)\n        {\n            return InstantiatePrefabForComponentExplicit(\n                componentType, prefab, extraArgs, new InjectContext(this, componentType, null), null, gameObjectBindInfo);\n        }\n\n        // Same as InstantiatePrefabForComponent except allows null values\n        // to be included in the argument list.  Also see InjectUtil.CreateArgList\n        public object InstantiatePrefabForComponentExplicit(\n            Type componentType, UnityEngine.Object prefab,\n            List<TypeValuePair> extraArgs, InjectContext context, object concreteIdentifier, GameObjectCreationParameters gameObjectBindInfo)\n        {\n            Assert.That(!AssertOnNewGameObjects,\n                \"Given DiContainer does not support creating new game objects\");\n\n            FlushBindings();\n\n            Assert.That(componentType.IsInterface() || componentType.DerivesFrom<Component>(),\n                \"Expected type '{0}' to derive from UnityEngine.Component\", componentType);\n\n            bool shouldMakeActive;\n            var gameObj = CreateAndParentPrefab(prefab, gameObjectBindInfo, context, out shouldMakeActive);\n\n            var component = InjectGameObjectForComponentExplicit(\n                gameObj, componentType, extraArgs, context, concreteIdentifier);\n\n            if (shouldMakeActive && !IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                {\n                    gameObj.SetActive(true);\n                }\n            }\n\n            return component;\n        }\n#endif\n\n        ////////////// Execution order ////////////////\n\n        public void BindExecutionOrder<T>(int order)\n        {\n            BindExecutionOrder(typeof(T), order);\n        }\n\n        public void BindExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<ITickable>() || type.DerivesFrom<IInitializable>() || type.DerivesFrom<IDisposable>() || type.DerivesFrom<ILateDisposable>() || type.DerivesFrom<IFixedTickable>() || type.DerivesFrom<ILateTickable>() || type.DerivesFrom<IPoolable>(),\n                \"Expected type '{0}' to derive from one or more of the following interfaces: ITickable, IInitializable, ILateTickable, IFixedTickable, IDisposable, ILateDisposable\", type);\n\n            if (type.DerivesFrom<ITickable>())\n            {\n                BindTickableExecutionOrder(type, order);\n            }\n\n            if (type.DerivesFrom<IInitializable>())\n            {\n                BindInitializableExecutionOrder(type, order);\n            }\n\n            if (type.DerivesFrom<IDisposable>())\n            {\n                BindDisposableExecutionOrder(type, order);\n            }\n\n            if (type.DerivesFrom<ILateDisposable>())\n            {\n                BindLateDisposableExecutionOrder(type, order);\n            }\n\n            if (type.DerivesFrom<IFixedTickable>())\n            {\n                BindFixedTickableExecutionOrder(type, order);\n            }\n\n            if (type.DerivesFrom<ILateTickable>())\n            {\n                BindLateTickableExecutionOrder(type, order);\n            }\n\n            if (type.DerivesFrom<IPoolable>())\n            {\n                BindPoolableExecutionOrder(type, order);\n            }\n        }\n\n        public CopyNonLazyBinder BindTickableExecutionOrder<T>(int order)\n            where T : ITickable\n        {\n            return BindTickableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindTickableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<ITickable>(),\n                \"Expected type '{0}' to derive from ITickable\", type);\n\n            return BindInstance(\n                ValuePair.New(type, order)).WhenInjectedInto<TickableManager>();\n        }\n\n        public CopyNonLazyBinder BindInitializableExecutionOrder<T>(int order)\n            where T : IInitializable\n        {\n            return BindInitializableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindInitializableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<IInitializable>(),\n                \"Expected type '{0}' to derive from IInitializable\", type);\n\n            return BindInstance(\n                ValuePair.New(type, order)).WhenInjectedInto<InitializableManager>();\n        }\n\n        public CopyNonLazyBinder BindDisposableExecutionOrder<T>(int order)\n            where T : IDisposable\n        {\n            return BindDisposableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindLateDisposableExecutionOrder<T>(int order)\n            where T : ILateDisposable\n        {\n            return BindLateDisposableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindDisposableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<IDisposable>(),\n                \"Expected type '{0}' to derive from IDisposable\", type);\n\n            return BindInstance(\n                ValuePair.New(type, order)).WhenInjectedInto<DisposableManager>();\n        }\n\n        public CopyNonLazyBinder BindLateDisposableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<ILateDisposable>(),\n            \"Expected type '{0}' to derive from ILateDisposable\", type);\n\n            return BindInstance(\n                ValuePair.New(type, order)).WithId(\"Late\").WhenInjectedInto<DisposableManager>();\n        }\n\n        public CopyNonLazyBinder BindFixedTickableExecutionOrder<T>(int order)\n            where T : IFixedTickable\n        {\n            return BindFixedTickableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindFixedTickableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<IFixedTickable>(),\n                \"Expected type '{0}' to derive from IFixedTickable\", type);\n\n            return Bind<ValuePair<Type, int>>().WithId(\"Fixed\")\n                .FromInstance(ValuePair.New(type, order)).WhenInjectedInto<TickableManager>();\n        }\n\n        public CopyNonLazyBinder BindLateTickableExecutionOrder<T>(int order)\n            where T : ILateTickable\n        {\n            return BindLateTickableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindLateTickableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<ILateTickable>(),\n                \"Expected type '{0}' to derive from ILateTickable\", type);\n\n            return Bind<ValuePair<Type, int>>().WithId(\"Late\")\n                .FromInstance(ValuePair.New(type, order)).WhenInjectedInto<TickableManager>();\n        }\n\n        public CopyNonLazyBinder BindPoolableExecutionOrder<T>(int order)\n            where T : IPoolable\n        {\n            return BindPoolableExecutionOrder(typeof(T), order);\n        }\n\n        public CopyNonLazyBinder BindPoolableExecutionOrder(Type type, int order)\n        {\n            Assert.That(type.DerivesFrom<IPoolable>(),\n                \"Expected type '{0}' to derive from IPoolable\", type);\n\n            return Bind<ValuePair<Type, int>>()\n                .FromInstance(ValuePair.New(type, order)).WhenInjectedInto<PoolableManager>();\n        }\n\n        class ProviderInfo\n        {\n            public ProviderInfo(\n                IProvider provider, BindingCondition condition, bool nonLazy, DiContainer container)\n            {\n                Provider = provider;\n                Condition = condition;\n                NonLazy = nonLazy;\n                Container = container;\n            }\n\n            public readonly DiContainer Container;\n            public readonly bool NonLazy;\n            public readonly IProvider Provider;\n            public readonly BindingCondition Condition;\n        }\n    }\n}\n","size_bytes":141763},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/IInstantiator.cs":{"content":"using System;\nusing System.Collections.Generic;\n\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    // You can optionally inject this interface into your classes/factories\n    // rather than using DiContainer which contains many methods you might not need\n    public interface IInstantiator\n    {\n        // Use this method to create any non-monobehaviour\n        // Any fields marked [Inject] will be set using the bindings on the container\n        // Any methods marked with a [Inject] will be called\n        // Any constructor parameters will be filled in with values from the container\n        T Instantiate<T>();\n        T Instantiate<T>(IEnumerable<object> extraArgs);\n\n        object Instantiate(Type concreteType);\n        object Instantiate(Type concreteType, IEnumerable<object> extraArgs);\n\n#if !NOT_UNITY3D\n\n        // Add new component to existing game object and fill in its dependencies\n        // NOTE: Gameobject here is not a prefab prototype, it is an instance\n        TContract InstantiateComponent<TContract>(GameObject gameObject)\n            where TContract : Component;\n        TContract InstantiateComponent<TContract>(\n            GameObject gameObject, IEnumerable<object> extraArgs)\n            where TContract : Component;\n        Component InstantiateComponent(\n            Type componentType, GameObject gameObject);\n        Component InstantiateComponent(\n            Type componentType, GameObject gameObject, IEnumerable<object> extraArgs);\n\n        T InstantiateComponentOnNewGameObject<T>()\n            where T : Component;\n        T InstantiateComponentOnNewGameObject<T>(string gameObjectName)\n            where T : Component;\n        T InstantiateComponentOnNewGameObject<T>(IEnumerable<object> extraArgs)\n            where T : Component;\n        T InstantiateComponentOnNewGameObject<T>(string gameObjectName, IEnumerable<object> extraArgs)\n            where T : Component;\n\n        // Create a new game object from a prefab and fill in dependencies for all children\n        GameObject InstantiatePrefab(UnityEngine.Object prefab);\n        GameObject InstantiatePrefab(\n            UnityEngine.Object prefab, Transform parentTransform);\n        GameObject InstantiatePrefab(\n            UnityEngine.Object prefab, Vector3 position, Quaternion rotation, Transform parentTransform);\n\n        // Create a new game object from a resource path and fill in dependencies for all children\n        GameObject InstantiatePrefabResource(string resourcePath);\n        GameObject InstantiatePrefabResource(\n            string resourcePath, Transform parentTransform);\n        GameObject InstantiatePrefabResource(\n            string resourcePath, Vector3 position, Quaternion rotation, Transform parentTransform);\n\n        // Same as InstantiatePrefab but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        T InstantiatePrefabForComponent<T>(UnityEngine.Object prefab);\n        T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, IEnumerable<object> extraArgs);\n        T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Transform parentTransform);\n        T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Transform parentTransform, IEnumerable<object> extraArgs);\n        T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Vector3 position, Quaternion rotation, Transform parentTransform);\n        T InstantiatePrefabForComponent<T>(\n            UnityEngine.Object prefab, Vector3 position, Quaternion rotation, Transform parentTransform, IEnumerable<object> extraArgs);\n        object InstantiatePrefabForComponent(\n            Type concreteType, UnityEngine.Object prefab, Transform parentTransform, IEnumerable<object> extraArgs);\n\n        // Same as InstantiatePrefabResource but returns a component after it's initialized\n        // and optionally allows extra arguments for the given component type\n        T InstantiatePrefabResourceForComponent<T>(string resourcePath);\n        T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, IEnumerable<object> extraArgs);\n        T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Transform parentTransform);\n        T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Transform parentTransform, IEnumerable<object> extraArgs);\n        T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Vector3 position, Quaternion rotation, Transform parentTransform);\n        T InstantiatePrefabResourceForComponent<T>(\n            string resourcePath, Vector3 position, Quaternion rotation, Transform parentTransform, IEnumerable<object> extraArgs);\n        object InstantiatePrefabResourceForComponent(\n            Type concreteType, string resourcePath, Transform parentTransform, IEnumerable<object> extraArgs);\n\n        T InstantiateScriptableObjectResource<T>(string resourcePath)\n            where T : ScriptableObject;\n        T InstantiateScriptableObjectResource<T>(\n            string resourcePath, IEnumerable<object> extraArgs)\n            where T : ScriptableObject;\n        object InstantiateScriptableObjectResource(\n            Type scriptableObjectType, string resourcePath);\n        object InstantiateScriptableObjectResource(\n            Type scriptableObjectType, string resourcePath, IEnumerable<object> extraArgs);\n\n        GameObject CreateEmptyGameObject(string name);\n#endif\n    }\n}\n\n","size_bytes":5566},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/LazyInstanceInjector.cs":{"content":"\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // When the app starts up, typically there is a list of instances that need to be injected\n    // The question is, what is the order that they should be injected?  Originally we would\n    // just iterate over the list and inject in whatever order they were in\n    // What is better than that though, is to inject based on their dependency order\n    // So if A depends on B then it would be nice if B was always injected before A\n    // That way, in [Inject] methods for A, A can access members on B knowing that it's\n    // already been initialized.\n    // So in order to do this, we add the initial pool of instances to this class then\n    // notify this class whenever an instance is resolved via a FromInstance binding\n    // That way we can lazily call inject on-demand whenever the instance is requested\n    [NoReflectionBaking]\n    public class LazyInstanceInjector\n    {\n        readonly DiContainer _container;\n        readonly HashSet<object> _instancesToInject = new HashSet<object>();\n\n        public LazyInstanceInjector(DiContainer container)\n        {\n            _container = container;\n        }\n\n        public IEnumerable<object> Instances\n        {\n            get { return _instancesToInject; }\n        }\n\n        public void AddInstance(object instance)\n        {\n            _instancesToInject.Add(instance);\n        }\n\n        public void AddInstances(IEnumerable<object> instances)\n        {\n            _instancesToInject.UnionWith(instances);\n        }\n\n        public void LazyInject(object instance)\n        {\n            if (_instancesToInject.Remove(instance))\n            {\n                _container.Inject(instance);\n            }\n        }\n\n        public void LazyInjectAll()\n        {\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"Zenject.LazyInstanceInjector.LazyInjectAll\"))\n#endif\n            {\n                var tempList = new List<object>();\n\n                while (!_instancesToInject.IsEmpty())\n                {\n                    tempList.Clear();\n                    tempList.AddRange(_instancesToInject);\n\n                    foreach (var instance in tempList)\n                    {\n                        // We use LazyInject instead of calling _container.inject directly\n                        // Because it might have already been lazily injected\n                        // as a result of a previous call to inject\n                        LazyInject(instance);\n                    }\n                }\n            }\n        }\n    }\n}\n\n","size_bytes":2577},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/LookupId.cs":{"content":"using ModestTree;\n\nnamespace Zenject.Internal\n{\n    [NoReflectionBaking]\n    public class LookupId\n    {\n        public IProvider Provider;\n        public BindingId BindingId;\n\n        public LookupId()\n        {\n        }\n\n        public LookupId(IProvider provider, BindingId bindingId)\n        {\n            Assert.IsNotNull(provider);\n            Assert.IsNotNull(bindingId);\n\n            Provider = provider;\n            BindingId = bindingId;\n        }\n\n        public override int GetHashCode()\n        {\n            int hash = 17;\n            hash = hash * 23 + Provider.GetHashCode();\n            hash = hash * 23 + BindingId.GetHashCode();\n            return hash;\n        }\n\n        public void Reset()\n        {\n            Provider = null;\n            BindingId.Type = null;\n            BindingId.Identifier = null;\n        }\n    }\n}\n","size_bytes":847},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/SingletonMarkRegistry.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject.Internal\n{\n    [NoReflectionBaking]\n    public class SingletonMarkRegistry\n    {\n        readonly HashSet<Type> _boundSingletons = new HashSet<Type>();\n        readonly HashSet<Type> _boundNonSingletons = new HashSet<Type>();\n\n        public void MarkNonSingleton(Type type)\n        {\n            Assert.That(!_boundSingletons.Contains(type),\n                \"Found multiple creation bindings for type '{0}' in addition to AsSingle.  The AsSingle binding must be the definitive creation binding.  If this is intentional, use AsCached instead of AsSingle.\", type);\n            _boundNonSingletons.Add(type);\n        }\n\n        public void MarkSingleton(Type type)\n        {\n            bool added = _boundSingletons.Add(type);\n            Assert.That(added, \"Attempted to use AsSingle multiple times for type '{0}'.  As of Zenject 6+, AsSingle as can no longer be used for the same type across different bindings.  See the upgrade guide for details.\", type);\n\n            Assert.That(!_boundNonSingletons.Contains(type),\n                \"Found multiple creation bindings for type '{0}' in addition to AsSingle.  The AsSingle binding must be the definitive creation binding.  If this is intentional, use AsCached instead of AsSingle.\", type);\n        }\n\n    }\n}\n","size_bytes":1345},"CapybaraGame/Assets/Plugins/Zenject/Source/Main/ZenjectSettings.cs":{"content":"using System;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    public enum ValidationErrorResponses\n    {\n        Log,\n        Throw\n    }\n\n    public enum RootResolveMethods\n    {\n        NonLazyOnly,\n        All\n    }\n\n    public enum SignalDefaultSyncModes\n    {\n        Synchronous,\n        Asynchronous\n    }\n\n    public enum SignalMissingHandlerResponses\n    {\n        Ignore,\n        Throw,\n        Warn\n    }\n\n    [Serializable]\n    [ZenjectAllowDuringValidation]\n    [NoReflectionBaking]\n    public class ZenjectSettings\n    {\n        public static ZenjectSettings Default = new ZenjectSettings();\n\n#if !NOT_UNITY3D\n        [SerializeField]\n#endif\n        bool _ensureDeterministicDestructionOrderOnApplicationQuit;\n\n#if !NOT_UNITY3D\n        [SerializeField]\n#endif\n        bool _displayWarningWhenResolvingDuringInstall;\n\n#if !NOT_UNITY3D\n        [SerializeField]\n#endif\n        RootResolveMethods _validationRootResolveMethod;\n\n#if !NOT_UNITY3D\n        [SerializeField]\n#endif\n        ValidationErrorResponses _validationErrorResponse;\n\n#if !NOT_UNITY3D\n        [SerializeField]\n#endif\n        SignalSettings _signalSettings;\n\n        public ZenjectSettings(\n            ValidationErrorResponses validationErrorResponse,\n            RootResolveMethods validationRootResolveMethod = RootResolveMethods.NonLazyOnly,\n            bool displayWarningWhenResolvingDuringInstall = true,\n            bool ensureDeterministicDestructionOrderOnApplicationQuit = false,\n            SignalSettings signalSettings = null)\n        {\n            _validationErrorResponse = validationErrorResponse;\n            _validationRootResolveMethod = validationRootResolveMethod;\n            _displayWarningWhenResolvingDuringInstall = displayWarningWhenResolvingDuringInstall;\n            _ensureDeterministicDestructionOrderOnApplicationQuit =ensureDeterministicDestructionOrderOnApplicationQuit;\n            _signalSettings = signalSettings ?? SignalSettings.Default;\n        }\n\n        // Need to define an emtpy constructor since this is created by unity serialization\n        // even if the above constructor has defaults for all\n        public ZenjectSettings()\n            : this(ValidationErrorResponses.Log)\n        {\n        }\n\n        public SignalSettings Signals\n        {\n            get { return _signalSettings; }\n        }\n\n        // Setting this to Log can be more useful because it will print out\n        // multiple validation errors at once so you can fix multiple problems before\n        // attempting validation again\n        public ValidationErrorResponses ValidationErrorResponse\n        {\n            get { return _validationErrorResponse; }\n        }\n\n        // Settings this to true will ensure that every binding in the container can be\n        // instantiated with all its dependencies, and not just those bindings that will be\n        // constructed as part of the object graph generated from the nonlazy bindings\n        public RootResolveMethods ValidationRootResolveMethod\n        {\n            get { return _validationRootResolveMethod; }\n        }\n\n        public bool DisplayWarningWhenResolvingDuringInstall\n        {\n            get { return _displayWarningWhenResolvingDuringInstall; }\n        }\n\n        // When this is set to true and the application is exitted, all the scenes will be\n        // destroyed in the reverse order in which they were loaded, and then the project context\n        // will be destroyed last\n        // When this is set to false (the default) the order that this occurs in is not predictable\n        // It is set to false by default because manually destroying objects during OnApplicationQuit\n        // event can cause crashes on android (see github issue #468)\n        public bool EnsureDeterministicDestructionOrderOnApplicationQuit\n        {\n            get { return _ensureDeterministicDestructionOrderOnApplicationQuit; }\n        }\n\n        [Serializable]\n        public class SignalSettings\n        {\n            public static SignalSettings Default = new SignalSettings();\n\n#if !NOT_UNITY3D\n            [SerializeField]\n#endif\n            SignalDefaultSyncModes _defaultSyncMode;\n\n#if !NOT_UNITY3D\n            [SerializeField]\n#endif\n            SignalMissingHandlerResponses _missingHandlerDefaultResponse;\n\n#if !NOT_UNITY3D\n            [SerializeField]\n#endif\n            bool _requireStrictUnsubscribe;\n\n#if !NOT_UNITY3D\n            [SerializeField]\n#endif\n            int _defaultAsyncTickPriority;\n\n            public SignalSettings(\n                SignalDefaultSyncModes defaultSyncMode,\n                SignalMissingHandlerResponses missingHandlerDefaultResponse = SignalMissingHandlerResponses.Warn,\n                bool requireStrictUnsubscribe = false,\n                // Run right after all the unspecified tick priorities so that the effects of the\n                // signal are handled during the same frame when they are triggered\n                int defaultAsyncTickPriority = 1)\n            {\n                _defaultSyncMode = defaultSyncMode;\n                _missingHandlerDefaultResponse = missingHandlerDefaultResponse;\n                _requireStrictUnsubscribe = requireStrictUnsubscribe;\n                _defaultAsyncTickPriority = defaultAsyncTickPriority;\n            }\n\n            // Need to define an emtpy constructor since this is created by unity serialization\n            // even if the above constructor has defaults for all\n            public SignalSettings()\n                : this(SignalDefaultSyncModes.Synchronous)\n            {\n            }\n\n            public int DefaultAsyncTickPriority\n            {\n                get { return _defaultAsyncTickPriority; }\n            }\n\n            public SignalDefaultSyncModes DefaultSyncMode\n            {\n                get { return _defaultSyncMode; }\n            }\n\n            public SignalMissingHandlerResponses MissingHandlerDefaultResponse\n            {\n                get { return _missingHandlerDefaultResponse; }\n            }\n\n            public bool RequireStrictUnsubscribe\n            {\n                get { return _requireStrictUnsubscribe; }\n            }\n        }\n    }\n}\n","size_bytes":6163},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/CachedOpenTypeProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class CachedOpenTypeProvider : IProvider\n    {\n        readonly IProvider _creator;\n        readonly List<List<object>> _cachedInstances = new List<List<object>>();\n\n#if ZEN_MULTITHREADING\n        readonly object _locker = new object();\n#else\n        bool _isCreatingInstance;\n#endif\n\n        public CachedOpenTypeProvider(IProvider creator)\n        {\n            Assert.That(creator.TypeVariesBasedOnMemberType);\n            _creator = creator;\n        }\n\n        public bool IsCached\n        {\n            get { return true; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get\n            {\n                // Should not call this\n                throw Assert.CreateException();\n            }\n        }\n\n        public int NumInstances\n        {\n            get\n            {\n#if ZEN_MULTITHREADING\n                lock (_locker)\n#endif\n                {\n                    return _cachedInstances.Select(x => x.Count).Sum();\n                }\n            }\n        }\n\n        // This method can be called if you want to clear the memory for an AsSingle instance,\n        // See isssue https://github.com/svermeulen/Zenject/issues/441\n        public void ClearCache()\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                _cachedInstances.Clear();\n            }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _creator.GetInstanceType(context);\n        }\n\n        List<object> TryGetMatchFromCache(Type memberType)\n        {\n            List<object> result = null;\n\n            for (int i = 0; i < _cachedInstances.Count; i++) \n            {\n                var instanceList = _cachedInstances[i];\n\n                bool matchesAll = true;\n\n                for (int k = 0; k < instanceList.Count; k++) \n                {\n                    var instance = instanceList[k];\n\n                    if (instance == null) \n                    {\n                        if (memberType.IsValueType()) \n                        {\n                            matchesAll = false;\n                            break;\n                        }\n\n                        continue;\n                    }\n\n                    if (!instance.GetType().DerivesFromOrEqual(memberType)) \n                    {\n                        matchesAll = false;\n                        break;\n                    }\n                }\n\n                if (matchesAll) \n                {\n                    Assert.IsNull(result); // Is there any case where this is hit?\n                    result = instanceList;\n                }\n            }\n\n            return result;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var instances = TryGetMatchFromCache(context.MemberType);\n\n                if (instances != null)\n                {\n                    injectAction = null;\n                    buffer.AllocFreeAddRange(instances);\n                    return;\n                }\n\n#if !ZEN_MULTITHREADING\n                // This should only happen with constructor injection\n                // Field or property injection should allow circular dependencies\n                if (_isCreatingInstance)\n                {\n                    var instanceType = _creator.GetInstanceType(context);\n                    throw Assert.CreateException(\n                        \"Found circular dependency when creating type '{0}'. Object graph:\\n {1}{2}\\n\",\n                        instanceType, context.GetObjectGraphString(), instanceType);\n                }\n\n                _isCreatingInstance = true;\n#endif\n\n                instances = new List<object>();\n                _creator.GetAllInstancesWithInjectSplit(\n                    context, args, out injectAction, instances);\n                Assert.IsNotNull(instances);\n\n                _cachedInstances.Add(instances);\n#if !ZEN_MULTITHREADING\n                _isCreatingInstance = false;\n#endif\n                buffer.AllocFreeAddRange(instances);\n            }\n        }\n    }\n}\n\n","size_bytes":4426},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/CachedProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class CachedProvider : IProvider\n    {\n        readonly IProvider _creator;\n\n        List<object> _instances;\n\n#if ZEN_MULTITHREADING\n        readonly object _locker = new object();\n#else\n        bool _isCreatingInstance;\n#endif\n\n        public CachedProvider(IProvider creator)\n        {\n            _creator = creator;\n        }\n\n        public bool IsCached\n        {\n            get { return true; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get\n            {\n                // Should not call this\n                throw Assert.CreateException();\n            }\n        }\n\n        public int NumInstances\n        {\n            get\n            {\n#if ZEN_MULTITHREADING\n                lock (_locker)\n#endif\n                {\n                    return _instances == null ? 0 : _instances.Count;\n                }\n            }\n        }\n\n        // This method can be called if you want to clear the memory for an AsSingle instance,\n        // See isssue https://github.com/svermeulen/Zenject/issues/441\n        public void ClearCache()\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                _instances = null;\n            }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _creator.GetInstanceType(context);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                if (_instances != null)\n                {\n                    injectAction = null;\n                    buffer.AllocFreeAddRange(_instances);\n                    return;\n                }\n\n#if !ZEN_MULTITHREADING\n                // This should only happen with constructor injection\n                // Field or property injection should allow circular dependencies\n                if (_isCreatingInstance)\n                {\n                    var instanceType = _creator.GetInstanceType(context);\n                    throw Assert.CreateException(\n                        \"Found circular dependency when creating type '{0}'. Object graph:\\n {1}{2}\\n\",\n                        instanceType, context.GetObjectGraphString(), instanceType);\n                }\n\n                _isCreatingInstance = true;\n#endif\n\n                var instances = new List<object>();\n                _creator.GetAllInstancesWithInjectSplit(context, args, out injectAction, instances);\n                Assert.IsNotNull(instances);\n\n                _instances = instances;\n#if !ZEN_MULTITHREADING\n                _isCreatingInstance = false;\n#endif\n                buffer.AllocFreeAddRange(instances);\n            }\n        }\n    }\n}\n","size_bytes":2980},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/GetterProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class GetterProvider<TObj, TResult> : IProvider\n    {\n        readonly DiContainer _container;\n        readonly object _identifier;\n        readonly Func<TObj, TResult> _method;\n        readonly bool _matchAll;\n        readonly InjectSources _sourceType;\n\n        public GetterProvider(\n            object identifier, Func<TObj, TResult> method,\n            DiContainer container, InjectSources sourceType, bool matchAll)\n        {\n            _container = container;\n            _identifier = identifier;\n            _method = method;\n            _matchAll = matchAll;\n            _sourceType = sourceType;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TResult);\n        }\n\n        InjectContext GetSubContext(InjectContext parent)\n        {\n            var subContext = parent.CreateSubContext(\n                typeof(TObj), _identifier);\n\n            subContext.Optional = false;\n            subContext.SourceType = _sourceType;\n\n            return subContext;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TResult).DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n\n            if (_container.IsValidating)\n            {\n                // All we can do is validate that the getter object can be resolved\n                if (_matchAll)\n                {\n                    _container.ResolveAll(GetSubContext(context));\n                }\n                else\n                {\n                    _container.Resolve(GetSubContext(context));\n                }\n\n                buffer.Add(new ValidationMarker(typeof(TResult)));\n                return;\n            }\n\n            if (_matchAll)\n            {\n                Assert.That(buffer.Count == 0);\n                _container.ResolveAll(GetSubContext(context), buffer);\n\n                for (int i = 0; i < buffer.Count; i++)\n                {\n                    buffer[i] = _method((TObj)buffer[i]);\n                }\n            }\n            else\n            {\n                buffer.Add(_method(\n                    (TObj)_container.Resolve(GetSubContext(context))));\n            }\n        }\n    }\n}\n","size_bytes":2700},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/IFactoryProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public abstract class IFactoryProviderBase<TContract> : IProvider\n    {\n        public IFactoryProviderBase(\n            DiContainer container, Guid factoryId)\n        {\n            Container = container;\n            FactoryId = factoryId;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        protected Guid FactoryId\n        {\n            get;\n            private set;\n        }\n\n        protected DiContainer Container\n        {\n            get;\n            private set;\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TContract);\n        }\n\n        public abstract void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer);\n    }\n\n    // Zero parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(\n            DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.That(args.IsEmpty());\n\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(((IFactory<TContract>)factory).Create());\n            }\n        }\n    }\n\n    // One parameter\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 1);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(((IFactory<TParam1, TContract>)factory).Create((TParam1)args[0].Value));\n            }\n        }\n    }\n\n    // Two parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TParam2, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 2);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TParam2, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(\n                    ((IFactory<TParam1, TParam2, TContract>)factory).Create(\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value));\n            }\n        }\n    }\n\n    // Three parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TParam2, TParam3, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 3);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TParam2, TParam3, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(\n                    ((IFactory<TParam1, TParam2, TParam3, TContract>)factory).Create(\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value));\n            }\n        }\n    }\n\n    // Four parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 4);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TParam2, TParam3, TParam4, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(\n                    ((IFactory<TParam1, TParam2, TParam3, TParam4, TContract>)factory).Create(\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value));\n            }\n        }\n    }\n\n    // Five parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(\n                    ((IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>)factory).Create(\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value,\n                        (TParam5)args[4].Value));\n            }\n        }\n    }\n\n    // Six parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 6);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(\n                    ((IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>)factory).Create(\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value,\n                        (TParam5)args[4].Value,\n                        (TParam6)args[5].Value));\n            }\n        }\n    }\n\n    // Ten parameters\n\n    [NoReflectionBaking]\n    public class IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> : IFactoryProviderBase<TContract>\n    {\n        public IFactoryProvider(DiContainer container, Guid factoryId)\n            : base(container, factoryId)\n        {\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 10);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n            Assert.That(args[6].Type.DerivesFromOrEqual<TParam7>());\n            Assert.That(args[7].Type.DerivesFromOrEqual<TParam8>());\n            Assert.That(args[8].Type.DerivesFromOrEqual<TParam9>());\n            Assert.That(args[9].Type.DerivesFromOrEqual<TParam10>());\n\n            // Do this even when validating in case it has its own dependencies\n            var factory = Container.ResolveId(typeof(IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>), FactoryId);\n\n            injectAction = null;\n            if (Container.IsValidating)\n            {\n                // We assume here that we are creating a user-defined factory so there's\n                // nothing else we can validate here\n                buffer.Add(new ValidationMarker(typeof(TContract)));\n            }\n            else\n            {\n                buffer.Add(\n                    ((IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>)factory).Create(\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value,\n                        (TParam5)args[4].Value,\n                        (TParam6)args[5].Value,\n                        (TParam7)args[6].Value,\n                        (TParam8)args[7].Value,\n                        (TParam9)args[8].Value,\n                        (TParam10)args[9].Value));\n            }\n        }\n    }\n}\n","size_bytes":15380},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/IProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\n\nnamespace Zenject\n{\n    // The given InjectContext values here should always be non-null\n    public interface IProvider\n    {\n        bool TypeVariesBasedOnMemberType\n        {\n            get;\n        }\n\n        bool IsCached\n        {\n            get;\n        }\n\n        Type GetInstanceType(InjectContext context);\n\n        // Return an instance which might be not yet injected to.\n        // injectAction should handle the actual injection\n        // This way, providers that call CreateInstance() can store the instance immediately,\n        // and then return that if something gets created during injection that refers back\n        // to the newly created instance\n        void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> instances);\n    }\n}\n","size_bytes":884},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/IProviderExtensions.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    public static class IProviderExtensions\n    {\n        static readonly List<TypeValuePair> EmptyArgList = new List<TypeValuePair>();\n\n        public static void GetAllInstancesWithInjectSplit(\n            this IProvider creator, InjectContext context, out Action injectAction, List<object> buffer)\n        {\n            creator.GetAllInstancesWithInjectSplit(\n                context, EmptyArgList, out injectAction, buffer);\n        }\n\n        public static void GetAllInstances(\n            this IProvider creator, InjectContext context, List<object> buffer)\n        {\n            creator.GetAllInstances(context, EmptyArgList, buffer);\n        }\n\n        public static void GetAllInstances(\n            this IProvider creator, InjectContext context, List<TypeValuePair> args, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            Action injectAction;\n            creator.GetAllInstancesWithInjectSplit(context, args, out injectAction, buffer);\n\n            if (injectAction != null)\n            {\n                injectAction.Invoke();\n            }\n        }\n\n        public static object TryGetInstance(\n            this IProvider creator, InjectContext context)\n        {\n            return creator.TryGetInstance(context, EmptyArgList);\n        }\n\n        public static object TryGetInstance(\n            this IProvider creator, InjectContext context, List<TypeValuePair> args)\n        {\n            var allInstances = ZenPools.SpawnList<object>();\n\n            try\n            {\n                creator.GetAllInstances(context, args, allInstances);\n\n                if (allInstances.Count == 0)\n                {\n                    return null;\n                }\n\n                Assert.That(allInstances.Count == 1,\n                    \"Provider returned multiple instances when one or zero was expected\");\n\n                return allInstances[0];\n            }\n            finally\n            {\n                ZenPools.DespawnList(allInstances);\n            }\n        }\n\n        public static object GetInstance(\n            this IProvider creator, InjectContext context)\n        {\n            return creator.GetInstance(context, EmptyArgList);\n        }\n\n        public static object GetInstance(\n            this IProvider creator, InjectContext context, List<TypeValuePair> args)\n        {\n            var allInstances = ZenPools.SpawnList<object>();\n\n            try\n            {\n                creator.GetAllInstances(context, args, allInstances);\n\n                Assert.That(allInstances.Count > 0,\n                    \"Provider returned zero instances when one was expected when looking up type '{0}'\", context.MemberType);\n\n                Assert.That(allInstances.Count == 1,\n                    \"Provider returned multiple instances when only one was expected when looking up type '{0}'\", context.MemberType);\n\n                return allInstances[0];\n            }\n            finally\n            {\n                ZenPools.DespawnList(allInstances);\n            }\n        }\n    }\n}\n","size_bytes":3151},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/InstanceProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class InstanceProvider : IProvider\n    {\n        readonly object _instance;\n        readonly Type _instanceType;\n        readonly DiContainer _container;\n        readonly Action<InjectContext, object> _instantiateCallback;\n\n        public InstanceProvider(\n            Type instanceType, object instance, DiContainer container, Action<InjectContext, object> instantiateCallback)\n        {\n            _instanceType = instanceType;\n            _instance = instance;\n            _container = container;\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public bool IsCached\n        {\n            get { return true; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _instanceType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.That(args.Count == 0);\n            Assert.IsNotNull(context);\n\n            Assert.That(_instanceType.DerivesFromOrEqual(context.MemberType));\n\n            injectAction = () =>\n            {\n                object instance = _container.LazyInject(_instance);\n\n                if (_instantiateCallback != null)\n                {\n                    _instantiateCallback(context, instance);\n                }\n            };\n\n            buffer.Add(_instance);\n        }\n    }\n}\n","size_bytes":1654},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/MethodMultipleProviderUntyped.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class MethodMultipleProviderUntyped : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Func<InjectContext, IEnumerable<object>> _method;\n\n        public MethodMultipleProviderUntyped(\n            Func<InjectContext, IEnumerable<object>> method,\n            DiContainer container)\n        {\n            _container = container;\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return context.MemberType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            injectAction = null;\n            if (_container.IsValidating && !TypeAnalyzer.ShouldAllowDuringValidation(context.MemberType))\n            {\n                buffer.Add(new ValidationMarker(context.MemberType));\n            }\n            else\n            {\n                var result = _method(context);\n\n                if (result == null)\n                {\n                    throw Assert.CreateException(\n                        \"Method '{0}' returned null when list was expected. Object graph:\\n {1}\",\n                        _method.ToDebugString(), context.GetObjectGraphString());\n                }\n\n                foreach (var obj in result)\n                {\n                    buffer.Add(obj);\n                }\n            }\n        }\n    }\n}\n\n","size_bytes":1833},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/MethodProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class MethodProvider<TReturn> : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Func<InjectContext, TReturn> _method;\n\n        public MethodProvider(\n            Func<InjectContext, TReturn> method,\n            DiContainer container)\n        {\n            _container = container;\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TReturn);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TReturn).DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n            if (_container.IsValidating && !TypeAnalyzer.ShouldAllowDuringValidation(context.MemberType))\n            {\n                buffer.Add(new ValidationMarker(typeof(TReturn)));\n            }\n            else\n            {\n                // We cannot do a null assert here because in some cases they might intentionally\n                // return null\n                buffer.Add(_method(context));\n            }\n        }\n    }\n}\n","size_bytes":1570},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/MethodProviderMultiple.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class MethodProviderMultiple<TReturn> : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Func<InjectContext, IEnumerable<TReturn>> _method;\n\n        public MethodProviderMultiple(\n            Func<InjectContext, IEnumerable<TReturn>> method,\n            DiContainer container)\n        {\n            _container = container;\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TReturn);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TReturn).DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n            if (_container.IsValidating && !TypeAnalyzer.ShouldAllowDuringValidation(context.MemberType))\n            {\n                buffer.Add(new ValidationMarker(typeof(TReturn)));\n            }\n            else\n            {\n                var result = _method(context);\n\n                if (result == null)\n                {\n                    throw Assert.CreateException(\n                        \"Method '{0}' returned null when list was expected. Object graph:\\n {1}\",\n                        _method.ToDebugString(), context.GetObjectGraphString());\n                }\n\n                foreach (var obj in result)\n                {\n                    buffer.Add(obj);\n                }\n            }\n        }\n    }\n}\n","size_bytes":1905},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/MethodProviderSimple.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class MethodProviderSimple<TReturn> : IProvider\n    {\n        readonly Func<TReturn> _method;\n\n        public MethodProviderSimple(Func<TReturn> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TReturn);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TReturn).DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n            buffer.Add(_method());\n        }\n    }\n}\n","size_bytes":1041},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/MethodProviderUntyped.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class MethodProviderUntyped : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Func<InjectContext, object> _method;\n\n        public MethodProviderUntyped(\n            Func<InjectContext, object> method,\n            DiContainer container)\n        {\n            _container = container;\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return context.MemberType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            injectAction = null;\n            if (_container.IsValidating && !TypeAnalyzer.ShouldAllowDuringValidation(context.MemberType))\n            {\n                buffer.Add(new ValidationMarker(context.MemberType));\n            }\n            else\n            {\n                var result = _method(context);\n\n                if (result == null)\n                {\n                    Assert.That(!context.MemberType.IsPrimitive(),\n                        \"Invalid value returned from FromMethod.  Expected non-null.\");\n                }\n                else\n                {\n                    Assert.That(result.GetType().DerivesFromOrEqual(context.MemberType));\n                }\n\n                buffer.Add(result);\n            }\n        }\n    }\n}\n\n","size_bytes":1782},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/MethodProviderWithContainer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // Zero params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TValue> : IProvider\n    {\n        readonly Func<DiContainer, TValue> _method;\n\n        public MethodProviderWithContainer(Func<DiContainer, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(_method(context.Container));\n            }\n        }\n    }\n\n    // One params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TValue> : IProvider\n    {\n        readonly Func<DiContainer, TParam1, TValue> _method;\n\n        public MethodProviderWithContainer(Func<DiContainer, TParam1, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 1);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value));\n            }\n        }\n    }\n\n    // Two params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TParam2, TValue> : IProvider\n    {\n        readonly Func<DiContainer, TParam1, TParam2, TValue> _method;\n\n        public MethodProviderWithContainer(Func<DiContainer, TParam1, TParam2, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 2);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n            Assert.That(args[1].Type.DerivesFromOrEqual(typeof(TParam2)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value));\n            }\n        }\n    }\n\n    // Three params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TParam2, TParam3, TValue> : IProvider\n    {\n        readonly Func<DiContainer, TParam1, TParam2, TParam3, TValue> _method;\n\n        public MethodProviderWithContainer(Func<DiContainer, TParam1, TParam2, TParam3, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 3);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n            Assert.That(args[1].Type.DerivesFromOrEqual(typeof(TParam2)));\n            Assert.That(args[2].Type.DerivesFromOrEqual(typeof(TParam3)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value));\n            }\n        }\n    }\n\n    // Four params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TValue> : IProvider\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TValue> _method;\n\n        public MethodProviderWithContainer(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 4);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n            Assert.That(args[1].Type.DerivesFromOrEqual(typeof(TParam2)));\n            Assert.That(args[2].Type.DerivesFromOrEqual(typeof(TParam3)));\n            Assert.That(args[3].Type.DerivesFromOrEqual(typeof(TParam4)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value));\n            }\n        }\n    }\n\n    // Five params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> : IProvider\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TValue> _method;\n\n        public MethodProviderWithContainer(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n            Assert.That(args[1].Type.DerivesFromOrEqual(typeof(TParam2)));\n            Assert.That(args[2].Type.DerivesFromOrEqual(typeof(TParam3)));\n            Assert.That(args[3].Type.DerivesFromOrEqual(typeof(TParam4)));\n            Assert.That(args[4].Type.DerivesFromOrEqual(typeof(TParam5)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value,\n                        (TParam5)args[4].Value));\n            }\n        }\n    }\n\n    // Six params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> : IProvider\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> _method;\n\n        public MethodProviderWithContainer(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n            Assert.That(args[1].Type.DerivesFromOrEqual(typeof(TParam2)));\n            Assert.That(args[2].Type.DerivesFromOrEqual(typeof(TParam3)));\n            Assert.That(args[3].Type.DerivesFromOrEqual(typeof(TParam4)));\n            Assert.That(args[4].Type.DerivesFromOrEqual(typeof(TParam5)));\n            Assert.That(args[5].Type.DerivesFromOrEqual(typeof(TParam6)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value,\n                        (TParam5)args[4].Value,\n                        (TParam6)args[5].Value));\n            }\n        }\n    }\n\n    // Ten params\n\n    [NoReflectionBaking]\n    public class MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue> : IProvider\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue> _method;\n\n        public MethodProviderWithContainer(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TValue> method)\n        {\n            _method = method;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TValue);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 10);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TValue).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual(typeof(TParam1)));\n            Assert.That(args[1].Type.DerivesFromOrEqual(typeof(TParam2)));\n            Assert.That(args[2].Type.DerivesFromOrEqual(typeof(TParam3)));\n            Assert.That(args[3].Type.DerivesFromOrEqual(typeof(TParam4)));\n            Assert.That(args[4].Type.DerivesFromOrEqual(typeof(TParam5)));\n            Assert.That(args[5].Type.DerivesFromOrEqual(typeof(TParam6)));\n            Assert.That(args[6].Type.DerivesFromOrEqual(typeof(TParam7)));\n            Assert.That(args[7].Type.DerivesFromOrEqual(typeof(TParam8)));\n            Assert.That(args[8].Type.DerivesFromOrEqual(typeof(TParam9)));\n            Assert.That(args[9].Type.DerivesFromOrEqual(typeof(TParam10)));\n\n            injectAction = null;\n            if (context.Container.IsValidating)\n            {\n                // Don't do anything when validating, we can't make any assumptions on the given method\n                buffer.Add(new ValidationMarker(typeof(TValue)));\n            }\n            else\n            {\n                buffer.Add(\n                    _method(\n                        context.Container,\n                        (TParam1)args[0].Value,\n                        (TParam2)args[1].Value,\n                        (TParam3)args[2].Value,\n                        (TParam4)args[3].Value,\n                        (TParam5)args[4].Value,\n                        (TParam6)args[5].Value,\n                        (TParam7)args[6].Value,\n                        (TParam8)args[7].Value,\n                        (TParam9)args[8].Value,\n                        (TParam10)args[9].Value));\n            }\n        }\n    }\n}\n\n","size_bytes":16179},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PoolableMemoryPoolProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public abstract class PoolableMemoryPoolProviderBase<TContract> : IProvider\n    {\n        public PoolableMemoryPoolProviderBase(\n            DiContainer container, Guid poolId)\n        {\n            Container = container;\n            PoolId = poolId;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        protected Guid PoolId\n        {\n            get;\n            private set;\n        }\n\n        protected DiContainer Container\n        {\n            get;\n            private set;\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(TContract);\n        }\n\n        public abstract void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer);\n    }\n\n    // Zero parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<IMemoryPool>\n        where TMemoryPool : MemoryPool<IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.That(args.IsEmpty());\n\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn(_pool));\n        }\n    }\n\n    // One parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TParam1, TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<TParam1, IMemoryPool>\n        where TMemoryPool : MemoryPool<TParam1, IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 1);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn((TParam1)args[0].Value, _pool));\n        }\n    }\n\n    // Two parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TParam1, TParam2, TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<TParam1, TParam2, IMemoryPool>\n        where TMemoryPool : MemoryPool<TParam1, TParam2, IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 2);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn(\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                _pool));\n        }\n    }\n\n    // Three parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n        where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 3);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn(\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                _pool));\n        }\n    }\n\n    // Four parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TParam4, TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n        where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 4);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn(\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value,\n                _pool));\n        }\n    }\n\n    // Five parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n        where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn(\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value,\n                (TParam5)args[4].Value,\n                _pool));\n        }\n    }\n\n    // Six parameters\n\n    [NoReflectionBaking]\n    public class PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TMemoryPool> : PoolableMemoryPoolProviderBase<TContract>, IValidatable\n        where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n        where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool, TContract>\n    {\n        TMemoryPool _pool;\n\n        public PoolableMemoryPoolProvider(\n            DiContainer container, Guid poolId)\n            : base(container, poolId)\n        {\n        }\n\n        public void Validate()\n        {\n            Container.ResolveId<TMemoryPool>(PoolId);\n        }\n\n        public override void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEqual(args.Count, 6);\n            Assert.IsNotNull(context);\n\n            Assert.That(typeof(TContract).DerivesFromOrEqual(context.MemberType));\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n\n            injectAction = null;\n\n            if (_pool == null)\n            {\n                _pool = Container.ResolveId<TMemoryPool>(PoolId);\n            }\n\n            buffer.Add(_pool.Spawn(\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value,\n                (TParam5)args[4].Value,\n                (TParam6)args[5].Value,\n                _pool));\n        }\n    }\n}\n\n","size_bytes":11955},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ProviderUtil.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public static class ProviderUtil\n    {\n        public static Type GetTypeToInstantiate(Type contractType, Type concreteType)\n        {\n#if !(UNITY_WSA && ENABLE_DOTNET)\n            // TODO: Is it possible to do this on WSA?\n\n            if (concreteType.IsOpenGenericType())\n            {\n                return concreteType.MakeGenericType(contractType.GetGenericArguments());\n            }\n#endif\n\n            Assert.DerivesFromOrEqual(concreteType, contractType);\n            return concreteType;\n        }\n    }\n}\n\n","size_bytes":576},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ResolveProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ResolveProvider : IProvider\n    {\n        readonly object _identifier;\n        readonly DiContainer _container;\n        readonly Type _contractType;\n        readonly bool _isOptional;\n        readonly InjectSources _source;\n        readonly bool _matchAll;\n\n        public ResolveProvider(\n            Type contractType, DiContainer container, object identifier,\n            bool isOptional, InjectSources source, bool matchAll)\n        {\n            _contractType = contractType;\n            _identifier = identifier;\n            _container = container;\n            _isOptional = isOptional;\n            _source = source;\n            _matchAll = matchAll;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _contractType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n            Assert.IsNotNull(context);\n\n            Assert.That(_contractType.DerivesFromOrEqual(context.MemberType));\n\n            injectAction = null;\n            if (_matchAll)\n            {\n                _container.ResolveAll(GetSubContext(context), buffer);\n            }\n            else\n            {\n                buffer.Add(_container.Resolve(GetSubContext(context)));\n            }\n        }\n\n        InjectContext GetSubContext(InjectContext parent)\n        {\n            var subContext = parent.CreateSubContext(_contractType, _identifier);\n\n            subContext.SourceType = _source;\n            subContext.Optional = _isOptional;\n\n            return subContext;\n        }\n    }\n}\n","size_bytes":2001},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ResourceProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ResourceProvider : IProvider\n    {\n        readonly Type _resourceType;\n        readonly string _resourcePath;\n        readonly bool _matchSingle;\n\n        public ResourceProvider(\n            string resourcePath, Type resourceType, bool matchSingle)\n        {\n            _resourceType = resourceType;\n            _resourcePath = resourcePath;\n            _matchSingle = matchSingle;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _resourceType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n\n            Assert.IsNotNull(context);\n\n            if (_matchSingle)\n            {\n                var obj = Resources.Load(_resourcePath, _resourceType);\n\n                Assert.That(obj != null,\n                \"Could not find resource at path '{0}' with type '{1}'\", _resourcePath, _resourceType);\n\n                // Are there any resource types which can be injected?\n                injectAction = null;\n                buffer.Add(obj);\n                return;\n            }\n\n            var objects = Resources.LoadAll(_resourcePath, _resourceType);\n\n            Assert.That(objects.Length > 0,\n            \"Could not find resource at path '{0}' with type '{1}'\", _resourcePath, _resourceType);\n\n            // Are there any resource types which can be injected?\n            injectAction = null;\n\n            buffer.AllocFreeAddRange(objects);\n        }\n    }\n}\n\n#endif\n\n\n","size_bytes":1947},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ScriptableObjectInstanceProvider.cs":{"content":"ï»¿#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEngine;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ScriptableObjectInstanceProvider : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Type _resourceType;\n        readonly List<TypeValuePair> _extraArguments;\n        readonly bool _createNew;\n        readonly object _concreteIdentifier;\n        readonly Action<InjectContext, object> _instantiateCallback;\n        readonly UnityEngine.Object _resource;\n\n        public ScriptableObjectInstanceProvider(\n            UnityEngine.Object resource, Type resourceType,\n            DiContainer container, IEnumerable<TypeValuePair> extraArguments,\n            bool createNew, object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n        {\n            _container = container;\n            Assert.DerivesFromOrEqual<ScriptableObject>(resourceType);\n\n            _resource = resource;\n            _extraArguments = extraArguments.ToList();\n            _resourceType = resourceType;\n            _createNew = createNew;\n            _concreteIdentifier = concreteIdentifier;\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _resourceType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            if (_createNew)\n            {\n                buffer.Add(UnityEngine.ScriptableObject.Instantiate(_resource));\n            }\n            else\n            {\n                buffer.Add(_resource);\n            }\n\n            injectAction = () =>\n            {\n                for (int i = 0; i < buffer.Count; i++)\n                {\n                    var obj = buffer[i];\n\n                    var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                    extraArgs.AllocFreeAddRange(_extraArguments);\n                    extraArgs.AllocFreeAddRange(args);\n\n                    _container.InjectExplicit(\n                        obj, _resourceType, extraArgs, context, _concreteIdentifier);\n\n                    ZenPools.DespawnList(extraArgs);\n\n                    if (_instantiateCallback != null)\n                    {\n                        _instantiateCallback(context, obj);\n                    }\n                }\n            };\n        }\n    }\n}\n\n#endif\n\n","size_bytes":2798},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ScriptableObjectResourceProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEngine;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ScriptableObjectResourceProvider : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Type _resourceType;\n        readonly string _resourcePath;\n        readonly List<TypeValuePair> _extraArguments;\n        readonly bool _createNew;\n        readonly object _concreteIdentifier;\n        readonly Action<InjectContext, object> _instantiateCallback;\n\n        public ScriptableObjectResourceProvider(\n            string resourcePath, Type resourceType,\n            DiContainer container, IEnumerable<TypeValuePair> extraArguments,\n            bool createNew, object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n        {\n            _container = container;\n            Assert.DerivesFromOrEqual<ScriptableObject>(resourceType);\n\n            _extraArguments = extraArguments.ToList();\n            _resourceType = resourceType;\n            _resourcePath = resourcePath;\n            _createNew = createNew;\n            _concreteIdentifier = concreteIdentifier;\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _resourceType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            if (_createNew)\n            {\n                var objects = Resources.LoadAll(_resourcePath, _resourceType);\n\n                for (int i = 0; i < objects.Length; i++)\n                {\n                    buffer.Add(ScriptableObject.Instantiate(objects[i]));\n                }\n            }\n            else\n            {\n                buffer.AllocFreeAddRange(\n                    Resources.LoadAll(_resourcePath, _resourceType));\n            }\n\n            Assert.That(buffer.Count > 0,\n            \"Could not find resource at path '{0}' with type '{1}'\", _resourcePath, _resourceType);\n\n            injectAction = () =>\n            {\n                for (int i = 0; i < buffer.Count; i++)\n                {\n                    var obj = buffer[i];\n\n                    var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                    extraArgs.AllocFreeAddRange(_extraArguments);\n                    extraArgs.AllocFreeAddRange(args);\n\n                    _container.InjectExplicit(\n                        obj, _resourceType, extraArgs, context, _concreteIdentifier);\n\n                    ZenPools.DespawnList(extraArgs);\n\n                    if (_instantiateCallback != null)\n                    {\n                        _instantiateCallback(context, obj);\n                    }\n                }\n            };\n        }\n    }\n}\n\n#endif\n","size_bytes":3168},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerDependencyProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerDependencyProvider : IProvider\n    {\n        readonly ISubContainerCreator _subContainerCreator;\n        readonly Type _dependencyType;\n        readonly object _identifier;\n        readonly bool _resolveAll;\n\n        // if concreteType is null we use the contract type from inject context\n        public SubContainerDependencyProvider(\n            Type dependencyType,\n            object identifier,\n            ISubContainerCreator subContainerCreator, bool resolveAll)\n        {\n            _subContainerCreator = subContainerCreator;\n            _dependencyType = dependencyType;\n            _identifier = identifier;\n            _resolveAll = resolveAll;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _dependencyType;\n        }\n\n        InjectContext CreateSubContext(\n            InjectContext parent, DiContainer subContainer)\n        {\n            var subContext = parent.CreateSubContext(_dependencyType, _identifier);\n\n            subContext.Container = subContainer;\n\n            // This is important to avoid infinite loops\n            subContext.SourceType = InjectSources.Local;\n\n            return subContext;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            var subContainer = _subContainerCreator.CreateSubContainer(args, context, out injectAction);\n\n            var subContext = CreateSubContext(context, subContainer);\n\n            if (_resolveAll)\n            {\n                subContainer.ResolveAll(subContext, buffer);\n                return;\n            }\n\n            buffer.Add(subContainer.Resolve(subContext));\n        }\n    }\n}\n","size_bytes":2121},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/TransientProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class TransientProvider : IProvider\n    {\n        readonly DiContainer _container;\n        readonly Type _concreteType;\n        readonly List<TypeValuePair> _extraArguments;\n        readonly object _concreteIdentifier;\n        readonly Action<InjectContext, object> _instantiateCallback;\n\n        public TransientProvider(\n            Type concreteType, DiContainer container,\n            IEnumerable<TypeValuePair> extraArguments, string bindingContext,\n            object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n        {\n            Assert.That(!concreteType.IsAbstract(),\n                \"Expected non-abstract type for given binding but instead found type '{0}'{1}\",\n                concreteType, bindingContext == null ? \"\" : \" when binding '{0}'\".Fmt(bindingContext));\n\n            _container = container;\n            _concreteType = concreteType;\n            _extraArguments = extraArguments.ToList();\n            _concreteIdentifier = concreteIdentifier;\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return _concreteType.IsOpenGenericType(); }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            if (!_concreteType.DerivesFromOrEqual(context.MemberType))\n            {\n                return null;\n            }\n\n            return GetTypeToCreate(context.MemberType);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            var instanceType = GetTypeToCreate(context.MemberType);\n\n            var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n            extraArgs.AllocFreeAddRange(_extraArguments);\n            extraArgs.AllocFreeAddRange(args);\n\n            var instance = _container.InstantiateExplicit(instanceType, false, extraArgs, context, _concreteIdentifier);\n\n            injectAction = () =>\n            {\n                _container.InjectExplicit(\n                    instance, instanceType, extraArgs, context, _concreteIdentifier);\n\n                Assert.That(extraArgs.Count == 0);\n                ZenPools.DespawnList(extraArgs);\n\n                if (_instantiateCallback != null)\n                {\n                    _instantiateCallback(context, instance);\n                }\n            };\n\n            buffer.Add(instance);\n        }\n\n        Type GetTypeToCreate(Type contractType)\n        {\n            return ProviderUtil.GetTypeToInstantiate(contractType, _concreteType);\n        }\n    }\n}\n","size_bytes":2937},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/DisposableManager.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n\nnamespace Zenject\n{\n    public class DisposableManager : IDisposable\n    {\n        readonly List<DisposableInfo> _disposables = new List<DisposableInfo>();\n        readonly List<LateDisposableInfo> _lateDisposables = new List<LateDisposableInfo>();\n        bool _disposed;\n        bool _lateDisposed;\n\n        [Inject]\n        public DisposableManager(\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<IDisposable> disposables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ILateDisposable> lateDisposables,\n            [Inject(Id = \"Late\", Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> latePriorities)\n        {\n            foreach (var disposable in disposables)\n            {\n                // Note that we use zero for unspecified priority\n                // This is nice because you can use negative or positive for before/after unspecified\n                var match = priorities.Where(x => disposable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)x.Second).SingleOrDefault();\n                int priority = match.HasValue ? match.Value : 0;\n\n                _disposables.Add(new DisposableInfo(disposable, priority));\n            }\n\n            foreach (var lateDisposable in lateDisposables)\n            {\n                var match = latePriorities.Where(x => lateDisposable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)x.Second).SingleOrDefault();\n                int priority = match.HasValue ? match.Value : 0;\n\n                _lateDisposables.Add(new LateDisposableInfo(lateDisposable, priority));\n            }\n        }\n\n        public void Add(IDisposable disposable)\n        {\n            Add(disposable, 0);\n        }\n\n        public void Add(IDisposable disposable, int priority)\n        {\n            _disposables.Add(\n                new DisposableInfo(disposable, priority));\n        }\n\n        public void AddLate(ILateDisposable disposable)\n        {\n            AddLate(disposable, 0);\n        }\n\n        public void AddLate(ILateDisposable disposable, int priority)\n        {\n            _lateDisposables.Add(\n                new LateDisposableInfo(disposable, priority));\n        }\n\n        public void Remove(IDisposable disposable)\n        {\n            _disposables.RemoveWithConfirm(\n                _disposables.Where(x => ReferenceEquals(x.Disposable, disposable)).Single());\n        }\n\n        public void LateDispose()\n        {\n            Assert.That(!_lateDisposed, \"Tried to late dispose DisposableManager twice!\");\n            _lateDisposed = true;\n\n            // Dispose in the reverse order that they are initialized in\n            var disposablesOrdered = _lateDisposables.OrderBy(x => x.Priority).Reverse().ToList();\n\n#if UNITY_EDITOR\n            foreach (var disposable in disposablesOrdered.Select(x => x.LateDisposable).GetDuplicates())\n            {\n                Assert.That(false, \"Found duplicate ILateDisposable with type '{0}'\".Fmt(disposable.GetType()));\n            }\n#endif\n\n            foreach (var disposable in disposablesOrdered)\n            {\n                try\n                {\n                    disposable.LateDisposable.LateDispose();\n                }\n                catch (Exception e)\n                {\n                    throw Assert.CreateException(\n                        e, \"Error occurred while late disposing ILateDisposable with type '{0}'\", disposable.LateDisposable.GetType());\n                }\n            }\n        }\n\n        public void Dispose()\n        {\n            Assert.That(!_disposed, \"Tried to dispose DisposableManager twice!\");\n            _disposed = true;\n\n            // Dispose in the reverse order that they are initialized in\n            var disposablesOrdered = _disposables.OrderBy(x => x.Priority).Reverse().ToList();\n\n#if UNITY_EDITOR\n            foreach (var disposable in disposablesOrdered.Select(x => x.Disposable).GetDuplicates())\n            {\n                Assert.That(false, \"Found duplicate IDisposable with type '{0}'\".Fmt(disposable.GetType()));\n            }\n#endif\n\n            foreach (var disposable in disposablesOrdered)\n            {\n                try\n                {\n                    disposable.Disposable.Dispose();\n                }\n                catch (Exception e)\n                {\n                    throw Assert.CreateException(\n                        e, \"Error occurred while disposing IDisposable with type '{0}'\", disposable.Disposable.GetType());\n                }\n            }\n        }\n\n        struct DisposableInfo\n        {\n            public IDisposable Disposable;\n            public int Priority;\n\n            public DisposableInfo(IDisposable disposable, int priority)\n            {\n                Disposable = disposable;\n                Priority = priority;\n            }\n        }\n\n        class LateDisposableInfo\n        {\n            public ILateDisposable LateDisposable;\n            public int Priority;\n\n            public LateDisposableInfo(ILateDisposable lateDisposable, int priority)\n            {\n                LateDisposable = lateDisposable;\n                Priority = priority;\n            }\n        }\n    }\n}\n","size_bytes":5461},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/GuiRenderableManager.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n\nnamespace Zenject\n{\n    // See comment in IGuiRenderable.cs for usage\n    public class GuiRenderableManager\n    {\n        List<RenderableInfo> _renderables;\n\n        public GuiRenderableManager(\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<IGuiRenderable> renderables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _renderables = new List<RenderableInfo>();\n\n            foreach (var renderable in renderables)\n            {\n                // Note that we use zero for unspecified priority\n                // This is nice because you can use negative or positive for before/after unspecified\n                var matches = priorities\n                    .Where(x => renderable.GetType().DerivesFromOrEqual(x.First))\n                    .Select(x => x.Second).ToList();\n\n                int priority = matches.IsEmpty() ? 0 : matches.Distinct().Single();\n\n                _renderables.Add(\n                    new RenderableInfo(renderable, priority));\n            }\n\n            _renderables = _renderables.OrderBy(x => x.Priority).ToList();\n\n#if UNITY_EDITOR\n            foreach (var renderable in _renderables.Select(x => x.Renderable).GetDuplicates())\n            {\n                Assert.That(false, \"Found duplicate IGuiRenderable with type '{0}'\".Fmt(renderable.GetType()));\n            }\n#endif\n        }\n\n        public void OnGui()\n        {\n            foreach (var renderable in _renderables)\n            {\n                try\n                {\n#if ZEN_INTERNAL_PROFILING\n                    using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                    using (ProfileBlock.Start(\"{0}.GuiRender()\", renderable.Renderable.GetType()))\n#endif\n                    {\n                        renderable.Renderable.GuiRender();\n                    }\n                }\n                catch (Exception e)\n                {\n                    throw Assert.CreateException(\n                        e, \"Error occurred while calling {0}.GuiRender\", renderable.Renderable.GetType());\n                }\n            }\n        }\n\n        class RenderableInfo\n        {\n            public IGuiRenderable Renderable;\n            public int Priority;\n\n            public RenderableInfo(IGuiRenderable renderable, int priority)\n            {\n                Renderable = renderable;\n                Priority = priority;\n            }\n        }\n    }\n}\n","size_bytes":2622},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/GuiRenderer.cs":{"content":"using UnityEngine;\n\nnamespace Zenject\n{\n    public class GuiRenderer : MonoBehaviour\n    {\n        GuiRenderableManager _renderableManager;\n\n        [Inject]\n        void Construct(GuiRenderableManager renderableManager)\n        {\n            _renderableManager = renderableManager;\n        }\n\n        public void OnGUI()\n        {\n            _renderableManager.OnGui();\n        }\n    }\n}\n","size_bytes":390},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/InitializableManager.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n\nnamespace Zenject\n{\n    // Responsibilities:\n    // - Run Initialize() on all Iinitializable's, in the order specified by InitPriority\n    public class InitializableManager\n    {\n        List<InitializableInfo> _initializables;\n\n        protected bool _hasInitialized;\n\n        [Inject]\n        public InitializableManager(\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<IInitializable> initializables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _initializables = new List<InitializableInfo>();\n\n            for (int i = 0; i < initializables.Count; i++)\n            {\n                var initializable = initializables[i];\n\n                // Note that we use zero for unspecified priority\n                // This is nice because you can use negative or positive for before/after unspecified\n                var matches = priorities.Where(x => initializable.GetType().DerivesFromOrEqual(x.First)).Select(x => x.Second).ToList();\n                int priority = matches.IsEmpty() ? 0 : matches.Distinct().Single();\n\n                _initializables.Add(new InitializableInfo(initializable, priority));\n            }\n        }\n\n        public void Add(IInitializable initializable)\n        {\n            Add(initializable, 0);\n        }\n\n        public void Add(IInitializable initializable, int priority)\n        {\n            Assert.That(!_hasInitialized);\n            _initializables.Add(\n                new InitializableInfo(initializable, priority));\n        }\n\n        public void Initialize()\n        {\n            Assert.That(!_hasInitialized);\n            _hasInitialized = true;\n\n            _initializables = _initializables.OrderBy(x => x.Priority).ToList();\n\n#if UNITY_EDITOR\n            foreach (var initializable in _initializables.Select(x => x.Initializable).GetDuplicates())\n            {\n                Assert.That(false, \"Found duplicate IInitializable with type '{0}'\".Fmt(initializable.GetType()));\n            }\n#endif\n\n            foreach (var initializable in _initializables)\n            {\n                try\n                {\n#if ZEN_INTERNAL_PROFILING\n                    using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                    using (ProfileBlock.Start(\"{0}.Initialize()\", initializable.Initializable.GetType()))\n#endif\n                    {\n                        initializable.Initializable.Initialize();\n                    }\n                }\n                catch (Exception e)\n                {\n                    throw Assert.CreateException(\n                        e, \"Error occurred while initializing IInitializable with type '{0}'\", initializable.Initializable.GetType());\n                }\n            }\n        }\n\n        class InitializableInfo\n        {\n            public IInitializable Initializable;\n            public int Priority;\n\n            public InitializableInfo(IInitializable initializable, int priority)\n            {\n                Initializable = initializable;\n                Priority = priority;\n            }\n        }\n    }\n}\n","size_bytes":3280},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/PoolableManager.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n\nnamespace Zenject\n{\n    public class PoolableManager\n    {\n        readonly List<IPoolable> _poolables;\n\n        bool _isSpawned;\n\n        public PoolableManager(\n            [InjectLocal]\n            List<IPoolable> poolables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _poolables = poolables.Select(x => CreatePoolableInfo(x, priorities))\n                .OrderBy(x => x.Priority).Select(x => x.Poolable).ToList();\n        }\n\n        PoolableInfo CreatePoolableInfo(IPoolable poolable, List<ValuePair<Type, int>> priorities)\n        {\n            var match = priorities.Where(x => poolable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)(x.Second)).SingleOrDefault();\n            int priority = match.HasValue ? match.Value : 0;\n\n            return new PoolableInfo(poolable, priority);\n        }\n\n        public void TriggerOnSpawned()\n        {\n            Assert.That(!_isSpawned);\n            _isSpawned = true;\n\n            for (int i = 0; i < _poolables.Count; i++)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnSpawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnSpawned();\n                }\n            }\n        }\n\n        public void TriggerOnDespawned()\n        {\n            Assert.That(_isSpawned);\n            _isSpawned = false;\n\n            // Call OnDespawned in the reverse order just like how dispose works\n            for (int i = _poolables.Count - 1; i >= 0; i--)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnDespawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnDespawned();\n                }\n            }\n        }\n\n        struct PoolableInfo\n        {\n            public IPoolable Poolable;\n            public int Priority;\n\n            public PoolableInfo(IPoolable poolable, int priority)\n            {\n                Poolable = poolable;\n                Priority = priority;\n            }\n        }\n    }\n\n    /// <summary>\n    /// A modified version of PoolableManager that adds a generic argument, allowing\n    /// the passing of a parameter to all IPoolable<T> objects in the container.\n    /// </summary>\n    public class PoolableManager<T>\n    {\n        readonly List<IPoolable<T>> _poolables;\n\n        bool _isSpawned;\n\n        public PoolableManager(\n            [InjectLocal]\n            List<IPoolable<T>> poolables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _poolables = poolables.Select(x => CreatePoolableInfo(x, priorities))\n                .OrderBy(x => x.Priority).Select(x => x.Poolable).ToList();\n        }\n\n        PoolableInfo CreatePoolableInfo(IPoolable<T> poolable, List<ValuePair<Type, int>> priorities)\n        {\n            var match = priorities.Where(x => poolable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)(x.Second)).SingleOrDefault();\n            int priority = match.HasValue ? match.Value : 0;\n\n            return new PoolableInfo(poolable, priority);\n        }\n\n        public void TriggerOnSpawned(T param)\n        {\n            Assert.That(!_isSpawned);\n            _isSpawned = true;\n\n            for (int i = 0; i < _poolables.Count; i++)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnSpawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnSpawned(param);\n                }\n            }\n        }\n\n        public void TriggerOnDespawned()\n        {\n            Assert.That(_isSpawned);\n            _isSpawned = false;\n\n            // Call OnDespawned in the reverse order just like how dispose works\n            for (int i = _poolables.Count - 1; i >= 0; i--)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnDespawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnDespawned();\n                }\n            }\n        }\n\n        struct PoolableInfo\n        {\n            public IPoolable<T> Poolable;\n            public int Priority;\n\n            public PoolableInfo(IPoolable<T> poolable, int priority)\n            {\n                Poolable = poolable;\n                Priority = priority;\n            }\n        }\n    }\n\n    /// <summary>\n    /// A modified version of PoolableManager that adds a generic argument, allowing\n    /// the passing of a parameter to all IPoolable<T1, T2> objects in the container.\n    /// </summary>\n    public class PoolableManager<T1, T2>\n    {\n        readonly List<IPoolable<T1, T2>> _poolables;\n\n        bool _isSpawned;\n\n        public PoolableManager(\n            [InjectLocal]\n            List<IPoolable<T1, T2>> poolables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _poolables = poolables.Select(x => CreatePoolableInfo(x, priorities))\n                .OrderBy(x => x.Priority).Select(x => x.Poolable).ToList();\n        }\n\n        PoolableInfo CreatePoolableInfo(IPoolable<T1, T2> poolable, List<ValuePair<Type, int>> priorities)\n        {\n            var match = priorities.Where(x => poolable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)(x.Second)).SingleOrDefault();\n            int priority = match.HasValue ? match.Value : 0;\n\n            return new PoolableInfo(poolable, priority);\n        }\n\n        public void TriggerOnSpawned(T1 p1, T2 p2)\n        {\n            Assert.That(!_isSpawned);\n            _isSpawned = true;\n\n            for (int i = 0; i < _poolables.Count; i++)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnSpawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnSpawned(p1, p2);\n                }\n            }\n        }\n\n        public void TriggerOnDespawned()\n        {\n            Assert.That(_isSpawned);\n            _isSpawned = false;\n\n            // Call OnDespawned in the reverse order just like how dispose works\n            for (int i = _poolables.Count - 1; i >= 0; i--)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnDespawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnDespawned();\n                }\n            }\n        }\n\n        struct PoolableInfo\n        {\n            public IPoolable<T1, T2> Poolable;\n            public int Priority;\n\n            public PoolableInfo(IPoolable<T1, T2> poolable, int priority)\n            {\n                Poolable = poolable;\n                Priority = priority;\n            }\n        }\n    }\n\n    /// <summary>\n    /// A modified version of PoolableManager that adds a generic argument, allowing\n    /// the passing of a parameter to all IPoolable<T1, T2> objects in the container.\n    /// </summary>\n    public class PoolableManager<T1, T2, T3>\n    {\n        readonly List<IPoolable<T1, T2, T3>> _poolables;\n\n        bool _isSpawned;\n\n        public PoolableManager(\n            [InjectLocal]\n            List<IPoolable<T1, T2, T3>> poolables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _poolables = poolables.Select(x => CreatePoolableInfo(x, priorities))\n                .OrderBy(x => x.Priority).Select(x => x.Poolable).ToList();\n        }\n\n        PoolableInfo CreatePoolableInfo(IPoolable<T1, T2, T3> poolable, List<ValuePair<Type, int>> priorities)\n        {\n            var match = priorities.Where(x => poolable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)(x.Second)).SingleOrDefault();\n            int priority = match.HasValue ? match.Value : 0;\n\n            return new PoolableInfo(poolable, priority);\n        }\n\n        public void TriggerOnSpawned(T1 p1, T2 p2, T3 p3)\n        {\n            Assert.That(!_isSpawned);\n            _isSpawned = true;\n\n            for (int i = 0; i < _poolables.Count; i++)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnSpawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnSpawned(p1, p2, p3);\n                }\n            }\n        }\n\n        public void TriggerOnDespawned()\n        {\n            Assert.That(_isSpawned);\n            _isSpawned = false;\n\n            // Call OnDespawned in the reverse order just like how dispose works\n            for (int i = _poolables.Count - 1; i >= 0; i--)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnDespawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnDespawned();\n                }\n            }\n        }\n\n        struct PoolableInfo\n        {\n            public IPoolable<T1, T2, T3> Poolable;\n            public int Priority;\n\n            public PoolableInfo(IPoolable<T1, T2, T3> poolable, int priority)\n            {\n                Poolable = poolable;\n                Priority = priority;\n            }\n        }\n    }\n\n    /// <summary>\n    /// A modified version of PoolableManager that adds a generic argument, allowing\n    /// the passing of a parameter to all IPoolable<T1, T2> objects in the container.\n    /// </summary>\n    public class PoolableManager<T1, T2, T3, T4>\n    {\n        readonly List<IPoolable<T1, T2, T3, T4>> _poolables;\n\n        bool _isSpawned;\n\n        public PoolableManager(\n            [InjectLocal]\n            List<IPoolable<T1, T2, T3, T4>> poolables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _poolables = poolables.Select(x => CreatePoolableInfo(x, priorities))\n                .OrderBy(x => x.Priority).Select(x => x.Poolable).ToList();\n        }\n\n        PoolableInfo CreatePoolableInfo(IPoolable<T1, T2, T3, T4> poolable, List<ValuePair<Type, int>> priorities)\n        {\n            var match = priorities.Where(x => poolable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)(x.Second)).SingleOrDefault();\n            int priority = match.HasValue ? match.Value : 0;\n\n            return new PoolableInfo(poolable, priority);\n        }\n\n        public void TriggerOnSpawned(T1 p1, T2 p2, T3 p3, T4 p4)\n        {\n            Assert.That(!_isSpawned);\n            _isSpawned = true;\n\n            for (int i = 0; i < _poolables.Count; i++)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnSpawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnSpawned(p1, p2, p3, p4);\n                }\n            }\n        }\n\n        public void TriggerOnDespawned()\n        {\n            Assert.That(_isSpawned);\n            _isSpawned = false;\n\n            // Call OnDespawned in the reverse order just like how dispose works\n            for (int i = _poolables.Count - 1; i >= 0; i--)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnDespawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnDespawned();\n                }\n            }\n        }\n\n        struct PoolableInfo\n        {\n            public IPoolable<T1, T2, T3, T4> Poolable;\n            public int Priority;\n\n            public PoolableInfo(IPoolable<T1, T2, T3, T4> poolable, int priority)\n            {\n                Poolable = poolable;\n                Priority = priority;\n            }\n        }\n    }\n\n\n    /// <summary>\n    /// A modified version of PoolableManager that adds a generic argument, allowing\n    /// the passing of a parameter to all IPoolable<T1, T2> objects in the container.\n    /// </summary>\n    public class PoolableManager<T1, T2, T3, T4, T5>\n    {\n        readonly List<IPoolable<T1, T2, T3, T4, T5>> _poolables;\n\n        bool _isSpawned;\n\n        public PoolableManager(\n            [InjectLocal]\n            List<IPoolable<T1, T2, T3, T4, T5>> poolables,\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<ValuePair<Type, int>> priorities)\n        {\n            _poolables = poolables.Select(x => CreatePoolableInfo(x, priorities))\n                .OrderBy(x => x.Priority).Select(x => x.Poolable).ToList();\n        }\n\n        PoolableInfo CreatePoolableInfo(IPoolable<T1, T2, T3, T4, T5> poolable, List<ValuePair<Type, int>> priorities)\n        {\n            var match = priorities.Where(x => poolable.GetType().DerivesFromOrEqual(x.First)).Select(x => (int?)(x.Second)).SingleOrDefault();\n            int priority = match.HasValue ? match.Value : 0;\n\n            return new PoolableInfo(poolable, priority);\n        }\n\n        public void TriggerOnSpawned(T1 p1, T2 p2, T3 p3, T4 p4, T5 p5)\n        {\n            Assert.That(!_isSpawned);\n            _isSpawned = true;\n\n            for (int i = 0; i < _poolables.Count; i++)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnSpawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnSpawned(p1, p2, p3, p4, p5);\n                }\n            }\n        }\n\n        public void TriggerOnDespawned()\n        {\n            Assert.That(_isSpawned);\n            _isSpawned = false;\n\n            // Call OnDespawned in the reverse order just like how dispose works\n            for (int i = _poolables.Count - 1; i >= 0; i--)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.OnDespawned\", _poolables[i].GetType()))\n#endif\n                {\n                    _poolables[i].OnDespawned();\n                }\n            }\n        }\n\n        struct PoolableInfo\n        {\n            public IPoolable<T1, T2, T3, T4, T5> Poolable;\n            public int Priority;\n\n            public PoolableInfo(IPoolable<T1, T2, T3, T4, T5> poolable, int priority)\n            {\n                Poolable = poolable;\n                Priority = priority;\n            }\n        }\n    }\n}\n","size_bytes":15410},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/SceneContextRegistry.cs":{"content":"using System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine.SceneManagement;\n\nnamespace Zenject\n{\n    public class SceneContextRegistry\n    {\n        readonly Dictionary<Scene, SceneContext> _map = new Dictionary<Scene, SceneContext>();\n\n        public IEnumerable<SceneContext> SceneContexts\n        {\n            get { return _map.Values; }\n        }\n\n        public void Add(SceneContext context)\n        {\n            Assert.That(!_map.ContainsKey(context.gameObject.scene));\n            _map.Add(context.gameObject.scene, context);\n        }\n\n        public SceneContext GetSceneContextForScene(string name)\n        {\n            var scene = SceneManager.GetSceneByName(name);\n            Assert.That(scene.IsValid(), \"Could not find scene with name '{0}'\", name);\n            return GetSceneContextForScene(scene);\n        }\n\n        public SceneContext GetSceneContextForScene(Scene scene)\n        {\n            return _map[scene];\n        }\n\n        public SceneContext TryGetSceneContextForScene(string name)\n        {\n            var scene = SceneManager.GetSceneByName(name);\n            Assert.That(scene.IsValid(), \"Could not find scene with name '{0}'\", name);\n            return TryGetSceneContextForScene(scene);\n        }\n\n        public SceneContext TryGetSceneContextForScene(Scene scene)\n        {\n            SceneContext context;\n\n            if (_map.TryGetValue(scene, out context))\n            {\n                return context;\n            }\n\n            return null;\n        }\n\n        public DiContainer GetContainerForScene(Scene scene)\n        {\n            var container = TryGetContainerForScene(scene);\n\n            if (container != null)\n            {\n                return container;\n            }\n\n            throw Assert.CreateException(\n                \"Unable to find DiContainer for scene '{0}'\", scene.name);\n        }\n\n        public DiContainer TryGetContainerForScene(Scene scene)\n        {\n            if (scene == ProjectContext.Instance.gameObject.scene)\n            {\n                return ProjectContext.Instance.Container;\n            }\n\n            var sceneContext = TryGetSceneContextForScene(scene);\n\n            if (sceneContext != null)\n            {\n                return sceneContext.Container;\n            }\n\n            return null;\n        }\n\n        public void Remove(SceneContext context)\n        {\n            bool removed = _map.Remove(context.gameObject.scene);\n\n            if (!removed)\n            {\n                Log.Warn(\"Failed to remove SceneContext from SceneContextRegistry\");\n            }\n        }\n    }\n\n}\n","size_bytes":2601},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/SceneContextRegistryAdderAndRemover.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    public class SceneContextRegistryAdderAndRemover : IInitializable, IDisposable\n    {\n        readonly SceneContextRegistry _registry;\n        readonly SceneContext _sceneContext;\n\n        public SceneContextRegistryAdderAndRemover(\n            SceneContext sceneContext,\n            SceneContextRegistry registry)\n        {\n            _registry = registry;\n            _sceneContext = sceneContext;\n        }\n\n        public void Initialize()\n        {\n            _registry.Add(_sceneContext);\n        }\n\n        public void Dispose()\n        {\n            _registry.Remove(_sceneContext);\n        }\n    }\n}\n\n","size_bytes":650},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/TaskUpdater.cs":{"content":"using System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // Update tasks once per frame based on a priority\n    [DebuggerStepThrough]\n    public abstract class TaskUpdater<TTask>\n    {\n        readonly LinkedList<TaskInfo> _tasks = new LinkedList<TaskInfo>();\n        readonly List<TaskInfo> _queuedTasks = new List<TaskInfo>();\n\n        IEnumerable<TaskInfo> AllTasks\n        {\n            get { return ActiveTasks.Concat(_queuedTasks); }\n        }\n\n        IEnumerable<TaskInfo> ActiveTasks\n        {\n            get { return _tasks; }\n        }\n\n        public void AddTask(TTask task, int priority)\n        {\n            AddTaskInternal(task, priority);\n        }\n\n        void AddTaskInternal(TTask task, int priority)\n        {\n            Assert.That(!AllTasks.Select(x => x.Task).ContainsItem(task),\n                \"Duplicate task added to DependencyRoot with name '\" + task.GetType().FullName + \"'\");\n\n            // Wait until next frame to add the task, otherwise whether it gets updated\n            // on the current frame depends on where in the update order it was added\n            // from, so you might get off by one frame issues\n            _queuedTasks.Add(new TaskInfo(task, priority));\n        }\n\n        public void RemoveTask(TTask task)\n        {\n            var info = AllTasks.Where(x => ReferenceEquals(x.Task, task)).SingleOrDefault();\n\n            Assert.IsNotNull(info, \"Tried to remove a task not added to DependencyRoot, task = \" + task.GetType().Name);\n\n            Assert.That(!info.IsRemoved, \"Tried to remove task twice, task = \" + task.GetType().Name);\n            info.IsRemoved = true;\n        }\n\n        public void OnFrameStart()\n        {\n            // See above comment\n            AddQueuedTasks();\n        }\n\n        public void UpdateAll()\n        {\n            UpdateRange(int.MinValue, int.MaxValue);\n        }\n\n        public void UpdateRange(int minPriority, int maxPriority)\n        {\n            var node = _tasks.First;\n\n            while (node != null)\n            {\n                var next = node.Next;\n                var taskInfo = node.Value;\n\n                // Make sure that tasks with priority of int.MaxValue are updated when maxPriority is int.MaxValue\n                if (!taskInfo.IsRemoved && taskInfo.Priority >= minPriority\n                    && (maxPriority == int.MaxValue || taskInfo.Priority < maxPriority))\n                {\n                    UpdateItem(taskInfo.Task);\n                }\n\n                node = next;\n            }\n\n            ClearRemovedTasks(_tasks);\n        }\n\n        void ClearRemovedTasks(LinkedList<TaskInfo> tasks)\n        {\n            var node = tasks.First;\n\n            while (node != null)\n            {\n                var next = node.Next;\n                var info = node.Value;\n\n                if (info.IsRemoved)\n                {\n                    //ModestTree.Log.Debug(\"Removed task '\" + info.Task.GetType().ToString() + \"'\");\n                    tasks.Remove(node);\n                }\n\n                node = next;\n            }\n        }\n\n        void AddQueuedTasks()\n        {\n            for (int i = 0; i < _queuedTasks.Count; i++)\n            {\n                var task = _queuedTasks[i];\n\n                if (!task.IsRemoved)\n                {\n                    InsertTaskSorted(task);\n                }\n            }\n            _queuedTasks.Clear();\n        }\n\n        void InsertTaskSorted(TaskInfo task)\n        {\n            for (var current = _tasks.First; current != null; current = current.Next)\n            {\n                if (current.Value.Priority > task.Priority)\n                {\n                    _tasks.AddBefore(current, task);\n                    return;\n                }\n            }\n\n            _tasks.AddLast(task);\n        }\n\n        protected abstract void UpdateItem(TTask task);\n\n        class TaskInfo\n        {\n            public TTask Task;\n            public int Priority;\n            public bool IsRemoved;\n\n            public TaskInfo(TTask task, int priority)\n            {\n                Task = task;\n                Priority = priority;\n            }\n        }\n    }\n\n    public class TickablesTaskUpdater : TaskUpdater<ITickable>\n    {\n        protected override void UpdateItem(ITickable task)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"{0}.Tick()\", task.GetType()))\n#endif\n            {\n                task.Tick();\n            }\n        }\n    }\n\n    public class LateTickablesTaskUpdater : TaskUpdater<ILateTickable>\n    {\n        protected override void UpdateItem(ILateTickable task)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"{0}.LateTick()\", task.GetType()))\n#endif\n            {\n                task.LateTick();\n            }\n        }\n    }\n\n    public class FixedTickablesTaskUpdater : TaskUpdater<IFixedTickable>\n    {\n        protected override void UpdateItem(IFixedTickable task)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"{0}.FixedTick()\", task.GetType()))\n#endif\n            {\n                task.FixedTick();\n            }\n        }\n    }\n}\n","size_bytes":5461},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/TickableManager.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n#if ZEN_SIGNALS_ADD_UNIRX\nusing UniRx;\n#endif\n\nnamespace Zenject\n{\n    public class TickableManager\n    {\n        [Inject(Optional = true, Source = InjectSources.Local)]\n        readonly List<ITickable> _tickables = null;\n\n        [Inject(Optional = true, Source = InjectSources.Local)]\n        readonly List<IFixedTickable> _fixedTickables = null;\n\n        [Inject(Optional = true, Source = InjectSources.Local)]\n        readonly List<ILateTickable> _lateTickables = null;\n\n        [Inject(Optional = true, Source = InjectSources.Local)]\n        readonly List<ValuePair<Type, int>> _priorities = null;\n\n        [Inject(Optional = true, Id = \"Fixed\", Source = InjectSources.Local)]\n        readonly List<ValuePair<Type, int>> _fixedPriorities = null;\n\n        [Inject(Optional = true, Id = \"Late\", Source = InjectSources.Local)]\n        readonly List<ValuePair<Type, int>> _latePriorities = null;\n\n#if ZEN_SIGNALS_ADD_UNIRX\n        readonly Subject<Unit> _tickStream = new Subject<Unit>();\n        readonly Subject<Unit> _lateTickStream = new Subject<Unit>();\n        readonly Subject<Unit> _fixedTickStream = new Subject<Unit>();\n#endif\n\n        readonly TickablesTaskUpdater _updater = new TickablesTaskUpdater();\n        readonly FixedTickablesTaskUpdater _fixedUpdater = new FixedTickablesTaskUpdater();\n        readonly LateTickablesTaskUpdater _lateUpdater = new LateTickablesTaskUpdater();\n\n        bool _isPaused;\n\n        [Inject]\n        public TickableManager()\n        {\n        }\n\n#if ZEN_SIGNALS_ADD_UNIRX\n        public IObservable<Unit> TickStream\n        {\n            get { return _tickStream; }\n        }\n\n        public IObservable<Unit> LateTickStream\n        {\n            get { return _lateTickStream; }\n        }\n\n        public IObservable<Unit> FixedTickStream\n        {\n            get { return _fixedTickStream; }\n        }\n#endif\n\n        public IEnumerable<ITickable> Tickables\n        {\n            get { return _tickables; }\n        }\n\n        public bool IsPaused\n        {\n            get { return _isPaused; }\n            set { _isPaused = value; }\n        }\n\n        [Inject]\n        public void Initialize()\n        {\n            InitTickables();\n            InitFixedTickables();\n            InitLateTickables();\n        }\n\n        void InitFixedTickables()\n        {\n            foreach (var type in _fixedPriorities.Select(x => x.First))\n            {\n                Assert.That(type.DerivesFrom<IFixedTickable>(),\n                    \"Expected type '{0}' to drive from IFixedTickable while checking priorities in TickableHandler\", type);\n            }\n\n            foreach (var tickable in _fixedTickables)\n            {\n                // Note that we use zero for unspecified priority\n                // This is nice because you can use negative or positive for before/after unspecified\n                var matches = _fixedPriorities.Where(x => tickable.GetType().DerivesFromOrEqual(x.First)).Select(x => x.Second).ToList();\n                int priority = matches.IsEmpty() ? 0 : matches.Distinct().Single();\n\n                _fixedUpdater.AddTask(tickable, priority);\n            }\n        }\n\n        void InitTickables()\n        {\n            foreach (var type in _priorities.Select(x => x.First))\n            {\n                Assert.That(type.DerivesFrom<ITickable>(),\n                    \"Expected type '{0}' to drive from ITickable while checking priorities in TickableHandler\", type);\n            }\n\n            foreach (var tickable in _tickables)\n            {\n                // Note that we use zero for unspecified priority\n                // This is nice because you can use negative or positive for before/after unspecified\n                var matches = _priorities.Where(x => tickable.GetType().DerivesFromOrEqual(x.First)).Select(x => x.Second).ToList();\n                int priority = matches.IsEmpty() ? 0 : matches.Distinct().Single();\n\n                _updater.AddTask(tickable, priority);\n            }\n        }\n\n        void InitLateTickables()\n        {\n            foreach (var type in _latePriorities.Select(x => x.First))\n            {\n                Assert.That(type.DerivesFrom<ILateTickable>(),\n                    \"Expected type '{0}' to drive from ILateTickable while checking priorities in TickableHandler\", type);\n            }\n\n            foreach (var tickable in _lateTickables)\n            {\n                // Note that we use zero for unspecified priority\n                // This is nice because you can use negative or positive for before/after unspecified\n                var matches = _latePriorities.Where(x => tickable.GetType().DerivesFromOrEqual(x.First)).Select(x => x.Second).ToList();\n                int priority = matches.IsEmpty() ? 0 : matches.Distinct().Single();\n\n                _lateUpdater.AddTask(tickable, priority);\n            }\n        }\n\n        public void Add(ITickable tickable, int priority)\n        {\n            _updater.AddTask(tickable, priority);\n        }\n\n        public void Add(ITickable tickable)\n        {\n            Add(tickable, 0);\n        }\n\n        public void AddLate(ILateTickable tickable, int priority)\n        {\n            _lateUpdater.AddTask(tickable, priority);\n        }\n\n        public void AddLate(ILateTickable tickable)\n        {\n            AddLate(tickable, 0);\n        }\n\n        public void AddFixed(IFixedTickable tickable, int priority)\n        {\n            _fixedUpdater.AddTask(tickable, priority);\n        }\n\n        public void AddFixed(IFixedTickable tickable)\n        {\n            _fixedUpdater.AddTask(tickable, 0);\n        }\n\n        public void Remove(ITickable tickable)\n        {\n            _updater.RemoveTask(tickable);\n        }\n\n        public void RemoveLate(ILateTickable tickable)\n        {\n            _lateUpdater.RemoveTask(tickable);\n        }\n\n        public void RemoveFixed(IFixedTickable tickable)\n        {\n            _fixedUpdater.RemoveTask(tickable);\n        }\n\n        public void Update()\n        {\n            if(IsPaused)\n            {\n                return;\n            }\n\n            _updater.OnFrameStart();\n            _updater.UpdateAll();\n\n#if ZEN_SIGNALS_ADD_UNIRX\n            _tickStream.OnNext(Unit.Default);\n#endif\n        }\n\n        public void FixedUpdate()\n        {\n            if(IsPaused)\n            {\n                return;\n            }\n\n            _fixedUpdater.OnFrameStart();\n            _fixedUpdater.UpdateAll();\n\n#if ZEN_SIGNALS_ADD_UNIRX\n            _fixedTickStream.OnNext(Unit.Default);\n#endif\n        }\n\n        public void LateUpdate()\n        {\n            if(IsPaused)\n            {\n                return;\n            }\n\n            _lateUpdater.OnFrameStart();\n            _lateUpdater.UpdateAll();\n\n#if ZEN_SIGNALS_ADD_UNIRX\n            _lateTickStream.OnNext(Unit.Default);\n#endif\n        }\n    }\n}\n","size_bytes":6935},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ActionInstaller.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    public class ActionInstaller : Installer<ActionInstaller>\n    {\n        readonly Action<DiContainer> _installMethod;\n\n        public ActionInstaller(Action<DiContainer> installMethod)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override void InstallBindings()\n        {\n            _installMethod(Container);\n        }\n    }\n}\n","size_bytes":402},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/CheatSheet.cs":{"content":"using System.Linq;\nusing ModestTree;\nusing UnityEngine;\n\n#pragma warning disable 219\n\nnamespace Zenject\n{\n    public class CheatSheet : Installer<CheatSheet>\n    {\n        public override void InstallBindings()\n        {\n            // Create a new instance of Foo for every class that asks for it\n            Container.Bind<Foo>().AsTransient();\n\n            // Create a new instance of Foo for every class that asks for an IFoo\n            Container.Bind<IFoo>().To<Foo>().AsTransient();\n\n            // Non generic version of the above\n            Container.Bind(typeof(IFoo)).To(typeof(Foo)).AsTransient();\n\n            ///////////// AsSingle\n\n            // Create one definitive instance of Foo and re-use that for every class that asks for it\n            Container.Bind<Foo>().AsSingle();\n\n            // Create one definitive instance of Foo and re-use that for every class that asks for IFoo\n            Container.Bind<IFoo>().To<Foo>().AsSingle();\n\n            // Bind the same instance to multiple types\n            // In this example, the same instance of Foo will be used for all three types\n            // (we have to use the non-generic version of Bind when mapping to multiple types)\n            Container.Bind(typeof(Foo), typeof(IFoo), typeof(IFoo2)).To<Foo>().AsSingle();\n\n            ///////////// BindInterfaces\n\n            // This will have the exact same effect as the above line\n            // Bind all interfaces that Foo implements and Foo itself to a new singleton of type Foo\n            Container.BindInterfacesAndSelfTo<Foo>().AsSingle();\n\n            // Bind only the interfaces that Foo implements to an instance of Foo\n            // This can be useful if you don't want any classes to directly reference the concrete\n            // derived type\n            Container.BindInterfacesTo<Foo>().AsSingle();\n\n            ///////////// FromInstance\n\n            // Use the given instance everywhere that Foo is used\n            // Note that in this case there's no good reason to use FromInstance\n            Container.Bind<Foo>().FromInstance(new Foo());\n\n            // This is simply a shortcut for the above binding\n            // This can be a bit nicer since the type argument can be deduced from the parameter\n            Container.BindInstance(new Foo());\n\n            // Bind multiple instances at once\n            Container.BindInstances(new Foo(), new Bar());\n\n            ///////////// Binding primitive types\n\n            // BindInstance is more commonly used with primitive types\n            // Use the number 10 every time an int is requested\n            Container.Bind<int>().FromInstance(10);\n            Container.Bind<bool>().FromInstance(false);\n\n            // Or equivalently:\n            Container.BindInstance(10);\n            Container.BindInstance(false);\n\n            // You'd never really want to do the above though - you should almost always use a When condition for primitive values\n            Container.BindInstance(10).WhenInjectedInto<Foo>();\n\n            ///////////// FromMethod\n\n            // Create instance of Foo when requested, using the given method\n            // Note that for more complex construction scenarios, you might consider using a factory\n            // instead with FromFactory\n            Container.Bind<Foo>().FromMethod(GetFoo);\n\n            // Randomly return one of several different implementations of IFoo\n            // We use Instantiate here instead of just new so that Foo1 gets its members injected\n            Container.Bind<IFoo>().FromMethod(GetRandomFoo);\n\n            // You an also use an anonymouse delegate directly\n            Container.Bind<Foo>().FromMethod(ctx => new Foo());\n\n            // This is equivalent to AsTransient\n            Container.Bind<Foo>().FromMethod(ctx => ctx.Container.Instantiate<Foo>());\n\n            InstallMore();\n        }\n\n        Foo GetFoo(InjectContext ctx)\n        {\n            return new Foo();\n        }\n\n        IFoo GetRandomFoo(InjectContext ctx)\n        {\n            switch (Random.Range(0, 3))\n            {\n                case 0:\n                {\n                    return ctx.Container.Instantiate<Foo1>();\n                }\n                case 1:\n                {\n                    return ctx.Container.Instantiate<Foo2>();\n                }\n            }\n\n            return ctx.Container.Instantiate<Foo3>();\n        }\n\n        void InstallMore()\n        {\n            ///////////// FromResolveGetter\n\n            // Bind to a property on another dependency\n            // This can be helpful to reduce coupling between classes\n            Container.Bind<Foo>().AsSingle();\n\n            Container.Bind<Bar>().FromResolveGetter<Foo>(foo => foo.GetBar());\n\n            // Another example using values\n            Container.Bind<string>().FromResolveGetter<Foo>(foo => foo.GetTitle());\n\n            ///////////// FromNewComponentOnNewGameObject\n\n            // Create a new game object at the root of the scene and add the Foo MonoBehaviour to it\n            Container.Bind<Foo>().FromNewComponentOnNewGameObject().AsSingle();\n\n            // You can also specify the game object name to use using WithGameObjectName\n            Container.Bind<Foo>().FromNewComponentOnNewGameObject().WithGameObjectName(\"Foo1\").AsSingle();\n\n            // Bind to an interface instead\n            Container.Bind<IFoo>().To<Foo>().FromNewComponentOnNewGameObject().AsSingle();\n\n            ///////////// FromComponentInNewPrefab (singleton)\n\n            // Create a new game object at the root of the scene using the given prefab\n            // After zenject creates a new GameObject from the given prefab, it will\n            // search the prefab for a component of type 'Foo' and return that\n            GameObject prefab = null;\n            Container.Bind<Foo>().FromComponentInNewPrefab(prefab).AsSingle();\n\n            // Bind to interface instead\n            Container.Bind<IFoo>().To<Foo>().FromComponentInNewPrefab(prefab).AsSingle();\n\n            // You can also add multiple components\n            // Note here that only one instance of the given prefab will be\n            // created\n            // For this to work, there must be both a Foo MonoBehaviour and\n            // a Bar MonoBehaviour somewhere on the prefab\n            Container.Bind(typeof(Foo), typeof(Bar)).FromComponentInNewPrefab(prefab).AsSingle();\n\n            ///////////// FromComponentInNewPrefab (Transient)\n\n            // Instantiate a new copy of 'prefab' every time an instance of Foo is\n            // requested by a constructor parameter, injected field, etc.\n            Container.Bind<Foo>().FromComponentInNewPrefab(prefab).AsTransient();\n\n            // Bind to interface instead\n            Container.Bind<IFoo>().To<Foo>().FromComponentInNewPrefab(prefab);\n\n            ///////////// Identifiers\n\n            // Bind a globally accessible string with the name 'PlayerName'\n            // Note however that a better option might be to create a Settings object and bind\n            // that instead\n            Container.Bind<string>().WithId(\"PlayerName\").FromInstance(\"name of the player\");\n\n            // This is the equivalent of the line above, and is a bit more readable\n            Container.BindInstance(\"name of the player\").WithId(\"PlayerName\");\n\n            // We can also use IDs to bind multiple instances of the same type:\n            Container.BindInstance(\"foo\").WithId(\"FooA\");\n            Container.BindInstance(\"asdf\").WithId(\"FooB\");\n\n            InstallMore2();\n        }\n\n        // Then when we inject these dependencies we have to use the same ID:\n        public class Norf\n        {\n            [Inject(Id = \"FooA\")]\n            public string Foo;\n        }\n\n        public class Qux\n        {\n            [Inject(Id = \"FooB\")]\n            public string Foo;\n        }\n\n        public void InstallMore2()\n        {\n            ///////////// AsCached\n\n            // In this example, we bind three instances of Foo, including one without an ID\n            // We have to use AsCached here because Foo is not a singleton, but we also\n            // do not want a new Foo created every time like AsTransient\n            // This will result in a maximum of 3 instances of Foo\n            Container.Bind<Foo>().AsCached();\n            Container.Bind<Foo>().WithId(\"FooA\").AsCached();\n            Container.Bind<Foo>().WithId(\"FooA\").AsCached();\n\n            InstallMore3();\n        }\n\n        // When an ID is unspecified in an [Inject] field, it will use the first\n        // instance\n        // Bindings without IDs can therefore be used as a default and we can\n        // specify IDs for specific versions of the same type\n        public class Norf2\n        {\n            [Inject]\n            public Foo Foo;\n        }\n\n        // Qux2._foo will be the same instance as Norf2._foo\n        // This is because we are using AsCached rather than AsTransient\n        public class Qux2\n        {\n            [Inject]\n            public Foo Foo;\n\n            [Inject(Id = \"FooA\")]\n            public Foo Foo2;\n        }\n\n        public void InstallMore3()\n        {\n            ///////////// Conditions\n\n            // This will make Foo only visible to Bar\n            // If we add Foo to the constructor of any other class it won't find it\n            Container.Bind<Foo>().AsSingle().WhenInjectedInto<Bar>();\n\n            // Use different implementations of IFoo dependending on which\n            // class is being injected\n            Container.Bind<IFoo>().To<Foo1>().AsSingle().WhenInjectedInto<Bar>();\n            Container.Bind<IFoo>().To<Foo2>().AsSingle().WhenInjectedInto<Qux>();\n\n            // Use \"Foo1\" as the default implementation except when injecting into\n            // class Qux, in which case use Foo2\n            // This works because if there is a condition match, that takes precedence\n            Container.Bind<IFoo>().To<Foo1>().AsSingle();\n            Container.Bind<IFoo>().To<Foo2>().AsSingle().WhenInjectedInto<Qux>();\n\n            // Allow depending on Foo in only a few select classes\n            Container.Bind<Foo>().AsSingle().WhenInjectedInto(typeof(Bar), typeof(Qux), typeof(Baz));\n\n            // Supply \"my game\" for any strings that are injected into the Gui class with the identifier \"Title\"\n            Container.BindInstance(\"my game\").WithId(\"Title\").WhenInjectedInto<Gui>();\n\n            // Supply 5 for all ints that are injected into the Gui class\n            Container.BindInstance(5).WhenInjectedInto<Gui>();\n\n            // Supply 5 for all ints that are injected into a parameter or field\n            // inside type Gui that is named 'width'\n            // Note that this is usually not a good idea since the name of a field can change\n            // easily and break the binding but shown here as an example of a more complex\n            // condition\n            Container.BindInstance(5.0f).When(ctx =>\n                ctx.ObjectType == typeof(Gui) && ctx.MemberName == \"width\");\n\n            // Create a new 'Foo' for every class that is created as part of the\n            // construction of the 'Bar' class\n            // So if Bar has a constructor parameter of type Qux, and Qux has\n            // a constructor parameter of type IFoo, a new Foo will be created\n            // for that case\n            Container.Bind<IFoo>().To<Foo>().AsTransient().When(\n                ctx => ctx.AllObjectTypes.Contains(typeof(Bar)));\n\n            ///////////// Complex conditions example\n\n            var foo1 = new Foo();\n            var foo2 = new Foo();\n\n            Container.Bind<Bar>().WithId(\"Bar1\").AsCached();\n            Container.Bind<Bar>().WithId(\"Bar2\").AsCached();\n\n            // Here we use the 'ParentContexts' property of inject context to sync multiple corresponding identifiers\n            Container.BindInstance(foo1).When(c => c.ParentContexts.Where(x => x.MemberType == typeof(Bar) && Equals(x.Identifier, \"Bar1\")).Any());\n            Container.BindInstance(foo2).When(c => c.ParentContexts.Where(x => x.MemberType == typeof(Bar) && Equals(x.Identifier, \"Bar2\")).Any());\n\n            // This results in:\n            Assert.That(Container.ResolveId<Bar>(\"Bar1\").Foo == foo1);\n            Assert.That(Container.ResolveId<Bar>(\"Bar2\").Foo == foo2);\n\n            ///////////// FromResolve\n\n            // FromResolve does another lookup on the container\n            // This will result in IBar, IFoo, and Foo, all being bound to the same instance of\n            // Foo which is assume to exist somewhere on the given prefab\n            GameObject fooPrefab = null;\n            Container.Bind<Foo>().FromComponentInNewPrefab(fooPrefab).AsSingle();\n            Container.Bind<IBar>().To<Foo>().FromResolve();\n            Container.Bind<IFoo>().To<IBar>().FromResolve();\n\n            // This will result in the same behaviour as the above\n            Container.Bind(typeof(Foo), typeof(IBar), typeof(IFoo)).To<Foo>().FromComponentInNewPrefab(fooPrefab).AsSingle();\n\n            InstallMore4();\n        }\n\n        public class FooInstaller : Installer<FooInstaller>\n        {\n            public FooInstaller(string foo)\n            {\n            }\n\n            public override void InstallBindings()\n            {\n            }\n        }\n\n        public class FooInstallerWithArgs : Installer<string, FooInstallerWithArgs>\n        {\n            public FooInstallerWithArgs(string foo)\n            {\n            }\n\n            public override void InstallBindings()\n            {\n            }\n        }\n\n        void InstallMore4()\n        {\n            ///////////// Installing Other Installers\n\n            // Immediately call InstallBindings() on FooInstaller\n            FooInstaller.Install(Container);\n\n            // Before calling FooInstaller, configure a property of it\n            Container.BindInstance(\"foo\").WhenInjectedInto<FooInstaller>();\n            FooInstaller.Install(Container);\n\n            // The arguments can also be added to the Installer<> generic arguments to make them\n            // strongly typed\n            FooInstallerWithArgs.Install(Container, \"foo\");\n\n            ///////////// Manual Use of Container\n\n            // This will fill in any parameters marked as [Inject] and also call any [Inject] methods\n            var foo = new Foo();\n            Container.Inject(foo);\n\n            // Return an instance for IFoo, using the bindings that have been added previously\n            // Internally it is what is triggered when you fill in a constructor parameter of type IFoo\n            // Note: It will throw an exception if it cannot find a match\n            Container.Resolve<IFoo>();\n\n            // Same as the above except returns null when it can't find the given type\n            Container.TryResolve<IFoo>();\n\n            // Return a list of 2 instances of type Foo\n            // Note that in this case simply calling Resolve<IFoo> will trigger an exception\n            Container.BindInstance(new Foo());\n            Container.BindInstance(new Foo());\n            var foos = Container.ResolveAll<IFoo>();\n\n            // Create a new instance of Foo and inject on any of its members\n            // And fill in any constructor parameters Foo might have\n            Container.Instantiate<Foo>();\n\n            GameObject prefab1 = null;\n            GameObject prefab2 = null;\n\n            // Instantiate a new prefab and have any injectables filled in on the prefab\n            GameObject go = Container.InstantiatePrefab(prefab1);\n\n            // Instantiate a new prefab and return a specific monobehaviour\n            Foo foo2 = Container.InstantiatePrefabForComponent<Foo>(prefab2);\n\n            // Add a new component to an existing game object\n            Foo foo3 = Container.InstantiateComponent<Foo>(go);\n        }\n\n        public interface IFoo2\n        {\n        }\n\n        public interface IFoo\n        {\n        }\n\n        public interface IBar : IFoo\n        {\n        }\n\n        public class Foo : MonoBehaviour, IFoo, IFoo2, IBar\n        {\n            public Bar GetBar()\n            {\n                return new Bar();\n            }\n\n            public string GetTitle()\n            {\n                return \"title\";\n            }\n        }\n\n        public class Foo1 : IFoo\n        {\n        }\n\n        public class Foo2 : IFoo\n        {\n        }\n\n        public class Foo3 : IFoo\n        {\n        }\n\n        public class Baz\n        {\n        }\n\n        public class Gui\n        {\n        }\n\n        public class Bar : IBar\n        {\n            public Foo Foo\n            {\n                get\n                {\n                    return null;\n                }\n            }\n        }\n    }\n}\n","size_bytes":16676},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/DefaultGameObjectParentInstaller.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public class DefaultGameObjectParentInstaller : Installer<string, DefaultGameObjectParentInstaller>\n    {\n        readonly string _name;\n\n        public DefaultGameObjectParentInstaller(string name)\n        {\n            _name = name;\n        }\n\n        public override void InstallBindings()\n        {\n#if !ZEN_TESTS_OUTSIDE_UNITY\n            var defaultParent = new GameObject(_name);\n\n            defaultParent.transform.SetParent(\n                Container.InheritedDefaultParent, false);\n\n            Container.DefaultParent = defaultParent.transform;\n\n            Container.Bind<IDisposable>()\n                .To<DefaultParentObjectDestroyer>().AsCached().WithArguments(defaultParent);\n\n            // Always destroy the default parent last so that the non-monobehaviours get a chance\n            // to clean it up if they want to first\n            Container.BindDisposableExecutionOrder<DefaultParentObjectDestroyer>(int.MinValue);\n#endif\n        }\n\n        class DefaultParentObjectDestroyer : IDisposable\n        {\n            readonly GameObject _gameObject;\n\n            public DefaultParentObjectDestroyer(GameObject gameObject)\n            {\n                _gameObject = gameObject;\n            }\n\n            public void Dispose()\n            {\n                GameObject.Destroy(_gameObject);\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":1426},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/DisposeBlock.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class DisposeBlock : IDisposable\n    {\n        static readonly StaticMemoryPool<DisposeBlock> _pool =\n            new StaticMemoryPool<DisposeBlock>(OnSpawned, OnDespawned);\n\n        List<IDisposable> _disposables;\n        List<SpawnedObjectPoolPair> _objectPoolPairs;\n\n        static void OnSpawned(DisposeBlock that)\n        {\n            Assert.IsNull(that._disposables);\n            Assert.IsNull(that._objectPoolPairs);\n        }\n\n        static void OnDespawned(DisposeBlock that)\n        {\n            if (that._disposables != null)\n            {\n                // Dispose in reverse order since usually that makes the most sense\n                for (int i = that._disposables.Count - 1; i >= 0; i--)\n                {\n                    that._disposables[i].Dispose();\n                }\n                ListPool<IDisposable>.Instance.Despawn(that._disposables);\n                that._disposables = null;\n            }\n\n            if (that._objectPoolPairs != null)\n            {\n                // Dispose in reverse order since usually that makes the most sense\n                for (int i = that._objectPoolPairs.Count - 1; i >= 0; i--)\n                {\n                    var pair = that._objectPoolPairs[i];\n                    pair.Pool.Despawn(pair.Object);\n                }\n                ListPool<SpawnedObjectPoolPair>.Instance.Despawn(that._objectPoolPairs);\n                that._objectPoolPairs = null;\n            }\n        }\n\n        void LazyInitializeDisposableList()\n        {\n            if (_disposables == null)\n            {\n                _disposables = ListPool<IDisposable>.Instance.Spawn();\n            }\n        }\n\n        public void AddRange<T>(IList<T> disposables)\n            where T : IDisposable\n        {\n            LazyInitializeDisposableList();\n            for (int i = 0; i < disposables.Count; i++)\n            {\n                _disposables.Add(disposables[i]);\n            }\n        }\n\n        public void Add(IDisposable disposable)\n        {\n            LazyInitializeDisposableList();\n            Assert.That(!_disposables.Contains(disposable));\n            _disposables.Add(disposable);\n        }\n\n        public void Remove(IDisposable disposable)\n        {\n            Assert.IsNotNull(_disposables);\n            _disposables.RemoveWithConfirm(disposable);\n        }\n\n        void StoreSpawnedObject<T>(T obj, IDespawnableMemoryPool<T> pool)\n        {\n            if (typeof(T).DerivesFrom<IDisposable>())\n            {\n                Add((IDisposable)obj);\n            }\n            else\n            {\n                // This allocation is ok because it's a struct\n                var pair = new SpawnedObjectPoolPair\n                {\n                    Pool = pool,\n                    Object = obj\n                };\n\n                if (_objectPoolPairs == null)\n                {\n                    _objectPoolPairs = ListPool<SpawnedObjectPoolPair>.Instance.Spawn();\n                }\n                _objectPoolPairs.Add(pair);\n            }\n        }\n\n        public T Spawn<T>(IMemoryPool<T> pool)\n        {\n            var obj = pool.Spawn();\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1>(IMemoryPool<TParam1, TValue> pool, TParam1 p1)\n        {\n            var obj = pool.Spawn(p1);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1, TParam2>(IMemoryPool<TParam1, TParam2, TValue> pool, TParam1 p1, TParam2 p2)\n        {\n            var obj = pool.Spawn(p1, p2);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1, TParam2, TParam3>(IMemoryPool<TParam1, TParam2, TParam3, TValue> pool, TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            var obj = pool.Spawn(p1, p2, p3);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1, TParam2, TParam3, TParam4>(IMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue> pool, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            var obj = pool.Spawn(p1, p2, p3, p4);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1, TParam2, TParam3, TParam4, TParam5>(IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> pool, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5)\n        {\n            var obj = pool.Spawn(p1, p2, p3, p4, p5);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> pool, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6)\n        {\n            var obj = pool.Spawn(p1, p2, p3, p4, p5, p6);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public TValue Spawn<TValue, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7>(IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue> pool, TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7)\n        {\n            var obj = pool.Spawn(p1, p2, p3, p4, p5, p6, p7);\n            StoreSpawnedObject(obj, pool);\n            return obj;\n        }\n\n        public List<T> SpawnList<T>(IEnumerable<T> elements)\n        {\n            var list = SpawnList<T>();\n            list.AddRange(elements);\n            return list;\n        }\n\n        public List<T> SpawnList<T>()\n        {\n            return Spawn(ListPool<T>.Instance);\n        }\n\n        public static DisposeBlock Spawn()\n        {\n            return _pool.Spawn();\n        }\n\n        public void Dispose()\n        {\n            _pool.Despawn(this);\n        }\n\n        struct SpawnedObjectPoolPair\n        {\n            public IMemoryPool Pool;\n            public object Object;\n        }\n    }\n}\n","size_bytes":6169},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ExecutionOrderInstaller.cs":{"content":"using System;\nusing System.Collections.Generic;\n\nnamespace Zenject\n{\n    public class ExecutionOrderInstaller : Installer<List<Type>, ExecutionOrderInstaller>\n    {\n        List<Type> _typeOrder;\n\n        public ExecutionOrderInstaller(List<Type> typeOrder)\n        {\n            _typeOrder = typeOrder;\n        }\n\n        public override void InstallBindings()\n        {\n            // All tickables without explicit priorities assigned are given order of zero,\n            // so put all of these before that (ie. negative)\n            int order = -1 * _typeOrder.Count;\n\n            foreach (var type in _typeOrder)\n            {\n                Container.BindExecutionOrder(type, order);\n                order++;\n            }\n        }\n    }\n}\n\n","size_bytes":749},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ProfileBlock.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Text.RegularExpressions;\nusing ModestTree;\n#if UNITY_EDITOR\nusing UnityEngine.Profiling;\nusing System.Threading;\n#endif\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ProfileBlock : IDisposable\n    {\n#if UNITY_EDITOR\n        static int _blockCount;\n        static ProfileBlock _instance = new ProfileBlock();\n        static Dictionary<int, string> _nameCache = new Dictionary<int, string>();\n\n        ProfileBlock()\n        {\n        }\n\n        public static Thread UnityMainThread\n        {\n            get; set;\n        }\n\n        public static Regex ProfilePattern\n        {\n            get;\n            set;\n        }\n\n        static int GetHashCode(object p1, object p2)\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + p1.GetHashCode();\n                hash = hash * 29 + p2.GetHashCode();\n                return hash;\n            }\n        }\n\n        static int GetHashCode(object p1, object p2, object p3)\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + p1.GetHashCode();\n                hash = hash * 29 + p2.GetHashCode();\n                hash = hash * 29 + p3.GetHashCode();\n                return hash;\n            }\n        }\n\n        public static ProfileBlock Start(string sampleNameFormat, object obj1, object obj2)\n        {\n#if ZEN_TESTS_OUTSIDE_UNITY\n            return null;\n#else\n            if (UnityMainThread == null\n                || !UnityMainThread.Equals(Thread.CurrentThread))\n            {\n                return null;\n            }\n\n            if (!Profiler.enabled)\n            {\n                return null;\n            }\n\n            // We need to ensure that we do not have per-frame allocations in ProfileBlock\n            // to avoid infecting the test too much, so use a cache of formatted strings given\n            // the input values\n            // This only works if the input values do not change per frame\n            var hash = GetHashCode(sampleNameFormat, obj1, obj2);\n\n            string formatString;\n\n            if (!_nameCache.TryGetValue(hash, out formatString))\n            {\n                formatString = string.Format(sampleNameFormat, obj1, obj2);\n                _nameCache.Add(hash, formatString);\n            }\n\n            return StartInternal(formatString);\n#endif\n        }\n\n        public static ProfileBlock Start(string sampleNameFormat, object obj)\n        {\n#if ZEN_TESTS_OUTSIDE_UNITY\n            return null;\n#else\n            if (UnityMainThread == null\n                || !UnityMainThread.Equals(Thread.CurrentThread))\n            {\n                return null;\n            }\n\n            if (!Profiler.enabled)\n            {\n                return null;\n            }\n\n            // We need to ensure that we do not have per-frame allocations in ProfileBlock\n            // to avoid infecting the test too much, so use a cache of formatted strings given\n            // the input values\n            // This only works if the input values do not change per frame\n            var hash = GetHashCode(sampleNameFormat, obj);\n\n            string formatString;\n\n            if (!_nameCache.TryGetValue(hash, out formatString))\n            {\n                formatString = string.Format(sampleNameFormat, obj);\n                _nameCache.Add(hash, formatString);\n            }\n\n            return StartInternal(formatString);\n#endif\n        }\n\n        public static ProfileBlock Start(string sampleName)\n        {\n#if ZEN_TESTS_OUTSIDE_UNITY\n            return null;\n#else\n            if (UnityMainThread == null\n                || !UnityMainThread.Equals(Thread.CurrentThread))\n            {\n                return null;\n            }\n\n            if (!Profiler.enabled)\n            {\n                return null;\n            }\n\n            return StartInternal(sampleName);\n#endif\n        }\n\n        static ProfileBlock StartInternal(string sampleName)\n        {\n            Assert.That(Profiler.enabled);\n\n            if (ProfilePattern == null || ProfilePattern.Match(sampleName).Success)\n            {\n                Profiler.BeginSample(sampleName);\n                _blockCount++;\n                return _instance;\n            }\n\n            return null;\n        }\n\n        public void Dispose()\n        {\n            _blockCount--;\n            Assert.That(_blockCount >= 0);\n            Profiler.EndSample();\n        }\n\n#else\n        ProfileBlock(string sampleName, bool rootBlock)\n        {\n        }\n\n        ProfileBlock(string sampleName)\n            : this(sampleName, false)\n        {\n        }\n\n        public static Regex ProfilePattern\n        {\n            get;\n            set;\n        }\n\n        public static ProfileBlock Start()\n        {\n            return null;\n        }\n\n        public static ProfileBlock Start(string sampleNameFormat, object obj1, object obj2)\n        {\n            return null;\n        }\n\n        // Remove the call completely for builds\n        public static ProfileBlock Start(string sampleNameFormat, object obj)\n        {\n            return null;\n        }\n\n        // Remove the call completely for builds\n        public static ProfileBlock Start(string sampleName)\n        {\n            return null;\n        }\n\n        public void Dispose()\n        {\n        }\n#endif\n    }\n}\n","size_bytes":5462},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ProfileTimers.cs":{"content":"#if ZEN_INTERNAL_PROFILING\n\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Text;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // Similar to ProfileBlock except used for measuring speed of zenject specifically\n    // And does not use unity's profiler\n    public static class ProfileTimers\n    {\n        static Dictionary<string, TimerInfo> _timers = new Dictionary<string, TimerInfo>();\n\n        public static void ResetAll()\n        {\n            foreach (var timer in _timers.Values)\n            {\n                timer.Reset();\n            }\n        }\n\n        public static string FormatResults()\n        {\n            var result = new StringBuilder();\n\n            // Uncomment if you only want to see zenject related info\n            //var timers = _timers.Where(x => x.Key != \"User Code\");\n            var timers = _timers;\n\n            var total = timers.Select(x => x.Value.TotalMilliseconds).Sum();\n\n            result.Append(\"Total time tracked: {0:0.00} ms.  Details:\".Fmt(total));\n\n            foreach (var pair in timers.OrderByDescending(x => x.Value.TotalMilliseconds))\n            {\n                var time = pair.Value.TotalMilliseconds;\n                var percent = 100.0 * (time / total);\n                var name = pair.Key;\n\n                result.Append(\"\\n  {0:00.0}% ({1:00000}x) ({2:0000} ms) {3}\".Fmt(percent, pair.Value.CallCount, time, name));\n            }\n\n            return result.ToString();\n        }\n\n        public static double GetTimerElapsedMilliseconds(string name)\n        {\n            return _timers[name].TotalMilliseconds;\n        }\n\n        public static IDisposable CreateTimedBlock(string name)\n        {\n            TimerInfo timer;\n\n            if (!_timers.TryGetValue(name, out timer))\n            {\n                timer = new TimerInfo();\n                _timers.Add(name, timer);\n            }\n\n            timer.CallCount++;\n\n            if (timer.IsRunning)\n            {\n                return null;\n            }\n\n            return TimedBlock.Pool.Spawn(timer);\n        }\n\n        class TimedBlock : IDisposable\n        {\n            public static StaticMemoryPool<TimerInfo, TimedBlock> Pool =\n                new StaticMemoryPool<TimerInfo, TimedBlock>(OnSpawned, OnDespawned);\n\n            readonly List<TimerInfo> _pausedTimers = new List<TimerInfo>();\n\n            TimerInfo _exclusiveTimer;\n\n            static void OnSpawned(\n                TimerInfo exclusiveTimer, TimedBlock instance)\n            {\n                Assert.That(instance._pausedTimers.Count == 0);\n\n                instance._exclusiveTimer = exclusiveTimer;\n\n                foreach (var timer in _timers.Values)\n                {\n                    if (exclusiveTimer == timer)\n                    {\n                        Assert.That(!timer.IsRunning);\n                        timer.Resume();\n                    }\n                    else if (timer.IsRunning)\n                    {\n                        timer.Pause();\n                        instance._pausedTimers.Add(timer);\n                    }\n                }\n            }\n\n            static void OnDespawned(TimedBlock instance)\n            {\n                Assert.That(instance._exclusiveTimer.IsRunning);\n                instance._exclusiveTimer.Pause();\n\n                foreach (var timer in instance._pausedTimers)\n                {\n                    Assert.That(!timer.IsRunning);\n                    timer.Resume();\n                }\n\n                instance._pausedTimers.Clear();\n            }\n\n            public void Dispose()\n            {\n                Pool.Despawn(this);\n            }\n        }\n\n        public class TimerInfo\n        {\n            readonly Stopwatch _timer;\n\n            public TimerInfo()\n            {\n                _timer = new Stopwatch();\n            }\n\n            public int CallCount\n            {\n                get; set;\n            }\n\n            public double TotalMilliseconds\n            {\n                get { return _timer.Elapsed.TotalMilliseconds; }\n            }\n\n            public bool IsRunning\n            {\n                get { return _timer.IsRunning; }\n            }\n\n            public void Reset()\n            {\n                _timer.Reset();\n            }\n\n            public void Resume()\n            {\n                _timer.Start();\n            }\n\n            public void Pause()\n            {\n                _timer.Stop();\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":4505},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ReflectionInfoTypeInfoConverter.cs":{"content":"//#define ZEN_DO_NOT_USE_COMPILED_EXPRESSIONS\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Linq.Expressions;\nusing System.Reflection;\nusing ModestTree;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject.Internal\n{\n    public static class ReflectionInfoTypeInfoConverter\n    {\n        public static InjectTypeInfo.InjectMethodInfo ConvertMethod(\n            ReflectionTypeInfo.InjectMethodInfo injectMethod)\n        {\n            var methodInfo = injectMethod.MethodInfo;\n            var action = TryCreateActionForMethod(methodInfo);\n\n            if (action == null)\n            {\n                action = (obj, args) => methodInfo.Invoke(obj, args);\n            }\n\n            return new InjectTypeInfo.InjectMethodInfo(\n                action,\n                injectMethod.Parameters.Select(x => x.InjectableInfo).ToArray(),\n                methodInfo.Name);\n        }\n\n        public static InjectTypeInfo.InjectConstructorInfo ConvertConstructor(\n            ReflectionTypeInfo.InjectConstructorInfo injectConstructor, Type type)\n        {\n            return new InjectTypeInfo.InjectConstructorInfo(\n                TryCreateFactoryMethod(type, injectConstructor),\n                injectConstructor.Parameters.Select(x => x.InjectableInfo).ToArray());\n        }\n\n        public static InjectTypeInfo.InjectMemberInfo ConvertField(\n            Type parentType, ReflectionTypeInfo.InjectFieldInfo injectField)\n        {\n            return new InjectTypeInfo.InjectMemberInfo(\n                GetSetter(parentType, injectField.FieldInfo), injectField.InjectableInfo);\n        }\n\n        public static InjectTypeInfo.InjectMemberInfo ConvertProperty(\n            Type parentType, ReflectionTypeInfo.InjectPropertyInfo injectProperty)\n        {\n            return new InjectTypeInfo.InjectMemberInfo(\n                GetSetter(parentType, injectProperty.PropertyInfo), injectProperty.InjectableInfo);\n        }\n\n        static ZenFactoryMethod TryCreateFactoryMethod(\n            Type type, ReflectionTypeInfo.InjectConstructorInfo reflectionInfo)\n        {\n#if !NOT_UNITY3D\n            if (type.DerivesFromOrEqual<Component>())\n            {\n                return null;\n            }\n#endif\n\n            if (type.IsAbstract())\n            {\n                Assert.That(reflectionInfo.Parameters.IsEmpty());\n                return null;\n            }\n\n            var constructor = reflectionInfo.ConstructorInfo;\n\n            var factoryMethod = TryCreateFactoryMethodCompiledLambdaExpression(type, constructor);\n\n            if (factoryMethod == null)\n            {\n                if (constructor == null)\n                {\n                    // No choice in this case except to use the slow Activator.CreateInstance\n                    // as far as I know\n                    // This should be rare though and only seems to occur when instantiating\n                    // structs on platforms that don't support lambda expressions\n                    // Non-structs should always have a default constructor\n                    factoryMethod = args =>\n                    {\n                        Assert.That(args.Length == 0);\n                        return Activator.CreateInstance(type, new object[0]);\n                    };\n                }\n                else\n                {\n                    factoryMethod = constructor.Invoke;\n                }\n            }\n\n            return factoryMethod;\n        }\n\n        static ZenFactoryMethod TryCreateFactoryMethodCompiledLambdaExpression(\n            Type type, ConstructorInfo constructor)\n        {\n#if NET_4_6 && !ENABLE_IL2CPP && !ZEN_DO_NOT_USE_COMPILED_EXPRESSIONS\n\n            if (type.ContainsGenericParameters)\n            {\n                return null;\n            }\n\n            ParameterExpression param = Expression.Parameter(typeof(object[]));\n\n            if (constructor == null)\n            {\n                return Expression.Lambda<ZenFactoryMethod>(\n                    Expression.Convert(\n                        Expression.New(type), typeof(object)), param).Compile();\n            }\n\n            ParameterInfo[] par = constructor.GetParameters();\n            Expression[] args = new Expression[par.Length];\n\n            for (int i = 0; i != par.Length; ++i)\n            {\n                args[i] = Expression.Convert(\n                    Expression.ArrayIndex(\n                        param, Expression.Constant(i)), par[i].ParameterType);\n            }\n\n            return Expression.Lambda<ZenFactoryMethod>(\n                Expression.Convert(\n                    Expression.New(constructor, args), typeof(object)), param).Compile();\n#else\n            return null;\n#endif\n        }\n\n        static ZenInjectMethod TryCreateActionForMethod(MethodInfo methodInfo)\n        {\n#if NET_4_6 && !ENABLE_IL2CPP && !ZEN_DO_NOT_USE_COMPILED_EXPRESSIONS\n\n            if (methodInfo.DeclaringType.ContainsGenericParameters)\n            {\n                return null;\n            }\n\n            ParameterInfo[] par = methodInfo.GetParameters();\n\n            if (par.Any(x => x.ParameterType.ContainsGenericParameters))\n            {\n                return null;\n            }\n\n            Expression[] args = new Expression[par.Length];\n            ParameterExpression argsParam = Expression.Parameter(typeof(object[]));\n            ParameterExpression instanceParam = Expression.Parameter(typeof(object));\n\n            for (int i = 0; i != par.Length; ++i)\n            {\n                args[i] = Expression.Convert(\n                    Expression.ArrayIndex(\n                        argsParam, Expression.Constant(i)), par[i].ParameterType);\n            }\n\n            return Expression.Lambda<ZenInjectMethod>(\n                Expression.Call(\n                    Expression.Convert(instanceParam, methodInfo.DeclaringType), methodInfo, args),\n                instanceParam, argsParam).Compile();\n#else\n            return null;\n#endif\n        }\n\n#if !(UNITY_WSA && ENABLE_DOTNET) || UNITY_EDITOR\n        static IEnumerable<FieldInfo> GetAllFields(Type t, BindingFlags flags)\n        {\n            if (t == null)\n            {\n                return Enumerable.Empty<FieldInfo>();\n            }\n\n            return t.GetFields(flags).Concat(GetAllFields(t.BaseType, flags)).Distinct();\n        }\n\n        static ZenMemberSetterMethod GetOnlyPropertySetter(\n            Type parentType,\n            string propertyName)\n        {\n            Assert.That(parentType != null);\n            Assert.That(!string.IsNullOrEmpty(propertyName));\n\n            var allFields = GetAllFields(\n                parentType, BindingFlags.Instance | BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.FlattenHierarchy).ToList();\n\n            var writeableFields = allFields.Where(f => f.Name == string.Format(\"<\" + propertyName + \">k__BackingField\", propertyName)).ToList();\n\n            if (!writeableFields.Any())\n            {\n                throw new ZenjectException(string.Format(\n                    \"Can't find backing field for get only property {0} on {1}.\\r\\n{2}\",\n                    propertyName, parentType.FullName, string.Join(\";\", allFields.Select(f => f.Name).ToArray())));\n            }\n\n            return (injectable, value) => writeableFields.ForEach(f => f.SetValue(injectable, value));\n        }\n#endif\n\n        static ZenMemberSetterMethod GetSetter(Type parentType, MemberInfo memInfo)\n        {\n            var setterMethod = TryGetSetterAsCompiledExpression(parentType, memInfo);\n\n            if (setterMethod != null)\n            {\n                return setterMethod;\n            }\n\n            var fieldInfo = memInfo as FieldInfo;\n            var propInfo = memInfo as PropertyInfo;\n\n            if (fieldInfo != null)\n            {\n                return ((injectable, value) => fieldInfo.SetValue(injectable, value));\n            }\n\n            Assert.IsNotNull(propInfo);\n\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return ((object injectable, object value) => propInfo.SetValue(injectable, value, null));\n#else\n            if (propInfo.CanWrite)\n            {\n                return ((injectable, value) => propInfo.SetValue(injectable, value, null));\n            }\n\n            return GetOnlyPropertySetter(parentType, propInfo.Name);\n#endif\n        }\n\n        static ZenMemberSetterMethod TryGetSetterAsCompiledExpression(Type parentType, MemberInfo memInfo)\n        {\n#if NET_4_6 && !ENABLE_IL2CPP && !ZEN_DO_NOT_USE_COMPILED_EXPRESSIONS\n\n            if (parentType.ContainsGenericParameters)\n            {\n                return null;\n            }\n\n            var fieldInfo = memInfo as FieldInfo;\n            var propInfo = memInfo as PropertyInfo;\n\n            // It seems that for readonly fields, we have to use the slower approach below\n            // As discussed here: https://www.productiverage.com/trying-to-set-a-readonly-autoproperty-value-externally-plus-a-little-benchmarkdotnet\n            // We have to skip value types because those can only be set by reference using an lambda expression\n            if (!parentType.IsValueType() && (fieldInfo == null || !fieldInfo.IsInitOnly) && (propInfo == null || propInfo.CanWrite))\n            {\n                Type memberType = fieldInfo != null\n                    ? fieldInfo.FieldType : propInfo.PropertyType;\n\n                var typeParam = Expression.Parameter(typeof(object));\n                var valueParam = Expression.Parameter(typeof(object));\n\n                return Expression.Lambda<ZenMemberSetterMethod>(\n                    Expression.Assign(\n                        Expression.MakeMemberAccess(Expression.Convert(typeParam, parentType), memInfo),\n                        Expression.Convert(valueParam, memberType)),\n                        typeParam, valueParam).Compile();\n            }\n#endif\n\n            return null;\n        }\n    }\n}\n","size_bytes":9893},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ReflectionTypeInfo.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Reflection;\n\nnamespace Zenject.Internal\n{\n    [NoReflectionBaking]\n    public class ReflectionTypeInfo\n    {\n        public readonly Type Type;\n        public readonly Type BaseType;\n        public readonly List<InjectPropertyInfo> InjectProperties;\n        public readonly List<InjectFieldInfo> InjectFields;\n        public readonly InjectConstructorInfo InjectConstructor;\n        public readonly List<InjectMethodInfo> InjectMethods;\n\n        public ReflectionTypeInfo(\n            Type type,\n            Type baseType,\n            InjectConstructorInfo injectConstructor,\n            List<InjectMethodInfo> injectMethods,\n            List<InjectFieldInfo> injectFields,\n            List<InjectPropertyInfo> injectProperties)\n        {\n            Type = type;\n            BaseType = baseType;\n            InjectFields = injectFields;\n            InjectConstructor = injectConstructor;\n            InjectMethods = injectMethods;\n            InjectProperties = injectProperties;\n        }\n\n        [NoReflectionBaking]\n        public class InjectFieldInfo\n        {\n            public readonly FieldInfo FieldInfo;\n            public readonly InjectableInfo InjectableInfo;\n\n            public InjectFieldInfo(\n                FieldInfo fieldInfo,\n                InjectableInfo injectableInfo)\n            {\n                InjectableInfo = injectableInfo;\n                FieldInfo = fieldInfo;\n            }\n        }\n\n        [NoReflectionBaking]\n        public class InjectParameterInfo\n        {\n            public readonly ParameterInfo ParameterInfo;\n            public readonly InjectableInfo InjectableInfo;\n\n            public InjectParameterInfo(\n                ParameterInfo parameterInfo,\n                InjectableInfo injectableInfo)\n            {\n                InjectableInfo = injectableInfo;\n                ParameterInfo = parameterInfo;\n            }\n        }\n\n        [NoReflectionBaking]\n        public class InjectPropertyInfo\n        {\n            public readonly PropertyInfo PropertyInfo;\n            public readonly InjectableInfo InjectableInfo;\n\n            public InjectPropertyInfo(\n                PropertyInfo propertyInfo,\n                InjectableInfo injectableInfo)\n            {\n                InjectableInfo = injectableInfo;\n                PropertyInfo = propertyInfo;\n            }\n        }\n\n        [NoReflectionBaking]\n        public class InjectMethodInfo\n        {\n            public readonly MethodInfo MethodInfo;\n            public readonly List<InjectParameterInfo> Parameters;\n\n            public InjectMethodInfo(\n                MethodInfo methodInfo,\n                List<InjectParameterInfo> parameters)\n            {\n                MethodInfo = methodInfo;\n                Parameters = parameters;\n            }\n        }\n\n        [NoReflectionBaking]\n        public class InjectConstructorInfo\n        {\n            public readonly ConstructorInfo ConstructorInfo;\n            public readonly List<InjectParameterInfo> Parameters;\n\n            public InjectConstructorInfo(\n                ConstructorInfo constructorInfo,\n                List<InjectParameterInfo> parameters)\n            {\n                ConstructorInfo = constructorInfo;\n                Parameters = parameters;\n            }\n        }\n    }\n}\n\n","size_bytes":3345},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ReflectionUtil.cs":{"content":"using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Reflection;\n\nnamespace ModestTree\n{\n    public static class ReflectionUtil\n    {\n        public static Array CreateArray(Type elementType, List<object> instances)\n        {\n            var array = Array.CreateInstance(elementType, instances.Count);\n\n            for (int i = 0; i < instances.Count; i++)\n            {\n                var instance = instances[i];\n\n                if (instance != null)\n                {\n                    Assert.That(instance.GetType().DerivesFromOrEqual(elementType),\n                        \"Wrong type when creating array, expected something assignable from '\"+ elementType +\"', but found '\" + instance.GetType() + \"'\");\n                }\n\n                array.SetValue(instance, i);\n            }\n\n            return array;\n        }\n\n        public static IList CreateGenericList(Type elementType, List<object> instances)\n        {\n            var genericType = typeof(List<>).MakeGenericType(elementType);\n\n            var list = (IList)Activator.CreateInstance(genericType);\n\n            for (int i = 0; i < instances.Count; i++)\n            {\n                var instance = instances[i];\n\n                if (instance != null)\n                {\n                    Assert.That(instance.GetType().DerivesFromOrEqual(elementType),\n                        \"Wrong type when creating generic list, expected something assignable from '\"+ elementType +\"', but found '\" + instance.GetType() + \"'\");\n                }\n\n                list.Add(instance);\n            }\n\n            return list;\n        }\n\n        public static string ToDebugString(this MethodInfo method)\n        {\n            return \"{0}.{1}\".Fmt(method.DeclaringType.PrettyName(), method.Name);\n        }\n\n        public static string ToDebugString(this Action action)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1>(this Action<TParam1> action)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2>(this Action<TParam1, TParam2> action)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2, TParam3>(this Action<TParam1, TParam2, TParam3> action)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2, TParam3, TParam4>(this Action<TParam1, TParam2, TParam3, TParam4> action)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2, TParam3, TParam4, TParam5>(this\n#if NET_4_6\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5> action)\n#else\n            ModestTree.Util.Action<TParam1, TParam2, TParam3, TParam4, TParam5> action)\n#endif\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(this\n#if NET_4_6\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> action)\n#else\n            ModestTree.Util.Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> action)\n#endif\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return action.ToString();\n#else\n            return action.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1>(this Func<TParam1> func)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return func.ToString();\n#else\n            return func.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2>(this Func<TParam1, TParam2> func)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return func.ToString();\n#else\n            return func.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2, TParam3>(this Func<TParam1, TParam2, TParam3> func)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return func.ToString();\n#else\n            return func.Method.ToDebugString();\n#endif\n        }\n\n        public static string ToDebugString<TParam1, TParam2, TParam3, TParam4>(this Func<TParam1, TParam2, TParam3, TParam4> func)\n        {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return func.ToString();\n#else\n            return func.Method.ToDebugString();\n#endif\n        }\n    }\n}\n","size_bytes":5153},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/TypeAnalyzer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reflection;\nusing System.Runtime.CompilerServices;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    public delegate InjectTypeInfo ZenTypeInfoGetter();\n\n    public enum ReflectionBakingCoverageModes\n    {\n        FallbackToDirectReflection,\n        NoCheckAssumeFullCoverage,\n        FallbackToDirectReflectionWithWarning\n    }\n\n    public static class TypeAnalyzer\n    {\n        static Dictionary<Type, InjectTypeInfo> _typeInfo = new Dictionary<Type, InjectTypeInfo>();\n\n        // We store this separately from InjectTypeInfo because this flag is needed for contract\n        // types whereas InjectTypeInfo is only needed for types that are instantiated, and\n        // we want to minimize the types that generate InjectTypeInfo for\n        static Dictionary<Type, bool> _allowDuringValidation = new Dictionary<Type, bool>();\n\n        // Use double underscores for generated methods since this is also what the C# compiler does\n        // for things like anonymous methods\n        public const string ReflectionBakingGetInjectInfoMethodName = \"__zenCreateInjectTypeInfo\";\n        public const string ReflectionBakingFactoryMethodName = \"__zenCreate\";\n        public const string ReflectionBakingInjectMethodPrefix = \"__zenInjectMethod\";\n        public const string ReflectionBakingFieldSetterPrefix = \"__zenFieldSetter\";\n        public const string ReflectionBakingPropertySetterPrefix = \"__zenPropertySetter\";\n\n        public static ReflectionBakingCoverageModes ReflectionBakingCoverageMode\n        {\n            get; set;\n        }\n\n        public static bool ShouldAllowDuringValidation<T>()\n        {\n            return ShouldAllowDuringValidation(typeof(T));\n        }\n\n        public static bool ShouldAllowDuringValidation(Type type)\n        {\n            bool shouldAllow;\n\n            if (!_allowDuringValidation.TryGetValue(type, out shouldAllow))\n            {\n                shouldAllow = ShouldAllowDuringValidationInternal(type);\n                _allowDuringValidation.Add(type, shouldAllow);\n            }\n\n            return shouldAllow;\n        }\n\n        static bool ShouldAllowDuringValidationInternal(Type type)\n        {\n            // During validation, do not instantiate or inject anything except for\n            // Installers, IValidatable's, or types marked with attribute ZenjectAllowDuringValidation\n            // You would typically use ZenjectAllowDuringValidation attribute for data that you\n            // inject into factories\n\n            if (type.DerivesFrom<IInstaller>() || type.DerivesFrom<IValidatable>())\n            {\n                return true;\n            }\n\n#if !NOT_UNITY3D\n            if (type.DerivesFrom<Context>())\n            {\n                return true;\n            }\n#endif\n\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            return type.GetTypeInfo().GetCustomAttribute<ZenjectAllowDuringValidationAttribute>() != null;\n#else\n            return type.HasAttribute<ZenjectAllowDuringValidationAttribute>();\n#endif\n        }\n\n        public static bool HasInfo<T>()\n        {\n            return HasInfo(typeof(T));\n        }\n\n        public static bool HasInfo(Type type)\n        {\n            return TryGetInfo(type) != null;\n        }\n\n        public static InjectTypeInfo GetInfo<T>()\n        {\n            return GetInfo(typeof(T));\n        }\n\n        public static InjectTypeInfo GetInfo(Type type)\n        {\n            var info = TryGetInfo(type);\n            Assert.IsNotNull(info, \"Unable to get type info for type '{0}'\", type);\n            return info;\n        }\n\n        public static InjectTypeInfo TryGetInfo<T>()\n        {\n            return TryGetInfo(typeof(T));\n        }\n\n        public static InjectTypeInfo TryGetInfo(Type type)\n        {\n            InjectTypeInfo info;\n\n#if ZEN_MULTITHREADING\n            lock (_typeInfo)\n#endif\n            {\n                if (_typeInfo.TryGetValue(type, out info))\n                {\n                    return info;\n                }\n            }\n\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"Zenject Reflection\"))\n#endif\n            {\n                info = GetInfoInternal(type);\n            }\n\n            if (info != null)\n            {\n                Assert.IsEqual(info.Type, type);\n                Assert.IsNull(info.BaseTypeInfo);\n\n                var baseType = type.BaseType();\n\n                if (baseType != null && !ShouldSkipTypeAnalysis(baseType))\n                {\n                    info.BaseTypeInfo = TryGetInfo(baseType);\n                }\n            }\n\n#if ZEN_MULTITHREADING\n            lock (_typeInfo)\n#endif\n            {\n                _typeInfo[type] = info;\n            }\n\n            return info;\n        }\n\n        static InjectTypeInfo GetInfoInternal(Type type)\n        {\n            if (ShouldSkipTypeAnalysis(type))\n            {\n                return null;\n            }\n\n#if ZEN_INTERNAL_PROFILING\n            // Make sure that the static constructor logic doesn't inflate our profile measurements\n            using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n            {\n                RuntimeHelpers.RunClassConstructor(type.TypeHandle);\n            }\n#endif\n\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"Type Analysis - Calling Baked Reflection Getter\"))\n#endif\n            {\n                var getInfoMethod = type.GetMethod(\n                    ReflectionBakingGetInjectInfoMethodName,\n                    BindingFlags.Static | BindingFlags.NonPublic | BindingFlags.Public);\n\n                if (getInfoMethod != null)\n                {\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n                    var infoGetter = (ZenTypeInfoGetter)getInfoMethod.CreateDelegate(\n                        typeof(ZenTypeInfoGetter), null);\n#else\n                    var infoGetter = ((ZenTypeInfoGetter)Delegate.CreateDelegate(\n                        typeof(ZenTypeInfoGetter), getInfoMethod));\n#endif\n\n                    return infoGetter();\n                }\n            }\n\n            if (ReflectionBakingCoverageMode == ReflectionBakingCoverageModes.NoCheckAssumeFullCoverage)\n            {\n                // If we are confident that the reflection baking supplies all the injection information,\n                // then we can avoid the costs of doing reflection on types that were not covered\n                // by the baking\n                return null;\n            }\n\n#if !(UNITY_WSA && ENABLE_DOTNET) || UNITY_EDITOR\n            if (ReflectionBakingCoverageMode == ReflectionBakingCoverageModes.FallbackToDirectReflectionWithWarning)\n            {\n                Log.Warn(\"No reflection baking information found for type '{0}' - using more costly direct reflection instead\", type);\n            }\n#endif\n\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"Type Analysis - Direct Reflection\"))\n#endif\n            {\n                return CreateTypeInfoFromReflection(type);\n            }\n        }\n\n        public static bool ShouldSkipTypeAnalysis(Type type)\n        {\n            return type == null || type.IsEnum() || type.IsArray || type.IsInterface()\n                || type.ContainsGenericParameters() || IsStaticType(type)\n                || type == typeof(object);\n        }\n\n        static bool IsStaticType(Type type)\n        {\n            // Apparently this is unique to static classes\n            return type.IsAbstract() && type.IsSealed();\n        }\n\n        static InjectTypeInfo CreateTypeInfoFromReflection(Type type)\n        {\n            var reflectionInfo = ReflectionTypeAnalyzer.GetReflectionInfo(type);\n\n            var injectConstructor = ReflectionInfoTypeInfoConverter.ConvertConstructor(\n                reflectionInfo.InjectConstructor, type);\n\n            var injectMethods = reflectionInfo.InjectMethods.Select(\n                ReflectionInfoTypeInfoConverter.ConvertMethod).ToArray();\n\n            var memberInfos = reflectionInfo.InjectFields.Select(\n                x => ReflectionInfoTypeInfoConverter.ConvertField(type, x)).Concat(\n                    reflectionInfo.InjectProperties.Select(\n                        x => ReflectionInfoTypeInfoConverter.ConvertProperty(type, x))).ToArray();\n\n            return new InjectTypeInfo(\n                type, injectConstructor, injectMethods, memberInfos);\n        }\n    }\n}\n","size_bytes":8406},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/UnityUtil.cs":{"content":"#if !NOT_UNITY3D\n\nusing System.Collections.Generic;\nusing System.Linq;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace ModestTree.Util\n{\n    public static class UnityUtil\n    {\n        public static IEnumerable<Scene> AllScenes\n        {\n            get\n            {\n                for (int i = 0; i < SceneManager.sceneCount; i++)\n                {\n                    yield return SceneManager.GetSceneAt(i);\n                }\n            }\n        }\n\n        public static IEnumerable<Scene> AllLoadedScenes\n        {\n            get { return AllScenes.Where(scene => scene.isLoaded); }\n        }\n\n        public static bool IsAltKeyDown\n        {\n            get { return Input.GetKey(KeyCode.LeftAlt) || Input.GetKey(KeyCode.RightAlt); }\n        }\n\n        public static bool IsControlKeyDown\n        {\n            get { return Input.GetKey(KeyCode.LeftControl) || Input.GetKey(KeyCode.RightControl); }\n        }\n\n        public static bool IsShiftKeyDown\n        {\n            get { return Input.GetKey(KeyCode.LeftShift) || Input.GetKey(KeyCode.RightShift); }\n        }\n\n        public static bool WasShiftKeyJustPressed\n        {\n            get { return Input.GetKeyDown(KeyCode.LeftShift) || Input.GetKeyDown(KeyCode.RightShift); }\n        }\n\n        public static bool WasAltKeyJustPressed\n        {\n            get { return Input.GetKeyDown(KeyCode.LeftAlt) || Input.GetKeyDown(KeyCode.RightAlt); }\n        }\n\n        public static int GetDepthLevel(Transform transform)\n        {\n            if (transform == null)\n            {\n                return 0;\n            }\n\n            return 1 + GetDepthLevel(transform.parent);\n        }\n\n        public static GameObject GetRootParentOrSelf(GameObject gameObject)\n        {\n            return GetParentsAndSelf(gameObject.transform).Select(x => x.gameObject).LastOrDefault();\n        }\n\n        public static IEnumerable<Transform> GetParents(Transform transform)\n        {\n            if (transform == null)\n            {\n                yield break;\n            }\n\n            foreach (var ancestor in GetParentsAndSelf(transform.parent))\n            {\n                yield return ancestor;\n            }\n        }\n\n        public static IEnumerable<Transform> GetParentsAndSelf(Transform transform)\n        {\n            if (transform == null)\n            {\n                yield break;\n            }\n\n            yield return transform;\n\n            foreach (var ancestor in GetParentsAndSelf(transform.parent))\n            {\n                yield return ancestor;\n            }\n        }\n\n        public static IEnumerable<Component> GetComponentsInChildrenTopDown(GameObject gameObject, bool includeInactive)\n        {\n            return gameObject.GetComponentsInChildren<Component>(includeInactive)\n                .OrderBy(x =>\n                    x == null ? int.MinValue : GetDepthLevel(x.transform));\n        }\n\n        public static IEnumerable<Component> GetComponentsInChildrenBottomUp(GameObject gameObject, bool includeInactive)\n        {\n            return gameObject.GetComponentsInChildren<Component>(includeInactive)\n                .OrderByDescending(x =>\n                    x == null ? int.MinValue : GetDepthLevel(x.transform));\n        }\n\n        public static IEnumerable<GameObject> GetDirectChildrenAndSelf(GameObject obj)\n        {\n            yield return obj;\n\n            foreach (Transform child in obj.transform)\n            {\n                yield return child.gameObject;\n            }\n        }\n\n        public static IEnumerable<GameObject> GetDirectChildren(GameObject obj)\n        {\n            foreach (Transform child in obj.transform)\n            {\n                yield return child.gameObject;\n            }\n        }\n\n        public static IEnumerable<GameObject> GetAllGameObjects()\n        {\n            return GameObject.FindObjectsOfType<Transform>().Select(x => x.gameObject);\n        }\n\n        public static List<GameObject> GetAllRootGameObjects()\n        {\n            return GetAllGameObjects().Where(x => x.transform.parent == null).ToList();\n        }\n    }\n}\n#endif\n","size_bytes":4108},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ValidationUtil.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public static class ValidationUtil\n    {\n        // This method can be used during validation for cases where we need to pass arguments\n        public static List<TypeValuePair> CreateDefaultArgs(params Type[] argTypes)\n        {\n            return argTypes.Select(x => new TypeValuePair(x, x.GetDefaultValue())).ToList();\n        }\n    }\n}\n\n","size_bytes":452},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenAutoInjecter.cs":{"content":"using ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public class ZenAutoInjecter : MonoBehaviour\n    {\n        [SerializeField]\n        ContainerSources _containerSource = ContainerSources.SearchHierarchy;\n\n        bool _hasInjected;\n\n        public ContainerSources ContainerSource\n        {\n            get { return _containerSource; }\n            set { _containerSource = value; }\n        }\n\n        // Make sure they don't cause injection to happen twice\n        [Inject]\n        public void Construct()\n        {\n            if (!_hasInjected)\n            {\n                throw Assert.CreateException(\n                    \"ZenAutoInjecter was injected!  Do not use ZenAutoInjecter for objects that are instantiated through zenject or which exist in the initial scene hierarchy\");\n            }\n        }\n\n        public void Awake()\n        {\n            _hasInjected = true;\n            LookupContainer().InjectGameObject(gameObject);\n        }\n\n        DiContainer LookupContainer()\n        {\n            if (_containerSource == ContainerSources.ProjectContext)\n            {\n                return ProjectContext.Instance.Container;\n            }\n\n            if (_containerSource == ContainerSources.SceneContext)\n            {\n                return GetContainerForCurrentScene();\n            }\n\n            Assert.IsEqual(_containerSource, ContainerSources.SearchHierarchy);\n\n            var parentContext = transform.GetComponentInParent<Context>();\n\n            if (parentContext != null)\n            {\n                return parentContext.Container;\n            }\n\n            return GetContainerForCurrentScene();\n        }\n\n        DiContainer GetContainerForCurrentScene()\n        {\n            return ProjectContext.Instance.Container.Resolve<SceneContextRegistry>()\n                .GetContainerForScene(gameObject.scene);\n        }\n\n        public enum ContainerSources\n        {\n            SceneContext,\n            ProjectContext,\n            SearchHierarchy\n        }\n    }\n}\n","size_bytes":2012},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenPools.cs":{"content":"using System;\nusing System.Collections.Generic;\n\nnamespace Zenject.Internal\n{\n    public static class ZenPools\n    {\n#if ZEN_INTERNAL_NO_POOLS\n        public static InjectContext SpawnInjectContext(DiContainer container, Type memberType)\n        {\n            return new InjectContext(container, memberType);\n        }\n\n        public static void DespawnInjectContext(InjectContext context)\n        {\n        }\n\n        public static List<T> SpawnList<T>()\n        {\n            return new List<T>();\n        }\n\n        public static void DespawnList<T>(List<T> list)\n        {\n        }\n\n        public static void DespawnArray<T>(T[] arr)\n        {\n        }\n\n        public static T[] SpawnArray<T>(int length)\n        {\n            return new T[length];\n        }\n\n        public static HashSet<T> SpawnHashSet<T>()\n        {\n            return new HashSet<T>();\n        }\n\n        public static Dictionary<TKey, TValue> SpawnDictionary<TKey, TValue>()\n        {\n            return new Dictionary<TKey, TValue>();\n        }\n\n        public static void DespawnDictionary<TKey, TValue>(Dictionary<TKey, TValue> dictionary)\n        {\n        }\n\n        public static void DespawnHashSet<T>(HashSet<T> set)\n        {\n        }\n\n        public static LookupId SpawnLookupId(IProvider provider, BindingId bindingId)\n        {\n            return new LookupId(provider, bindingId);\n        }\n\n        public static void DespawnLookupId(LookupId lookupId)\n        {\n        }\n\n        public static BindInfo SpawnBindInfo()\n        {\n            return new BindInfo();\n        }\n\n        public static void DespawnBindInfo(BindInfo bindInfo)\n        {\n        }\n\n        public static BindStatement SpawnStatement()\n        {\n            return new BindStatement();\n        }\n\n        public static void DespawnStatement(BindStatement statement)\n        {\n        }\n#else\n        static readonly StaticMemoryPool<InjectContext> _contextPool = new StaticMemoryPool<InjectContext>();\n        static readonly StaticMemoryPool<LookupId> _lookupIdPool = new StaticMemoryPool<LookupId>();\n        static readonly StaticMemoryPool<BindInfo> _bindInfoPool = new StaticMemoryPool<BindInfo>();\n        static readonly StaticMemoryPool<BindStatement> _bindStatementPool = new StaticMemoryPool<BindStatement>();\n\n        public static HashSet<T> SpawnHashSet<T>()\n        {\n            return HashSetPool<T>.Instance.Spawn();\n        }\n\n        public static Dictionary<TKey, TValue> SpawnDictionary<TKey, TValue>()\n        {\n            return DictionaryPool<TKey, TValue>.Instance.Spawn();\n        }\n\n        public static BindStatement SpawnStatement()\n        {\n            return _bindStatementPool.Spawn();\n        }\n\n        public static void DespawnStatement(BindStatement statement)\n        {\n            statement.Reset();\n            _bindStatementPool.Despawn(statement);\n        }\n\n        public static BindInfo SpawnBindInfo()\n        {\n            return _bindInfoPool.Spawn();\n        }\n\n        public static void DespawnBindInfo(BindInfo bindInfo)\n        {\n            bindInfo.Reset();\n            _bindInfoPool.Despawn(bindInfo);\n        }\n\n        public static void DespawnDictionary<TKey, TValue>(Dictionary<TKey, TValue> dictionary)\n        {\n            DictionaryPool<TKey, TValue>.Instance.Despawn(dictionary);\n        }\n\n        public static void DespawnHashSet<T>(HashSet<T> set)\n        {\n            HashSetPool<T>.Instance.Despawn(set);\n        }\n\n        public static LookupId SpawnLookupId(IProvider provider, BindingId bindingId)\n        {\n            var lookupId = _lookupIdPool.Spawn();\n\n            lookupId.Provider = provider;\n            lookupId.BindingId = bindingId;\n\n            return lookupId;\n        }\n\n        public static void DespawnLookupId(LookupId lookupId)\n        {\n            lookupId.Reset();\n            _lookupIdPool.Despawn(lookupId);\n        }\n\n        public static List<T> SpawnList<T>()\n        {\n            return ListPool<T>.Instance.Spawn();\n        }\n\n        public static void DespawnList<T>(List<T> list)\n        {\n            ListPool<T>.Instance.Despawn(list);\n        }\n\n        public static void DespawnArray<T>(T[] arr)\n        {\n            ArrayPool<T>.GetPool(arr.Length).Despawn(arr);\n        }\n\n        public static T[] SpawnArray<T>(int length)\n        {\n            return ArrayPool<T>.GetPool(length).Spawn();\n        }\n\n        public static InjectContext SpawnInjectContext(DiContainer container, Type memberType)\n        {\n            var context = _contextPool.Spawn();\n\n            context.Container = container;\n            context.MemberType = memberType;\n\n            return context;\n        }\n\n        public static void DespawnInjectContext(InjectContext context)\n        {\n            context.Reset();\n            _contextPool.Despawn(context);\n        }\n#endif\n\n        public static InjectContext SpawnInjectContext(\n            DiContainer container, InjectableInfo injectableInfo, InjectContext currentContext,\n            object targetInstance, Type targetType, object concreteIdentifier)\n        {\n            var context = SpawnInjectContext(container, injectableInfo.MemberType);\n\n            context.ObjectType = targetType;\n            context.ParentContext = currentContext;\n            context.ObjectInstance = targetInstance;\n            context.Identifier = injectableInfo.Identifier;\n            context.MemberName = injectableInfo.MemberName;\n            context.Optional = injectableInfo.Optional;\n            context.SourceType = injectableInfo.SourceType;\n            context.FallBackValue = injectableInfo.DefaultValue;\n            context.ConcreteIdentifier = concreteIdentifier;\n\n            return context;\n        }\n    }\n}\n","size_bytes":5739},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenReflectionTypeAnalyzer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reflection;\nusing ModestTree;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject.Internal\n{\n    public static class ReflectionTypeAnalyzer\n    {\n        static readonly HashSet<Type> _injectAttributeTypes;\n\n        static ReflectionTypeAnalyzer()\n        {\n            _injectAttributeTypes = new HashSet<Type>();\n            _injectAttributeTypes.Add(typeof(InjectAttributeBase));\n        }\n\n        public static void AddCustomInjectAttribute<T>()\n            where T : Attribute\n        {\n            AddCustomInjectAttribute(typeof(T));\n        }\n\n        public static void AddCustomInjectAttribute(Type type)\n        {\n            Assert.That(type.DerivesFrom<Attribute>());\n            _injectAttributeTypes.Add(type);\n        }\n\n        public static ReflectionTypeInfo GetReflectionInfo(Type type)\n        {\n            Assert.That(!type.IsEnum(), \"Tried to analyze enum type '{0}'.  This is not supported\", type);\n            Assert.That(!type.IsArray, \"Tried to analyze array type '{0}'.  This is not supported\", type);\n\n            var baseType = type.BaseType();\n\n            if (baseType == typeof(object))\n            {\n                baseType = null;\n            }\n\n            return new ReflectionTypeInfo(\n                type, baseType, GetConstructorInfo(type), GetMethodInfos(type),\n                GetFieldInfos(type), GetPropertyInfos(type));\n        }\n\n        static List<ReflectionTypeInfo.InjectPropertyInfo> GetPropertyInfos(Type type)\n        {\n            return type.DeclaredInstanceProperties()\n                .Where(x => _injectAttributeTypes.Any(a => x.HasAttribute(a)))\n                .Select(x => new ReflectionTypeInfo.InjectPropertyInfo(\n                    x, GetInjectableInfoForMember(type, x))).ToList();\n        }\n\n        static List<ReflectionTypeInfo.InjectFieldInfo> GetFieldInfos(Type type)\n        {\n            return type.DeclaredInstanceFields()\n                .Where(x => _injectAttributeTypes.Any(a => x.HasAttribute(a)))\n                .Select(x => new ReflectionTypeInfo.InjectFieldInfo(\n                    x, GetInjectableInfoForMember(type, x)))\n                .ToList();\n        }\n\n        static List<ReflectionTypeInfo.InjectMethodInfo> GetMethodInfos(Type type)\n        {\n            var injectMethodInfos = new List<ReflectionTypeInfo.InjectMethodInfo>();\n\n            // Note that unlike with fields and properties we use GetCustomAttributes\n            // This is so that we can ignore inherited attributes, which is necessary\n            // otherwise a base class method marked with [Inject] would cause all overridden\n            // derived methods to be added as well\n            var methodInfos = type.DeclaredInstanceMethods()\n                .Where(x => _injectAttributeTypes.Any(a => x.GetCustomAttributes(a, false).Any())).ToList();\n\n            for (int i = 0; i < methodInfos.Count; i++)\n            {\n                var methodInfo = methodInfos[i];\n                var injectAttr = methodInfo.AllAttributes<InjectAttributeBase>().SingleOrDefault();\n\n                if (injectAttr != null)\n                {\n                    Assert.That(!injectAttr.Optional && injectAttr.Id == null && injectAttr.Source == InjectSources.Any,\n                        \"Parameters of InjectAttribute do not apply to constructors and methodInfos\");\n                }\n\n                var injectParamInfos = methodInfo.GetParameters()\n                    .Select(x => CreateInjectableInfoForParam(type, x)).ToList();\n\n                injectMethodInfos.Add(\n                    new ReflectionTypeInfo.InjectMethodInfo(methodInfo, injectParamInfos));\n            }\n\n            return injectMethodInfos;\n        }\n\n        static ReflectionTypeInfo.InjectConstructorInfo GetConstructorInfo(Type type)\n        {\n            var args = new List<ReflectionTypeInfo.InjectParameterInfo>();\n\n            var constructor = TryGetInjectConstructor(type);\n\n            if (constructor != null)\n            {\n                args.AddRange(constructor.GetParameters().Select(\n                    x => CreateInjectableInfoForParam(type, x)));\n            }\n\n            return new ReflectionTypeInfo.InjectConstructorInfo(constructor, args);\n        }\n\n        static ReflectionTypeInfo.InjectParameterInfo CreateInjectableInfoForParam(\n            Type parentType, ParameterInfo paramInfo)\n        {\n            var injectAttributes = paramInfo.AllAttributes<InjectAttributeBase>().ToList();\n\n            Assert.That(injectAttributes.Count <= 1,\n                \"Found multiple 'Inject' attributes on type parameter '{0}' of type '{1}'.  Parameter should only have one\", paramInfo.Name, parentType);\n\n            var injectAttr = injectAttributes.SingleOrDefault();\n\n            object identifier = null;\n            bool isOptional = false;\n            InjectSources sourceType = InjectSources.Any;\n\n            if (injectAttr != null)\n            {\n                identifier = injectAttr.Id;\n                isOptional = injectAttr.Optional;\n                sourceType = injectAttr.Source;\n            }\n\n            bool isOptionalWithADefaultValue = (paramInfo.Attributes & ParameterAttributes.HasDefault) == ParameterAttributes.HasDefault;\n\n            return new ReflectionTypeInfo.InjectParameterInfo(\n                paramInfo,\n                new InjectableInfo(\n                    isOptionalWithADefaultValue || isOptional,\n                    identifier,\n                    paramInfo.Name,\n                    paramInfo.ParameterType,\n                    isOptionalWithADefaultValue ? paramInfo.DefaultValue : null,\n                    sourceType));\n        }\n\n        static InjectableInfo GetInjectableInfoForMember(Type parentType, MemberInfo memInfo)\n        {\n            var injectAttributes = memInfo.AllAttributes<InjectAttributeBase>().ToList();\n\n            Assert.That(injectAttributes.Count <= 1,\n            \"Found multiple 'Inject' attributes on type field '{0}' of type '{1}'.  Field should only container one Inject attribute\", memInfo.Name, parentType);\n\n            var injectAttr = injectAttributes.SingleOrDefault();\n\n            object identifier = null;\n            bool isOptional = false;\n            InjectSources sourceType = InjectSources.Any;\n\n            if (injectAttr != null)\n            {\n                identifier = injectAttr.Id;\n                isOptional = injectAttr.Optional;\n                sourceType = injectAttr.Source;\n            }\n\n            Type memberType = memInfo is FieldInfo\n                ? ((FieldInfo)memInfo).FieldType : ((PropertyInfo)memInfo).PropertyType;\n\n            return new InjectableInfo(\n                isOptional,\n                identifier,\n                memInfo.Name,\n                memberType,\n                null,\n                sourceType);\n        }\n\n        static ConstructorInfo TryGetInjectConstructor(Type type)\n        {\n#if !NOT_UNITY3D\n            if (type.DerivesFromOrEqual<Component>())\n            {\n                return null;\n            }\n#endif\n\n            if (type.IsAbstract())\n            {\n                return null;\n            }\n\n            var constructors = type.Constructors();\n\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n            // WP8 generates a dummy constructor with signature (internal Classname(UIntPtr dummy))\n            // So just ignore that\n            constructors = constructors.Where(c => !IsWp8GeneratedConstructor(c)).ToArray();\n#endif\n\n            if (constructors.IsEmpty())\n            {\n                return null;\n            }\n\n            if (constructors.HasMoreThan(1))\n            {\n                var explicitConstructor = (from c in constructors where _injectAttributeTypes.Any(a => c.HasAttribute(a)) select c).SingleOrDefault();\n\n                if (explicitConstructor != null)\n                {\n                    return explicitConstructor;\n                }\n\n                // If there is only one public constructor then use that\n                // This makes decent sense but is also necessary on WSA sometimes since the WSA generated\n                // constructor can sometimes be private with zero parameters\n                var singlePublicConstructor = constructors.Where(x => x.IsPublic).OnlyOrDefault();\n\n                if (singlePublicConstructor != null)\n                {\n                    return singlePublicConstructor;\n                }\n\n                // Choose the one with the least amount of arguments\n                // This might result in some non obvious errors like null reference exceptions\n                // but is probably the best trade-off since it allows zenject to be more compatible\n                // with libraries that don't depend on zenject at all\n                // Discussion here - https://github.com/svermeulen/Zenject/issues/416\n                return constructors.OrderBy(x => x.GetParameters().Count()).First();\n            }\n\n            return constructors[0];\n        }\n\n#if UNITY_WSA && ENABLE_DOTNET && !UNITY_EDITOR\n        static bool IsWp8GeneratedConstructor(ConstructorInfo c)\n        {\n            ParameterInfo[] args = c.GetParameters();\n\n            if (args.Length == 1)\n            {\n                return args[0].ParameterType == typeof(UIntPtr)\n                    && (string.IsNullOrEmpty(args[0].Name) || args[0].Name == \"dummy\");\n            }\n\n            if (args.Length == 2)\n            {\n                return args[0].ParameterType == typeof(UIntPtr)\n                    && args[1].ParameterType == typeof(Int64*)\n                    && (string.IsNullOrEmpty(args[0].Name) || args[0].Name == \"dummy\")\n                    && (string.IsNullOrEmpty(args[1].Name) || args[1].Name == \"dummy\");\n            }\n\n            return false;\n        }\n#endif\n    }\n}\n","size_bytes":9854},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenUtilInternal.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\n#if !NOT_UNITY3D\nusing UnityEngine.SceneManagement;\nusing UnityEngine;\n#endif\n\nnamespace Zenject.Internal\n{\n    public static class ZenUtilInternal\n    {\n#if UNITY_EDITOR\n        static GameObject _disabledIndestructibleGameObject;\n#endif\n\n        // Due to the way that Unity overrides the Equals operator,\n        // normal null checks such as (x == null) do not always work as\n        // expected\n        // In those cases you can use this function which will also\n        // work with non-unity objects\n        public static bool IsNull(System.Object obj)\n        {\n            return obj == null || obj.Equals(null);\n        }\n\n#if UNITY_EDITOR\n        // This can be useful if you are running code outside unity\n        // since in that case you have to make sure to avoid calling anything\n        // inside Unity DLLs\n        public static bool IsOutsideUnity()\n        {\n            return AppDomain.CurrentDomain.FriendlyName != \"Unity Child Domain\";\n        }\n#endif\n\n        public static bool AreFunctionsEqual(Delegate left, Delegate right)\n        {\n            return left.Target == right.Target && left.Method() == right.Method();\n        }\n\n        // Taken from here:\n        // http://stackoverflow.com/questions/28937324/in-c-how-could-i-get-a-classs-inheritance-distance-to-base-class/28937542#28937542\n        public static int GetInheritanceDelta(Type derived, Type parent)\n        {\n            Assert.That(derived.DerivesFromOrEqual(parent));\n\n            if (parent.IsInterface())\n            {\n                // Not sure if we can calculate this so just return 1\n                return 1;\n            }\n\n            if (derived == parent)\n            {\n                return 0;\n            }\n\n            int distance = 1;\n\n            Type child = derived;\n\n            while ((child = child.BaseType()) != parent)\n            {\n                distance++;\n            }\n\n            return distance;\n        }\n\n#if !NOT_UNITY3D\n        public static IEnumerable<SceneContext> GetAllSceneContexts()\n        {\n            foreach (var scene in UnityUtil.AllLoadedScenes)\n            {\n                var contexts = scene.GetRootGameObjects()\n                    .SelectMany(root => root.GetComponentsInChildren<SceneContext>()).ToList();\n\n                if (contexts.IsEmpty())\n                {\n                    continue;\n                }\n\n                Assert.That(contexts.Count == 1,\n                    \"Found multiple scene contexts in scene '{0}'\", scene.name);\n\n                yield return contexts[0];\n            }\n        }\n\n        public static void AddStateMachineBehaviourAutoInjectersInScene(Scene scene)\n        {\n            foreach (var rootObj in GetRootGameObjects(scene))\n            {\n                if (rootObj != null)\n                {\n                    AddStateMachineBehaviourAutoInjectersUnderGameObject(rootObj);\n                }\n            }\n        }\n\n        // Call this before calling GetInjectableMonoBehavioursUnderGameObject to ensure that the StateMachineBehaviour's\n        // also get injected properly\n        // The StateMachineBehaviour's cannot be retrieved until after the Start() method so we\n        // need to use ZenjectStateMachineBehaviourAutoInjecter to do the injection at that\n        // time for us\n        public static void AddStateMachineBehaviourAutoInjectersUnderGameObject(GameObject root)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"Searching Hierarchy\"))\n#endif\n            {\n                var animators = root.GetComponentsInChildren<Animator>(true);\n\n                foreach (var animator in animators)\n                {\n                    if (animator.gameObject.GetComponent<ZenjectStateMachineBehaviourAutoInjecter>() == null)\n                    {\n                        animator.gameObject.AddComponent<ZenjectStateMachineBehaviourAutoInjecter>();\n                    }\n                }\n            }\n        }\n\n        public static void GetInjectableMonoBehavioursInScene(\n            Scene scene, List<MonoBehaviour> monoBehaviours)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"Searching Hierarchy\"))\n#endif\n            {\n                foreach (var rootObj in GetRootGameObjects(scene))\n                {\n                    if (rootObj != null)\n                    {\n                        GetInjectableMonoBehavioursUnderGameObjectInternal(rootObj, monoBehaviours);\n                    }\n                }\n            }\n        }\n\n        // NOTE: This method will not return components that are within a GameObjectContext\n        // It returns monobehaviours in a bottom-up order\n        public static void GetInjectableMonoBehavioursUnderGameObject(\n            GameObject gameObject, List<MonoBehaviour> injectableComponents)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"Searching Hierarchy\"))\n#endif\n            {\n                GetInjectableMonoBehavioursUnderGameObjectInternal(gameObject, injectableComponents);\n            }\n        }\n\n        static void GetInjectableMonoBehavioursUnderGameObjectInternal(\n            GameObject gameObject, List<MonoBehaviour> injectableComponents)\n        {\n            if (gameObject == null)\n            {\n                return;\n            }\n\n            var monoBehaviours = gameObject.GetComponents<MonoBehaviour>();\n\n            for (int i = 0; i < monoBehaviours.Length; i++)\n            {\n                var monoBehaviour = monoBehaviours[i];\n\n                // Can be null for broken component references\n                if (monoBehaviour != null\n                        && monoBehaviour.GetType().DerivesFromOrEqual<GameObjectContext>())\n                {\n                    // Need to make sure we don't inject on any MonoBehaviour's that are below a GameObjectContext\n                    // Since that is the responsibility of the GameObjectContext\n                    // BUT we do want to inject on the GameObjectContext itself\n                    injectableComponents.Add(monoBehaviour);\n                    return;\n                }\n            }\n\n            // Recurse first so it adds components bottom up though it shouldn't really matter much\n            // because it should always inject in the dependency order\n            for (int i = 0; i < gameObject.transform.childCount; i++)\n            {\n                var child = gameObject.transform.GetChild(i);\n\n                if (child != null)\n                {\n                    GetInjectableMonoBehavioursUnderGameObjectInternal(child.gameObject, injectableComponents);\n                }\n            }\n\n            for (int i = 0; i < monoBehaviours.Length; i++)\n            {\n                var monoBehaviour = monoBehaviours[i];\n\n                // Can be null for broken component references\n                if (monoBehaviour != null\n                    && IsInjectableMonoBehaviourType(monoBehaviour.GetType()))\n                {\n                    injectableComponents.Add(monoBehaviour);\n                }\n            }\n        }\n\n        public static bool IsInjectableMonoBehaviourType(Type type)\n        {\n            // Do not inject on installers since these are always injected before they are installed\n            return type != null && !type.DerivesFrom<MonoInstaller>() && TypeAnalyzer.HasInfo(type);\n        }\n\n        public static IEnumerable<GameObject> GetRootGameObjects(Scene scene)\n        {\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"Searching Hierarchy\"))\n#endif\n            {\n                if (scene.isLoaded)\n                {\n                    return scene.GetRootGameObjects()\n                        .Where(x => x.GetComponent<ProjectContext>() == null);\n                }\n\n                // Note: We can't use scene.GetRootObjects() here because that apparently fails with an exception\n                // about the scene not being loaded yet when executed in Awake\n                // We also can't use GameObject.FindObjectsOfType<Transform>() because that does not include inactive game objects\n                // So we use Resources.FindObjectsOfTypeAll, even though that may include prefabs.  However, our assumption here\n                // is that prefabs do not have their \"scene\" property set correctly so this should work\n                //\n                // It's important here that we only inject into root objects that are part of our scene, to properly support\n                // multi-scene editing features of Unity 5.x\n                //\n                // Also, even with older Unity versions, if there is an object that is marked with DontDestroyOnLoad, then it will\n                // be injected multiple times when another scene is loaded\n                //\n                // We also make sure not to inject into the project root objects which are injected by ProjectContext.\n                return Resources.FindObjectsOfTypeAll<GameObject>()\n                    .Where(x => x.transform.parent == null\n                            && x.GetComponent<ProjectContext>() == null\n                            && x.scene == scene);\n            }\n        }\n\n#if UNITY_EDITOR\n        // Returns a Transform in the DontDestroyOnLoad scene (or, if we're not in play mode, within the current active scene)\n        // whose GameObject is inactive, and whose hide flags are set to HideAndDontSave. We can instantiate prefabs in here\n        // without any of their Awake() methods firing.\n        public static Transform GetOrCreateInactivePrefabParent()\n        {\n            if(_disabledIndestructibleGameObject == null || (!Application.isPlaying && _disabledIndestructibleGameObject.scene != SceneManager.GetActiveScene()))\n            {\n                var go = new GameObject(\"ZenUtilInternal_PrefabParent\");\n                go.hideFlags = HideFlags.HideAndDontSave;\n                go.SetActive(false);\n\n                if(Application.isPlaying)\n                {\n                    UnityEngine.Object.DontDestroyOnLoad(go);\n                }\n\n                _disabledIndestructibleGameObject = go;\n            }\n\n            return _disabledIndestructibleGameObject.transform;\n        }\n#endif\n\n#endif\n    }\n}\n","size_bytes":10391},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenjectException.cs":{"content":"using System;\nusing System.Diagnostics;\n\nnamespace Zenject\n{\n    [DebuggerStepThrough]\n    [NoReflectionBaking]\n    public class ZenjectException : Exception\n    {\n        public ZenjectException(string message)\n            : base(message)\n        {\n        }\n\n        public ZenjectException(\n            string message, Exception innerException)\n            : base(message, innerException)\n        {\n        }\n    }\n}\n","size_bytes":420},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenjectSceneLoader.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing ModestTree;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace Zenject\n{\n    public enum LoadSceneRelationship\n    {\n        // This will use the ProjectContext container as parent for the new scene\n        // This is similar to just running the new scene normally\n        None,\n        // This will use current scene as parent for the new scene\n        // This will allow the new scene to refer to dependencies in the current scene\n        Child,\n        // This will use the parent of the current scene as the parent for the next scene\n        // In most cases this will be the same as None\n        Sibling\n    }\n\n    public class ZenjectSceneLoader\n    {\n        readonly ProjectKernel _projectKernel;\n        readonly DiContainer _sceneContainer;\n\n        public ZenjectSceneLoader(\n            [InjectOptional]\n            SceneContext sceneRoot,\n            ProjectKernel projectKernel)\n        {\n            _projectKernel = projectKernel;\n            _sceneContainer = sceneRoot == null ? null : sceneRoot.Container;\n        }\n\n        public void LoadScene(\n            string sceneName,\n            LoadSceneMode loadMode = LoadSceneMode.Single,\n            Action<DiContainer> extraBindings = null,\n            LoadSceneRelationship containerMode = LoadSceneRelationship.None,\n            Action<DiContainer> extraBindingsLate = null)\n        {\n            PrepareForLoadScene(loadMode, extraBindings, extraBindingsLate, containerMode);\n\n            Assert.That(Application.CanStreamedLevelBeLoaded(sceneName),\n                \"Unable to load scene '{0}'\", sceneName);\n\n            SceneManager.LoadScene(sceneName, loadMode);\n\n            // It would be nice here to actually verify that the new scene has a SceneContext\n            // if we have extra binding hooks, or LoadSceneRelationship != None, but\n            // we can't do that in this case since the scene isn't loaded until the next frame\n        }\n\n            public AsyncOperation LoadSceneAsync(\n            string sceneName,\n            LoadSceneMode loadMode = LoadSceneMode.Single,\n            Action<DiContainer> extraBindings = null,\n            LoadSceneRelationship containerMode = LoadSceneRelationship.None,\n            Action<DiContainer> extraBindingsLate = null)\n        {\n            PrepareForLoadScene(loadMode, extraBindings, extraBindingsLate, containerMode);\n\n            Assert.That(Application.CanStreamedLevelBeLoaded(sceneName),\n                \"Unable to load scene '{0}'\", sceneName);\n\n            return SceneManager.LoadSceneAsync(sceneName, loadMode);\n        }\n\n        void PrepareForLoadScene(\n            LoadSceneMode loadMode,\n            Action<DiContainer> extraBindings,\n            Action<DiContainer> extraBindingsLate,\n            LoadSceneRelationship containerMode)\n        {\n            if (loadMode == LoadSceneMode.Single)\n            {\n                Assert.IsEqual(containerMode, LoadSceneRelationship.None);\n\n                // Here we explicitly unload all existing scenes rather than relying on Unity to\n                // do this for us.  The reason we do this is to ensure a deterministic destruction\n                // order for everything in the scene and in the container.\n                // See comment at ProjectKernel.OnApplicationQuit for more details\n                _projectKernel.ForceUnloadAllScenes();\n            }\n\n            if (containerMode == LoadSceneRelationship.None)\n            {\n                SceneContext.ParentContainers = null;\n            }\n            else if (containerMode == LoadSceneRelationship.Child)\n            {\n                if (_sceneContainer == null)\n                {\n                    SceneContext.ParentContainers = null;\n                }\n                else\n                {\n                    SceneContext.ParentContainers = new[] { _sceneContainer };\n                }\n            }\n            else\n            {\n                Assert.IsNotNull(_sceneContainer,\n                    \"Cannot use LoadSceneRelationship.Sibling when loading scenes from ProjectContext\");\n                Assert.IsEqual(containerMode, LoadSceneRelationship.Sibling);\n                SceneContext.ParentContainers = _sceneContainer.ParentContainers;\n            }\n\n            SceneContext.ExtraBindingsInstallMethod = extraBindings;\n            SceneContext.ExtraBindingsLateInstallMethod = extraBindingsLate;\n        }\n\n        public void LoadScene(\n            int sceneIndex,\n            LoadSceneMode loadMode = LoadSceneMode.Single,\n            Action<DiContainer> extraBindings = null,\n            LoadSceneRelationship containerMode = LoadSceneRelationship.None,\n            Action<DiContainer> extraBindingsLate = null)\n        {\n            PrepareForLoadScene(loadMode, extraBindings, extraBindingsLate, containerMode);\n\n            Assert.That(Application.CanStreamedLevelBeLoaded(sceneIndex),\n                \"Unable to load scene '{0}'\", sceneIndex);\n\n            SceneManager.LoadScene(sceneIndex, loadMode);\n\n            // It would be nice here to actually verify that the new scene has a SceneContext\n            // if we have extra binding hooks, or LoadSceneRelationship != None, but\n            // we can't do that in this case since the scene isn't loaded until the next frame\n        }\n\n        public AsyncOperation LoadSceneAsync(\n            int sceneIndex,\n            LoadSceneMode loadMode = LoadSceneMode.Single,\n            Action<DiContainer> extraBindings = null,\n            LoadSceneRelationship containerMode = LoadSceneRelationship.None,\n            Action<DiContainer> extraBindingsLate = null)\n        {\n            PrepareForLoadScene(loadMode, extraBindings, extraBindingsLate, containerMode);\n\n            Assert.That(Application.CanStreamedLevelBeLoaded(sceneIndex),\n                \"Unable to load scene '{0}'\", sceneIndex);\n\n            return SceneManager.LoadSceneAsync(sceneIndex, loadMode);\n        }\n    }\n}\n\n#endif\n","size_bytes":5987},"CapybaraGame/Assets/Plugins/Zenject/Source/Util/ZenjectStateMachineBehaviourAutoInjecter.cs":{"content":"using ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public class ZenjectStateMachineBehaviourAutoInjecter : MonoBehaviour\n    {\n        DiContainer _container;\n        Animator _animator;\n\n        [Inject]\n        public void Construct(DiContainer container)\n        {\n            _container = container;\n            _animator = GetComponent<Animator>();\n            Assert.IsNotNull(_animator);\n        }\n\n        // The unity docs (https://unity3d.com/learn/tutorials/modules/beginner/5-pre-order-beta/state-machine-behaviours)\n        // mention that StateMachineBehaviour's should only be retrieved in the Start method\n        // which is why we do it here\n        public void Start()\n        {\n            // Animator can be null when users create GameObjects directly so in that case\n            // Just don't bother attempting to inject the behaviour classes\n            if (_animator != null)\n            {\n                var behaviours = _animator.GetBehaviours<StateMachineBehaviour>();\n\n                if (behaviours != null)\n                {\n                    foreach (var behaviour in behaviours)\n                    {\n                        _container.Inject(behaviour);\n                    }\n                }\n            }\n        }\n    }\n}\n","size_bytes":1273},"CapybaraGame/Assets/Plugins/Zenject/Source/Validation/IValidatable.cs":{"content":"namespace Zenject\n{\n    public interface IValidatable\n    {\n        void Validate();\n    }\n}\n","size_bytes":93},"CapybaraGame/Assets/Plugins/Zenject/Source/Validation/ValidationMarker.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ValidationMarker\n    {\n        public ValidationMarker(\n            Type markedType, bool instantiateFailed)\n        {\n            MarkedType = markedType;\n            InstantiateFailed = instantiateFailed;\n        }\n\n        public ValidationMarker(Type markedType)\n            : this(markedType, false)\n        {\n        }\n\n        public bool InstantiateFailed\n        {\n            get;\n            private set;\n        }\n\n        public Type MarkedType\n        {\n            get;\n            private set;\n        }\n    }\n}\n\n","size_bytes":606},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/BindInfo/BindInfo.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    public enum ScopeTypes\n    {\n        Unset,\n        Transient,\n        Singleton\n    }\n\n    public enum ToChoices\n    {\n        Self,\n        Concrete\n    }\n\n    public enum InvalidBindResponses\n    {\n        Assert,\n        Skip\n    }\n\n    public enum BindingInheritanceMethods\n    {\n        None,\n        CopyIntoAll,\n        CopyDirectOnly,\n        MoveIntoAll,\n        MoveDirectOnly\n    }\n\n    [NoReflectionBaking]\n    public class BindInfo : IDisposable\n    {\n        public bool MarkAsCreationBinding;\n        public bool MarkAsUniqueSingleton;\n        public object ConcreteIdentifier;\n        public bool SaveProvider;\n        public bool OnlyBindIfNotBound;\n        public bool RequireExplicitScope;\n        public object Identifier;\n        public readonly List<Type> ContractTypes;\n        public BindingInheritanceMethods BindingInheritanceMethod;\n        public InvalidBindResponses InvalidBindResponse;\n        public bool NonLazy;\n        public BindingCondition Condition;\n        public ToChoices ToChoice;\n        public string ContextInfo;\n        public readonly List<Type> ToTypes; // Only relevant with ToChoices.Concrete\n        public ScopeTypes Scope;\n        public readonly List<TypeValuePair> Arguments;\n        public Action<InjectContext, object> InstantiatedCallback;\n\n        public BindInfo()\n        {\n            ContractTypes = new List<Type>();\n            ToTypes = new List<Type>();\n            Arguments = new List<TypeValuePair>();\n\n            Reset();\n        }\n\n        public void Dispose()\n        {\n            ZenPools.DespawnBindInfo(this);\n        }\n\n        [Conditional(\"UNITY_EDITOR\")]\n        public void SetContextInfo(string contextInfo)\n        {\n            ContextInfo = contextInfo;\n        }\n\n        public void Reset()\n        {\n            MarkAsCreationBinding = true;\n            MarkAsUniqueSingleton = false;\n            ConcreteIdentifier = null;\n            SaveProvider = false;\n            OnlyBindIfNotBound = false;\n            RequireExplicitScope = false;\n            Identifier = null;\n            ContractTypes.Clear();\n            BindingInheritanceMethod = BindingInheritanceMethods.None;\n            InvalidBindResponse = InvalidBindResponses.Assert;\n            NonLazy = false;\n            Condition = null;\n            ToChoice = ToChoices.Self;\n            ContextInfo = null;\n            ToTypes.Clear();\n            Scope = ScopeTypes.Unset;\n            Arguments.Clear();\n            InstantiatedCallback = null;\n        }\n    }\n}\n","size_bytes":2643},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/BindInfo/BindStatement.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class BindStatement : IDisposable\n    {\n        readonly List<IDisposable> _disposables;\n        IBindingFinalizer _bindingFinalizer;\n\n        public BindStatement()\n        {\n            _disposables = new List<IDisposable>();\n            Reset();\n        }\n\n        public BindingInheritanceMethods BindingInheritanceMethod\n        {\n            get\n            {\n                AssertHasFinalizer();\n                return _bindingFinalizer.BindingInheritanceMethod;\n            }\n        }\n\n        public bool HasFinalizer\n        {\n            get { return _bindingFinalizer != null; }\n        }\n\n        public void SetFinalizer(IBindingFinalizer bindingFinalizer)\n        {\n            _bindingFinalizer = bindingFinalizer;\n        }\n\n        void AssertHasFinalizer()\n        {\n            if (_bindingFinalizer == null)\n            {\n                throw Assert.CreateException(\n                    \"Unfinished binding!  Some required information was left unspecified.\");\n            }\n        }\n\n        public void AddDisposable(IDisposable disposable)\n        {\n            _disposables.Add(disposable);\n        }\n\n        public BindInfo SpawnBindInfo()\n        {\n            var bindInfo = ZenPools.SpawnBindInfo();\n            AddDisposable(bindInfo);\n            return bindInfo;\n        }\n\n        public void FinalizeBinding(DiContainer container)\n        {\n            AssertHasFinalizer();\n            _bindingFinalizer.FinalizeBinding(container);\n        }\n\n        public void Reset()\n        {\n            _bindingFinalizer = null;\n\n            for (int i = 0; i < _disposables.Count; i++)\n            {\n                _disposables[i].Dispose();\n            }\n\n            _disposables.Clear();\n        }\n\n        public void Dispose()\n        {\n            ZenPools.DespawnStatement(this);\n        }\n    }\n}\n","size_bytes":1983},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/BindInfo/FactoryBindInfo.cs":{"content":"using System;\nusing System.Collections.Generic;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryBindInfo\n    {\n        public FactoryBindInfo(Type factoryType)\n        {\n            FactoryType = factoryType;\n            Arguments = new List<TypeValuePair>();\n        }\n\n        public Type FactoryType\n        {\n            get; private set;\n        }\n\n        public Func<DiContainer, IProvider> ProviderFunc\n        {\n            get; set;\n        }\n\n        public List<TypeValuePair> Arguments\n        {\n            get;\n            set;\n        }\n    }\n}\n","size_bytes":583},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/BindInfo/GameObjectCreationParameters.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class GameObjectCreationParameters\n    {\n        public string Name\n        {\n            get;\n            set;\n        }\n\n        public string GroupName\n        {\n            get;\n            set;\n        }\n\n        public Transform ParentTransform\n        {\n            get;\n            set;\n        }\n\n        public Func<InjectContext, Transform> ParentTransformGetter\n        {\n            get;\n            set;\n        }\n\n        public Vector3? Position\n        {\n            get;\n            set;\n        }\n\n        public Quaternion? Rotation\n        {\n            get;\n            set;\n        }\n\n        public static readonly GameObjectCreationParameters Default = new GameObjectCreationParameters();\n\n        public override int GetHashCode()\n        {\n            unchecked // Overflow is fine, just wrap\n            {\n                int hash = 17;\n                hash = hash * 29 + (Name == null ? 0 : Name.GetHashCode());\n                hash = hash * 29 + (GroupName == null ? 0 : GroupName.GetHashCode());\n                hash = hash * 29 + (ParentTransform == null ? 0 : ParentTransform.GetHashCode());\n                hash = hash * 29 + (ParentTransformGetter == null ? 0 : ParentTransformGetter.GetHashCode());\n                hash = hash * 29 + (!Position.HasValue ? 0 : Position.Value.GetHashCode());\n                hash = hash * 29 + (!Rotation.HasValue ? 0 : Rotation.Value.GetHashCode());\n                return hash;\n            }\n        }\n\n        public override bool Equals(object other)\n        {\n            if (other is GameObjectCreationParameters)\n            {\n                GameObjectCreationParameters otherId = (GameObjectCreationParameters)other;\n                return otherId == this;\n            }\n\n            return false;\n        }\n\n        public bool Equals(GameObjectCreationParameters that)\n        {\n            return this == that;\n        }\n\n        public static bool operator ==(GameObjectCreationParameters left, GameObjectCreationParameters right)\n        {\n            return Equals(left.Name, right.Name)\n                && Equals(left.GroupName, right.GroupName);\n        }\n\n        public static bool operator !=(GameObjectCreationParameters left, GameObjectCreationParameters right)\n        {\n            return !left.Equals(right);\n        }\n    }\n}\n\n#endif\n","size_bytes":2436},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/BindInfo/MemoryPoolBindInfo.cs":{"content":"namespace Zenject\n{\n    public enum PoolExpandMethods\n    {\n        OneAtATime,\n        Double,\n        Disabled\n    }\n\n    [NoReflectionBaking]\n    public class MemoryPoolBindInfo\n    {\n        public MemoryPoolBindInfo()\n        {\n            ExpandMethod = PoolExpandMethods.OneAtATime;\n            MaxSize = int.MaxValue;\n        }\n\n        public PoolExpandMethods ExpandMethod\n        {\n            get; set;\n        }\n\n        public int InitialSize\n        {\n            get; set;\n        }\n\n        public int MaxSize\n        {\n            get; set;\n        }\n    }\n}\n\n","size_bytes":578},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ArgConditionCopyNonLazyBinder.cs":{"content":"using System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ArgConditionCopyNonLazyBinder : InstantiateCallbackConditionCopyNonLazyBinder\n    {\n        public ArgConditionCopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments<T>(T param)\n        {\n            BindInfo.Arguments.Clear();\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param));\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments<TParam1, TParam2>(TParam1 param1, TParam2 param2)\n        {\n            BindInfo.Arguments.Clear();\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param1));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param2));\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments<TParam1, TParam2, TParam3>(\n            TParam1 param1, TParam2 param2, TParam3 param3)\n        {\n            BindInfo.Arguments.Clear();\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param1));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param2));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param3));\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments<TParam1, TParam2, TParam3, TParam4>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4)\n        {\n            BindInfo.Arguments.Clear();\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param1));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param2));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param3));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param4));\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments<TParam1, TParam2, TParam3, TParam4, TParam5>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5)\n        {\n            BindInfo.Arguments.Clear();\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param1));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param2));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param3));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param4));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param5));\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6)\n        {\n            BindInfo.Arguments.Clear();\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param1));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param2));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param3));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param4));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param5));\n            BindInfo.Arguments.Add(InjectUtil.CreateTypePair(param6));\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArguments(object[] args)\n        {\n            BindInfo.Arguments.Clear();\n\n            for (int i = 0; i < args.Length; i++)\n            {\n                var arg = args[i];\n\n                Assert.IsNotNull(arg,\n                    \"Cannot include null values when creating a zenject argument list because zenject has no way of deducing the type from a null value.  If you want to allow null, use the Explicit form.\");\n\n                BindInfo.Arguments.Add(\n                    new TypeValuePair(arg.GetType(), arg));\n            }\n            return this;\n        }\n\n        public InstantiateCallbackConditionCopyNonLazyBinder WithArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            BindInfo.Arguments.Clear();\n\n            foreach (var arg in extraArgs)\n            {\n                BindInfo.Arguments.Add(arg);\n            }\n            return this;\n        }\n    }\n}\n","size_bytes":4540},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConcreteIdArgConditionCopyNonLazyBinder : ArgConditionCopyNonLazyBinder\n    {\n        public ConcreteIdArgConditionCopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public ArgConditionCopyNonLazyBinder WithConcreteId(object id)\n        {\n            BindInfo.ConcreteIdentifier = id;\n            return this;\n        }\n    }\n}\n","size_bytes":434},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ConditionCopyNonLazyBinder.cs":{"content":"using System;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConditionCopyNonLazyBinder : CopyNonLazyBinder\n    {\n        public ConditionCopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public CopyNonLazyBinder When(BindingCondition condition)\n        {\n            BindInfo.Condition = condition;\n            return this;\n        }\n\n        public CopyNonLazyBinder WhenInjectedIntoInstance(object instance)\n        {\n            return When(r => ReferenceEquals(r.ObjectInstance, instance));\n        }\n\n        public CopyNonLazyBinder WhenInjectedInto(params Type[] targets)\n        {\n            return When(r => targets.Where(x => r.ObjectType != null && r.ObjectType.DerivesFromOrEqual(x)).Any());\n        }\n\n        public CopyNonLazyBinder WhenInjectedInto<T>()\n        {\n            return When(r => r.ObjectType != null && r.ObjectType.DerivesFromOrEqual(typeof(T)));\n        }\n\n        public CopyNonLazyBinder WhenNotInjectedInto<T>()\n        {\n            return When(r => r.ObjectType == null || !r.ObjectType.DerivesFromOrEqual(typeof(T)));\n        }\n    }\n}\n","size_bytes":1174},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/CopyNonLazyBinder.cs":{"content":"using System.Collections.Generic;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class CopyNonLazyBinder : NonLazyBinder\n    {\n        List<BindInfo> _secondaryBindInfos;\n\n        public CopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        // This is used in cases where you have multiple bindings that depend on each other so should\n        // be inherited together (eg. FromIFactory)\n        internal void AddSecondaryCopyBindInfo(BindInfo bindInfo)\n        {\n            if (_secondaryBindInfos == null)\n            {\n                _secondaryBindInfos = new List<BindInfo>();\n            }\n            _secondaryBindInfos.Add(bindInfo);\n        }\n\n        public NonLazyBinder CopyIntoAllSubContainers()\n        {\n            SetInheritanceMethod(BindingInheritanceMethods.CopyIntoAll);\n            return this;\n        }\n\n        // Only copy the binding into children and not grandchildren\n        public NonLazyBinder CopyIntoDirectSubContainers()\n        {\n            SetInheritanceMethod(BindingInheritanceMethods.CopyDirectOnly);\n            return this;\n        }\n\n        // Do not apply the binding on the current container\n        public NonLazyBinder MoveIntoAllSubContainers()\n        {\n            SetInheritanceMethod(BindingInheritanceMethods.MoveIntoAll);\n            return this;\n        }\n\n        // Do not apply the binding on the current container\n        public NonLazyBinder MoveIntoDirectSubContainers()\n        {\n            SetInheritanceMethod(BindingInheritanceMethods.MoveDirectOnly);\n            return this;\n        }\n\n        void SetInheritanceMethod(BindingInheritanceMethods method)\n        {\n            BindInfo.BindingInheritanceMethod = method;\n\n            if (_secondaryBindInfos != null)\n            {\n                foreach (var secondaryBindInfo in _secondaryBindInfos)\n                {\n                    secondaryBindInfo.BindingInheritanceMethod = method;\n                }\n            }\n        }\n    }\n}\n","size_bytes":2014},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/DefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class DefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder : ScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public DefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder(\n            SubContainerCreatorBindInfo subContainerBindInfo, BindInfo bindInfo)\n            : base(bindInfo)\n        {\n            SubContainerCreatorBindInfo = subContainerBindInfo;\n        }\n\n        protected SubContainerCreatorBindInfo SubContainerCreatorBindInfo\n        {\n            get; private set;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder WithDefaultGameObjectParent(string defaultParentName)\n        {\n            SubContainerCreatorBindInfo.DefaultParentName = defaultParentName;\n            return this;\n        }\n    }\n}\n","size_bytes":813},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/IdBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class IdBinder\n    {\n        BindInfo _bindInfo;\n\n        public IdBinder(BindInfo bindInfo)\n        {\n            _bindInfo = bindInfo;\n        }\n\n        public void WithId(object identifier)\n        {\n            _bindInfo.Identifier = identifier;\n        }\n    }\n}\n\n\n","size_bytes":327},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/IdScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class IdScopeConcreteIdArgConditionCopyNonLazyBinder : ScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public IdScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n","size_bytes":478},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/IfNotBoundBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class IfNotBoundBinder\n    {\n        public IfNotBoundBinder(BindInfo bindInfo)\n        {\n            BindInfo = bindInfo;\n        }\n\n        // Do not use this\n        public BindInfo BindInfo\n        {\n            get;\n            private set;\n        }\n\n        public void IfNotBound()\n        {\n            BindInfo.OnlyBindIfNotBound = true;\n        }\n    }\n}\n\n","size_bytes":423},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/InstantiateCallbackConditionCopyNonLazyBinder.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class InstantiateCallbackConditionCopyNonLazyBinder : ConditionCopyNonLazyBinder\n    {\n        public InstantiateCallbackConditionCopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder OnInstantiated(\n            Action<InjectContext, object> callback)\n        {\n            BindInfo.InstantiatedCallback = callback;\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder OnInstantiated<T>(\n            Action<InjectContext, T> callback)\n        {\n            // Can't do this here because of factory bindings\n            //Assert.That(BindInfo.ContractTypes.All(x => x.DerivesFromOrEqual<T>()));\n\n            BindInfo.InstantiatedCallback = (ctx, obj) =>\n            {\n                Assert.That(obj == null || obj is T,\n                    \"Invalid generic argument to OnInstantiated! {0} must be type {1}\", obj.GetType(), typeof(T));\n\n                callback(ctx, (T)obj);\n            };\n            return this;\n        }\n    }\n}\n","size_bytes":1122},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/NonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class NonLazyBinder : IfNotBoundBinder\n    {\n        public NonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public IfNotBoundBinder NonLazy()\n        {\n            BindInfo.NonLazy = true;\n            return this;\n        }\n\n        public IfNotBoundBinder Lazy()\n        {\n            BindInfo.NonLazy = false;\n            return this;\n        }\n    }\n}\n","size_bytes":454},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class ScopeConcreteIdArgConditionCopyNonLazyBinder : ConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public ConcreteIdArgConditionCopyNonLazyBinder AsCached()\n        {\n            BindInfo.Scope = ScopeTypes.Singleton;\n            return this;\n        }\n\n        public ConcreteIdArgConditionCopyNonLazyBinder AsSingle()\n        {\n            BindInfo.Scope = ScopeTypes.Singleton;\n            BindInfo.MarkAsUniqueSingleton = true;\n            return this;\n        }\n\n        // Note that this is the default so it's not necessary to call this\n        public ConcreteIdArgConditionCopyNonLazyBinder AsTransient()\n        {\n            BindInfo.Scope = ScopeTypes.Transient;\n            return this;\n        }\n    }\n}\n","size_bytes":910},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/SubContainerBinder.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerBinder\n    {\n        readonly BindInfo _bindInfo;\n        readonly BindStatement _bindStatement;\n        readonly object _subIdentifier;\n        readonly bool _resolveAll;\n\n        public SubContainerBinder(\n            BindInfo bindInfo,\n            BindStatement bindStatement,\n            object subIdentifier, bool resolveAll)\n        {\n            _bindInfo = bindInfo;\n            _bindStatement = bindStatement;\n            _subIdentifier = subIdentifier;\n            _resolveAll = resolveAll;\n\n            // Reset in case the user ends the binding here\n            bindStatement.SetFinalizer(null);\n        }\n\n        protected IBindingFinalizer SubFinalizer\n        {\n            set { _bindStatement.SetFinalizer(value); }\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByInstance(DiContainer subContainer)\n        {\n            SubFinalizer = new SubContainerBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (_) => new SubContainerCreatorByInstance(subContainer));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByInstanceGetter(\n            Func<InjectContext, DiContainer> subContainerGetter)\n        {\n            SubFinalizer = new SubContainerBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (_) => new SubContainerCreatorByInstanceGetter(subContainerGetter));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo);\n        }\n\n        public\n#if NOT_UNITY3D\n            WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder\n#else\n            WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder\n#endif\n            ByInstaller<TInstaller>()\n            where TInstaller : InstallerBase\n        {\n            return ByInstaller(typeof(TInstaller));\n        }\n\n        public\n#if NOT_UNITY3D\n            WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder\n#else\n            WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder\n#endif\n            ByInstaller(Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var subContainerBindInfo = new SubContainerCreatorBindInfo();\n\n            SubFinalizer = new SubContainerBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByInstaller(container, subContainerBindInfo, installerType));\n\n            return new\n#if NOT_UNITY3D\n                WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder\n#else\n                WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder\n#endif\n                (subContainerBindInfo, _bindInfo);\n        }\n\n        public\n#if NOT_UNITY3D\n            WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder\n#else\n            WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder\n#endif\n            ByMethod(Action<DiContainer> installerMethod)\n        {\n            var subContainerBindInfo = new SubContainerCreatorBindInfo();\n\n            SubFinalizer = new SubContainerBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByMethod(container, subContainerBindInfo, installerMethod));\n\n            return new\n#if NOT_UNITY3D\n                WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder\n#else\n                WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder\n#endif\n                (subContainerBindInfo, _bindInfo);\n        }\n\n#if !NOT_UNITY3D\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n            Action<DiContainer> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewGameObjectMethod(\n                    container, gameObjectInfo, installerMethod));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Action<DiContainer> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefabMethod(\n                    container,\n                    new PrefabProviderCustom(prefabGetter),\n                    gameObjectInfo, installerMethod));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab, Action<DiContainer> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefabMethod(\n                    container,\n                    new PrefabProvider(prefab),\n                    gameObjectInfo, installerMethod));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectInstaller<TInstaller>()\n            where TInstaller : InstallerBase\n        {\n            return ByNewGameObjectInstaller(typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectInstaller(Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewGameObjectInstaller(\n                    container, gameObjectInfo, installerType, _bindInfo.Arguments));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller<TInstaller>(\n            Func<InjectContext, UnityEngine.Object> prefabGetter)\n            where TInstaller : InstallerBase\n        {\n            return ByNewPrefabInstaller(prefabGetter, typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefabInstaller(\n                    container,\n                    new PrefabProviderCustom(prefabGetter),\n                    gameObjectInfo, installerType, _bindInfo.Arguments));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller<TInstaller>(\n            UnityEngine.Object prefab)\n            where TInstaller : InstallerBase\n        {\n            return ByNewPrefabInstaller(prefab, typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller(\n            UnityEngine.Object prefab, Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefabInstaller(\n                    container,\n                    new PrefabProvider(prefab),\n                    gameObjectInfo, installerType, _bindInfo.Arguments));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath, Action<DiContainer> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefabMethod(\n                    container,\n                    new PrefabProviderResource(resourcePath),\n                    gameObjectInfo, installerMethod));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceInstaller<TInstaller>(\n            string resourcePath)\n            where TInstaller : InstallerBase\n        {\n            return ByNewPrefabResourceInstaller(resourcePath, typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceInstaller(\n            string resourcePath, Type installerType)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefabInstaller(\n                    container,\n                    new PrefabProviderResource(resourcePath),\n                    gameObjectInfo, installerType, _bindInfo.Arguments));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        [System.Obsolete(\"ByNewPrefab has been renamed to ByNewContextPrefab to avoid confusion with ByNewPrefabInstaller and ByNewPrefabMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefab(UnityEngine.Object prefab)\n        {\n            return ByNewContextPrefab(prefab);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefab(UnityEngine.Object prefab)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefab(\n                    container, new PrefabProvider(prefab), gameObjectInfo));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n\n        [System.Obsolete(\"ByNewPrefabResource has been renamed to ByNewContextPrefabResource to avoid confusion with ByNewPrefabResourceInstaller and ByNewPrefabResourceMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResource(string resourcePath)\n        {\n            return ByNewContextPrefabResource(resourcePath);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefabResource(string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            SubFinalizer = new SubContainerPrefabBindingFinalizer(\n                _bindInfo, _subIdentifier, _resolveAll,\n                (container) => new SubContainerCreatorByNewPrefab(\n                    container, new PrefabProviderResource(resourcePath), gameObjectInfo));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(_bindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":13626},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder : DefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public WithKernelDefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder(\n            SubContainerCreatorBindInfo subContainerBindInfo, BindInfo bindInfo)\n            : base(subContainerBindInfo, bindInfo)\n        {\n        }\n\n        public DefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder WithKernel()\n        {\n            SubContainerCreatorBindInfo.CreateKernel = true;\n            return this;\n        }\n\n        // This would be used in cases where you want to control the execution order for the\n        // subcontainer\n        public DefaultParentScopeConcreteIdArgConditionCopyNonLazyBinder WithKernel<TKernel>()\n            where TKernel : Kernel\n        {\n            SubContainerCreatorBindInfo.CreateKernel = true;\n            SubContainerCreatorBindInfo.KernelType = typeof(TKernel);\n            return this;\n        }\n    }\n}\n","size_bytes":1057},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder : ScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        SubContainerCreatorBindInfo _subContainerBindInfo;\n\n        public WithKernelScopeConcreteIdArgConditionCopyNonLazyBinder(\n            SubContainerCreatorBindInfo subContainerBindInfo, BindInfo bindInfo)\n            : base(bindInfo)\n        {\n            _subContainerBindInfo = subContainerBindInfo;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder WithKernel()\n        {\n            _subContainerBindInfo.CreateKernel = true;\n            return this;\n        }\n\n        // This would be used in cases where you want to control the execution order for the\n        // subcontainer\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder WithKernel<TKernel>()\n            where TKernel : Kernel\n        {\n            _subContainerBindInfo.CreateKernel = true;\n            _subContainerBindInfo.KernelType = typeof(TKernel);\n            return this;\n        }\n    }\n}\n","size_bytes":1070},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/IBindingFinalizer.cs":{"content":"namespace Zenject\n{\n    public interface IBindingFinalizer\n    {\n        BindingInheritanceMethods BindingInheritanceMethod\n        {\n            get;\n        }\n\n        void FinalizeBinding(DiContainer container);\n    }\n}\n","size_bytes":223},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/NullBindingFinalizer.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class NullBindingFinalizer : IBindingFinalizer\n    {\n        public BindingInheritanceMethods BindingInheritanceMethod\n        {\n            get { return BindingInheritanceMethods.None; }\n        }\n\n        public void FinalizeBinding(DiContainer container)\n        {\n            // Do nothing\n        }\n    }\n}\n\n","size_bytes":369},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/PrefabBindingFinalizer.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabBindingFinalizer : ProviderBindingFinalizer\n    {\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n        readonly UnityEngine.Object _prefab;\n        readonly Func<Type, IPrefabInstantiator, IProvider> _providerFactory;\n\n        public PrefabBindingFinalizer(\n            BindInfo bindInfo,\n            GameObjectCreationParameters gameObjectBindInfo,\n            UnityEngine.Object prefab, Func<Type, IPrefabInstantiator, IProvider> providerFactory)\n            : base(bindInfo)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n            _prefab = prefab;\n            _providerFactory = providerFactory;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ToChoice == ToChoices.Self)\n            {\n                Assert.IsEmpty(BindInfo.ToTypes);\n                FinalizeBindingSelf(container);\n            }\n            else\n            {\n                FinalizeBindingConcrete(container, BindInfo.ToTypes);\n            }\n        }\n\n        void FinalizeBindingConcrete(DiContainer container, List<Type> concreteTypes)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) =>\n                            _providerFactory(\n                                concreteType,\n                                new PrefabInstantiator(\n                                    container,\n                                    _gameObjectBindInfo,\n                                    concreteType,\n                                    concreteTypes,\n                                    BindInfo.Arguments,\n                                    new PrefabProvider(_prefab),\n                                    BindInfo.InstantiatedCallback)));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var argumentTarget = concreteTypes.OnlyOrDefault();\n\n                    if (argumentTarget == null)\n                    {\n                        Assert.That(BindInfo.Arguments.IsEmpty(),\n                            \"Cannot provide arguments to prefab instantiator when using more than one concrete type\");\n                    }\n\n                    var prefabCreator = new PrefabInstantiatorCached(\n                        new PrefabInstantiator(\n                            container,\n                            _gameObjectBindInfo,\n                            argumentTarget,\n                            concreteTypes,\n                            BindInfo.Arguments,\n                            new PrefabProvider(_prefab),\n                            BindInfo.InstantiatedCallback));\n\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) => BindingUtil.CreateCachedProvider(\n                            _providerFactory(concreteType, prefabCreator)));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n\n        void FinalizeBindingSelf(DiContainer container)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                            _providerFactory(\n                                contractType,\n                                new PrefabInstantiator(\n                                    container,\n                                    _gameObjectBindInfo,\n                                    contractType,\n                                    BindInfo.ContractTypes,\n                                    BindInfo.Arguments,\n                                    new PrefabProvider(_prefab),\n                                    BindInfo.InstantiatedCallback)));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var argumentTarget = BindInfo.ContractTypes.OnlyOrDefault();\n\n                    if (argumentTarget == null)\n                    {\n                        Assert.That(BindInfo.Arguments.IsEmpty(),\n                            \"Cannot provide arguments to prefab instantiator when using more than one concrete type\");\n                    }\n\n                    var prefabCreator = new PrefabInstantiatorCached(\n                        new PrefabInstantiator(\n                            container,\n                            _gameObjectBindInfo,\n                            argumentTarget,\n                            BindInfo.ContractTypes,\n                            BindInfo.Arguments,\n                            new PrefabProvider(_prefab),\n                            BindInfo.InstantiatedCallback));\n\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                            BindingUtil.CreateCachedProvider(\n                                _providerFactory(contractType, prefabCreator)));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":5871},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/PrefabResourceBindingFinalizer.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabResourceBindingFinalizer : ProviderBindingFinalizer\n    {\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n        readonly string _resourcePath;\n        readonly Func<Type, IPrefabInstantiator, IProvider> _providerFactory;\n\n        public PrefabResourceBindingFinalizer(\n            BindInfo bindInfo,\n            GameObjectCreationParameters gameObjectBindInfo,\n            string resourcePath, Func<Type, IPrefabInstantiator, IProvider> providerFactory)\n            : base(bindInfo)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n            _resourcePath = resourcePath;\n            _providerFactory = providerFactory;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ToChoice == ToChoices.Self)\n            {\n                Assert.IsEmpty(BindInfo.ToTypes);\n                FinalizeBindingSelf(container);\n            }\n            else\n            {\n                FinalizeBindingConcrete(container, BindInfo.ToTypes);\n            }\n        }\n\n        void FinalizeBindingConcrete(DiContainer container, List<Type> concreteTypes)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) =>\n                            _providerFactory(\n                                concreteType,\n                                new PrefabInstantiator(\n                                    container,\n                                    _gameObjectBindInfo,\n                                    concreteType,\n                                    concreteTypes,\n                                    BindInfo.Arguments,\n                                    new PrefabProviderResource(_resourcePath),\n                                    BindInfo.InstantiatedCallback)));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var argumentTarget = concreteTypes.OnlyOrDefault();\n\n                    if (argumentTarget == null)\n                    {\n                        Assert.That(BindInfo.Arguments.IsEmpty(),\n                            \"Cannot provide arguments to prefab instantiator when using more than one concrete type\");\n                    }\n\n                    var prefabCreator = new PrefabInstantiatorCached(\n                        new PrefabInstantiator(\n                            container,\n                            _gameObjectBindInfo,\n                            argumentTarget,\n                            concreteTypes,\n                            BindInfo.Arguments,\n                            new PrefabProviderResource(_resourcePath),\n                            BindInfo.InstantiatedCallback));\n\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) => BindingUtil.CreateCachedProvider(\n                            _providerFactory(concreteType, prefabCreator)));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n\n        void FinalizeBindingSelf(DiContainer container)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                            _providerFactory(\n                                contractType,\n                                new PrefabInstantiator(\n                                    container,\n                                    _gameObjectBindInfo,\n                                    contractType,\n                                    BindInfo.ContractTypes,\n                                    BindInfo.Arguments,\n                                    new PrefabProviderResource(_resourcePath),\n                                    BindInfo.InstantiatedCallback)));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var argumentTarget = BindInfo.ContractTypes.OnlyOrDefault();\n\n                    if (argumentTarget == null)\n                    {\n                        Assert.That(BindInfo.Arguments.IsEmpty(),\n                            \"Cannot provide arguments to prefab instantiator when using more than one concrete type\");\n                    }\n\n                    var prefabCreator = new PrefabInstantiatorCached(\n                        new PrefabInstantiator(\n                            container,\n                            _gameObjectBindInfo,\n                            argumentTarget,\n                            BindInfo.ContractTypes,\n                            BindInfo.Arguments,\n                            new PrefabProviderResource(_resourcePath),\n                            BindInfo.InstantiatedCallback));\n\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                            BindingUtil.CreateCachedProvider(\n                                _providerFactory(contractType, prefabCreator)));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":5924},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/ProviderBindingFinalizer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public abstract class ProviderBindingFinalizer : IBindingFinalizer\n    {\n        public ProviderBindingFinalizer(BindInfo bindInfo)\n        {\n            BindInfo = bindInfo;\n        }\n\n        public BindingInheritanceMethods BindingInheritanceMethod\n        {\n            get { return BindInfo.BindingInheritanceMethod; }\n        }\n\n        protected BindInfo BindInfo\n        {\n            get;\n            private set;\n        }\n\n        protected ScopeTypes GetScope()\n        {\n            if (BindInfo.Scope == ScopeTypes.Unset)\n            {\n                // If condition is set then it's probably fine to allow the default of transient\n                Assert.That(!BindInfo.RequireExplicitScope || BindInfo.Condition != null,\n                    \"Scope must be set for the previous binding!  Please either specify AsTransient, AsCached, or AsSingle. Last binding: Contract: {0}, Identifier: {1} {2}\",\n                    BindInfo.ContractTypes.Select(x => x.PrettyName()).Join(\", \"), BindInfo.Identifier,\n                    BindInfo.ContextInfo != null ? \"Context: '{0}'\".Fmt(BindInfo.ContextInfo) : \"\");\n                return ScopeTypes.Transient;\n            }\n\n            return BindInfo.Scope;\n        }\n\n        public void FinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ContractTypes.Count == 0)\n            {\n                // We could assert her instead but it is nice when used with things like\n                // BindInterfaces() (and there aren't any interfaces) to allow\n                // interfaces to be added later\n                return;\n            }\n\n            try\n            {\n                OnFinalizeBinding(container);\n            }\n            catch (Exception e)\n            {\n                throw Assert.CreateException(\n                    e, \"Error while finalizing previous binding! Contract: {0}, Identifier: {1} {2}\",\n                    BindInfo.ContractTypes.Select(x => x.PrettyName()).Join(\", \"), BindInfo.Identifier,\n                    BindInfo.ContextInfo != null ? \"Context: '{0}'\".Fmt(BindInfo.ContextInfo) : \"\");\n            }\n        }\n\n        protected abstract void OnFinalizeBinding(DiContainer container);\n\n        protected void RegisterProvider<TContract>(\n            DiContainer container, IProvider provider)\n        {\n            RegisterProvider(container, typeof(TContract), provider);\n        }\n\n        protected void RegisterProvider(\n            DiContainer container, Type contractType, IProvider provider)\n        {\n            if (BindInfo.OnlyBindIfNotBound && container.HasBindingId(contractType, BindInfo.Identifier))\n            {\n                return;\n            }\n\n            container.RegisterProvider(\n                new BindingId(contractType, BindInfo.Identifier),\n                BindInfo.Condition,\n                provider, BindInfo.NonLazy);\n\n            if (contractType.IsValueType() && !(contractType.IsGenericType() && contractType.GetGenericTypeDefinition() == typeof(Nullable<>)))\n            {\n                var nullableType = typeof(Nullable<>).MakeGenericType(contractType);\n\n                // Also bind to nullable primitives\n                // this is useful so that we can have optional primitive dependencies\n                container.RegisterProvider(\n                    new BindingId(nullableType, BindInfo.Identifier),\n                    BindInfo.Condition,\n                    provider, BindInfo.NonLazy);\n            }\n        }\n\n        protected void RegisterProviderPerContract(\n            DiContainer container, Func<DiContainer, Type, IProvider> providerFunc)\n        {\n            foreach (var contractType in BindInfo.ContractTypes)\n            {\n                var provider = providerFunc(container, contractType);\n\n                if (BindInfo.MarkAsUniqueSingleton)\n                {\n                    container.SingletonMarkRegistry.MarkSingleton(contractType);\n                }\n                else if (BindInfo.MarkAsCreationBinding)\n                {\n                    container.SingletonMarkRegistry.MarkNonSingleton(contractType);\n                }\n\n                RegisterProvider(container, contractType, provider);\n            }\n        }\n\n        protected void RegisterProviderForAllContracts(\n            DiContainer container, IProvider provider)\n        {\n            foreach (var contractType in BindInfo.ContractTypes)\n            {\n                if (BindInfo.MarkAsUniqueSingleton)\n                {\n                    container.SingletonMarkRegistry.MarkSingleton(contractType);\n                }\n                else if (BindInfo.MarkAsCreationBinding)\n                {\n                    container.SingletonMarkRegistry.MarkNonSingleton(contractType);\n                }\n\n                RegisterProvider(container, contractType, provider);\n            }\n        }\n\n        protected void RegisterProvidersPerContractAndConcreteType(\n            DiContainer container,\n            List<Type> concreteTypes,\n            Func<Type, Type, IProvider> providerFunc)\n        {\n            Assert.That(!BindInfo.ContractTypes.IsEmpty());\n            Assert.That(!concreteTypes.IsEmpty());\n\n            foreach (var contractType in BindInfo.ContractTypes)\n            {\n                foreach (var concreteType in concreteTypes)\n                {\n                    if (ValidateBindTypes(concreteType, contractType))\n                    {\n                        RegisterProvider(container, contractType, providerFunc(contractType, concreteType));\n                    }\n                }\n            }\n        }\n\n        // Returns true if the bind should continue, false to skip\n        bool ValidateBindTypes(Type concreteType, Type contractType)\n        {\n            bool isConcreteOpenGenericType = concreteType.IsOpenGenericType();\n            bool isContractOpenGenericType = contractType.IsOpenGenericType();\n            if (isConcreteOpenGenericType != isContractOpenGenericType)\n            {\n                return false;\n            }\n\n#if !(UNITY_WSA && ENABLE_DOTNET)\n            // TODO: Is it possible to do this on WSA?\n\n            if (isContractOpenGenericType)\n            {\n                Assert.That(isConcreteOpenGenericType);\n\n                if (TypeExtensions.IsAssignableToGenericType(concreteType, contractType))\n                {\n                    return true;\n                }\n            }\n            else if (concreteType.DerivesFromOrEqual(contractType))\n            {\n                return true;\n            }\n#else\n            if (concreteType.DerivesFromOrEqual(contractType))\n            {\n                return true;\n            }\n#endif\n\n            if (BindInfo.InvalidBindResponse == InvalidBindResponses.Assert)\n            {\n                throw Assert.CreateException(\n                    \"Expected type '{0}' to derive from or be equal to '{1}'\", concreteType, contractType);\n            }\n\n            Assert.IsEqual(BindInfo.InvalidBindResponse, InvalidBindResponses.Skip);\n            return false;\n        }\n\n        // Note that if multiple contract types are provided per concrete type,\n        // it will re-use the same provider for each contract type\n        // (each concrete type will have its own provider though)\n        protected void RegisterProvidersForAllContractsPerConcreteType(\n            DiContainer container,\n            List<Type> concreteTypes,\n            Func<DiContainer, Type, IProvider> providerFunc)\n        {\n            Assert.That(!BindInfo.ContractTypes.IsEmpty());\n            Assert.That(!concreteTypes.IsEmpty());\n\n            var providerMap = ZenPools.SpawnDictionary<Type, IProvider>();\n            try\n            {\n                foreach (var concreteType in concreteTypes)\n                {\n                    var provider = providerFunc(container, concreteType);\n\n                    providerMap[concreteType] = provider;\n\n                    if (BindInfo.MarkAsUniqueSingleton)\n                    {\n                        container.SingletonMarkRegistry.MarkSingleton(concreteType);\n                    }\n                    else if (BindInfo.MarkAsCreationBinding)\n                    {\n                        container.SingletonMarkRegistry.MarkNonSingleton(concreteType);\n                    }\n                }\n\n                foreach (var contractType in BindInfo.ContractTypes)\n                {\n                    foreach (var concreteType in concreteTypes)\n                    {\n                        if (ValidateBindTypes(concreteType, contractType))\n                        {\n                            RegisterProvider(container, contractType, providerMap[concreteType]);\n                        }\n                    }\n                }\n            }\n            finally\n            {\n                ZenPools.DespawnDictionary(providerMap);\n            }\n        }\n    }\n}\n","size_bytes":9042},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/ScopableBindingFinalizer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ScopableBindingFinalizer : ProviderBindingFinalizer\n    {\n        readonly Func<DiContainer, Type, IProvider> _providerFactory;\n\n        public ScopableBindingFinalizer(\n            BindInfo bindInfo, Func<DiContainer, Type, IProvider> providerFactory)\n            : base(bindInfo)\n        {\n            _providerFactory = providerFactory;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ToChoice == ToChoices.Self)\n            {\n                Assert.IsEmpty(BindInfo.ToTypes);\n                FinalizeBindingSelf(container);\n            }\n            else\n            {\n                FinalizeBindingConcrete(container, BindInfo.ToTypes);\n            }\n        }\n\n        void FinalizeBindingConcrete(DiContainer container, List<Type> concreteTypes)\n        {\n            if (concreteTypes.Count == 0)\n            {\n                // This can be common when using convention based bindings\n                return;\n            }\n\n            var scope = GetScope();\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container, concreteTypes, _providerFactory);\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) =>\n                            BindingUtil.CreateCachedProvider(\n                                _providerFactory(container, concreteType)));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n\n        void FinalizeBindingSelf(DiContainer container)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProviderPerContract(container, _providerFactory);\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                            BindingUtil.CreateCachedProvider(\n                                _providerFactory(container, contractType)));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n    }\n}\n","size_bytes":2873},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/SingleProviderBindingFinalizer.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SingleProviderBindingFinalizer : ProviderBindingFinalizer\n    {\n        readonly Func<DiContainer, Type, IProvider> _providerFactory;\n\n        public SingleProviderBindingFinalizer(\n            BindInfo bindInfo, Func<DiContainer, Type, IProvider> providerFactory)\n            : base(bindInfo)\n        {\n            _providerFactory = providerFactory;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ToChoice == ToChoices.Self)\n            {\n                Assert.IsEmpty(BindInfo.ToTypes);\n\n                RegisterProviderPerContract(container, _providerFactory);\n            }\n            else\n            {\n                // Empty sometimes when using convention based bindings\n                if (!BindInfo.ToTypes.IsEmpty())\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container, BindInfo.ToTypes, _providerFactory);\n                }\n            }\n        }\n    }\n}\n","size_bytes":1108},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/SubContainerBindingFinalizer.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerBindingFinalizer : ProviderBindingFinalizer\n    {\n        readonly object _subIdentifier;\n        readonly bool _resolveAll;\n        readonly Func<DiContainer, ISubContainerCreator> _creatorFactory;\n\n        public SubContainerBindingFinalizer(\n            BindInfo bindInfo, object subIdentifier,\n            bool resolveAll, Func<DiContainer, ISubContainerCreator> creatorFactory)\n            : base(bindInfo)\n        {\n            _subIdentifier = subIdentifier;\n            _resolveAll = resolveAll;\n            _creatorFactory = creatorFactory;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ToChoice == ToChoices.Self)\n            {\n                Assert.IsEmpty(BindInfo.ToTypes);\n                FinalizeBindingSelf(container);\n            }\n            else\n            {\n                FinalizeBindingConcrete(container, BindInfo.ToTypes);\n            }\n        }\n\n        void FinalizeBindingConcrete(DiContainer container, List<Type> concreteTypes)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) =>\n                            new SubContainerDependencyProvider(\n                                concreteType, _subIdentifier, _creatorFactory(container), _resolveAll));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var containerCreator = new SubContainerCreatorCached(_creatorFactory(container));\n\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) =>\n                            new SubContainerDependencyProvider(\n                                concreteType, _subIdentifier, containerCreator, _resolveAll));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n\n        void FinalizeBindingSelf(DiContainer container)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) => new SubContainerDependencyProvider(\n                            contractType, _subIdentifier, _creatorFactory(container), _resolveAll));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var containerCreator = new SubContainerCreatorCached(_creatorFactory(container));\n\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                            new SubContainerDependencyProvider(\n                                contractType, _subIdentifier, containerCreator, _resolveAll));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n    }\n}\n\n\n","size_bytes":3581},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Finalizers/SubContainerPrefabBindingFinalizer.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerPrefabBindingFinalizer : ProviderBindingFinalizer\n    {\n        readonly object _subIdentifier;\n        readonly bool _resolveAll;\n        readonly Func<DiContainer, ISubContainerCreator> _subContainerCreatorFactory;\n\n        public SubContainerPrefabBindingFinalizer(\n            BindInfo bindInfo,\n            object subIdentifier, bool resolveAll,\n            Func<DiContainer, ISubContainerCreator> subContainerCreatorFactory)\n            : base(bindInfo)\n        {\n            _subIdentifier = subIdentifier;\n            _resolveAll = resolveAll;\n            _subContainerCreatorFactory = subContainerCreatorFactory;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            if (BindInfo.ToChoice == ToChoices.Self)\n            {\n                Assert.IsEmpty(BindInfo.ToTypes);\n                FinalizeBindingSelf(container);\n            }\n            else\n            {\n                FinalizeBindingConcrete(container, BindInfo.ToTypes);\n            }\n        }\n\n        void FinalizeBindingConcrete(DiContainer container, List<Type> concreteTypes)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) => new SubContainerDependencyProvider(\n                            concreteType, _subIdentifier,\n                            _subContainerCreatorFactory(container), _resolveAll));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var containerCreator = new SubContainerCreatorCached(\n                        _subContainerCreatorFactory(container));\n\n                    RegisterProvidersForAllContractsPerConcreteType(\n                        container,\n                        concreteTypes,\n                        (_, concreteType) =>\n                        new SubContainerDependencyProvider(\n                            concreteType, _subIdentifier, containerCreator, _resolveAll));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n\n        void FinalizeBindingSelf(DiContainer container)\n        {\n            var scope = GetScope();\n\n            switch (scope)\n            {\n                case ScopeTypes.Transient:\n                {\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) => new SubContainerDependencyProvider(\n                            contractType, _subIdentifier,\n                            _subContainerCreatorFactory(container), _resolveAll));\n                    break;\n                }\n                case ScopeTypes.Singleton:\n                {\n                    var containerCreator = new SubContainerCreatorCached(\n                        _subContainerCreatorFactory(container));\n\n                    RegisterProviderPerContract(\n                        container,\n                        (_, contractType) =>\n                        new SubContainerDependencyProvider(\n                            contractType, _subIdentifier, containerCreator, _resolveAll));\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":3783},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/EditorWindow/ZenjectEditorWindow.cs":{"content":"using System;\nusing ModestTree;\nusing UnityEditor;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public abstract class ZenjectEditorWindow : EditorWindow\n    {\n        [Inject]\n        [NonSerialized]\n        Kernel _kernel;\n\n        [Inject]\n        [NonSerialized]\n        GuiRenderableManager _guiRenderableManager;\n\n        [NonSerialized]\n        DiContainer _container;\n\n        [NonSerialized]\n        Exception _fatalError;\n\n        [NonSerialized]\n        GUIStyle _errorTextStyle;\n\n        GUIStyle ErrorTextStyle\n        {\n            get\n            {\n                if (_errorTextStyle == null)\n                {\n                    _errorTextStyle = new GUIStyle(GUI.skin.label);\n                    _errorTextStyle.fontSize = 18;\n                    _errorTextStyle.normal.textColor = Color.red;\n                    _errorTextStyle.wordWrap = true;\n                    _errorTextStyle.alignment = TextAnchor.MiddleCenter;\n                }\n\n                return _errorTextStyle;\n            }\n        }\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public virtual void OnEnable()\n        {\n            if (_fatalError != null)\n            {\n                return;\n            }\n\n            Initialize();\n        }\n\n        protected virtual void Initialize()\n        {\n            Assert.IsNull(_container);\n\n            _container = new DiContainer(new[] { StaticContext.Container });\n\n            // Make sure we don't create any game objects since editor windows don't have a scene\n            _container.AssertOnNewGameObjects = true;\n\n            ZenjectManagersInstaller.Install(_container);\n\n            _container.Bind<Kernel>().AsSingle();\n            _container.Bind<GuiRenderableManager>().AsSingle();\n            _container.BindInstance(this);\n\n            InstallBindings();\n\n            _container.QueueForInject(this);\n            _container.ResolveRoots();\n\n            _kernel.Initialize();\n        }\n\n        public virtual void OnDisable()\n        {\n            if (_fatalError != null)\n            {\n                return;\n            }\n\n            _kernel.Dispose();\n        }\n\n        public virtual void Update()\n        {\n            if (_fatalError != null)\n            {\n                return;\n            }\n\n            try\n            {\n                _kernel.Tick();\n            }\n            catch (Exception e)\n            {\n                Log.ErrorException(e);\n                _fatalError = e;\n            }\n\n            // We might also consider only calling Repaint when changes occur\n            Repaint();\n        }\n\n        public virtual void OnGUI()\n        {\n            if (_fatalError != null)\n            {\n                var labelWidth = 600;\n                var labelHeight = 200;\n\n                GUI.Label(new Rect(Screen.width / 2 - labelWidth / 2, Screen.height / 3 - labelHeight / 2, labelWidth, labelHeight), \"Unrecoverable error occurred!  \\nSee log for details.\", ErrorTextStyle);\n\n                var buttonWidth = 100;\n                var buttonHeight = 50;\n                var offset = new Vector2(0, 100);\n\n                if (GUI.Button(new Rect(Screen.width / 2 - buttonWidth / 2 + offset.x, Screen.height / 3 - buttonHeight / 2 + offset.y, buttonWidth, buttonHeight), \"Reload\"))\n                {\n                    ExecuteFullReload();\n                }\n            }\n            else\n            {\n                try\n                {\n                    if (_guiRenderableManager != null)\n                    {\n                        _guiRenderableManager.OnGui();\n                    }\n                }\n                catch (Exception e)\n                {\n                    Log.ErrorException(e);\n                    _fatalError = e;\n                }\n            }\n        }\n\n        protected virtual void ExecuteFullReload()\n        {\n            _kernel = null;\n            _guiRenderableManager = null;\n            _container = null;\n            _fatalError = null;\n\n            Initialize();\n        }\n\n        public abstract void InstallBindings();\n    }\n}\n","size_bytes":4124},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/Editors/ContextEditor.cs":{"content":"#if !ODIN_INSPECTOR\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ContextEditor : UnityInspectorListEditor\n    {\n        protected override string[] PropertyNames\n        {\n            get\n            {\n                return new string[]\n                {\n                    \"_scriptableObjectInstallers\",\n                    \"_monoInstallers\",\n                    \"_installerPrefabs\",\n                };\n            }\n        }\n\n        protected override string[] PropertyDisplayNames\n        {\n            get\n            {\n                return new string[]\n                {\n                    \"Scriptable Object Installers\",\n                    \"Mono Installers\",\n                    \"Prefab Installers\",\n                };\n            }\n        }\n\n        protected override string[] PropertyDescriptions\n        {\n            get\n            {\n                return new string[]\n                {\n                    \"Drag any assets in your Project that implement ScriptableObjectInstaller here\",\n                    \"Drag any MonoInstallers that you have added to your Scene Hierarchy here.\",\n                    \"Drag any prefabs that contain a MonoInstaller on them here\",\n                };\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":1266},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/Editors/GameObjectContextEditor.cs":{"content":"#if !ODIN_INSPECTOR\n\nusing UnityEditor;\n\nnamespace Zenject\n{\n    [CustomEditor(typeof(GameObjectContext))]\n    [NoReflectionBaking]\n    public class GameObjectContextEditor : RunnableContextEditor\n    {\n        SerializedProperty _kernel;\n\n        public override void OnEnable()\n        {\n            base.OnEnable();\n\n            _kernel = serializedObject.FindProperty(\"_kernel\");\n        }\n\n        protected override void OnGui()\n        {\n            base.OnGui();\n\n            EditorGUILayout.PropertyField(_kernel);\n        }\n    }\n}\n\n#endif\n","size_bytes":550},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/Editors/ProjectContextEditor.cs":{"content":"#if !ODIN_INSPECTOR\n\nusing UnityEditor;\n\nnamespace Zenject\n{\n    [CustomEditor(typeof(ProjectContext))]\n    [NoReflectionBaking]\n    public class ProjectContextEditor : ContextEditor\n    {\n        SerializedProperty _settingsProperty;\n        SerializedProperty _editorReflectionBakingCoverageModeProperty;\n        SerializedProperty _buildsReflectionBakingCoverageModeProperty;\n        SerializedProperty _parentNewObjectsUnderContextProperty;\n\n        public override void OnEnable()\n        {\n            base.OnEnable();\n\n            _settingsProperty = serializedObject.FindProperty(\"_settings\");\n            _editorReflectionBakingCoverageModeProperty = serializedObject.FindProperty(\"_editorReflectionBakingCoverageMode\");\n            _buildsReflectionBakingCoverageModeProperty = serializedObject.FindProperty(\"_buildsReflectionBakingCoverageMode\");\n            _parentNewObjectsUnderContextProperty = serializedObject.FindProperty(\"_parentNewObjectsUnderContext\");\n        }\n\n        protected override void OnGui()\n        {\n            base.OnGui();\n\n            EditorGUILayout.PropertyField(_settingsProperty, true);\n            EditorGUILayout.PropertyField(_editorReflectionBakingCoverageModeProperty, true);\n            EditorGUILayout.PropertyField(_buildsReflectionBakingCoverageModeProperty, true);\n            EditorGUILayout.PropertyField(_parentNewObjectsUnderContextProperty);\n        }\n    }\n}\n\n#endif\n","size_bytes":1426},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/Editors/RunnableContextEditor.cs":{"content":"ï»¿#if !ODIN_INSPECTOR\n\nusing UnityEditor;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class RunnableContextEditor : ContextEditor\n    {\n        SerializedProperty _autoRun;\n\n        public override void OnEnable()\n        {\n            base.OnEnable();\n\n            _autoRun = serializedObject.FindProperty(\"_autoRun\");\n        }\n\n        protected override void OnGui()\n        {\n            base.OnGui();\n\n            EditorGUILayout.PropertyField(_autoRun);\n        }\n    }\n}\n\n\n#endif\n","size_bytes":502},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/Editors/SceneContextEditor.cs":{"content":"#if !ODIN_INSPECTOR\n\nusing UnityEditor;\n\nnamespace Zenject\n{\n    [CanEditMultipleObjects]\n    [CustomEditor(typeof(SceneContext))]\n    [NoReflectionBaking]\n    public class SceneContextEditor : RunnableContextEditor\n    {\n        SerializedProperty _contractNameProperty;\n        SerializedProperty _parentNamesProperty;\n        SerializedProperty _parentNewObjectsUnderSceneContextProperty;\n\n        public override void OnEnable()\n        {\n            base.OnEnable();\n\n            _contractNameProperty = serializedObject.FindProperty(\"_contractNames\");\n            _parentNamesProperty = serializedObject.FindProperty(\"_parentContractNames\");\n            _parentNewObjectsUnderSceneContextProperty = serializedObject.FindProperty(\"_parentNewObjectsUnderSceneContext\");\n        }\n\n        protected override void OnGui()\n        {\n            base.OnGui();\n\n            EditorGUILayout.PropertyField(_contractNameProperty, true);\n            EditorGUILayout.PropertyField(_parentNamesProperty, true);\n            EditorGUILayout.PropertyField(_parentNewObjectsUnderSceneContextProperty);\n        }\n    }\n}\n\n\n#endif\n","size_bytes":1119},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/Editors/SceneDecoratorContextEditor.cs":{"content":"#if !ODIN_INSPECTOR\n\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing UnityEditor.SceneManagement;\nusing UnityEngine.SceneManagement;\nusing UnityEditor;\nusing UnityEditorInternal;\nusing UnityEngine;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [CustomEditor(typeof(SceneDecoratorContext))]\n    [NoReflectionBaking]\n    public class SceneDecoratorContextEditor : ContextEditor\n    {\n        SerializedProperty _decoratedContractNameProperty;\n\n        protected override string[] PropertyNames\n        {\n            get\n            {\n                return base.PropertyNames.Concat(new string[]\n                    {\n                        \"_lateInstallers\",\n                        \"_lateInstallerPrefabs\",\n                        \"_lateScriptableObjectInstallers\"\n                    })\n                    .ToArray();\n            }\n        }\n\n        protected override string[] PropertyDisplayNames\n        {\n            get\n            {\n                return base.PropertyDisplayNames.Concat(new string[]\n                    {\n                        \"Late Installers\",\n                        \"Late Prefab Installers\",\n                        \"Late Scriptable Object Installers\"\n                    })\n                    .ToArray();\n            }\n        }\n\n        protected override string[] PropertyDescriptions\n        {\n            get\n            {\n                return base.PropertyDescriptions.Concat(new string[]\n                    {\n                        \"Drag any MonoInstallers that you have added to your Scene Hierarchy here. They'll be installed after the target installs its bindings\",\n                        \"Drag any prefabs that contain a MonoInstaller on them here. They'll be installed after the target installs its bindings\",\n                        \"Drag any assets in your Project that implement ScriptableObjectInstaller here. They'll be installed after the target installs its bindings\"\n                    })\n                    .ToArray();\n            }\n        }\n\n        public override void OnEnable()\n        {\n            base.OnEnable();\n\n            _decoratedContractNameProperty = serializedObject.FindProperty(\"_decoratedContractName\");\n        }\n\n        protected override void OnGui()\n        {\n            base.OnGui();\n\n            EditorGUILayout.PropertyField(_decoratedContractNameProperty);\n        }\n    }\n}\n\n#endif\n","size_bytes":2404},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/SceneParentLoading/DefaultSceneContractConfig.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing UnityEditor;\nusing UnityEngine;\n\nnamespace Zenject.Internal\n{\n    public class DefaultSceneContractConfig : ScriptableObject\n    {\n        public const string ResourcePath = \"ZenjectDefaultSceneContractConfig\";\n\n        public List<ContractInfo> DefaultContracts;\n\n        [Serializable]\n        public class ContractInfo\n        {\n            public string ContractName;\n            public SceneAsset Scene;\n        }\n    }\n\n}\n","size_bytes":482},"CapybaraGame/Assets/Plugins/Zenject/Source/Editor/SceneParentLoading/SceneParentAutomaticLoader.cs":{"content":"ï»¿using System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEditor;\nusing UnityEditor.SceneManagement;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace Zenject.Internal\n{\n    [InitializeOnLoad]\n    public static class SceneParentAutomaticLoader\n    {\n        static SceneParentAutomaticLoader()\n        {\n            EditorApplication.playModeStateChanged += OnPlayModeStateChanged;\n        }\n\n        static void OnPlayModeStateChanged(PlayModeStateChange state)\n        {\n            if (state == PlayModeStateChange.ExitingEditMode)\n            {\n                try\n                {\n                    ValidateMultiSceneSetupAndLoadDefaultSceneParents();\n                }\n                catch (Exception e)\n                {\n                    EditorApplication.isPlaying = false;\n                    throw new ZenjectException(\n                        \"Failure occurred when attempting to load default scene parent contracts!\", e);\n                }\n            }\n            else if (state == PlayModeStateChange.EnteredEditMode)\n            {\n                // It would be cool to restore the initial scene set up here but in order to do this\n                // we would have to make sure that the user saves the scene before running which\n                // would be too annoying, so just leave any changes we've made alone\n            }\n        }\n\n        public static void ValidateMultiSceneSetupAndLoadDefaultSceneParents()\n        {\n            var defaultContractsMap = LoadDefaultContractsMap();\n\n            // NOTE: Even if configs is empty we still want to do the below logic to validate the\n            // multi scene setup\n\n            var sceneInfos = GetLoadedZenjectSceneInfos();\n            var contractMap = GetCurrentSceneContractsMap(sceneInfos);\n\n            foreach (var sceneInfo in sceneInfos)\n            {\n                ProcessScene(sceneInfo, contractMap, defaultContractsMap);\n            }\n        }\n\n        static Dictionary<string, LoadedSceneInfo> GetCurrentSceneContractsMap(\n            List<LoadedSceneInfo> sceneInfos)\n        {\n            var contractMap = new Dictionary<string, LoadedSceneInfo>();\n\n            foreach (var info in sceneInfos)\n            {\n                AddToContractMap(contractMap, info);\n            }\n\n            return contractMap;\n        }\n\n        static void ProcessScene(\n            LoadedSceneInfo sceneInfo,\n            Dictionary<string, LoadedSceneInfo> contractMap,\n            Dictionary<string, string> defaultContractsMap)\n        {\n            if (sceneInfo.SceneContext != null)\n            {\n                Assert.IsNull(sceneInfo.DecoratorContext);\n                ProcessSceneParents(sceneInfo, contractMap, defaultContractsMap);\n            }\n            else\n            {\n                Assert.IsNotNull(sceneInfo.DecoratorContext);\n                ProcessSceneDecorators(sceneInfo, contractMap, defaultContractsMap);\n            }\n        }\n\n        static void ProcessSceneDecorators(\n            LoadedSceneInfo sceneInfo,\n            Dictionary<string, LoadedSceneInfo> contractMap,\n            Dictionary<string, string> defaultContractsMap)\n        {\n            var decoratedContractName = sceneInfo.DecoratorContext.DecoratedContractName;\n\n            LoadedSceneInfo decoratedSceneInfo;\n\n            if (contractMap.TryGetValue(decoratedContractName, out decoratedSceneInfo))\n            {\n                ValidateDecoratedSceneMatch(sceneInfo, decoratedSceneInfo);\n                return;\n            }\n\n            decoratedSceneInfo = LoadDefaultSceneForContract(\n                sceneInfo, decoratedContractName, defaultContractsMap);\n\n            EditorSceneManager.MoveSceneAfter(decoratedSceneInfo.Scene, sceneInfo.Scene);\n\n            ValidateDecoratedSceneMatch(sceneInfo, decoratedSceneInfo);\n\n            ProcessScene(decoratedSceneInfo, contractMap, defaultContractsMap);\n        }\n\n        static void ProcessSceneParents(\n            LoadedSceneInfo sceneInfo,\n            Dictionary<string, LoadedSceneInfo> contractMap,\n            Dictionary<string, string> defaultContractsMap)\n        {\n            foreach (var parentContractName in sceneInfo.SceneContext.ParentContractNames)\n            {\n                LoadedSceneInfo parentInfo;\n\n                if (contractMap.TryGetValue(parentContractName, out parentInfo))\n                {\n                    ValidateParentChildMatch(parentInfo, sceneInfo);\n                    continue;\n                }\n\n                parentInfo = LoadDefaultSceneForContract(sceneInfo, parentContractName, defaultContractsMap);\n\n                AddToContractMap(contractMap, parentInfo);\n\n                EditorSceneManager.MoveSceneBefore(parentInfo.Scene, sceneInfo.Scene);\n\n                ValidateParentChildMatch(parentInfo, sceneInfo);\n\n                ProcessScene(parentInfo, contractMap, defaultContractsMap);\n            }\n        }\n\n        static LoadedSceneInfo LoadDefaultSceneForContract(\n            LoadedSceneInfo sceneInfo, string contractName, Dictionary<string, string> defaultContractsMap)\n        {\n            string scenePath;\n\n            if (!defaultContractsMap.TryGetValue(contractName, out scenePath))\n            {\n                throw Assert.CreateException(\n                    \"Could not fill contract '{0}' for scene '{1}'.  No scenes with that contract name are loaded, and could not find a match in any default scene contract configs to auto load one either.\"\n                    .Fmt(contractName, sceneInfo.Scene.name));\n            }\n\n            Scene scene;\n\n            try\n            {\n                scene = EditorSceneManager.OpenScene(scenePath, OpenSceneMode.Additive);\n            }\n            catch (Exception e)\n            {\n                throw new ZenjectException(\n                    \"Error while attempting to load contracts for scene '{0}'\".Fmt(sceneInfo.Scene.name), e);\n            }\n\n            return CreateLoadedSceneInfo(scene);\n        }\n\n        static void ValidateDecoratedSceneMatch(\n            LoadedSceneInfo decoratorInfo, LoadedSceneInfo decoratedInfo)\n        {\n            var decoratorIndex = GetSceneIndex(decoratorInfo.Scene);\n            var decoratedIndex = GetSceneIndex(decoratedInfo.Scene);\n            var activeIndex = GetSceneIndex(EditorSceneManager.GetActiveScene());\n\n            Assert.That(decoratorIndex < decoratedIndex,\n                \"Decorator scene '{0}' must be loaded before decorated scene '{1}'.  Please drag the decorator scene to be placed above the other scene in the scene hierarchy.\",\n                decoratorInfo.Scene.name, decoratedInfo.Scene.name);\n\n            if (activeIndex > decoratorIndex)\n            {\n                EditorSceneManager.SetActiveScene(decoratorInfo.Scene);\n            }\n        }\n\n        static void ValidateParentChildMatch(\n            LoadedSceneInfo parentSceneInfo, LoadedSceneInfo sceneInfo)\n        {\n            var parentIndex = GetSceneIndex(parentSceneInfo.Scene);\n            var childIndex = GetSceneIndex(sceneInfo.Scene);\n            var activeIndex = GetSceneIndex(EditorSceneManager.GetActiveScene());\n\n            Assert.That(parentIndex < childIndex,\n                \"Parent scene '{0}' must be loaded before child scene '{1}'.  Please drag it to be placed above its child in the scene hierarchy.\", parentSceneInfo.Scene.name, sceneInfo.Scene.name);\n\n            if (activeIndex > parentIndex)\n            {\n                EditorSceneManager.SetActiveScene(parentSceneInfo.Scene);\n            }\n        }\n\n        static int GetSceneIndex(Scene scene)\n        {\n            for (int i = 0; i < EditorSceneManager.sceneCount; i++)\n            {\n                if (EditorSceneManager.GetSceneAt(i) == scene)\n                {\n                    return i;\n                }\n            }\n\n            throw Assert.CreateException();\n        }\n\n        static Dictionary<string, string> LoadDefaultContractsMap()\n        {\n            var configs = Resources.LoadAll<DefaultSceneContractConfig>(DefaultSceneContractConfig.ResourcePath);\n\n            var map = new Dictionary<string, string>();\n\n            foreach (var config in configs)\n            {\n                foreach (var info in config.DefaultContracts)\n                {\n                    if (info.ContractName.Trim().IsEmpty())\n                    {\n                        Log.Warn(\"Found empty contract name in default scene contract config at path '{0}'\", AssetDatabase.GetAssetPath(config));\n                        continue;\n                    }\n\n                    Assert.That(!map.ContainsKey(info.ContractName),\n                        \"Found duplicate contract '{0}' in default scene contract config at '{1}'!  Default contract already specified\", info.ContractName, AssetDatabase.GetAssetPath(config));\n\n                    map.Add(info.ContractName, AssetDatabase.GetAssetPath(info.Scene));\n                }\n            }\n\n            return map;\n        }\n\n        static LoadedSceneInfo CreateLoadedSceneInfo(Scene scene)\n        {\n            var info = TryCreateLoadedSceneInfo(scene);\n            Assert.IsNotNull(info, \"Expected scene '{0}' to be a zenject scene\", scene.name);\n            return info;\n        }\n\n        static LoadedSceneInfo TryCreateLoadedSceneInfo(Scene scene)\n        {\n            var sceneContext = ZenUnityEditorUtil.TryGetSceneContextForScene(scene);\n            var decoratorContext = ZenUnityEditorUtil.TryGetDecoratorContextForScene(scene);\n\n            if (sceneContext == null && decoratorContext == null)\n            {\n                return null;\n            }\n\n            var info = new LoadedSceneInfo\n            {\n                Scene = scene\n            };\n\n            if (sceneContext != null)\n            {\n                Assert.IsNull(decoratorContext,\n                \"Found both SceneContext and SceneDecoratorContext in scene '{0}'\", scene.name);\n\n                info.SceneContext = sceneContext;\n            }\n            else\n            {\n                Assert.IsNotNull(decoratorContext);\n\n                info.DecoratorContext = decoratorContext;\n            }\n\n            return info;\n        }\n\n        static List<LoadedSceneInfo> GetLoadedZenjectSceneInfos()\n        {\n            var result = new List<LoadedSceneInfo>();\n\n            for (int i = 0; i < EditorSceneManager.sceneCount; i++)\n            {\n                var scene = EditorSceneManager.GetSceneAt(i);\n                var info = TryCreateLoadedSceneInfo(scene);\n\n                if (info != null)\n                {\n                    result.Add(info);\n                }\n            }\n\n            return result;\n        }\n\n        static void AddToContractMap(\n            Dictionary<string, LoadedSceneInfo> contractMap, LoadedSceneInfo info)\n        {\n            if (info.SceneContext == null)\n            {\n                return;\n            }\n\n            foreach (var contractName in info.SceneContext.ContractNames)\n            {\n                LoadedSceneInfo currentInfo;\n\n                if (contractMap.TryGetValue(contractName, out currentInfo))\n                {\n                    throw Assert.CreateException(\n                        \"Found multiple scene contracts with name '{0}'. Scene '{1}' and scene '{2}'\",\n                        contractName, currentInfo.Scene.name, info.Scene.name);\n                }\n\n                contractMap.Add(contractName, info);\n            }\n        }\n\n        public class LoadedSceneInfo\n        {\n            public SceneContext SceneContext;\n            public SceneDecoratorContext DecoratorContext;\n            public Scene Scene;\n        }\n    }\n}\n","size_bytes":11693},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/IMemoryPool.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    public interface IMemoryPool\n    {\n        int NumTotal { get; }\n        int NumActive { get; }\n        int NumInactive { get; }\n\n        Type ItemType\n        {\n            get;\n        }\n\n        /// <summary>\n        /// Changes pool size by creating new elements or destroying existing elements\n        /// This bypasses the configured expansion method (OneAtATime or Doubling)\n        /// </summary>\n        void Resize(int desiredPoolSize);\n\n        void Clear();\n\n        /// <summary>\n        /// Expands the pool by the additional size.\n        /// This bypasses the configured expansion method (OneAtATime or Doubling)\n        /// </summary>\n        /// <param name=\"numToAdd\">The additional number of items to allocate in the pool</param>\n        void ExpandBy(int numToAdd);\n\n        /// <summary>\n        /// Shrinks the MemoryPool by removing a given number of elements\n        /// This bypasses the configured expansion method (OneAtATime or Doubling)\n        /// </summary>\n        /// <param name=\"numToRemove\">The amount of items to remove from the pool</param>\n        void ShrinkBy(int numToRemove);\n\n        void Despawn(object obj);\n    }\n\n    public interface IDespawnableMemoryPool<TValue> : IMemoryPool\n    {\n        void Despawn(TValue item);\n    }\n\n    public interface IMemoryPool<TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn();\n    }\n\n    public interface IMemoryPool<in TParam1, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, in TParam3, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, in TParam3, in TParam4, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, in TParam7, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7);\n    }\n\n    public interface IMemoryPool<in TParam1, in TParam2, in TParam3, in TParam4, in TParam5, in TParam6, in TParam7, in TParam8, TValue> : IDespawnableMemoryPool<TValue>\n    {\n        TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7, TParam8 param8);\n    }\n}\n","size_bytes":3306},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/MemoryPool.cs":{"content":"namespace Zenject\n{\n    // Zero parameters\n    public class MemoryPool<TValue> : MemoryPoolBase<TValue>, IMemoryPool<TValue>, IFactory<TValue>\n    {\n        public TValue Spawn()\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TValue>.Create()\n        {\n            return Spawn();\n        }\n    }\n\n    // One parameter\n    public class MemoryPool<TParam1, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TValue>, IFactory<TParam1, TValue>\n    {\n        public TValue Spawn(TParam1 param)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param, item);\n                }\n            }\n\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TValue>.Create(TParam1 p1)\n        {\n            return Spawn(p1);\n        }\n    }\n\n    // Two parameters\n    public class MemoryPool<TParam1, TParam2, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TValue>, IFactory<TParam1, TParam2, TValue>\n    {\n        public TValue Spawn(TParam1 param1, TParam2 param2)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, item);\n                }\n            }\n\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TValue>.Create(TParam1 p1, TParam2 p2)\n        {\n            return Spawn(p1, p2);\n        }\n    }\n\n    // Three parameters\n    public class MemoryPool<TParam1, TParam2, TParam3, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TValue>, IFactory<TParam1, TParam2, TParam3, TValue>\n    {\n        public TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, param3, item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TParam3, TValue>.Create(TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n            return Spawn(p1, p2, p3);\n        }\n    }\n\n    // Four parameters\n    public class MemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>, IFactory<TParam1, TParam2, TParam3, TParam4, TValue>\n    {\n        public TValue Spawn(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, param3, param4, item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TParam3, TParam4, TValue>.Create(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n            return Spawn(p1, p2, p3, p4);\n        }\n    }\n\n    // Five parameters\n    public class MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>, IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n    {\n        public TValue Spawn(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5)\n        {\n            var item = GetInternal();\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, param3, param4, param5, item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>.Create(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5)\n        {\n            return Spawn(p1, p2, p3, p4, p5);\n        }\n    }\n\n    // Six parameters\n    public class MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>,\n        IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n    {\n        public TValue Spawn(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, param3, param4, param5, param6, item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>.Create(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6)\n        {\n            return Spawn(p1, p2, p3, p4, p5, p6);\n        }\n    }\n\n    // Seven parameters\n    public class MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>,\n        IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n    {\n        public TValue Spawn(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, param3, param4, param5, param6, param7, item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>.Create(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7)\n        {\n            return Spawn(p1, p2, p3, p4, p5, p6, p7);\n        }\n    }\n\n    // Eight parameters\n    public class MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>\n        : MemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>,\n        IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>\n    {\n        public TValue Spawn(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6, TParam7 param7, TParam8 param8)\n        {\n            var item = GetInternal();\n\n            if (!Container.IsValidating)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n                using (ProfileBlock.Start(\"{0}.Reinitialize\", GetType()))\n#endif\n                {\n                    Reinitialize(param1, param2, param3, param4, param5, param6, param7, param8, item);\n                }\n            }\n            return item;\n        }\n\n        protected virtual void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TParam8 p8, TValue item)\n        {\n            // Optional\n        }\n\n        TValue IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>.Create(\n            TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TParam8 p8)\n        {\n            return Spawn(p1, p2, p3, p4, p5, p6, p7, p8);\n        }\n    }\n}\n","size_bytes":10375},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/MemoryPoolBase.cs":{"content":"ï»¿using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PoolExceededFixedSizeException : Exception\n    {\n        public PoolExceededFixedSizeException(string errorMessage)\n            : base(errorMessage)\n        {\n        }\n    }\n\n    [Serializable]\n    public class MemoryPoolSettings\n    {\n        public int InitialSize;\n        public int MaxSize;\n        public PoolExpandMethods ExpandMethod;\n\n        public MemoryPoolSettings()\n        {\n            InitialSize = 0;\n            MaxSize = int.MaxValue;\n            ExpandMethod = PoolExpandMethods.OneAtATime;\n        }\n\n        public MemoryPoolSettings(int initialSize, int maxSize, PoolExpandMethods expandMethod)\n        {\n            InitialSize = initialSize;\n            MaxSize = maxSize;\n            ExpandMethod = expandMethod;\n        }\n\n        public static readonly MemoryPoolSettings Default = new MemoryPoolSettings();\n    }\n\n    [ZenjectAllowDuringValidation]\n    public class MemoryPoolBase<TContract> : IValidatable, IMemoryPool, IDisposable\n    {\n        Stack<TContract> _inactiveItems;\n        IFactory<TContract> _factory;\n        MemoryPoolSettings _settings;\n        DiContainer _container;\n\n        int _activeCount;\n\n        [Inject]\n        void Construct(\n            IFactory<TContract> factory,\n            DiContainer container,\n            [InjectOptional]\n            MemoryPoolSettings settings)\n        {\n            _settings = settings ?? MemoryPoolSettings.Default;\n            _factory = factory;\n            _container = container;\n\n            _inactiveItems = new Stack<TContract>(_settings.InitialSize);\n\n            if (!container.IsValidating)\n            {\n                for (int i = 0; i < _settings.InitialSize; i++)\n                {\n                    _inactiveItems.Push(AllocNew());\n                }\n            }\n\n#if UNITY_EDITOR\n            StaticMemoryPoolRegistry.Add(this);\n#endif\n        }\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public IEnumerable<TContract> InactiveItems\n        {\n            get { return _inactiveItems; }\n        }\n\n        public int NumTotal\n        {\n            get { return NumInactive + NumActive; }\n        }\n\n        public int NumInactive\n        {\n            get { return _inactiveItems.Count; }\n        }\n\n        public int NumActive\n        {\n            get { return _activeCount; }\n        }\n\n        public Type ItemType\n        {\n            get { return typeof(TContract); }\n        }\n\n        public void Dispose()\n        {\n#if UNITY_EDITOR\n            StaticMemoryPoolRegistry.Remove(this);\n#endif\n        }\n\n        void IMemoryPool.Despawn(object item)\n        {\n            Despawn((TContract)item);\n        }\n\n        public void Despawn(TContract item)\n        {\n            Assert.That(!_inactiveItems.Contains(item),\n                \"Tried to return an item to pool {0} twice\", GetType());\n\n            _activeCount--;\n\n            _inactiveItems.Push(item);\n\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"{0}.OnDespawned\", GetType()))\n#endif\n            {\n                OnDespawned(item);\n            }\n\n            if (_inactiveItems.Count > _settings.MaxSize)\n            {\n                Resize(_settings.MaxSize);\n            }\n        }\n\n        TContract AllocNew()\n        {\n            try\n            {\n                var item = _factory.Create();\n\n                if (!_container.IsValidating)\n                {\n                    Assert.IsNotNull(item, \"Factory '{0}' returned null value when creating via {1}!\", _factory.GetType(), GetType());\n                    OnCreated(item);\n                }\n\n                return item;\n            }\n            catch (Exception e)\n            {\n                throw new ZenjectException(\n                    \"Error during construction of type '{0}' via {1}.Create method!\".Fmt(\n                        typeof(TContract), GetType()), e);\n            }\n        }\n\n        void IValidatable.Validate()\n        {\n            try\n            {\n                _factory.Create();\n            }\n            catch (Exception e)\n            {\n                throw new ZenjectException(\n                    \"Validation for factory '{0}' failed\".Fmt(GetType()), e);\n            }\n        }\n\n        public void Clear()\n        {\n            Resize(0);\n        }\n\n        public void ShrinkBy(int numToRemove)\n        {\n            Resize(_inactiveItems.Count - numToRemove);\n        }\n\n        public void ExpandBy(int numToAdd)\n        {\n            Resize(_inactiveItems.Count + numToAdd);\n        }\n\n        protected TContract GetInternal()\n        {\n            if (_inactiveItems.Count == 0)\n            {\n                ExpandPool();\n                Assert.That(!_inactiveItems.IsEmpty());\n            }\n\n            var item = _inactiveItems.Pop();\n            _activeCount++;\n            OnSpawned(item);\n            return item;\n        }\n\n        public void Resize(int desiredPoolSize)\n        {\n            if (_inactiveItems.Count == desiredPoolSize)\n            {\n                return;\n            }\n\n            if (_settings.ExpandMethod == PoolExpandMethods.Disabled)\n            {\n                throw new PoolExceededFixedSizeException(\n                    \"Pool factory '{0}' attempted resize but pool set to fixed size of '{1}'!\"\n                    .Fmt(GetType(), _inactiveItems.Count));\n            }\n\n            Assert.That(desiredPoolSize >= 0, \"Attempted to resize the pool to a negative amount\");\n\n            while (_inactiveItems.Count > desiredPoolSize)\n            {\n                OnDestroyed(_inactiveItems.Pop());\n            }\n\n            while (desiredPoolSize > _inactiveItems.Count)\n            {\n                _inactiveItems.Push(AllocNew());\n            }\n\n            Assert.IsEqual(_inactiveItems.Count, desiredPoolSize);\n        }\n\n        void ExpandPool()\n        {\n            switch (_settings.ExpandMethod)\n            {\n                case PoolExpandMethods.Disabled:\n                {\n                    throw new PoolExceededFixedSizeException(\n                        \"Pool factory '{0}' exceeded its fixed size of '{1}'!\"\n                        .Fmt(GetType(), _inactiveItems.Count));\n                }\n                case PoolExpandMethods.OneAtATime:\n                {\n                    ExpandBy(1);\n                    break;\n                }\n                case PoolExpandMethods.Double:\n                {\n                    if (NumTotal == 0)\n                    {\n                        ExpandBy(1);\n                    }\n                    else\n                    {\n                        ExpandBy(NumTotal);\n                    }\n                    break;\n                }\n                default:\n                {\n                    throw Assert.CreateException();\n                }\n            }\n        }\n\n        protected virtual void OnDespawned(TContract item)\n        {\n            // Optional\n        }\n\n        protected virtual void OnSpawned(TContract item)\n        {\n            // Optional\n        }\n\n        protected virtual void OnCreated(TContract item)\n        {\n            // Optional\n        }\n\n        protected virtual void OnDestroyed(TContract item)\n        {\n            // Optional\n        }\n    }\n}\n","size_bytes":7497},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/MonoMemoryPool.cs":{"content":"using UnityEngine;\n\nnamespace Zenject\n{\n    // Zero parameters\n    // NOTE: For this to work, the given component must be at the root game object of the thing\n    // you want to use in a pool\n    public class MonoMemoryPool<TValue> : MemoryPool<TValue>\n        where TValue : Component\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            // Record the original parent which will be set to whatever is used in the UnderTransform method\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnSpawned(TValue item)\n        {\n            item.gameObject.SetActive(true);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n    }\n\n    // One parameter\n    // NOTE: For this to work, the given component must be at the root game object of the thing\n    // you want to use in a pool\n    public class MonoMemoryPool<TParam1, TValue> : MemoryPool<TParam1, TValue>\n        where TValue : Component\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            // Record the original parent which will be set to whatever is used in the UnderTransform method\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnSpawned(TValue item)\n        {\n            item.gameObject.SetActive(true);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n    }\n\n    // Two parameters\n    // NOTE: For this to work, the given component must be at the root game object of the thing\n    // you want to use in a pool\n    public class MonoMemoryPool<TParam1, TParam2, TValue>\n        : MemoryPool<TParam1, TParam2, TValue>\n        where TValue : Component\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            // Record the original parent which will be set to whatever is used in the UnderTransform method\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnSpawned(TValue item)\n        {\n            item.gameObject.SetActive(true);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n    }\n\n    // Three parameters\n    // NOTE: For this to work, the given component must be at the root game object of the thing\n    // you want to use in a pool\n    public class MonoMemoryPool<TParam1, TParam2, TParam3, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TValue>\n        where TValue : Component\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            // Record the original parent which will be set to whatever is used in the UnderTransform method\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnSpawned(TValue item)\n        {\n            item.gameObject.SetActive(true);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n    }\n\n    // Four parameters\n    // NOTE: For this to work, the given component must be at the root game object of the thing\n    // you want to use in a pool\n    public class MonoMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        where TValue : Component\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            // Record the original parent which will be set to whatever is used in the UnderTransform method\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnSpawned(TValue item)\n        {\n            item.gameObject.SetActive(true);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n    }\n\n    // Five parameters\n    // NOTE: For this to work, the given component must be at the root game object of the thing\n    // you want to use in a pool\n    public class MonoMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        where TValue : Component\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            // Record the original parent which will be set to whatever is used in the UnderTransform method\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnSpawned(TValue item)\n        {\n            item.gameObject.SetActive(true);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n    }\n}\n","size_bytes":7379},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/MonoPoolableMemoryPool.cs":{"content":"using UnityEngine;\n\nnamespace Zenject\n{\n    // Zero parameters\n    public class MonoPoolableMemoryPool<TValue> : MemoryPool<TValue>\n        where TValue : Component, IPoolable\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned();\n        }\n    }\n\n    // One parameters\n    public class MonoPoolableMemoryPool<TParam1, TValue>\n        : MemoryPool<TParam1, TValue>\n        where TValue : Component, IPoolable<TParam1>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1);\n        }\n    }\n\n    // Two parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TValue>\n        : MemoryPool<TParam1, TParam2, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2);\n        }\n    }\n\n    // Three parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2, TParam3>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2, p3);\n        }\n    }\n\n    // Four parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2, TParam3, TParam4>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2, p3, p4);\n        }\n    }\n\n    // Five parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2, p3, p4, p5);\n        }\n    }\n\n    // Six parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2, p3, p4, p5, p6);\n        }\n    }\n\n    // Seven parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2, p3, p4, p5, p6, p7);\n        }\n    }\n\n    // Eight parameters\n    public class MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>\n        where TValue : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8>\n    {\n        Transform _originalParent;\n\n        [Inject]\n        public MonoPoolableMemoryPool()\n        {\n        }\n\n        protected override void OnCreated(TValue item)\n        {\n            item.gameObject.SetActive(false);\n            _originalParent = item.transform.parent;\n        }\n\n        protected override void OnDestroyed(TValue item)\n        {\n            GameObject.Destroy(item.gameObject);\n        }\n\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n            item.gameObject.SetActive(false);\n\n            if (item.transform.parent != _originalParent)\n            {\n                item.transform.SetParent(_originalParent, false);\n            }\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TParam8 p8, TValue item)\n        {\n            item.gameObject.SetActive(true);\n            item.OnSpawned(p1, p2, p3, p4, p5, p6, p7, p8);\n        }\n    }\n}\n","size_bytes":10880},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/PoolFactory.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    // Here we assume that each spawned object does the work of returning itself to the pool\n    // in its own Dispose method\n    public class PoolWrapperFactory<T> : IFactory<T>\n        where T : IDisposable\n    {\n        readonly IMemoryPool<T> _pool;\n\n        public PoolWrapperFactory(IMemoryPool<T> pool)\n        {\n            _pool = pool;\n        }\n\n        public T Create()\n        {\n            return _pool.Spawn();\n        }\n    }\n\n    public class PoolWrapperFactory<TParam1, TValue> : IFactory<TParam1, TValue>\n        where TValue : IDisposable\n    {\n        readonly IMemoryPool<TParam1, TValue> _pool;\n\n        public PoolWrapperFactory(IMemoryPool<TParam1, TValue> pool)\n        {\n            _pool = pool;\n        }\n\n        public TValue Create(TParam1 arg)\n        {\n            return _pool.Spawn(arg);\n        }\n    }\n}\n","size_bytes":878},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/PoolableMemoryPool.cs":{"content":"namespace Zenject\n{\n    // Zero parameters\n    public class PoolableMemoryPool<TValue>\n        : MemoryPool<TValue>\n        where TValue : IPoolable\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TValue item)\n        {\n            item.OnSpawned();\n        }\n    }\n\n    // One parameters\n    public class PoolableMemoryPool<TParam1, TValue>\n        : MemoryPool<TParam1, TValue>\n        where TValue : IPoolable<TParam1>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TValue item)\n        {\n            item.OnSpawned(p1);\n        }\n    }\n\n    // Two parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TValue>\n        : MemoryPool<TParam1, TParam2, TValue>\n        where TValue : IPoolable<TParam1, TParam2>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TValue item)\n        {\n            item.OnSpawned(p1, p2);\n        }\n    }\n\n    // Three parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TParam3, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TValue>\n        where TValue : IPoolable<TParam1, TParam2, TParam3>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TValue item)\n        {\n            item.OnSpawned(p1, p2, p3);\n        }\n    }\n\n    // Four parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        where TValue : IPoolable<TParam1, TParam2, TParam3, TParam4>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TValue item)\n        {\n            item.OnSpawned(p1, p2, p3, p4);\n        }\n    }\n\n    // Five parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        where TValue : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TValue item)\n        {\n            item.OnSpawned(p1, p2, p3, p4, p5);\n        }\n    }\n\n    // Six parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        where TValue : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TValue item)\n        {\n            item.OnSpawned(p1, p2, p3, p4, p5, p6);\n        }\n    }\n\n    // Seven parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        where TValue : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TValue item)\n        {\n            item.OnSpawned(p1, p2, p3, p4, p5, p6, p7);\n        }\n    }\n\n    // Eight parameters\n    public class PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>\n        : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TValue>\n        where TValue : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8>\n    {\n        protected override void OnDespawned(TValue item)\n        {\n            item.OnDespawned();\n        }\n\n        protected override void Reinitialize(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TParam8 p8, TValue item)\n        {\n            item.OnSpawned(p1, p2, p3, p4, p5, p6, p7, p8);\n        }\n    }\n}\n\n","size_bytes":4794},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/Context.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEngine;\nusing UnityEngine.Serialization;\n#if UNITY_EDITOR\nusing UnityEditor;\n#endif\n\nnamespace Zenject\n{\n    public abstract class Context : MonoBehaviour\n    {\n        [SerializeField]\n        List<ScriptableObjectInstaller> _scriptableObjectInstallers = new List<ScriptableObjectInstaller>();\n\n        [FormerlySerializedAs(\"Installers\")]\n        [FormerlySerializedAs(\"_installers\")]\n        [SerializeField]\n        List<MonoInstaller> _monoInstallers = new List<MonoInstaller>();\n\n        [SerializeField]\n        List<MonoInstaller> _installerPrefabs = new List<MonoInstaller>();\n\n        List<InstallerBase> _normalInstallers = new List<InstallerBase>();\n        List<Type> _normalInstallerTypes = new List<Type>();\n\n        public IEnumerable<MonoInstaller> Installers\n        {\n            get { return _monoInstallers; }\n            set\n            {\n                _monoInstallers.Clear();\n                _monoInstallers.AddRange(value);\n            }\n        }\n\n        public IEnumerable<MonoInstaller> InstallerPrefabs\n        {\n            get { return _installerPrefabs; }\n            set\n            {\n                _installerPrefabs.Clear();\n                _installerPrefabs.AddRange(value);\n            }\n        }\n\n        public IEnumerable<ScriptableObjectInstaller> ScriptableObjectInstallers\n        {\n            get { return _scriptableObjectInstallers; }\n            set\n            {\n                _scriptableObjectInstallers.Clear();\n                _scriptableObjectInstallers.AddRange(value);\n            }\n        }\n\n        // Unlike other installer types this has to be set through code\n        public IEnumerable<Type> NormalInstallerTypes\n        {\n            get { return _normalInstallerTypes; }\n            set\n            {\n                Assert.That(value.All(x => x != null && x.DerivesFrom<InstallerBase>()));\n\n                _normalInstallerTypes.Clear();\n                _normalInstallerTypes.AddRange(value);\n            }\n        }\n\n        // Unlike other installer types this has to be set through code\n        public IEnumerable<InstallerBase> NormalInstallers\n        {\n            get { return _normalInstallers; }\n            set\n            {\n                _normalInstallers.Clear();\n                _normalInstallers.AddRange(value);\n            }\n        }\n\n        public abstract DiContainer Container\n        {\n            get;\n        }\n        public abstract IEnumerable<GameObject> GetRootGameObjects();\n\n\n        public void AddNormalInstallerType(Type installerType)\n        {\n            Assert.IsNotNull(installerType);\n            Assert.That(installerType.DerivesFrom<InstallerBase>());\n\n            _normalInstallerTypes.Add(installerType);\n        }\n\n        public void AddNormalInstaller(InstallerBase installer)\n        {\n            _normalInstallers.Add(installer);\n        }\n\n        void CheckInstallerPrefabTypes(List<MonoInstaller> installers, List<MonoInstaller> installerPrefabs)\n        {\n            foreach (var installer in installers)\n            {\n                Assert.IsNotNull(installer, \"Found null installer in Context '{0}'\", name);\n\n#if UNITY_EDITOR\n#if UNITY_2018_3_OR_NEWER\n                Assert.That(!PrefabUtility.IsPartOfPrefabAsset(installer.gameObject),\n#else\n                Assert.That(PrefabUtility.GetPrefabType(installer.gameObject) != PrefabType.Prefab,\n#endif\n                    \"Found prefab with name '{0}' in the Installer property of Context '{1}'.  You should use the property 'InstallerPrefabs' for this instead.\", installer.name, name);\n#endif\n            }\n\n            foreach (var installerPrefab in installerPrefabs)\n            {\n                Assert.IsNotNull(installerPrefab, \"Found null prefab in Context\");\n\n                // We'd like to do this but this is actually a valid case sometimes\n                // (eg. loading an asset bundle with a scene containing a scene context when inside unity editor)\n//#if UNITY_EDITOR\n                //Assert.That(PrefabUtility.GetPrefabType(installerPrefab.gameObject) == PrefabType.Prefab,\n                    //\"Found non-prefab with name '{0}' in the InstallerPrefabs property of Context '{1}'.  You should use the property 'Installer' for this instead\",\n                    //installerPrefab.name, this.name);\n//#endif\n                Assert.That(installerPrefab.GetComponent<MonoInstaller>() != null,\n                    \"Expected to find component with type 'MonoInstaller' on given installer prefab '{0}'\", installerPrefab.name);\n            }\n        }\n\n        protected void InstallInstallers()\n        {\n            InstallInstallers(\n                _normalInstallers, _normalInstallerTypes, _scriptableObjectInstallers, _monoInstallers, _installerPrefabs);\n        }\n\n        protected void InstallInstallers(\n            List<InstallerBase> normalInstallers,\n            List<Type> normalInstallerTypes,\n            List<ScriptableObjectInstaller> scriptableObjectInstallers,\n            List<MonoInstaller> installers,\n            List<MonoInstaller> installerPrefabs)\n        {\n            CheckInstallerPrefabTypes(installers, installerPrefabs);\n\n            // Ideally we would just have one flat list of all the installers\n            // since that way the user has complete control over the order, but\n            // that's not possible since Unity does not allow serializing lists of interfaces\n            // (and it has to be an inteface since the scriptable object installers only share\n            // the interface)\n            //\n            // So the best we can do is have a hard-coded order in terms of the installer type\n            //\n            // The order is:\n            //      - Normal installers given directly via code\n            //      - ScriptableObject installers\n            //      - MonoInstallers in the scene\n            //      - Prefab Installers\n            //\n            // We put ScriptableObject installers before the MonoInstallers because\n            // ScriptableObjectInstallers are often used for settings (including settings\n            // that are injected into other installers like MonoInstallers)\n\n            var allInstallers = normalInstallers.Cast<IInstaller>()\n                .Concat(scriptableObjectInstallers.Cast<IInstaller>())\n                .Concat(installers.Cast<IInstaller>()).ToList();\n\n            foreach (var installerPrefab in installerPrefabs)\n            {\n                Assert.IsNotNull(installerPrefab, \"Found null installer prefab in '{0}'\", GetType());\n\n                GameObject installerGameObject;\n\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"GameObject.Instantiate\"))\n#endif\n                {\n                    installerGameObject = GameObject.Instantiate(installerPrefab.gameObject);\n                }\n\n                installerGameObject.transform.SetParent(transform, false);\n                var installer = installerGameObject.GetComponent<MonoInstaller>();\n\n                Assert.IsNotNull(installer, \"Could not find installer component on prefab '{0}'\", installerPrefab.name);\n\n                allInstallers.Add(installer);\n            }\n\n            foreach (var installerType in normalInstallerTypes)\n            {\n                var installer = (InstallerBase)Container.Instantiate(installerType);\n\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                {\n                    installer.InstallBindings();\n                }\n            }\n\n            foreach (var installer in allInstallers)\n            {\n                Assert.IsNotNull(installer,\n                    \"Found null installer in '{0}'\", GetType());\n\n                Container.Inject(installer);\n\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                {\n                    installer.InstallBindings();\n                }\n            }\n        }\n\n        protected void InstallSceneBindings(List<MonoBehaviour> injectableMonoBehaviours)\n        {\n            foreach (var binding in injectableMonoBehaviours.OfType<ZenjectBinding>())\n            {\n                if (binding == null)\n                {\n                    continue;\n                }\n\n                if (binding.Context == null || (binding.UseSceneContext && this is SceneContext))\n                {\n                    binding.Context = this;\n                }\n            }\n\n            // We'd prefer to use GameObject.FindObjectsOfType<ZenjectBinding>() here\n            // instead but that doesn't find inactive gameobjects\n            // TODO: Consider changing this\n            // Maybe ZenjectBinding could add itself to a registry class on Awake/OnEnable\n            // then we could avoid calling the slow Resources.FindObjectsOfTypeAll here\n            foreach (var binding in Resources.FindObjectsOfTypeAll<ZenjectBinding>())\n            {\n                if (binding == null)\n                {\n                    continue;\n                }\n\n                // This is necessary for cases where the ZenjectBinding is inside a GameObjectContext\n                // since it won't be caught in the other loop above\n                if (this is SceneContext)\n                {\n                    if (binding.Context == null && binding.UseSceneContext\n                        && binding.gameObject.scene == gameObject.scene)\n                    {\n                        binding.Context = this;\n                    }\n                }\n\n                if (binding.Context == this)\n                {\n                    InstallZenjectBinding(binding);\n                }\n            }\n        }\n\n        void InstallZenjectBinding(ZenjectBinding binding)\n        {\n            if (!binding.enabled)\n            {\n                return;\n            }\n\n            if (binding.Components == null || binding.Components.IsEmpty())\n            {\n                Log.Warn(\"Found empty list of components on ZenjectBinding on object '{0}'\", binding.name);\n                return;\n            }\n\n            string identifier = null;\n\n            if (binding.Identifier.Trim().Length > 0)\n            {\n                identifier = binding.Identifier;\n            }\n\n            foreach (var component in binding.Components)\n            {\n                var bindType = binding.BindType;\n\n                if (component == null)\n                {\n                    Log.Warn(\"Found null component in ZenjectBinding on object '{0}'\", binding.name);\n                    continue;\n                }\n\n                var componentType = component.GetType();\n\n                switch (bindType)\n                {\n                    case ZenjectBinding.BindTypes.Self:\n                    {\n                        Container.Bind(componentType).WithId(identifier).FromInstance(component);\n                        break;\n                    }\n                    case ZenjectBinding.BindTypes.BaseType:\n                    {\n                        Container.Bind(componentType.BaseType()).WithId(identifier).FromInstance(component);\n                        break;\n                    }\n                    case ZenjectBinding.BindTypes.AllInterfaces:\n                    {\n                        Container.Bind(componentType.Interfaces()).WithId(identifier).FromInstance(component);\n                        break;\n                    }\n                    case ZenjectBinding.BindTypes.AllInterfacesAndSelf:\n                    {\n                        Container.Bind(componentType.Interfaces().Concat(new[] { componentType }).ToArray()).WithId(identifier).FromInstance(component);\n                        break;\n                    }\n                    default:\n                    {\n                        throw Assert.CreateException();\n                    }\n                }\n            }\n        }\n\n        protected abstract void GetInjectableMonoBehaviours(List<MonoBehaviour> components);\n    }\n}\n\n#endif\n","size_bytes":12118},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/GameObjectContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\nusing UnityEngine.Serialization;\nusing Zenject.Internal;\n\n#pragma warning disable 649\n\nnamespace Zenject\n{\n    public class GameObjectContext : RunnableContext\n    {\n        public event Action PreInstall;\n        public event Action PostInstall;\n        public event Action PreResolve;\n        public event Action PostResolve;\n\n        [SerializeField]\n        [Tooltip(\"Note that this field is optional and can be ignored in most cases.  This is really only needed if you want to control the 'Script Execution Order' of your subcontainer.  In this case, define a new class that derives from MonoKernel, add it to this game object, then drag it into this field.  Then you can set a value for 'Script Execution Order' for this new class and this will control when all ITickable/IInitializable classes bound within this subcontainer get called.\")]\n        [FormerlySerializedAs(\"_facade\")]\n        MonoKernel _kernel;\n\n        DiContainer _container;\n\n        // Need to cache this when auto run is false\n        DiContainer _parentContainer;\n\n        bool _hasInstalled;\n\n        public override DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public override IEnumerable<GameObject> GetRootGameObjects()\n        {\n            return new[] { gameObject };\n        }\n\n        [Inject]\n        public void Construct(\n            DiContainer parentContainer)\n        {\n            Assert.IsNull(_parentContainer);\n            _parentContainer = parentContainer;\n\n            Initialize();\n        }\n\n        protected override void RunInternal()\n        {\n            Install(_parentContainer);\n            ResolveAndStart();\n        }\n\n        public void Install(DiContainer parentContainer) \n        {\n            Assert.That(_parentContainer == null || _parentContainer == parentContainer);\n\n            // We allow calling this explicitly instead of relying on the [Inject] event above\n            // so that we can follow the two-pass construction-injection pattern in the providers\n            if (_hasInstalled) \n            {\n                return;\n            }\n\n            _hasInstalled = true;\n\n            Assert.IsNull(_container);\n            _container = parentContainer.CreateSubContainer();\n\n            // Do this after creating DiContainer in case it's needed by the pre install logic\n            if (PreInstall != null)\n            {\n                PreInstall();\n            }\n\n            var injectableMonoBehaviours = new List<MonoBehaviour>();\n\n            GetInjectableMonoBehaviours(injectableMonoBehaviours);\n\n            foreach (var instance in injectableMonoBehaviours)\n            {\n                if (instance is MonoKernel)\n                {\n                    Assert.That(ReferenceEquals(instance, _kernel),\n                        \"Found MonoKernel derived class that is not hooked up to GameObjectContext.  If you use MonoKernel, you must indicate this to GameObjectContext by dragging and dropping it to the Kernel field in the inspector\");\n                }\n\n                _container.QueueForInject(instance);\n            }\n\n            _container.IsInstalling = true;\n\n            try\n            {\n                InstallBindings(injectableMonoBehaviours);\n            }\n            finally\n            {\n                _container.IsInstalling = false;\n            }\n\n            if (PostInstall != null)\n            {\n                PostInstall();\n            }\n        }\n\n        void ResolveAndStart() \n        {\n            if (PreResolve != null)\n            {\n                PreResolve();\n            }\n\n            _container.ResolveRoots();\n\n            if (PostResolve != null)\n            {\n                PostResolve();\n            }\n\n            // Normally, the IInitializable.Initialize method would be called during MonoKernel.Start\n            // However, this behaviour is undesirable for dynamically created objects, since Unity\n            // has the strange behaviour of waiting until the end of the frame to call Start() on\n            // dynamically created objects, which means that any GameObjectContext that is created\n            // dynamically via a factory cannot be used immediately after calling Create(), since\n            // it will not have been initialized\n            // So we have chosen to diverge from Unity behaviour here and trigger IInitializable.Initialize\n            // immediately - but only when the GameObjectContext is created dynamically.  For any\n            // GameObjectContext's that are placed in the scene, we still want to execute\n            // IInitializable.Initialize during Start()\n            if (gameObject.scene.isLoaded && !_container.IsValidating)\n            {\n                _kernel = _container.Resolve<MonoKernel>();\n                _kernel.Initialize();\n            }\n        }\n\n        protected override void GetInjectableMonoBehaviours(List<MonoBehaviour> monoBehaviours)\n        {\n            ZenUtilInternal.AddStateMachineBehaviourAutoInjectersUnderGameObject(gameObject);\n\n            // We inject on all components on the root except ourself\n            foreach (var monoBehaviour in GetComponents<MonoBehaviour>())\n            {\n                if (monoBehaviour == null)\n                {\n                    // Missing script\n                    continue;\n                }\n\n                if (!ZenUtilInternal.IsInjectableMonoBehaviourType(monoBehaviour.GetType()))\n                {\n                    continue;\n                }\n\n                if (monoBehaviour == this)\n                {\n                    continue;\n                }\n\n                monoBehaviours.Add(monoBehaviour);\n            }\n\n            for (int i = 0; i < transform.childCount; i++)\n            {\n                var child = transform.GetChild(i);\n\n                if (child != null)\n                {\n                    ZenUtilInternal.GetInjectableMonoBehavioursUnderGameObject(\n                        child.gameObject, monoBehaviours);\n                }\n            }\n        }\n\n        void InstallBindings(List<MonoBehaviour> injectableMonoBehaviours)\n        {\n            _container.DefaultParent = transform;\n\n            _container.Bind<Context>().FromInstance(this);\n            _container.Bind<GameObjectContext>().FromInstance(this);\n\n            if (_kernel == null)\n            {\n                _container.Bind<MonoKernel>()\n                    .To<DefaultGameObjectKernel>().FromNewComponentOn(gameObject).AsSingle().NonLazy();\n            }\n            else\n            {\n                _container.Bind<MonoKernel>().FromInstance(_kernel).AsSingle().NonLazy();\n            }\n\n            InstallSceneBindings(injectableMonoBehaviours);\n            InstallInstallers();\n        }\n    }\n}\n\n#endif\n","size_bytes":6879},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/ProjectContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Threading;\nusing ModestTree;\nusing UnityEngine;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    public class ProjectContext : Context\n    {\n        public static event Action PreInstall;\n        public static event Action PostInstall;\n        public static event Action PreResolve;\n        public static event Action PostResolve;\n\n        public const string ProjectContextResourcePath = \"ProjectContext\";\n        public const string ProjectContextResourcePathOld = \"ProjectCompositionRoot\";\n\n        static ProjectContext _instance;\n\n        // TODO: Set this to false the next time major version is incremented\n        [Tooltip(\"When true, objects that are created at runtime will be parented to the ProjectContext\")]\n        [SerializeField]\n        bool _parentNewObjectsUnderContext = true;\n\n        [SerializeField]\n        ReflectionBakingCoverageModes _editorReflectionBakingCoverageMode = ReflectionBakingCoverageModes.FallbackToDirectReflection;\n\n        [SerializeField]\n        ReflectionBakingCoverageModes _buildsReflectionBakingCoverageMode = ReflectionBakingCoverageModes.FallbackToDirectReflection;\n\n        [SerializeField]\n        ZenjectSettings _settings = null;\n\n        DiContainer _container;\n\n        public override DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public static bool HasInstance\n        {\n            get { return _instance != null; }\n        }\n\n        public static ProjectContext Instance\n        {\n            get\n            {\n                if (_instance == null)\n                {\n                    InstantiateAndInitialize();\n                    Assert.IsNotNull(_instance);\n                }\n\n                return _instance;\n            }\n        }\n\n        public static bool ValidateOnNextRun\n        {\n            get;\n            set;\n        }\n\n        public override IEnumerable<GameObject> GetRootGameObjects()\n        {\n            return new[] { gameObject };\n        }\n\n        public static GameObject TryGetPrefab()\n        {\n            var prefabs = Resources.LoadAll(ProjectContextResourcePath, typeof(GameObject));\n\n            if (prefabs.Length > 0)\n            {\n                Assert.That(prefabs.Length == 1,\n                    \"Found multiple project context prefabs at resource path '{0}'\", ProjectContextResourcePath);\n                return (GameObject)prefabs[0];\n            }\n\n            prefabs = Resources.LoadAll(ProjectContextResourcePathOld, typeof(GameObject));\n\n            if (prefabs.Length > 0)\n            {\n                Assert.That(prefabs.Length == 1,\n                    \"Found multiple project context prefabs at resource path '{0}'\", ProjectContextResourcePathOld);\n                return (GameObject)prefabs[0];\n            }\n\n            return null;\n        }\n\n        static void InstantiateAndInitialize()\n        {\n#if UNITY_EDITOR\n            ProfileBlock.UnityMainThread = Thread.CurrentThread;\n#endif\n\n            Assert.That(FindObjectsOfType<ProjectContext>().IsEmpty(),\n                \"Tried to create multiple instances of ProjectContext!\");\n\n            var prefab = TryGetPrefab();\n\n            var prefabWasActive = false;\n\n#if ZEN_INTERNAL_PROFILING\n            using (ProfileTimers.CreateTimedBlock(\"GameObject.Instantiate\"))\n#endif\n            {\n                if (prefab == null)\n                {\n                    _instance = new GameObject(\"ProjectContext\")\n                        .AddComponent<ProjectContext>();\n                }\n                else\n                {\n                    prefabWasActive = prefab.activeSelf;\n\n                    GameObject gameObjectInstance;\n#if UNITY_EDITOR\n                    if(prefabWasActive)\n                    {\n                        // This ensures the prefab's Awake() methods don't fire (and, if in the editor, that the prefab file doesn't get modified)\n                        gameObjectInstance = GameObject.Instantiate(prefab, ZenUtilInternal.GetOrCreateInactivePrefabParent());\n                        gameObjectInstance.SetActive(false);\n                        gameObjectInstance.transform.SetParent(null, false);\n                    }\n                    else\n                    {\n                        gameObjectInstance = GameObject.Instantiate(prefab);\n                    }\n#else\n                    if(prefabWasActive)\n                    {\n                        prefab.SetActive(false);\n                        gameObjectInstance = GameObject.Instantiate(prefab);\n                        prefab.SetActive(true);\n                    }\n                    else\n                    {\n                        gameObjectInstance = GameObject.Instantiate(prefab);\n                    }\n#endif\n\n                    _instance = gameObjectInstance.GetComponent<ProjectContext>();\n\n                    Assert.IsNotNull(_instance,\n                        \"Could not find ProjectContext component on prefab 'Resources/{0}.prefab'\", ProjectContextResourcePath);\n                }\n            }\n\n            // Note: We use Initialize instead of awake here in case someone calls\n            // ProjectContext.Instance while ProjectContext is initializing\n            _instance.Initialize();\n\n            if (prefabWasActive)\n            {\n#if ZEN_INTERNAL_PROFILING\n                using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                {\n                    // We always instantiate it as disabled so that Awake and Start events are triggered after inject\n                    _instance.gameObject.SetActive(true);\n                }\n            }\n        }\n\n        public bool ParentNewObjectsUnderContext\n        {\n            get { return _parentNewObjectsUnderContext; }\n            set { _parentNewObjectsUnderContext = value; }\n        }\n\n        public void EnsureIsInitialized()\n        {\n            // Do nothing - Initialize occurs in Instance property\n        }\n\n        public void Awake()\n        {\n            if (Application.isPlaying)\n                // DontDestroyOnLoad can only be called when in play mode and otherwise produces errors\n                // ProjectContext is created during design time (in an empty scene) when running validation\n                // and also when running unit tests\n                // In these cases we don't need DontDestroyOnLoad so just skip it\n            {\n                DontDestroyOnLoad(gameObject);\n            }\n        }\n\n        void Initialize()\n        {\n            Assert.IsNull(_container);\n\n            if (Application.isEditor)\n            {\n                TypeAnalyzer.ReflectionBakingCoverageMode = _editorReflectionBakingCoverageMode;\n            }\n            else\n            {\n                TypeAnalyzer.ReflectionBakingCoverageMode = _buildsReflectionBakingCoverageMode;\n            }\n\n            var isValidating = ValidateOnNextRun;\n\n            // Reset immediately to ensure it doesn't get used in another run\n            ValidateOnNextRun = false;\n\n            _container = new DiContainer(\n                new[] { StaticContext.Container }, isValidating);\n\n            // Do this after creating DiContainer in case it's needed by the pre install logic\n            if (PreInstall != null)\n            {\n                PreInstall();\n            }\n\n            var injectableMonoBehaviours = new List<MonoBehaviour>();\n            GetInjectableMonoBehaviours(injectableMonoBehaviours);\n\n            foreach (var instance in injectableMonoBehaviours)\n            {\n                _container.QueueForInject(instance);\n            }\n\n            _container.IsInstalling = true;\n\n            try\n            {\n                InstallBindings(injectableMonoBehaviours);\n            }\n            finally\n            {\n                _container.IsInstalling = false;\n            }\n\n            if (PostInstall != null)\n            {\n                PostInstall();\n            }\n\n            if (PreResolve != null)\n            {\n                PreResolve();\n            }\n\n            _container.ResolveRoots();\n\n            if (PostResolve != null)\n            {\n                PostResolve();\n            }\n        }\n\n        protected override void GetInjectableMonoBehaviours(List<MonoBehaviour> monoBehaviours)\n        {\n            ZenUtilInternal.AddStateMachineBehaviourAutoInjectersUnderGameObject(gameObject);\n            ZenUtilInternal.GetInjectableMonoBehavioursUnderGameObject(gameObject, monoBehaviours);\n        }\n\n        void InstallBindings(List<MonoBehaviour> injectableMonoBehaviours)\n        {\n            if (_parentNewObjectsUnderContext)\n            {\n                _container.DefaultParent = transform;\n            }\n            else\n            {\n                _container.DefaultParent = null;\n            }\n\n            _container.Settings = _settings ?? ZenjectSettings.Default;\n\n            _container.Bind<ZenjectSceneLoader>().AsSingle();\n\n            ZenjectManagersInstaller.Install(_container);\n\n            _container.Bind<Context>().FromInstance(this);\n\n            _container.Bind(typeof(ProjectKernel), typeof(MonoKernel))\n                .To<ProjectKernel>().FromNewComponentOn(gameObject).AsSingle().NonLazy();\n\n            _container.Bind<SceneContextRegistry>().AsSingle();\n\n            InstallSceneBindings(injectableMonoBehaviours);\n\n            InstallInstallers();\n\n        }\n    }\n}\n\n#endif\n","size_bytes":9458},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/RunnableContext.cs":{"content":"ï»¿using ModestTree;\nusing UnityEngine;\n\n#if !NOT_UNITY3D\n\nnamespace Zenject\n{\n    public abstract class RunnableContext : Context\n    {\n        [Tooltip(\"When false, wait until run method is explicitly called. Otherwise run on initialize\")]\n        [SerializeField]\n        bool _autoRun = true;\n\n        static bool _staticAutoRun = true;\n\n        public bool Initialized { get; private set; }\n\n        protected void Initialize()\n        {\n            if (_staticAutoRun && _autoRun)\n            {\n                Run();\n            }\n            else\n            {\n                // True should always be default\n                _staticAutoRun = true;\n            }\n        }\n\n        public void Run()\n        {\n            Assert.That(!Initialized,\n                \"The context already has been initialized!\");\n\n            RunInternal();\n\n            Initialized = true;\n        }\n\n        protected abstract void RunInternal();\n\n        public static T CreateComponent<T>(GameObject gameObject) where T : RunnableContext\n        {\n            _staticAutoRun = false;\n\n            var result = gameObject.AddComponent<T>();\n            Assert.That(_staticAutoRun); // Should be reset\n            return result;\n        }\n    }\n}\n\n#endif\n","size_bytes":1245},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/SceneContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing ModestTree.Util;\nusing UnityEngine;\nusing UnityEngine.Serialization;\nusing Zenject.Internal;\nusing UnityEngine.Events;\n\nnamespace Zenject\n{\n    public class SceneContext : RunnableContext\n    {\n        public event Action PreInstall;\n        public event Action PostInstall;\n        public event Action PreResolve;\n        public event Action PostResolve;\n\n        public UnityEvent OnPreInstall;\n        public UnityEvent OnPostInstall;\n        public UnityEvent OnPreResolve;\n        public UnityEvent OnPostResolve;\n\n        public static Action<DiContainer> ExtraBindingsInstallMethod;\n        public static Action<DiContainer> ExtraBindingsLateInstallMethod;\n\n        public static IEnumerable<DiContainer> ParentContainers;\n\n        [FormerlySerializedAs(\"ParentNewObjectsUnderRoot\")]\n        [FormerlySerializedAs(\"_parentNewObjectsUnderRoot\")]\n        [Tooltip(\"When true, objects that are created at runtime will be parented to the SceneContext\")]\n        [SerializeField]\n        bool _parentNewObjectsUnderSceneContext;\n\n        [Tooltip(\"Optional contract names for this SceneContext, allowing contexts in subsequently loaded scenes to depend on it and be parented to it, and also for previously loaded decorators to be included\")]\n        [SerializeField]\n        List<string> _contractNames = new List<string>();\n\n        [Tooltip(\"Optional contract names of SceneContexts in previously loaded scenes that this context depends on and to which it should be parented\")]\n        [SerializeField]\n        List<string> _parentContractNames = new List<string>();\n\n        DiContainer _container;\n\n        readonly List<SceneDecoratorContext> _decoratorContexts = new List<SceneDecoratorContext>();\n\n        bool _hasInstalled;\n        bool _hasResolved;\n\n        public override DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public bool HasResolved\n        {\n            get { return _hasResolved; }\n        }\n\n        public bool HasInstalled\n        {\n            get { return _hasInstalled; }\n        }\n\n        public bool IsValidating\n        {\n            get\n            {\n                return ProjectContext.Instance.Container.IsValidating;\n            }\n        }\n\n        public IEnumerable<string> ContractNames\n        {\n            get { return _contractNames; }\n            set\n            {\n                _contractNames.Clear();\n                _contractNames.AddRange(value);\n            }\n        }\n\n        public IEnumerable<string> ParentContractNames\n        {\n            get\n            {\n                var result = new List<string>();\n                result.AddRange(_parentContractNames);\n                return result;\n            }\n            set\n            {\n                _parentContractNames = value.ToList();\n            }\n        }\n\n        public bool ParentNewObjectsUnderSceneContext\n        {\n            get { return _parentNewObjectsUnderSceneContext; }\n            set { _parentNewObjectsUnderSceneContext = value; }\n        }\n\n        public void Awake()\n        {\n#if ZEN_INTERNAL_PROFILING\n            ProfileTimers.ResetAll();\n            using (ProfileTimers.CreateTimedBlock(\"Other\"))\n#endif\n            {\n                Initialize();\n            }\n        }\n\n        public void Validate()\n        {\n            Assert.That(IsValidating);\n\n            Install();\n            Resolve();\n        }\n\n        protected override void RunInternal()\n        {\n            // We always want to initialize ProjectContext as early as possible\n            ProjectContext.Instance.EnsureIsInitialized();\n\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"Zenject.SceneContext.Install\"))\n#endif\n            {\n                Install();\n            }\n\n#if UNITY_EDITOR\n            using (ProfileBlock.Start(\"Zenject.SceneContext.Resolve\"))\n#endif\n            {\n                Resolve();\n            }\n        }\n\n        public override IEnumerable<GameObject> GetRootGameObjects()\n        {\n            return ZenUtilInternal.GetRootGameObjects(gameObject.scene);\n        }\n\n        IEnumerable<DiContainer> GetParentContainers()\n        {\n            var parentContractNames = ParentContractNames;\n\n            if (parentContractNames.IsEmpty())\n            {\n                if (ParentContainers != null)\n                {\n                    var tempParentContainer = ParentContainers;\n\n                    // Always reset after using it - it is only used to pass the reference\n                    // between scenes via ZenjectSceneLoader\n                    ParentContainers = null;\n\n                    return tempParentContainer;\n                }\n\n                return new[] { ProjectContext.Instance.Container };\n            }\n\n            Assert.IsNull(ParentContainers,\n                \"Scene cannot have both a parent scene context name set and also an explicit parent container given\");\n\n            var parentContainers = UnityUtil.AllLoadedScenes\n                .Except(gameObject.scene)\n                .SelectMany(scene => scene.GetRootGameObjects())\n                .SelectMany(root => root.GetComponentsInChildren<SceneContext>())\n                .Where(sceneContext => sceneContext.ContractNames.Where(x => parentContractNames.Contains(x)).Any())\n                .Select(x => x.Container)\n                .ToList();\n\n            if (!parentContainers.Any())\n            {\n                throw Assert.CreateException(\n                    \"SceneContext on object {0} of scene {1} requires at least one of contracts '{2}', but none of the loaded SceneContexts implements that contract.\",\n                    gameObject.name,\n                    gameObject.scene.name,\n                    parentContractNames.Join(\", \"));\n            }\n\n            return parentContainers;\n        }\n\n        List<SceneDecoratorContext> LookupDecoratorContexts()\n        {\n            if (_contractNames.IsEmpty())\n            {\n                return new List<SceneDecoratorContext>();\n            }\n\n            return UnityUtil.AllLoadedScenes\n                .Except(gameObject.scene)\n                .SelectMany(scene => scene.GetRootGameObjects())\n                .SelectMany(root => root.GetComponentsInChildren<SceneDecoratorContext>())\n                .Where(decoratorContext => _contractNames.Contains(decoratorContext.DecoratedContractName))\n                .ToList();\n        }\n\n        public void Install()\n        {\n            Assert.That(!_hasInstalled);\n            _hasInstalled = true;\n\n            Assert.IsNull(_container);\n\n            var parents = GetParentContainers();\n            Assert.That(!parents.IsEmpty());\n            Assert.That(parents.All(x => x.IsValidating == parents.First().IsValidating));\n\n            _container = new DiContainer(parents, parents.First().IsValidating);\n\n            // Do this after creating DiContainer in case it's needed by the pre install logic\n            if (PreInstall != null)\n            {\n                PreInstall();\n            }\n\n            if (OnPreInstall != null)\n            {\n                OnPreInstall.Invoke();\n            }\n\n            Assert.That(_decoratorContexts.IsEmpty());\n            _decoratorContexts.AddRange(LookupDecoratorContexts());\n\n            if (_parentNewObjectsUnderSceneContext)\n            {\n                _container.DefaultParent = transform;\n            }\n            else\n            {\n                _container.DefaultParent = null;\n            }\n\n            // Record all the injectable components in the scene BEFORE installing the installers\n            // This is nice for cases where the user calls InstantiatePrefab<>, etc. in their installer\n            // so that it doesn't inject on the game object twice\n            // InitialComponentsInjecter will also guarantee that any component that is injected into\n            // another component has itself been injected\n            var injectableMonoBehaviours = new List<MonoBehaviour>();\n            GetInjectableMonoBehaviours(injectableMonoBehaviours);\n            foreach (var instance in injectableMonoBehaviours)\n            {\n                _container.QueueForInject(instance);\n            }\n\n            foreach (var decoratorContext in _decoratorContexts)\n            {\n                decoratorContext.Initialize(_container);\n            }\n\n            _container.IsInstalling = true;\n\n            try\n            {\n                InstallBindings(injectableMonoBehaviours);\n            }\n            finally\n            {\n                _container.IsInstalling = false;\n            }\n\n            if (PostInstall != null)\n            {\n                PostInstall();\n            }\n\n            if (OnPostInstall != null)\n            {\n                OnPostInstall.Invoke();\n            }\n        }\n\n        public void Resolve()\n        {\n            if (PreResolve != null)\n            {\n                PreResolve();\n            }\n\n            if (OnPreResolve != null)\n            {\n                OnPreResolve.Invoke();\n            }\n\n            Assert.That(_hasInstalled);\n            Assert.That(!_hasResolved);\n            _hasResolved = true;\n\n            _container.ResolveRoots();\n\n            if (PostResolve != null)\n            {\n                PostResolve();\n            }\n\n            if (OnPostResolve != null)\n            {\n                OnPostResolve.Invoke();\n            }\n        }\n\n        void InstallBindings(List<MonoBehaviour> injectableMonoBehaviours)\n        {\n            _container.Bind(typeof(Context), typeof(SceneContext)).To<SceneContext>().FromInstance(this);\n            _container.BindInterfacesTo<SceneContextRegistryAdderAndRemover>().AsSingle();\n\n            // Add to registry first and remove from registry last\n            _container.BindExecutionOrder<SceneContextRegistryAdderAndRemover>(-1);\n\n            foreach (var decoratorContext in _decoratorContexts)\n            {\n                decoratorContext.InstallDecoratorSceneBindings();\n            }\n\n            InstallSceneBindings(injectableMonoBehaviours);\n\n            _container.Bind(typeof(SceneKernel), typeof(MonoKernel))\n                .To<SceneKernel>().FromNewComponentOn(gameObject).AsSingle().NonLazy();\n\n            _container.Bind<ZenjectSceneLoader>().AsSingle();\n\n            if (ExtraBindingsInstallMethod != null)\n            {\n                ExtraBindingsInstallMethod(_container);\n                // Reset extra bindings for next time we change scenes\n                ExtraBindingsInstallMethod = null;\n            }\n\n            // Always install the installers last so they can be injected with\n            // everything above\n            foreach (var decoratorContext in _decoratorContexts)\n            {\n                decoratorContext.InstallDecoratorInstallers();\n            }\n\n            InstallInstallers();\n\n            foreach (var decoratorContext in _decoratorContexts)\n            {\n                decoratorContext.InstallLateDecoratorInstallers();\n            }\n\n            if (ExtraBindingsLateInstallMethod != null)\n            {\n                ExtraBindingsLateInstallMethod(_container);\n                // Reset extra bindings for next time we change scenes\n                ExtraBindingsLateInstallMethod = null;\n            }\n        }\n\n        protected override void GetInjectableMonoBehaviours(List<MonoBehaviour> monoBehaviours)\n        {\n            var scene = gameObject.scene;\n\n            ZenUtilInternal.AddStateMachineBehaviourAutoInjectersInScene(scene);\n            ZenUtilInternal.GetInjectableMonoBehavioursInScene(scene, monoBehaviours);\n        }\n\n        // These methods can be used for cases where you need to create the SceneContext entirely in code\n        // Note that if you use these methods that you have to call Run() yourself\n        // This is useful because it allows you to create a SceneContext and configure it how you want\n        // and add what installers you want before kicking off the Install/Resolve\n        public static SceneContext Create()\n        {\n            return CreateComponent<SceneContext>(\n                new GameObject(\"SceneContext\"));\n        }\n    }\n}\n\n#endif\n","size_bytes":12272},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/SceneDecoratorContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\nusing UnityEngine.Serialization;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    public class SceneDecoratorContext : Context\n    {\n        [SerializeField]\n        List<MonoInstaller> _lateInstallers = new List<MonoInstaller>();\n\n        [SerializeField]\n        List<MonoInstaller> _lateInstallerPrefabs = new List<MonoInstaller>();\n\n        [SerializeField]\n        List<ScriptableObjectInstaller> _lateScriptableObjectInstallers = new List<ScriptableObjectInstaller>();\n\n        public IEnumerable<MonoInstaller> LateInstallers\n        {\n            get { return _lateInstallers; }\n            set\n            {\n                _lateInstallers.Clear();\n                _lateInstallers.AddRange(value);\n            }\n        }\n\n        public IEnumerable<MonoInstaller> LateInstallerPrefabs\n        {\n            get { return _lateInstallerPrefabs; }\n            set\n            {\n                _lateInstallerPrefabs.Clear();\n                _lateInstallerPrefabs.AddRange(value);\n            }\n        }\n\n        public IEnumerable<ScriptableObjectInstaller> LateScriptableObjectInstallers\n        {\n            get { return _lateScriptableObjectInstallers; }\n            set\n            {\n                _lateScriptableObjectInstallers.Clear();\n                _lateScriptableObjectInstallers.AddRange(value);\n            }\n        }\n\n        [FormerlySerializedAs(\"SceneName\")]\n        [SerializeField]\n        string _decoratedContractName = null;\n\n        DiContainer _container;\n        readonly List<MonoBehaviour> _injectableMonoBehaviours = new List<MonoBehaviour>();\n\n        public string DecoratedContractName\n        {\n            get { return _decoratedContractName; }\n        }\n\n        public override DiContainer Container\n        {\n            get\n            {\n                Assert.IsNotNull(_container);\n                return _container;\n            }\n        }\n\n        public override IEnumerable<GameObject> GetRootGameObjects()\n        {\n            // This method should never be called because SceneDecoratorContext's are not bound\n            // to the container\n            throw Assert.CreateException();\n        }\n\n        public void Initialize(DiContainer container)\n        {\n            Assert.IsNull(_container);\n            Assert.That(_injectableMonoBehaviours.IsEmpty());\n\n            _container = container;\n\n            GetInjectableMonoBehaviours(_injectableMonoBehaviours);\n\n            foreach (var instance in _injectableMonoBehaviours)\n            {\n                container.QueueForInject(instance);\n            }\n        }\n\n        public void InstallDecoratorSceneBindings()\n        {\n            _container.Bind<SceneDecoratorContext>().FromInstance(this);\n            InstallSceneBindings(_injectableMonoBehaviours);\n        }\n\n        public void InstallDecoratorInstallers()\n        {\n            InstallInstallers();\n        }\n\n        protected override void GetInjectableMonoBehaviours(List<MonoBehaviour> monoBehaviours)\n        {\n            var scene = gameObject.scene;\n\n            ZenUtilInternal.AddStateMachineBehaviourAutoInjectersInScene(scene);\n            ZenUtilInternal.GetInjectableMonoBehavioursInScene(scene, monoBehaviours);\n        }\n\n        public void InstallLateDecoratorInstallers()\n        {\n            InstallInstallers(new List<InstallerBase>(), new List<Type>(), _lateScriptableObjectInstallers, _lateInstallers, _lateInstallerPrefabs);\n        }\n    }\n}\n\n#endif\n","size_bytes":3561},"CapybaraGame/Assets/Plugins/Zenject/Source/Install/Contexts/StaticContext.cs":{"content":"#if !NOT_UNITY3D\n\nnamespace Zenject\n{\n    // For some platforms, it's desirable to be able to add dependencies to Zenject before\n    // Unity even starts up (eg. WSA as described here https://github.com/svermeulen/Zenject/issues/118)\n    // In those cases you can call StaticContext.Container.BindX to add dependencies\n    // Anything you add there will then be injected everywhere, since all other contexts\n    // should be children of StaticContext\n    public static class StaticContext\n    {\n        static DiContainer _container;\n\n        // Useful sometimes to call from play mode tests\n        public static void Clear()\n        {\n            _container = null;\n        }\n\n        public static bool HasContainer\n        {\n            get { return _container != null; }\n        }\n\n        public static DiContainer Container\n        {\n            get\n            {\n                if (_container == null)\n                {\n                    _container = new DiContainer();\n                }\n\n                return _container;\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":1075},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/GetFromGameObjectComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class GetFromGameObjectComponentProvider : IProvider\n    {\n        readonly GameObject _gameObject;\n        readonly Type _componentType;\n        readonly bool _matchSingle;\n\n        // if concreteType is null we use the contract type from inject context\n        public GetFromGameObjectComponentProvider(\n            Type componentType, GameObject gameObject, bool matchSingle)\n        {\n            _componentType = componentType;\n            _matchSingle = matchSingle;\n            _gameObject = gameObject;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _componentType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            injectAction = null;\n\n            if (_matchSingle)\n            {\n                var match = _gameObject.GetComponent(_componentType);\n\n                Assert.IsNotNull(match, \"Could not find component with type '{0}' on prefab '{1}'\",\n                _componentType, _gameObject.name);\n\n                buffer.Add(match);\n                return;\n            }\n\n            var allComponents = _gameObject.GetComponents(_componentType);\n\n            Assert.That(allComponents.Length >= 1,\n            \"Expected to find at least one component with type '{0}' on prefab '{1}'\",\n            _componentType, _gameObject.name);\n\n            buffer.AllocFreeAddRange(allComponents);\n        }\n    }\n}\n\n#endif\n\n","size_bytes":1910},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/GetFromGameObjectGetterComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class GetFromGameObjectGetterComponentProvider : IProvider\n    {\n        readonly Func<InjectContext, GameObject> _gameObjectGetter;\n        readonly Type _componentType;\n        readonly bool _matchSingle;\n\n        // if concreteType is null we use the contract type from inject context\n        public GetFromGameObjectGetterComponentProvider(\n            Type componentType, Func<InjectContext, GameObject> gameObjectGetter, bool matchSingle)\n        {\n            _componentType = componentType;\n            _matchSingle = matchSingle;\n            _gameObjectGetter = gameObjectGetter;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _componentType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            injectAction = null;\n\n            if (context.Container.IsValidating)\n            {\n                buffer.Add(new ValidationMarker(_componentType));\n            }\n            else\n            {\n                var gameObject = _gameObjectGetter(context);\n\n                if (_matchSingle)\n                {\n                    var match = gameObject.GetComponent(_componentType);\n\n                    Assert.IsNotNull(match, \"Could not find component with type '{0}' on game object '{1}'\",\n                    _componentType, gameObject.name);\n\n                    buffer.Add(match);\n                    return;\n                }\n\n                var allComponents = gameObject.GetComponents(_componentType);\n\n                Assert.That(allComponents.Length >= 1,\n                \"Expected to find at least one component with type '{0}' on prefab '{1}'\",\n                _componentType, gameObject.name);\n\n                buffer.AllocFreeAddRange(allComponents);\n            }\n        }\n    }\n}\n\n#endif\n\n\n","size_bytes":2291},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/GetFromPrefabComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class GetFromPrefabComponentProvider : IProvider\n    {\n        readonly IPrefabInstantiator _prefabInstantiator;\n        readonly Type _componentType;\n        readonly bool _matchSingle;\n\n        // if concreteType is null we use the contract type from inject context\n        public GetFromPrefabComponentProvider(\n            Type componentType,\n            IPrefabInstantiator prefabInstantiator, bool matchSingle)\n        {\n            _prefabInstantiator = prefabInstantiator;\n            _componentType = componentType;\n            _matchSingle = matchSingle;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _componentType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            var gameObject = _prefabInstantiator.Instantiate(context, args, out injectAction);\n\n            // NOTE: Need to set includeInactive to true here, because prefabs are always\n            // instantiated as disabled until injection occurs, so that Awake / OnEnabled is executed\n            // after injection has occurred\n\n            if (_matchSingle)\n            {\n                var match = gameObject.GetComponentInChildren(_componentType, true);\n\n                Assert.IsNotNull(match, \"Could not find component with type '{0}' on prefab '{1}'\",\n                _componentType, _prefabInstantiator.GetPrefab(context).name);\n\n                buffer.Add(match);\n                return;\n            }\n\n            var allComponents = gameObject.GetComponentsInChildren(_componentType, true);\n\n            Assert.That(allComponents.Length >= 1,\n                \"Expected to find at least one component with type '{0}' on prefab '{1}'\",\n                _componentType, _prefabInstantiator.GetPrefab(context).name);\n\n            buffer.AllocFreeAddRange(allComponents);\n        }\n    }\n}\n\n#endif\n","size_bytes":2335},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/InstantiateOnPrefabComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class InstantiateOnPrefabComponentProvider : IProvider\n    {\n        readonly IPrefabInstantiator _prefabInstantiator;\n        readonly Type _componentType;\n\n        // if concreteType is null we use the contract type from inject context\n        public InstantiateOnPrefabComponentProvider(\n            Type componentType,\n            IPrefabInstantiator prefabInstantiator)\n        {\n            _prefabInstantiator = prefabInstantiator;\n            _componentType = componentType;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _componentType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            var gameObject = _prefabInstantiator.Instantiate(context, args, out injectAction);\n\n            var component = gameObject.AddComponent(_componentType);\n\n            buffer.Add(component);\n        }\n    }\n}\n\n#endif\n\n","size_bytes":1374},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/Decorator/DecoratorProvider.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject.Internal\n{\n    public interface IDecoratorProvider\n    {\n        void GetAllInstances(\n            IProvider provider, InjectContext context, List<object> buffer);\n    }\n\n    [NoReflectionBaking]\n    public class DecoratorProvider<TContract> : IDecoratorProvider\n    {\n        readonly Dictionary<IProvider, List<object>> _cachedInstances =\n            new Dictionary<IProvider, List<object>>();\n\n        readonly DiContainer _container;\n        readonly List<Guid> _factoryBindIds = new List<Guid>();\n\n        List<IFactory<TContract, TContract>> _decoratorFactories;\n\n#if ZEN_MULTITHREADING\n        readonly object _locker = new object();\n#endif\n\n        public DecoratorProvider(DiContainer container)\n        {\n            _container = container;\n        }\n\n        public void AddFactoryId(Guid factoryBindId)\n        {\n            _factoryBindIds.Add(factoryBindId);\n        }\n\n        void LazyInitializeDecoratorFactories()\n        {\n            if (_decoratorFactories == null)\n            {\n                _decoratorFactories = new List<IFactory<TContract, TContract>>();\n\n                for (int i = 0; i < _factoryBindIds.Count; i++)\n                {\n                    var bindId = _factoryBindIds[i];\n                    var factory = _container.ResolveId<IFactory<TContract, TContract>>(bindId);\n                    _decoratorFactories.Add(factory);\n                }\n            }\n        }\n\n        public void GetAllInstances(\n            IProvider provider, InjectContext context, List<object> buffer)\n        {\n            if (provider.IsCached)\n            {\n                List<object> instances;\n\n#if ZEN_MULTITHREADING\n                lock (_locker)\n#endif\n                {\n                    if (!_cachedInstances.TryGetValue(provider, out instances))\n                    {\n                        instances = new List<object>();\n                        WrapProviderInstances(provider, context, instances);\n                        _cachedInstances.Add(provider, instances);\n                    }\n                }\n\n                buffer.AllocFreeAddRange(instances);\n            }\n            else\n            {\n                WrapProviderInstances(provider, context, buffer);\n            }\n        }\n\n        void WrapProviderInstances(IProvider provider, InjectContext context, List<object> buffer)\n        {\n            LazyInitializeDecoratorFactories();\n\n            provider.GetAllInstances(context, buffer);\n\n            for (int i = 0; i < buffer.Count; i++)\n            {\n                buffer[i] = DecorateInstance(buffer[i], context);\n            }\n        }\n\n        object DecorateInstance(object instance, InjectContext context)\n        {\n            for (int i = 0; i < _decoratorFactories.Count; i++)\n            {\n                instance = _decoratorFactories[i].Create(\n                    context.Container.IsValidating ? default(TContract) : (TContract)instance);\n            }\n\n            return instance;\n        }\n    }\n}\n","size_bytes":3067},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/GameObjectProviders/EmptyGameObjectProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class EmptyGameObjectProvider : IProvider\n    {\n        readonly DiContainer _container;\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n\n        public EmptyGameObjectProvider(\n            DiContainer container, GameObjectCreationParameters gameObjectBindInfo)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n            _container = container;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(GameObject);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsEmpty(args);\n\n            injectAction = null;\n\n            var gameObj = _container.CreateEmptyGameObject(_gameObjectBindInfo, context);\n            buffer.Add(gameObj);\n        }\n    }\n}\n\n#endif\n\n","size_bytes":1246},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/GameObjectProviders/PrefabGameObjectProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabGameObjectProvider : IProvider\n    {\n        readonly IPrefabInstantiator _prefabCreator;\n\n        public PrefabGameObjectProvider(\n            IPrefabInstantiator prefabCreator)\n        {\n            _prefabCreator = prefabCreator;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return typeof(GameObject);\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            var instance = _prefabCreator.Instantiate(context, args, out injectAction);\n\n            buffer.Add(instance);\n        }\n    }\n}\n\n#endif\n","size_bytes":1022},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabCreators/IPrefabInstantiator.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public interface IPrefabInstantiator\n    {\n        Type ArgumentTarget\n        {\n            get;\n        }\n\n        List<TypeValuePair> ExtraArguments\n        {\n            get;\n        }\n\n        GameObjectCreationParameters GameObjectCreationParameters\n        {\n            get;\n        }\n\n        GameObject Instantiate(InjectContext context, List<TypeValuePair> args, out Action injectAction);\n\n        UnityEngine.Object GetPrefab(InjectContext context);\n    }\n}\n\n#endif\n","size_bytes":588},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabCreators/PrefabInstantiator.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing Zenject.Internal;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabInstantiator : IPrefabInstantiator\n    {\n        readonly IPrefabProvider _prefabProvider;\n        readonly DiContainer _container;\n        readonly List<TypeValuePair> _extraArguments;\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n        readonly Type _argumentTarget;\n        readonly List<Type> _instantiateCallbackTypes;\n        readonly Action<InjectContext, object> _instantiateCallback;\n\n        public PrefabInstantiator(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Type argumentTarget,\n            IEnumerable<Type> instantiateCallbackTypes,\n            IEnumerable<TypeValuePair> extraArguments,\n            IPrefabProvider prefabProvider,\n            Action<InjectContext, object> instantiateCallback)\n        {\n            _prefabProvider = prefabProvider;\n            _extraArguments = extraArguments.ToList();\n            _container = container;\n            _gameObjectBindInfo = gameObjectBindInfo;\n            _argumentTarget = argumentTarget;\n            _instantiateCallbackTypes = instantiateCallbackTypes.ToList();\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public GameObjectCreationParameters GameObjectCreationParameters\n        {\n            get { return _gameObjectBindInfo; }\n        }\n\n        public Type ArgumentTarget\n        {\n            get { return _argumentTarget; }\n        }\n\n        public List<TypeValuePair> ExtraArguments\n        {\n            get { return _extraArguments; }\n        }\n\n        public UnityEngine.Object GetPrefab(InjectContext context)\n        {\n            return _prefabProvider.GetPrefab(context);\n        }\n\n        public GameObject Instantiate(InjectContext context, List<TypeValuePair> args, out Action injectAction)\n        {\n            Assert.That(_argumentTarget == null || _argumentTarget.DerivesFromOrEqual(context.MemberType));\n\n            bool shouldMakeActive;\n            var gameObject = _container.CreateAndParentPrefab(\n                GetPrefab(context), _gameObjectBindInfo, context, out shouldMakeActive);\n            Assert.IsNotNull(gameObject);\n\n            injectAction = () =>\n            {\n                var allArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                allArgs.AllocFreeAddRange(_extraArguments);\n                allArgs.AllocFreeAddRange(args);\n\n                if (_argumentTarget == null)\n                {\n                    Assert.That(\n                        allArgs.IsEmpty(),\n                        \"Unexpected arguments provided to prefab instantiator.  Arguments are not allowed if binding multiple components in the same binding\");\n                }\n\n                if (_argumentTarget == null || allArgs.IsEmpty())\n                {\n                    _container.InjectGameObject(gameObject);\n                }\n                else\n                {\n                    _container.InjectGameObjectForComponentExplicit(\n                        gameObject, _argumentTarget, allArgs, context, null);\n\n                    Assert.That(allArgs.Count == 0);\n                }\n\n                ZenPools.DespawnList<TypeValuePair>(allArgs);\n\n                if (shouldMakeActive && !_container.IsValidating)\n                {\n#if ZEN_INTERNAL_PROFILING\n                    using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                    {\n                        gameObject.SetActive(true);\n                    }\n                }\n\n                if (_instantiateCallback != null)\n                {\n                    var callbackObjects = ZenPools.SpawnHashSet<object>();\n\n                    foreach (var type in _instantiateCallbackTypes)\n                    {\n                        var obj = gameObject.GetComponentInChildren(type);\n\n                        if (obj != null)\n                        {\n                            callbackObjects.Add(obj);\n                        }\n                    }\n\n                    foreach (var obj in callbackObjects)\n                    {\n                        _instantiateCallback(context, obj);\n                    }\n\n                    ZenPools.DespawnHashSet(callbackObjects);\n                }\n            };\n\n            return gameObject;\n        }\n    }\n}\n\n#endif\n","size_bytes":4492},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabCreators/PrefabInstantiatorCached.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabInstantiatorCached : IPrefabInstantiator\n    {\n        readonly IPrefabInstantiator _subInstantiator;\n\n        GameObject _gameObject;\n\n        public PrefabInstantiatorCached(IPrefabInstantiator subInstantiator)\n        {\n            _subInstantiator = subInstantiator;\n        }\n\n        public List<TypeValuePair> ExtraArguments\n        {\n            get { return _subInstantiator.ExtraArguments; }\n        }\n\n        public Type ArgumentTarget\n        {\n            get { return _subInstantiator.ArgumentTarget; }\n        }\n\n        public GameObjectCreationParameters GameObjectCreationParameters\n        {\n            get { return _subInstantiator.GameObjectCreationParameters; }\n        }\n\n        public UnityEngine.Object GetPrefab(InjectContext context)\n        {\n            return _subInstantiator.GetPrefab(context);\n        }\n\n        public GameObject Instantiate(InjectContext context, List<TypeValuePair> args, out Action injectAction)\n        {\n            // We can't really support arguments if we are using the cached value since\n            // the arguments might change when called after the first time\n            Assert.IsEmpty(args);\n\n            if (_gameObject != null)\n            {\n                injectAction = null;\n                return _gameObject;\n            }\n\n            _gameObject = _subInstantiator.Instantiate(context, new List<TypeValuePair>(), out injectAction);\n            return _gameObject;\n        }\n    }\n}\n\n#endif\n","size_bytes":1640},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabProviders/IPrefabProvider.cs":{"content":"#if !NOT_UNITY3D\n\nnamespace Zenject\n{\n    public interface IPrefabProvider\n    {\n        UnityEngine.Object GetPrefab(InjectContext context);\n    }\n}\n\n#endif\n\n","size_bytes":159},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabProviders/PrefabProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabProvider : IPrefabProvider\n    {\n        readonly UnityEngine.Object _prefab;\n\n        public PrefabProvider(UnityEngine.Object prefab)\n        {\n            Assert.IsNotNull(prefab);\n            _prefab = prefab;\n        }\n\n        public UnityEngine.Object GetPrefab(InjectContext _)\n        {\n            return _prefab;\n        }\n    }\n}\n\n#endif\n\n\n","size_bytes":457},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabProviders/PrefabProviderCustom.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\nusing UnityEngine;\nusing System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabProviderCustom : IPrefabProvider\n    {\n        readonly Func<InjectContext, UnityEngine.Object> _getter;\n\n        public PrefabProviderCustom(Func<InjectContext, UnityEngine.Object> getter)\n        {\n            _getter = getter;\n        }\n\n        public UnityEngine.Object GetPrefab(InjectContext context)\n        {\n            var prefab = _getter(context);\n            Assert.That(prefab != null, \"Custom prefab provider returned null\");\n            return prefab;\n        }\n    }\n}\n\n#endif\n\n","size_bytes":634},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/PrefabProviders/PrefabProviderResource.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PrefabProviderResource : IPrefabProvider\n    {\n        readonly string _resourcePath;\n\n        public PrefabProviderResource(string resourcePath)\n        {\n            _resourcePath = resourcePath;\n        }\n\n        public UnityEngine.Object GetPrefab(InjectContext context)\n        {\n            var prefab = (GameObject)Resources.Load(_resourcePath);\n\n            Assert.That(prefab != null,\n                \"Expected to find prefab at resource path '{0}'\", _resourcePath);\n\n            return prefab;\n        }\n    }\n}\n\n#endif\n\n","size_bytes":650},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/ISubContainerCreator.cs":{"content":"using System.Collections.Generic;\nusing System;\n\nnamespace Zenject\n{\n    public interface ISubContainerCreator\n    {\n        DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction);\n    }\n}\n","size_bytes":239},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorBindInfo.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorBindInfo\n    {\n        // Null = means no custom default parent\n        public string DefaultParentName\n        {\n            get; set;\n        }\n\n        public bool CreateKernel\n        {\n            get; set;\n        }\n\n        public Type KernelType\n        {\n            get; set;\n        }\n    }\n}\n","size_bytes":400},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByInstaller.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorByInstaller : ISubContainerCreator\n    {\n        readonly Type _installerType;\n        readonly DiContainer _container;\n        readonly List<TypeValuePair> _extraArgs;\n        readonly SubContainerCreatorBindInfo _containerBindInfo;\n\n        public SubContainerCreatorByInstaller(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n            Type installerType,\n            IEnumerable<TypeValuePair> extraArgs)\n        {\n            _installerType = installerType;\n            _container = container;\n            _extraArgs = extraArgs.ToList();\n            _containerBindInfo = containerBindInfo;\n\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n        }\n\n        public SubContainerCreatorByInstaller(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n            Type installerType)\n            : this(container, containerBindInfo, installerType, new List<TypeValuePair>())\n        {\n        }\n\n        public DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            var subContainer = _container.CreateSubContainer();\n\n            SubContainerCreatorUtil.ApplyBindSettings(_containerBindInfo, subContainer);\n\n            var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n            extraArgs.AllocFreeAddRange(_extraArgs);\n            extraArgs.AllocFreeAddRange(args);\n\n            var installer = (InstallerBase)subContainer.InstantiateExplicit(\n                _installerType, extraArgs);\n\n            ZenPools.DespawnList(extraArgs);\n\n            installer.InstallBindings();\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n}\n","size_bytes":2158},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByInstance.cs":{"content":"using System.Collections.Generic;\nusing System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorByInstance : ISubContainerCreator\n    {\n        readonly DiContainer _subcontainer;\n\n        public SubContainerCreatorByInstance(DiContainer subcontainer)\n        {\n            _subcontainer = subcontainer;\n        }\n\n        public DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.That(args.IsEmpty());\n\n            injectAction = null;\n\n            // It is assumed here that the subcontainer has already had ResolveRoots called elsewhere\n            // Since most likely you are adding a subcontainer that is already in a context or\n            // something rather than directly using DiContainer.CreateSubContainer\n            return _subcontainer;\n        }\n    }\n}\n\n","size_bytes":906},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByInstanceGetter.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorByInstanceGetter : ISubContainerCreator\n    {\n        readonly Func<InjectContext, DiContainer> _subcontainerGetter;\n\n        public SubContainerCreatorByInstanceGetter(\n            Func<InjectContext, DiContainer> subcontainerGetter)\n        {\n            _subcontainerGetter = subcontainerGetter;\n        }\n\n        public DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.That(args.IsEmpty());\n\n            injectAction = null;\n\n            // It is assumed here that the subcontainer has already had ResolveRoots called elsewhere\n            // Since most likely you are adding a subcontainer that is already in a context or\n            // something rather than directly using DiContainer.CreateSubContainer\n            return _subcontainerGetter(context);\n        }\n    }\n}\n\n","size_bytes":1012},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByMethod.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // Zero parameters\n\n    [NoReflectionBaking]\n    public abstract class SubContainerCreatorByMethodBase : ISubContainerCreator\n    {\n        readonly DiContainer _container;\n        readonly SubContainerCreatorBindInfo _containerBindInfo;\n\n        public SubContainerCreatorByMethodBase(\n            DiContainer container, SubContainerCreatorBindInfo containerBindInfo)\n        {\n            _container = container;\n            _containerBindInfo = containerBindInfo;\n        }\n\n        public abstract DiContainer CreateSubContainer(\n            List<TypeValuePair> args, InjectContext context, out Action injectAction);\n\n        protected DiContainer CreateEmptySubContainer()\n        {\n            var subContainer = _container.CreateSubContainer();\n            SubContainerCreatorUtil.ApplyBindSettings(_containerBindInfo, subContainer);\n            return subContainer;\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod : SubContainerCreatorByMethodBase\n    {\n        readonly Action<DiContainer> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n            Action<DiContainer> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEmpty(args);\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(subContainer);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // One parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1> : SubContainerCreatorByMethodBase\n    {\n        readonly Action<DiContainer, TParam1> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n            Action<DiContainer, TParam1> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 1);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(subContainer, (TParam1)args[0].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // Two parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1, TParam2> : SubContainerCreatorByMethodBase\n    {\n        readonly Action<DiContainer, TParam1, TParam2> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n            Action<DiContainer, TParam1, TParam2> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 2);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(\n                subContainer,\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // Three parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1, TParam2, TParam3> : SubContainerCreatorByMethodBase\n    {\n        readonly Action<DiContainer, TParam1, TParam2, TParam3> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n            Action<DiContainer, TParam1, TParam2, TParam3> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 3);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(\n                subContainer,\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // Four parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4> : SubContainerCreatorByMethodBase\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 4);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(\n                subContainer,\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // Five parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4, TParam5> : SubContainerCreatorByMethodBase\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(\n                subContainer,\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value,\n                (TParam5)args[4].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // Six parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> : SubContainerCreatorByMethodBase\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(\n                subContainer,\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value,\n                (TParam5)args[4].Value,\n                (TParam6)args[5].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n\n    // 10 parameters\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> : SubContainerCreatorByMethodBase\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> _installMethod;\n\n        public SubContainerCreatorByMethod(\n            DiContainer container,\n            SubContainerCreatorBindInfo containerBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installMethod)\n            : base(container, containerBindInfo)\n        {\n            _installMethod = installMethod;\n        }\n\n        public override DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            Assert.IsEqual(args.Count, 10);\n\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n            Assert.That(args[6].Type.DerivesFromOrEqual<TParam7>());\n            Assert.That(args[7].Type.DerivesFromOrEqual<TParam8>());\n            Assert.That(args[8].Type.DerivesFromOrEqual<TParam9>());\n            Assert.That(args[9].Type.DerivesFromOrEqual<TParam10>());\n\n            var subContainer = CreateEmptySubContainer();\n\n            _installMethod(\n                subContainer,\n                (TParam1)args[0].Value,\n                (TParam2)args[1].Value,\n                (TParam3)args[2].Value,\n                (TParam4)args[3].Value,\n                (TParam5)args[4].Value,\n                (TParam6)args[5].Value,\n                (TParam7)args[6].Value,\n                (TParam8)args[7].Value,\n                (TParam9)args[8].Value,\n                (TParam10)args[9].Value);\n\n            injectAction = () => \n            {\n                subContainer.ResolveRoots();\n            };\n\n            return subContainer;\n        }\n    }\n}\n","size_bytes":13143},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByNewGameObjectDynamicContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public abstract class SubContainerCreatorByNewGameObjectDynamicContext : SubContainerCreatorDynamicContext\n    {\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n\n        public SubContainerCreatorByNewGameObjectDynamicContext(\n            DiContainer container, GameObjectCreationParameters gameObjectBindInfo)\n            : base(container)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n        }\n\n        protected override GameObject CreateGameObject(InjectContext context, out bool shouldMakeActive)\n        {\n            shouldMakeActive = true;\n            var gameObject = Container.CreateEmptyGameObject(_gameObjectBindInfo, null);\n            gameObject.SetActive(false);\n            return gameObject;\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectInstaller : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly Type _installerType;\n        readonly List<TypeValuePair> _extraArgs;\n\n        public SubContainerCreatorByNewGameObjectInstaller(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Type installerType, List<TypeValuePair> extraArgs)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerType = installerType;\n            _extraArgs = extraArgs;\n\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                        extraArgs.AllocFreeAddRange(_extraArgs);\n                        extraArgs.AllocFreeAddRange(args);\n\n                        var installer = (InstallerBase)subContainer.InstantiateExplicit(\n                            _installerType, extraArgs);\n\n                        ZenPools.DespawnList(extraArgs);\n\n                        installer.InstallBindings();\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly Action<DiContainer> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.That(args.IsEmpty());\n            context.AddNormalInstaller(\n                new ActionInstaller(_installerMethod));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly Action<DiContainer, TParam1> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer, TParam1> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 1);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer, (TParam1)args[0].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly Action<DiContainer, TParam1, TParam2> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer, TParam1, TParam2> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 2);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly Action<DiContainer, TParam1, TParam2, TParam3> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 3);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 4);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4, TParam5> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value,\n                            (TParam5)args[4].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value,\n                            (TParam5)args[4].Value,\n                            (TParam6)args[5].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> : SubContainerCreatorByNewGameObjectDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> _installerMethod;\n\n        public SubContainerCreatorByNewGameObjectMethod(\n            DiContainer container,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n            : base(container, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 10);\n\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n            Assert.That(args[6].Type.DerivesFromOrEqual<TParam7>());\n            Assert.That(args[7].Type.DerivesFromOrEqual<TParam8>());\n            Assert.That(args[8].Type.DerivesFromOrEqual<TParam9>());\n            Assert.That(args[9].Type.DerivesFromOrEqual<TParam10>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value,\n                            (TParam5)args[4].Value,\n                            (TParam6)args[5].Value,\n                            (TParam7)args[6].Value,\n                            (TParam8)args[7].Value,\n                            (TParam9)args[8].Value,\n                            (TParam10)args[9].Value);\n                    }));\n        }\n    }\n}\n\n#endif\n","size_bytes":14442},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByNewPrefab.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefab : ISubContainerCreator\n    {\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n        readonly IPrefabProvider _prefabProvider;\n        readonly DiContainer _container;\n\n        public SubContainerCreatorByNewPrefab(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n            _prefabProvider = prefabProvider;\n            _container = container;\n        }\n\n        public DiContainer CreateSubContainer(\n            List<TypeValuePair> args, InjectContext parentContext, out Action injectAction)\n        {\n            Assert.That(args.IsEmpty());\n\n            var prefab = _prefabProvider.GetPrefab(parentContext);\n\n            bool shouldMakeActive;\n            var gameObject = _container.CreateAndParentPrefab(\n                prefab, _gameObjectBindInfo, null, out shouldMakeActive);\n\n            var context = gameObject.GetComponent<GameObjectContext>();\n\n            Assert.That(context != null,\n                \"Expected prefab with name '{0}' to contain a component of type 'GameObjectContext' on the root\", prefab.name);\n\n            context.Install(_container);\n\n            injectAction = () =>\n            {\n                // Note: We don't need to call ResolveRoots here because GameObjectContext does this for us\n                _container.Inject(context);\n\n                if (shouldMakeActive && !_container.IsValidating)\n                {\n#if ZEN_INTERNAL_PROFILING\n                    using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                    {\n                        gameObject.SetActive(true);\n                    }\n                }\n            };\n\n            return context.Container;\n        }\n    }\n}\n\n#endif\n","size_bytes":1999},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByNewPrefabDynamicContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public abstract class SubContainerCreatorByNewPrefabDynamicContext : SubContainerCreatorDynamicContext\n    {\n        readonly IPrefabProvider _prefabProvider;\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n\n        public SubContainerCreatorByNewPrefabDynamicContext(\n            DiContainer container,\n            IPrefabProvider prefabProvider, GameObjectCreationParameters gameObjectBindInfo)\n            : base(container)\n        {\n            _prefabProvider = prefabProvider;\n            _gameObjectBindInfo = gameObjectBindInfo;\n        }\n\n        protected override GameObject CreateGameObject(InjectContext context, out bool shouldMakeActive)\n        {\n            var prefab = _prefabProvider.GetPrefab(context);\n\n            var gameObj = Container.CreateAndParentPrefab(\n                prefab, _gameObjectBindInfo, null, out shouldMakeActive);\n\n            if (gameObj.GetComponent<GameObjectContext>() != null)\n            {\n                throw Assert.CreateException(\n                    \"Found GameObjectContext already attached to prefab with name '{0}'!  When using ByNewPrefabMethod or ByNewPrefabInstaller, the GameObjectContext is added to the prefab dynamically\", prefab.name);\n            }\n\n            return gameObj;\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabInstaller : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly Type _installerType;\n        readonly List<TypeValuePair> _extraArgs;\n\n        public SubContainerCreatorByNewPrefabInstaller(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Type installerType, List<TypeValuePair> extraArgs)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerType = installerType;\n            _extraArgs = extraArgs;\n\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                        extraArgs.AllocFreeAddRange(_extraArgs);\n                        extraArgs.AllocFreeAddRange(args);\n\n                        var installer = (InstallerBase)subContainer.InstantiateExplicit(\n                            _installerType, extraArgs);\n\n                        ZenPools.DespawnList(extraArgs);\n\n                        installer.InstallBindings();\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly Action<DiContainer> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.That(args.IsEmpty());\n            context.AddNormalInstaller(\n                new ActionInstaller(_installerMethod));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly Action<DiContainer, TParam1> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer, TParam1> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 1);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer, (TParam1)args[0].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1, TParam2> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly Action<DiContainer, TParam1, TParam2> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer, TParam1, TParam2> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 2);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly Action<DiContainer, TParam1, TParam2, TParam3> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n            Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 3);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 4);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value,\n                            (TParam5)args[4].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 5);\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value,\n                            (TParam5)args[4].Value,\n                            (TParam6)args[5].Value);\n                    }));\n        }\n    }\n\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> : SubContainerCreatorByNewPrefabDynamicContext\n    {\n        readonly\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> _installerMethod;\n\n        public SubContainerCreatorByNewPrefabMethod(\n            DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n            : base(container, prefabProvider, gameObjectBindInfo)\n        {\n            _installerMethod = installerMethod;\n        }\n\n        protected override void AddInstallers(List<TypeValuePair> args, GameObjectContext context)\n        {\n            Assert.IsEqual(args.Count, 10);\n\n            Assert.That(args[0].Type.DerivesFromOrEqual<TParam1>());\n            Assert.That(args[1].Type.DerivesFromOrEqual<TParam2>());\n            Assert.That(args[2].Type.DerivesFromOrEqual<TParam3>());\n            Assert.That(args[3].Type.DerivesFromOrEqual<TParam4>());\n            Assert.That(args[4].Type.DerivesFromOrEqual<TParam5>());\n            Assert.That(args[5].Type.DerivesFromOrEqual<TParam6>());\n            Assert.That(args[6].Type.DerivesFromOrEqual<TParam7>());\n            Assert.That(args[7].Type.DerivesFromOrEqual<TParam8>());\n            Assert.That(args[8].Type.DerivesFromOrEqual<TParam9>());\n            Assert.That(args[9].Type.DerivesFromOrEqual<TParam10>());\n\n            context.AddNormalInstaller(\n                new ActionInstaller(subContainer =>\n                    {\n                        _installerMethod(subContainer,\n                            (TParam1)args[0].Value,\n                            (TParam2)args[1].Value,\n                            (TParam3)args[2].Value,\n                            (TParam4)args[3].Value,\n                            (TParam5)args[4].Value,\n                            (TParam6)args[5].Value,\n                            (TParam7)args[6].Value,\n                            (TParam8)args[7].Value,\n                            (TParam9)args[8].Value,\n                            (TParam10)args[9].Value);\n                    }));\n        }\n    }\n}\n\n#endif\n","size_bytes":15283},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorByNewPrefabWithParams.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorByNewPrefabWithParams : ISubContainerCreator\n    {\n        readonly DiContainer _container;\n        readonly IPrefabProvider _prefabProvider;\n        readonly Type _installerType;\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n\n        public SubContainerCreatorByNewPrefabWithParams(\n            Type installerType, DiContainer container, IPrefabProvider prefabProvider,\n            GameObjectCreationParameters gameObjectBindInfo)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n            _prefabProvider = prefabProvider;\n            _container = container;\n            _installerType = installerType;\n        }\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        IEnumerable<InjectableInfo> GetAllInjectableIncludingBaseTypes() \n        {\n            var info = TypeAnalyzer.GetInfo(_installerType);\n\n            while (info != null) \n            {\n                foreach (var injectable in info.AllInjectables) \n                {\n                    yield return injectable;\n                }\n\n                info = info.BaseTypeInfo;\n            }\n        }\n\n        DiContainer CreateTempContainer(List<TypeValuePair> args)\n        {\n            var tempSubContainer = Container.CreateSubContainer();\n\n            var allInjectables = GetAllInjectableIncludingBaseTypes();\n\n            foreach (var argPair in args)\n            {\n                // We need to intelligently match on the exact parameters here to avoid the issue\n                // brought up in github issue #217\n                var match = allInjectables\n                    .Where(x => argPair.Type.DerivesFromOrEqual(x.MemberType))\n                    .OrderBy(x => ZenUtilInternal.GetInheritanceDelta(argPair.Type, x.MemberType)).FirstOrDefault();\n\n                Assert.That(match != null,\n                    \"Could not find match for argument type '{0}' when injecting into sub container installer '{1}'\",\n                    argPair.Type, _installerType);\n\n                tempSubContainer.Bind(match.MemberType)\n                    .FromInstance(argPair.Value).WhenInjectedInto(_installerType);\n            }\n\n            return tempSubContainer;\n        }\n\n        public DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext parentContext, out Action injectAction)\n        {\n            Assert.That(!args.IsEmpty());\n\n            var prefab = _prefabProvider.GetPrefab(parentContext);\n            var tempContainer = CreateTempContainer(args);\n\n            bool shouldMakeActive;\n            var gameObject = tempContainer.CreateAndParentPrefab(\n                prefab, _gameObjectBindInfo, null, out shouldMakeActive);\n\n            var context = gameObject.GetComponent<GameObjectContext>();\n\n            Assert.That(context != null,\n                \"Expected prefab with name '{0}' to container a component of type 'GameObjectContext'\", prefab.name);\n\n            context.Install(tempContainer);\n\n            injectAction = () => \n            {\n                // Note: We don't need to call ResolveRoots here because GameObjectContext does this for us\n                tempContainer.Inject(context);\n\n                if (shouldMakeActive && !_container.IsValidating)\n                {\n#if ZEN_INTERNAL_PROFILING\n                    using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                    {\n                        gameObject.SetActive(true);\n                    }\n                }\n            };\n\n            return context.Container;\n        }\n    }\n}\n\n#endif\n\n","size_bytes":3796},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorCached.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class SubContainerCreatorCached : ISubContainerCreator\n    {\n        readonly ISubContainerCreator _subCreator;\n\n#if ZEN_MULTITHREADING\n        readonly object _locker = new object();\n#else\n        bool _isLookingUp;\n#endif\n        DiContainer _subContainer;\n\n        public SubContainerCreatorCached(ISubContainerCreator subCreator)\n        {\n            _subCreator = subCreator;\n        }\n\n        public DiContainer CreateSubContainer(List<TypeValuePair> args, InjectContext context, out Action injectAction)\n        {\n            // We can't really support arguments if we are using the cached value since\n            // the arguments might change when called after the first time\n            Assert.IsEmpty(args);\n\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                if (_subContainer == null)\n                {\n#if !ZEN_MULTITHREADING\n                    Assert.That(!_isLookingUp,\n                        \"Found unresolvable circular dependency when looking up sub container!  Object graph:\\n {0}\", context.GetObjectGraphString());\n                    _isLookingUp = true;\n#endif\n\n                    _subContainer = _subCreator.CreateSubContainer(\n                            new List<TypeValuePair>(), context, out injectAction);\n\n#if !ZEN_MULTITHREADING\n                    _isLookingUp = false;\n#endif\n\n                    Assert.IsNotNull(_subContainer);\n                }\n                else \n                {\n                    injectAction = null;\n                }\n\n                return _subContainer;\n            }\n        }\n    }\n}\n","size_bytes":1714},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorDynamicContext.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing ModestTree;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public abstract class SubContainerCreatorDynamicContext : ISubContainerCreator\n    {\n        readonly DiContainer _container;\n\n        public SubContainerCreatorDynamicContext(DiContainer container)\n        {\n            _container = container;\n        }\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        public DiContainer CreateSubContainer(\n            List<TypeValuePair> args, InjectContext parentContext, out Action injectAction)\n        {\n            bool shouldMakeActive;\n            var gameObj = CreateGameObject(parentContext, out shouldMakeActive);\n\n            var context = gameObj.AddComponent<GameObjectContext>();\n\n            AddInstallers(args, context);\n\n            context.Install(_container);\n\n            injectAction = () => \n            {\n                // Note: We don't need to call ResolveRoots here because GameObjectContext does this for us\n                _container.Inject(context);\n\n                if (shouldMakeActive && !_container.IsValidating)\n                {\n#if ZEN_INTERNAL_PROFILING\n                    using (ProfileTimers.CreateTimedBlock(\"User Code\"))\n#endif\n                    {\n                        gameObj.SetActive(true);\n                    }\n                }\n            };\n\n            return context.Container;\n        }\n\n        protected abstract void AddInstallers(List<TypeValuePair> args, GameObjectContext context);\n        protected abstract GameObject CreateGameObject(InjectContext context, out bool shouldMakeActive);\n    }\n}\n\n#endif\n","size_bytes":1743},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/SubContainerCreators/SubContainerCreatorUtil.cs":{"content":"using System;\nusing ModestTree;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    public static class SubContainerCreatorUtil\n    {\n        public static void ApplyBindSettings(\n            SubContainerCreatorBindInfo subContainerBindInfo, DiContainer subContainer)\n        {\n            if (subContainerBindInfo.CreateKernel)\n            {\n                var parentContainer = subContainer.ParentContainers.OnlyOrDefault();\n                Assert.IsNotNull(parentContainer, \"Could not find unique container when using WithKernel!\");\n\n                if (subContainerBindInfo.KernelType != null)\n                {\n                    parentContainer.Bind(typeof(Kernel).Interfaces()).To(subContainerBindInfo.KernelType)\n                        .FromSubContainerResolve()\n                        .ByInstance(subContainer).AsCached();\n                    subContainer.Bind(subContainerBindInfo.KernelType).AsCached();\n                }\n                else\n                {\n                    parentContainer.BindInterfacesTo<Kernel>().FromSubContainerResolve()\n                        .ByInstance(subContainer).AsCached();\n                    subContainer.Bind<Kernel>().AsCached();\n                }\n\n#if !NOT_UNITY3D\n                if (subContainerBindInfo.DefaultParentName != null)\n                {\n                    DefaultGameObjectParentInstaller.Install(\n                        subContainer, subContainerBindInfo.DefaultParentName);\n                }\n#endif\n            }\n        }\n    }\n}\n","size_bytes":1523},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/AnimatorInterfaces/AnimatorIkHandlerManager.cs":{"content":"using System.Collections.Generic;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public class AnimatorIkHandlerManager : MonoBehaviour\n    {\n        List<IAnimatorIkHandler> _handlers;\n\n        [Inject]\n        public void Construct(\n            // Use local to avoid inheriting handlers from a parent context\n            [Inject(Source = InjectSources.Local)]\n            List<IAnimatorIkHandler> handlers)\n        {\n            _handlers = handlers;\n        }\n\n        public void OnAnimatorIk()\n        {\n            foreach (var handler in _handlers)\n            {\n                handler.OnAnimatorIk();\n            }\n        }\n    }\n}\n\n","size_bytes":639},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/AnimatorInterfaces/AnimatorInstaller.cs":{"content":"using UnityEngine;\n\nnamespace Zenject\n{\n    public class AnimatorInstaller : Installer<Animator, AnimatorInstaller>\n    {\n        readonly Animator _animator;\n\n        public AnimatorInstaller(Animator animator)\n        {\n            _animator = animator;\n        }\n\n        public override void InstallBindings()\n        {\n            Container.Bind<AnimatorIkHandlerManager>().FromNewComponentOn(_animator.gameObject);\n            Container.Bind<AnimatorIkHandlerManager>().FromNewComponentOn(_animator.gameObject);\n        }\n    }\n}\n\n","size_bytes":537},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/AnimatorInterfaces/AnimatorMoveHandlerManager.cs":{"content":"using System.Collections.Generic;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    public class AnimatorMoveHandlerManager : MonoBehaviour\n    {\n        List<IAnimatorMoveHandler> _handlers;\n\n        [Inject]\n        public void Construct(\n            // Use local to avoid inheriting handlers from a parent context\n            [Inject(Source = InjectSources.Local)]\n            List<IAnimatorMoveHandler> handlers)\n        {\n            _handlers = handlers;\n        }\n\n        public void OnAnimatorMove()\n        {\n            foreach (var handler in _handlers)\n            {\n                handler.OnAnimatorMove();\n            }\n        }\n    }\n}\n\n","size_bytes":649},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/AnimatorInterfaces/IAnimatorIkHandler.cs":{"content":"namespace Zenject\n{\n    public interface IAnimatorIkHandler\n    {\n        void OnAnimatorIk();\n    }\n}\n\n","size_bytes":104},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/AnimatorInterfaces/IAnimatorMoveHandler.cs":{"content":"namespace Zenject\n{\n    public interface IAnimatorMoveHandler\n    {\n        void OnAnimatorMove();\n    }\n}\n\n","size_bytes":108},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/Kernels/DecoratableMonoKernel.cs":{"content":"ï»¿namespace Zenject\n{\n    public interface IDecoratableMonoKernel\n    {\n        bool ShouldInitializeOnStart();\n        void Initialize();\n        void Update();\n        void FixedUpdate();\n        void LateUpdate();\n        void Dispose();\n        void LateDispose();\n    }\n\n    public class DecoratableMonoKernel : IDecoratableMonoKernel\n    {\n        [InjectLocal] \n        public TickableManager TickableManager { get; protected set; } = null;\n\n        [InjectLocal]\n        public InitializableManager InitializableManager { get; protected set; } = null;\n\n        [InjectLocal]\n        public DisposableManager DisposablesManager { get; protected set; } = null;\n        \n        \n        public virtual bool ShouldInitializeOnStart() => true;\n        \n        public virtual void Initialize()\n        {\n            InitializableManager.Initialize();\n        }\n\n        public void Update()\n        {\n            TickableManager.Update();\n        }\n\n        public void FixedUpdate()\n        {\n            TickableManager.FixedUpdate();\n        }\n\n        public void LateUpdate()\n        {\n            TickableManager.LateUpdate();\n        }\n\n        public void Dispose()\n        {\n            DisposablesManager.Dispose();\n        }\n\n        public void LateDispose()\n        {\n            DisposablesManager.LateDispose();\n        }\n    }\n\n    public abstract class BaseMonoKernelDecorator : IDecoratableMonoKernel\n    {\n        [Inject] \n        protected IDecoratableMonoKernel DecoratedMonoKernel;\n\n        public virtual bool ShouldInitializeOnStart() => DecoratedMonoKernel.ShouldInitializeOnStart();\n        public virtual void Initialize() => DecoratedMonoKernel.Initialize();\n        public virtual void Update() => DecoratedMonoKernel.Update();\n        public virtual void FixedUpdate() => DecoratedMonoKernel.FixedUpdate();\n        public virtual void LateUpdate() => DecoratedMonoKernel.LateUpdate();\n        public virtual void Dispose() => DecoratedMonoKernel.Dispose();\n        public virtual void LateDispose() => DecoratedMonoKernel.LateDispose();\n    }\n    \n}","size_bytes":2085},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/Kernels/DefaultGameObjectKernel.cs":{"content":"#if !NOT_UNITY3D\n\nnamespace Zenject\n{\n    public class DefaultGameObjectKernel : MonoKernel\n    {\n    }\n}\n\n#endif\n","size_bytes":114},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/Kernels/Kernel.cs":{"content":"using System;\nusing System.Diagnostics;\n\nnamespace Zenject\n{\n    [DebuggerStepThrough]\n    public class Kernel : IInitializable, IDisposable, ITickable, ILateTickable, IFixedTickable, ILateDisposable\n    {\n        [InjectLocal]\n        TickableManager _tickableManager = null;\n\n        [InjectLocal]\n        InitializableManager _initializableManager = null;\n\n        [InjectLocal]\n        DisposableManager _disposablesManager = null;\n\n        public virtual void Initialize()\n        {\n            _initializableManager.Initialize();\n        }\n\n        public virtual void Dispose()\n        {\n            _disposablesManager.Dispose();\n        }\n\n        public virtual void LateDispose()\n        {\n            _disposablesManager.LateDispose();\n        }\n\n        public virtual void Tick()\n        {\n            _tickableManager.Update();\n        }\n\n        public virtual void LateTick()\n        {\n            _tickableManager.LateUpdate();\n        }\n\n        public virtual void FixedTick()\n        {\n            _tickableManager.FixedUpdate();\n        }\n    }\n}\n","size_bytes":1069},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/Kernels/MonoKernel.cs":{"content":"#if !NOT_UNITY3D\n\n#pragma warning disable 649\n\nusing ModestTree;\nusing UnityEngine;\nusing UnityEngine.Analytics;\n\nnamespace Zenject\n{\n    public abstract class MonoKernel : MonoBehaviour\n    {\n        [InjectLocal]\n        TickableManager _tickableManager = null;\n\n        [InjectLocal]\n        InitializableManager _initializableManager = null;\n\n        [InjectLocal]\n        DisposableManager _disposablesManager = null;\n\n        [InjectOptional] \n        private IDecoratableMonoKernel decoratableMonoKernel;\n\n        bool _hasInitialized;\n        bool _isDestroyed;\n\n        protected bool IsDestroyed\n        {\n            get { return _isDestroyed; }\n        }\n\n        public virtual void Start()\n        {\n            if (decoratableMonoKernel?.ShouldInitializeOnStart()??true)\n            {\n                Initialize();\n            }\n        }\n\n        public void Initialize()\n        {\n            // We don't put this in start in case Start is overridden\n            if (!_hasInitialized)\n            {\n                _hasInitialized = true;\n\n                if (decoratableMonoKernel != null)\n                {\n                    decoratableMonoKernel.Initialize();\n                }\n                else\n                {\n                    _initializableManager.Initialize();\n                }\n            }\n        }\n\n        public virtual void Update()\n        {\n            // Don't spam the log every frame if initialization fails and leaves it as null\n            if (_tickableManager != null)\n            {\n                if (decoratableMonoKernel != null)\n                {\n                    decoratableMonoKernel.Update();\n                }\n                else\n                {\n                    _tickableManager.Update();\n                }\n            }\n        }\n\n        public virtual void FixedUpdate()\n        {\n            // Don't spam the log every frame if initialization fails and leaves it as null\n            if (_tickableManager != null)\n            {\n                if (decoratableMonoKernel != null)\n                {\n                    decoratableMonoKernel.FixedUpdate();\n                }\n                else\n                {\n                    _tickableManager.FixedUpdate();\n                }\n            }\n        }\n\n        public virtual void LateUpdate()\n        {\n            // Don't spam the log every frame if initialization fails and leaves it as null\n            if (_tickableManager != null)\n            {\n                if (decoratableMonoKernel != null)\n                {\n                    decoratableMonoKernel.LateUpdate();\n                }\n                else\n                {\n                    _tickableManager.LateUpdate();\n                }\n            }\n        }\n\n        public virtual void OnDestroy()\n        {\n            // _disposablesManager can be null if we get destroyed before the Start event\n            if (_disposablesManager != null)\n            {\n                Assert.That(!_isDestroyed);\n                _isDestroyed = true;\n\n                if (decoratableMonoKernel != null)\n                {\n                    decoratableMonoKernel.Dispose();\n                    decoratableMonoKernel.LateDispose();\n                }\n                else\n                {\n                    _disposablesManager.Dispose();\n                    _disposablesManager.LateDispose();\n                }\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":3435},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/Kernels/ProjectKernel.cs":{"content":"#if !NOT_UNITY3D\n\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEngine.SceneManagement;\n\nnamespace Zenject\n{\n    public class ProjectKernel : MonoKernel\n    {\n        [Inject]\n        ZenjectSettings _settings = null;\n\n        [Inject]\n        SceneContextRegistry _contextRegistry = null;\n\n        // One issue with relying on MonoKernel.OnDestroy to call IDisposable.Dispose\n        // is that the order that OnDestroy is called in is difficult to predict\n        // One good thing is that it does follow the heirarchy order (so root game objects\n        // will have thier OnDestroy called before child objects)\n        // However, the order that OnDestroy is called for the root game objects themselves\n        // is largely random\n        // Within an individual scene, this can be helped somewhat by placing all game objects\n        // underneath the SceneContext and then also checking the 'ParentNewObjectsUnderRoot'\n        // property to ensure any new game objects will also be parented underneath SceneContext\n        // By doing this, we can be guaranteed to have any bound IDisposable's have their\n        // Dispose called before any game object is destroyed in the scene\n        // However, when using multiple scenes (each with their own SceneContext) the order\n        // that these SceneContext game objects are destroyed is random\n        // So to address that, we explicitly call GameObject.DestroyImmediate for all\n        // SceneContext's in the reverse order that the scenes were loaded in below\n        // (this works because OnApplicationQuit is always called before OnDestroy)\n        // Note that this only works when stopping the app and not when changing scenes\n        // When changing scenes, if you have multiple scenes loaded at once, you will have to\n        // manually unload the scenes in the reverse order they were loaded before going to\n        // the new scene, if you require a predictable destruction order.  Or you can always use\n        // ZenjectSceneLoader which will do this for you\n        public void OnApplicationQuit()\n        {\n            if (_settings.EnsureDeterministicDestructionOrderOnApplicationQuit)\n            {\n                DestroyEverythingInOrder();\n            }\n        }\n\n        public void DestroyEverythingInOrder()\n        {\n            ForceUnloadAllScenes(true);\n\n            // Destroy project context after all scenes\n            Assert.That(!IsDestroyed);\n            DestroyImmediate(gameObject);\n            Assert.That(IsDestroyed);\n        }\n\n        public void ForceUnloadAllScenes(bool immediate = false)\n        {\n            // OnApplicationQuit should always be called before OnDestroy\n            // (Unless it is destroyed manually)\n            Assert.That(!IsDestroyed);\n\n            var sceneOrder = new List<Scene>();\n\n            for (int i = 0; i < SceneManager.sceneCount; i++)\n            {\n                sceneOrder.Add(SceneManager.GetSceneAt(i));\n            }\n\n            // Destroy the scene contexts from bottom to top\n            // Since this is the reverse order that they were loaded in\n            foreach (var sceneContext in _contextRegistry.SceneContexts.OrderByDescending(x => sceneOrder.IndexOf(x.gameObject.scene)).ToList())\n            {\n                if (immediate)\n                {\n                    DestroyImmediate(sceneContext.gameObject);\n                }\n                else\n                {\n                    Destroy(sceneContext.gameObject);\n                }\n            }\n        }\n    }\n}\n\n#endif\n","size_bytes":3577},"CapybaraGame/Assets/Plugins/Zenject/Source/Runtime/Kernels/SceneKernel.cs":{"content":"#if !NOT_UNITY3D\n\nusing ModestTree;\n\nnamespace Zenject\n{\n    public class SceneKernel : MonoKernel\n    {\n        // Only needed to set \"script execution order\" in unity project settings\n\n#if ZEN_INTERNAL_PROFILING\n        public override void Start()\n        {\n            base.Start();\n            Log.Info(\"SceneContext.Awake detailed profiling: {0}\", ProfileTimers.FormatResults());\n        }\n#endif\n    }\n}\n\n#endif\n","size_bytes":419},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ConcreteBinders/ConcreteBinderGeneric.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConcreteBinderGeneric<TContract> : FromBinderGeneric<TContract>\n    {\n        public ConcreteBinderGeneric(\n            DiContainer bindContainer, BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindContainer, bindInfo, bindStatement)\n        {\n            ToSelf();\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FromBinderGeneric<TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo, (container, type) => new TransientProvider(\n                    type, container, BindInfo.Arguments,\n                    BindInfo.ContextInfo, BindInfo.ConcreteIdentifier,\n                    BindInfo.InstantiatedCallback));\n\n            return this;\n        }\n\n        public FromBinderGeneric<TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FromBinderGeneric<TConcrete>(\n                BindContainer, BindInfo, BindStatement);\n        }\n\n        public FromBinderNonGeneric To(params Type[] concreteTypes)\n        {\n            return To((IEnumerable<Type>)concreteTypes);\n        }\n\n        public FromBinderNonGeneric To(IEnumerable<Type> concreteTypes)\n        {\n            BindingUtil.AssertIsDerivedFromTypes(\n                concreteTypes, BindInfo.ContractTypes, BindInfo.InvalidBindResponse);\n\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.AddRange(concreteTypes);\n\n            return new FromBinderNonGeneric(\n                BindContainer, BindInfo, BindStatement);\n        }\n\n#if !(UNITY_WSA && ENABLE_DOTNET)\n        public FromBinderNonGeneric To(\n            Action<ConventionSelectTypesBinder> generator)\n        {\n            var bindInfo = new ConventionBindInfo();\n\n            // Automatically filter by the given contract types\n            bindInfo.AddTypeFilter(\n                concreteType => BindInfo.ContractTypes.All(contractType => concreteType.DerivesFromOrEqual(contractType)));\n\n            generator(new ConventionSelectTypesBinder(bindInfo));\n            return To(bindInfo.ResolveTypes());\n        }\n#endif\n    }\n}\n","size_bytes":2605},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ConcreteBinders/ConcreteBinderNonGeneric.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConcreteBinderNonGeneric : FromBinderNonGeneric\n    {\n        public ConcreteBinderNonGeneric(\n            DiContainer bindContainer, BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindContainer, bindInfo, bindStatement)\n        {\n            ToSelf();\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FromBinderNonGeneric ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo, (container, type) => new TransientProvider(\n                    type, container, BindInfo.Arguments, BindInfo.ContextInfo, BindInfo.ConcreteIdentifier,\n                    BindInfo.InstantiatedCallback));\n\n            return this;\n        }\n\n        public FromBinderNonGeneric To<TConcrete>()\n        {\n            return To(typeof(TConcrete));\n        }\n\n        public FromBinderNonGeneric To(params Type[] concreteTypes)\n        {\n            return To((IEnumerable<Type>)concreteTypes);\n        }\n\n        public FromBinderNonGeneric To(IEnumerable<Type> concreteTypes)\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.AddRange(concreteTypes);\n\n            if (BindInfo.ToTypes.Count > 1 && BindInfo.ContractTypes.Count > 1)\n            {\n                // Be more lenient in this case to behave similar to convention based bindings\n                BindInfo.InvalidBindResponse = InvalidBindResponses.Skip;\n            }\n            else\n            {\n                BindingUtil.AssertIsDerivedFromTypes(concreteTypes, BindInfo.ContractTypes, BindInfo.InvalidBindResponse);\n            }\n\n            return this;\n        }\n\n#if !(UNITY_WSA && ENABLE_DOTNET)\n        public FromBinderNonGeneric To(\n            Action<ConventionSelectTypesBinder> generator)\n        {\n            var bindInfo = new ConventionBindInfo();\n\n            // This is nice because it allows us to do things like Bind(all interfaces).To(specific types)\n            // instead of having to do Bind(all interfaces).To(specific types that inherit from one of these interfaces)\n            BindInfo.InvalidBindResponse = InvalidBindResponses.Skip;\n\n            generator(new ConventionSelectTypesBinder(bindInfo));\n\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.AddRange(bindInfo.ResolveTypes());\n\n            return this;\n        }\n#endif\n    }\n}\n","size_bytes":2724},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ConcreteBinders/ConcreteIdBinderGeneric.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConcreteIdBinderGeneric<TContract> : ConcreteBinderGeneric<TContract>\n    {\n        public ConcreteIdBinderGeneric(\n            DiContainer bindContainer, BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindContainer, bindInfo, bindStatement)\n        {\n        }\n\n        public ConcreteBinderGeneric<TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n\n","size_bytes":531},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/ConcreteBinders/ConcreteIdBinderNonGeneric.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConcreteIdBinderNonGeneric : ConcreteBinderNonGeneric\n    {\n        public ConcreteIdBinderNonGeneric(\n            DiContainer bindContainer, BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindContainer, bindInfo, bindStatement)\n        {\n        }\n\n        public ConcreteBinderNonGeneric WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n\n","size_bytes":510},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Conventions/ConventionAssemblySelectionBinder.cs":{"content":"#if !(UNITY_WSA && ENABLE_DOTNET)\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reflection;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConventionAssemblySelectionBinder\n    {\n        public ConventionAssemblySelectionBinder(ConventionBindInfo bindInfo)\n        {\n            BindInfo = bindInfo;\n        }\n\n        protected ConventionBindInfo BindInfo\n        {\n            get;\n            private set;\n        }\n\n        public void FromAllAssemblies()\n        {\n            // Do nothing\n            // This is the default\n        }\n\n        public void FromAssemblyContaining<T>()\n        {\n            FromAssembliesContaining(typeof(T));\n        }\n\n        public void FromAssembliesContaining(params Type[] types)\n        {\n            FromAssembliesContaining((IEnumerable<Type>)types);\n        }\n\n        public void FromAssembliesContaining(IEnumerable<Type> types)\n        {\n            FromAssemblies(types.Select(t => t.Assembly).Distinct());\n        }\n\n        public void FromThisAssembly()\n        {\n            FromAssemblies(Assembly.GetCallingAssembly());\n        }\n\n        public void FromAssembly(Assembly assembly)\n        {\n            FromAssemblies(assembly);\n        }\n\n        public void FromAssemblies(params Assembly[] assemblies)\n        {\n            FromAssemblies((IEnumerable<Assembly>)assemblies);\n        }\n\n        public void FromAssemblies(IEnumerable<Assembly> assemblies)\n        {\n            BindInfo.AddAssemblyFilter(assembly => assemblies.Contains(assembly));\n        }\n\n        public void FromAssembliesWhere(Func<Assembly, bool> predicate)\n        {\n            BindInfo.AddAssemblyFilter(predicate);\n        }\n    }\n}\n\n#endif\n","size_bytes":1734},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Conventions/ConventionBindInfo.cs":{"content":"#if !(UNITY_WSA && ENABLE_DOTNET)\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Reflection;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConventionBindInfo\n    {\n        readonly List<Func<Type, bool>> _typeFilters = new List<Func<Type, bool>>();\n        readonly List<Func<Assembly, bool>> _assemblyFilters = new List<Func<Assembly, bool>>();\n\n#if ZEN_MULTITHREADING\n        readonly object _locker = new object();\n#endif\n        static Dictionary<Assembly, Type[]> _assemblyTypeCache = new Dictionary<Assembly, Type[]>();\n\n        public void AddAssemblyFilter(Func<Assembly, bool> predicate)\n        {\n            _assemblyFilters.Add(predicate);\n        }\n\n        public void AddTypeFilter(Func<Type, bool> predicate)\n        {\n            _typeFilters.Add(predicate);\n        }\n\n        IEnumerable<Assembly> GetAllAssemblies()\n        {\n            // This seems fast enough that it's not worth caching\n            // We also want to allow dynamically loading assemblies\n            return AppDomain.CurrentDomain.GetAssemblies();\n        }\n\n        bool ShouldIncludeAssembly(Assembly assembly)\n        {\n            return _assemblyFilters.All(predicate => predicate(assembly));\n        }\n\n        bool ShouldIncludeType(Type type)\n        {\n            return _typeFilters.All(predicate => predicate(type));\n        }\n\n        Type[] GetTypes(Assembly assembly)\n        {\n            Type[] types;\n\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                // This is much faster than calling assembly.GetTypes() every time\n                if (!_assemblyTypeCache.TryGetValue(assembly, out types))\n                {\n                    types = assembly.GetTypes();\n                    _assemblyTypeCache[assembly] = types;\n                }\n            }\n\n            return types;\n        }\n\n        public List<Type> ResolveTypes()\n        {\n            return GetAllAssemblies()\n                .Where(ShouldIncludeAssembly)\n                .SelectMany(assembly => GetTypes(assembly))\n                .Where(ShouldIncludeType).ToList();\n        }\n    }\n}\n\n#endif\n","size_bytes":2158},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Conventions/ConventionFilterTypesBinder.cs":{"content":"#if !(UNITY_WSA && ENABLE_DOTNET)\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text.RegularExpressions;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConventionFilterTypesBinder : ConventionAssemblySelectionBinder\n    {\n        public ConventionFilterTypesBinder(ConventionBindInfo bindInfo)\n            : base(bindInfo)\n        {\n        }\n\n        public ConventionFilterTypesBinder DerivingFromOrEqual<T>()\n        {\n            return DerivingFromOrEqual(typeof(T));\n        }\n\n        public ConventionFilterTypesBinder DerivingFromOrEqual(Type parentType)\n        {\n            BindInfo.AddTypeFilter(type => type.DerivesFromOrEqual(parentType));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder DerivingFrom<T>()\n        {\n            return DerivingFrom(typeof(T));\n        }\n\n        public ConventionFilterTypesBinder DerivingFrom(Type parentType)\n        {\n            BindInfo.AddTypeFilter(type => type.DerivesFrom(parentType));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder WithAttribute<T>()\n            where T : Attribute\n        {\n            return WithAttribute(typeof(T));\n        }\n\n        public ConventionFilterTypesBinder WithAttribute(Type attribute)\n        {\n            Assert.That(attribute.DerivesFrom<Attribute>());\n            BindInfo.AddTypeFilter(t => t.HasAttribute(attribute));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder WithoutAttribute<T>()\n            where T : Attribute\n        {\n            return WithoutAttribute(typeof(T));\n        }\n\n        public ConventionFilterTypesBinder WithoutAttribute(Type attribute)\n        {\n            Assert.That(attribute.DerivesFrom<Attribute>());\n            BindInfo.AddTypeFilter(t => !t.HasAttribute(attribute));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder WithAttributeWhere<T>(Func<T, bool> predicate)\n            where T : Attribute\n        {\n            BindInfo.AddTypeFilter(t => t.HasAttribute<T>() && t.AllAttributes<T>().All(predicate));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder Where(Func<Type, bool> predicate)\n        {\n            BindInfo.AddTypeFilter(predicate);\n            return this;\n        }\n\n        public ConventionFilterTypesBinder InNamespace(string ns)\n        {\n            return InNamespaces(ns);\n        }\n\n        public ConventionFilterTypesBinder InNamespaces(params string[] namespaces)\n        {\n            return InNamespaces((IEnumerable<string>)namespaces);\n        }\n\n        public ConventionFilterTypesBinder InNamespaces(IEnumerable<string> namespaces)\n        {\n            BindInfo.AddTypeFilter(t => namespaces.Any(n => IsInNamespace(t, n)));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder WithSuffix(string suffix)\n        {\n            BindInfo.AddTypeFilter(t => t.Name.EndsWith(suffix));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder WithPrefix(string prefix)\n        {\n            BindInfo.AddTypeFilter(t => t.Name.StartsWith(prefix));\n            return this;\n        }\n\n        public ConventionFilterTypesBinder MatchingRegex(string pattern)\n        {\n            return MatchingRegex(pattern, RegexOptions.None);\n        }\n\n        public ConventionFilterTypesBinder MatchingRegex(string pattern, RegexOptions options)\n        {\n            return MatchingRegex(new Regex(pattern, options));\n        }\n\n        public ConventionFilterTypesBinder MatchingRegex(Regex regex)\n        {\n            BindInfo.AddTypeFilter(t => regex.IsMatch(t.Name));\n            return this;\n        }\n\n        static bool IsInNamespace(Type type, string requiredNs)\n        {\n            var actualNs = type.Namespace ?? \"\";\n\n            if (requiredNs.Length > actualNs.Length)\n            {\n                return false;\n            }\n\n            return actualNs.StartsWith(requiredNs)\n                && (actualNs.Length == requiredNs.Length || actualNs[requiredNs.Length] == '.');\n        }\n    }\n}\n\n#endif\n","size_bytes":4145},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Conventions/ConventionSelectTypesBinder.cs":{"content":"#if !(UNITY_WSA && ENABLE_DOTNET)\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class ConventionSelectTypesBinder\n    {\n        readonly ConventionBindInfo _bindInfo;\n\n        public ConventionSelectTypesBinder(ConventionBindInfo bindInfo)\n        {\n            _bindInfo = bindInfo;\n        }\n\n        ConventionFilterTypesBinder CreateNextBinder()\n        {\n            return new ConventionFilterTypesBinder(_bindInfo);\n        }\n\n        public ConventionFilterTypesBinder AllTypes()\n        {\n            // Do nothing (this is the default)\n            return CreateNextBinder();\n        }\n\n        public ConventionFilterTypesBinder AllClasses()\n        {\n            _bindInfo.AddTypeFilter(t => t.IsClass);\n            return CreateNextBinder();\n        }\n\n        public ConventionFilterTypesBinder AllNonAbstractClasses()\n        {\n            _bindInfo.AddTypeFilter(t => t.IsClass && !t.IsAbstract);\n            return CreateNextBinder();\n        }\n\n        public ConventionFilterTypesBinder AllAbstractClasses()\n        {\n            _bindInfo.AddTypeFilter(t => t.IsClass && t.IsAbstract);\n            return CreateNextBinder();\n        }\n\n        public ConventionFilterTypesBinder AllInterfaces()\n        {\n            _bindInfo.AddTypeFilter(t => t.IsInterface);\n            return CreateNextBinder();\n        }\n    }\n}\n\n#endif\n","size_bytes":1357},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinderBase.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinderBase : ScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public FactoryFromBinderBase(\n            DiContainer bindContainer, Type contractType, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindInfo)\n        {\n            FactoryBindInfo = factoryBindInfo;\n            BindContainer = bindContainer;\n            ContractType = contractType;\n            factoryBindInfo.ProviderFunc =\n                (container) => new TransientProvider(\n                    ContractType, container, BindInfo.Arguments, BindInfo.ContextInfo, BindInfo.ConcreteIdentifier,\n                    BindInfo.InstantiatedCallback);\n        }\n\n        // Don't use this\n        internal DiContainer BindContainer\n        {\n            get; private set;\n        }\n\n        protected FactoryBindInfo FactoryBindInfo\n        {\n            get; private set;\n        }\n\n        // Don't use this\n        internal Func<DiContainer, IProvider> ProviderFunc\n        {\n            get { return FactoryBindInfo.ProviderFunc; }\n            set { FactoryBindInfo.ProviderFunc = value; }\n        }\n\n        protected Type ContractType\n        {\n            get; private set;\n        }\n\n        public IEnumerable<Type> AllParentTypes\n        {\n            get\n            {\n                yield return ContractType;\n\n                foreach (var type in BindInfo.ToTypes)\n                {\n                    yield return type;\n                }\n            }\n        }\n\n        // Note that this isn't necessary to call since it's the default\n        public ConditionCopyNonLazyBinder FromNew()\n        {\n            BindingUtil.AssertIsNotComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromResolve()\n        {\n            return FromResolve(null);\n        }\n\n        public ConditionCopyNonLazyBinder FromInstance(object instance)\n        {\n            BindingUtil.AssertInstanceDerivesFromOrEqual(instance, AllParentTypes);\n\n            ProviderFunc =\n                (container) => new InstanceProvider(ContractType, instance, container, null);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromResolve(object subIdentifier)\n        {\n            ProviderFunc =\n                (container) => new ResolveProvider(\n                    ContractType, container,\n                    subIdentifier, false, InjectSources.Any, false);\n\n            return this;\n        }\n\n        // Don't use this\n        internal ConcreteBinderGeneric<T> CreateIFactoryBinder<T>(out Guid factoryId)\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            factoryId = Guid.NewGuid();\n\n            // Very important here that we use NoFlush otherwise the main binding will be finalized early\n            return BindContainer.BindNoFlush<T>().WithId(factoryId);\n        }\n\n#if !NOT_UNITY3D\n\n        public ConditionCopyNonLazyBinder FromComponentOn(GameObject gameObject)\n        {\n            BindingUtil.AssertIsValidGameObject(gameObject);\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            ProviderFunc =\n                (container) => new GetFromGameObjectComponentProvider(\n                    ContractType, gameObject, true);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromComponentOn(Func<InjectContext, GameObject> gameObjectGetter)\n        {\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            ProviderFunc =\n                (container) => new GetFromGameObjectGetterComponentProvider(\n                    ContractType, gameObjectGetter, true);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromComponentOnRoot()\n        {\n            return FromComponentOn(\n                ctx => BindContainer.Resolve<Context>().gameObject);\n        }\n\n        public ConditionCopyNonLazyBinder FromNewComponentOn(GameObject gameObject)\n        {\n            BindingUtil.AssertIsValidGameObject(gameObject);\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            ProviderFunc =\n                (container) => new AddToExistingGameObjectComponentProvider(\n                    gameObject, container, ContractType,\n                    new List<TypeValuePair>(), BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromNewComponentOn(\n            Func<InjectContext, GameObject> gameObjectGetter)\n        {\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            ProviderFunc =\n                (container) => new AddToExistingGameObjectComponentProviderGetter(\n                    gameObjectGetter, container, ContractType,\n                    new List<TypeValuePair>(), BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback);\n\n            return this;\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewGameObject()\n        {\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new AddToNewGameObjectComponentProvider(\n                    container, ContractType,\n                    new List<TypeValuePair>(), gameObjectInfo, BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewPrefab(UnityEngine.Object prefab)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new InstantiateOnPrefabComponentProvider(\n                    ContractType,\n                    new PrefabInstantiator(\n                        container, gameObjectInfo,\n                        ContractType, new [] { ContractType }, new List<TypeValuePair>(),\n                        new PrefabProvider(prefab), BindInfo.InstantiatedCallback));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInNewPrefab(UnityEngine.Object prefab)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n            BindingUtil.AssertIsInterfaceOrComponent(ContractType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new GetFromPrefabComponentProvider(\n                    ContractType,\n                    new PrefabInstantiator(\n                        container, gameObjectInfo,\n                        ContractType, new [] { ContractType }, new List<TypeValuePair>(),\n                        new PrefabProvider(prefab),\n                        BindInfo.InstantiatedCallback), true);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInNewPrefabResource(string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsInterfaceOrComponent(ContractType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new GetFromPrefabComponentProvider(\n                    ContractType,\n                    new PrefabInstantiator(\n                        container, gameObjectInfo,\n                        ContractType, new [] { ContractType }, new List<TypeValuePair>(),\n                        new PrefabProviderResource(resourcePath), BindInfo.InstantiatedCallback), true);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewPrefabResource(string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsComponent(ContractType);\n            BindingUtil.AssertIsNotAbstract(ContractType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new InstantiateOnPrefabComponentProvider(\n                    ContractType,\n                    new PrefabInstantiator(\n                        container, gameObjectInfo,\n                        ContractType, new [] { ContractType }, new List<TypeValuePair>(),\n                        new PrefabProviderResource(resourcePath),\n                        BindInfo.InstantiatedCallback));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public ConditionCopyNonLazyBinder FromNewScriptableObjectResource(string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsInterfaceOrScriptableObject(ContractType);\n\n            ProviderFunc =\n                (container) => new ScriptableObjectResourceProvider(\n                    resourcePath, ContractType, container, new List<TypeValuePair>(),\n                    true, null, BindInfo.InstantiatedCallback);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromScriptableObjectResource(string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsInterfaceOrScriptableObject(ContractType);\n\n            ProviderFunc =\n                (container) => new ScriptableObjectResourceProvider(\n                    resourcePath, ContractType, container, new List<TypeValuePair>(),\n                    false, null, BindInfo.InstantiatedCallback);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromResource(string resourcePath)\n        {\n            BindingUtil.AssertDerivesFromUnityObject(ContractType);\n\n            ProviderFunc =\n                (container) => new ResourceProvider(resourcePath, ContractType, true);\n\n            return this;\n        }\n#endif\n    }\n}\n","size_bytes":11125},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/PlaceholderFactoryBindingFinalizer.cs":{"content":"using System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class PlaceholderFactoryBindingFinalizer<TContract> : ProviderBindingFinalizer\n    {\n        readonly FactoryBindInfo _factoryBindInfo;\n\n        public PlaceholderFactoryBindingFinalizer(\n            BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindInfo)\n        {\n            // Note that it doesn't derive from PlaceholderFactory<TContract>\n            // when used with To<>, so we can only check IPlaceholderFactory\n            Assert.That(factoryBindInfo.FactoryType.DerivesFrom<IPlaceholderFactory>());\n\n            _factoryBindInfo = factoryBindInfo;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            var provider = _factoryBindInfo.ProviderFunc(container);\n\n            var transientProvider = new TransientProvider(\n                _factoryBindInfo.FactoryType,\n                container,\n                _factoryBindInfo.Arguments.Concat(\n                    InjectUtil.CreateArgListExplicit(\n                        provider,\n                        new InjectContext(container, typeof(TContract)))).ToList(),\n                BindInfo.ContextInfo, BindInfo.ConcreteIdentifier, null);\n\n            IProvider mainProvider;\n\n            if (BindInfo.Scope == ScopeTypes.Unset || BindInfo.Scope == ScopeTypes.Singleton)\n            {\n                mainProvider = BindingUtil.CreateCachedProvider(transientProvider);\n            }\n            else\n            {\n                Assert.IsEqual(BindInfo.Scope, ScopeTypes.Transient);\n                mainProvider = transientProvider;\n            }\n\n            RegisterProviderForAllContracts(container, mainProvider);\n        }\n    }\n}\n","size_bytes":1769},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/FromBinders/FromBinder.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing System.Linq;\n\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    public abstract class FromBinder : ScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public FromBinder(\n            DiContainer bindContainer, BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindInfo)\n        {\n            BindStatement = bindStatement;\n            BindContainer = bindContainer;\n        }\n\n        protected DiContainer BindContainer\n        {\n            get; private set;\n        }\n\n        protected BindStatement BindStatement\n        {\n            get;\n            private set;\n        }\n\n        protected IBindingFinalizer SubFinalizer\n        {\n            set { BindStatement.SetFinalizer(value); }\n        }\n\n        protected IEnumerable<Type> AllParentTypes\n        {\n            get { return BindInfo.ContractTypes.Concat(BindInfo.ToTypes); }\n        }\n\n        protected IEnumerable<Type> ConcreteTypes\n        {\n            get\n            {\n                if (BindInfo.ToChoice == ToChoices.Self)\n                {\n                    return BindInfo.ContractTypes;\n                }\n\n                Assert.IsNotEmpty(BindInfo.ToTypes);\n                return BindInfo.ToTypes;\n            }\n        }\n\n        // This is the default if nothing else is called\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNew()\n        {\n            BindingUtil.AssertTypesAreNotComponents(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolve()\n        {\n            return FromResolve(null);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolve(object subIdentifier)\n        {\n            return FromResolve(subIdentifier, InjectSources.Any);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolve(object subIdentifier, InjectSources source)\n        {\n            return FromResolveInternal(subIdentifier, false, source);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAll()\n        {\n            return FromResolveAll(null);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAll(object subIdentifier)\n        {\n            return FromResolveAll(subIdentifier, InjectSources.Any);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAll(object subIdentifier, InjectSources source)\n        {\n            return FromResolveInternal(subIdentifier, true, source);\n        }\n\n        ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveInternal(object subIdentifier, bool matchAll, InjectSources source)\n        {\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new ResolveProvider(\n                    type, container, subIdentifier, false, source, matchAll));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public SubContainerBinder FromSubContainerResolveAll()\n        {\n            return FromSubContainerResolveAll(null);\n        }\n\n        public SubContainerBinder FromSubContainerResolveAll(object subIdentifier)\n        {\n            return FromSubContainerResolveInternal(subIdentifier, true);\n        }\n\n        public SubContainerBinder FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public SubContainerBinder FromSubContainerResolve(object subIdentifier)\n        {\n            return FromSubContainerResolveInternal(subIdentifier, false);\n        }\n\n        SubContainerBinder FromSubContainerResolveInternal(\n            object subIdentifier, bool resolveAll)\n        {\n            // It's unlikely they will want to create the whole subcontainer with each binding\n            // (aka transient) which is the default so require that they specify it\n            BindInfo.RequireExplicitScope = true;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            return new SubContainerBinder(\n                BindInfo, BindStatement, subIdentifier, resolveAll);\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromIFactoryBase<TContract>(\n            Action<ConcreteBinderGeneric<IFactory<TContract>>> factoryBindGenerator)\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var factoryId = Guid.NewGuid();\n\n            // Important to use NoFlush here otherwise the main binding will finalize early\n            var subBinder = BindContainer.BindNoFlush<IFactory<TContract>>()\n                .WithId(factoryId);\n\n            factoryBindGenerator(subBinder);\n\n            // This is kind of like a look up method like FromMethod so don't enforce specifying scope\n            // The internal binding will require an explicit scope so should be obvious enough\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new IFactoryProvider<TContract>(container, factoryId));\n\n            var binder = new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n            // Needed for example if the user uses MoveIntoDirectSubContainers\n            binder.AddSecondaryCopyBindInfo(subBinder.BindInfo);\n            return binder;\n        }\n\n#if !NOT_UNITY3D\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsOn(GameObject gameObject)\n        {\n            BindingUtil.AssertIsValidGameObject(gameObject);\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new GetFromGameObjectComponentProvider(\n                    type, gameObject, false));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentOn(GameObject gameObject)\n        {\n            BindingUtil.AssertIsValidGameObject(gameObject);\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new GetFromGameObjectComponentProvider(\n                    type, gameObject, true));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsOn(Func<InjectContext, GameObject> gameObjectGetter)\n        {\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new GetFromGameObjectGetterComponentProvider(\n                    type, gameObjectGetter, false));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentOn(Func<InjectContext, GameObject> gameObjectGetter)\n        {\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new GetFromGameObjectGetterComponentProvider(\n                    type, gameObjectGetter, true));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsOnRoot()\n        {\n            return FromComponentsOn(\n                ctx => ctx.Container.Resolve<Context>().gameObject);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentOnRoot()\n        {\n            return FromComponentOn(\n                ctx => ctx.Container.Resolve<Context>().gameObject);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOn(GameObject gameObject)\n        {\n            BindingUtil.AssertIsValidGameObject(gameObject);\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new AddToExistingGameObjectComponentProvider(\n                    gameObject, container, type, BindInfo.Arguments, BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOn(Func<InjectContext, GameObject> gameObjectGetter)\n        {\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new AddToExistingGameObjectComponentProviderGetter(\n                    gameObjectGetter, container, type, BindInfo.Arguments, BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentSibling()\n        {\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new SingleProviderBindingFinalizer(\n                BindInfo, (container, type) => new AddToCurrentGameObjectComponentProvider(\n                    container, type, BindInfo.Arguments, BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnRoot()\n        {\n            return FromNewComponentOn(\n                ctx => ctx.Container.Resolve<Context>().gameObject);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewGameObject()\n        {\n            return FromNewComponentOnNewGameObject(new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewGameObject(\n            GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new AddToNewGameObjectComponentProvider(\n                    container,\n                    type,\n                    BindInfo.Arguments,\n                    gameObjectInfo, BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewPrefabResource(string resourcePath)\n        {\n            return FromNewComponentOnNewPrefabResource(resourcePath, new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewPrefabResource(\n            string resourcePath, GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new PrefabResourceBindingFinalizer(\n                BindInfo, gameObjectInfo, resourcePath,\n                (contractType, instantiator) => new InstantiateOnPrefabComponentProvider(contractType, instantiator));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewPrefab(UnityEngine.Object prefab)\n        {\n            return FromNewComponentOnNewPrefab(prefab, new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromNewComponentOnNewPrefab(\n            UnityEngine.Object prefab, GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n            BindingUtil.AssertIsComponent(ConcreteTypes);\n            BindingUtil.AssertTypesAreNotAbstract(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new PrefabBindingFinalizer(\n                BindInfo, gameObjectInfo, prefab,\n                (contractType, instantiator) =>\n                    new InstantiateOnPrefabComponentProvider(contractType, instantiator));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInNewPrefab(UnityEngine.Object prefab)\n        {\n            return FromComponentInNewPrefab(\n                prefab, new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInNewPrefab(\n            UnityEngine.Object prefab, GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new PrefabBindingFinalizer(\n                BindInfo, gameObjectInfo, prefab,\n                (contractType, instantiator) => new GetFromPrefabComponentProvider(contractType, instantiator, true));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInNewPrefab(UnityEngine.Object prefab)\n        {\n            return FromComponentsInNewPrefab(\n                prefab, new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInNewPrefab(\n            UnityEngine.Object prefab, GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new PrefabBindingFinalizer(\n                BindInfo, gameObjectInfo, prefab,\n                (contractType, instantiator) => new GetFromPrefabComponentProvider(contractType, instantiator, false));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInNewPrefabResource(string resourcePath)\n        {\n            return FromComponentInNewPrefabResource(resourcePath, new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInNewPrefabResource(\n            string resourcePath, GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new PrefabResourceBindingFinalizer(\n                BindInfo, gameObjectInfo, resourcePath,\n                (contractType, instantiator) => new GetFromPrefabComponentProvider(contractType, instantiator, true));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInNewPrefabResource(string resourcePath)\n        {\n            return FromComponentsInNewPrefabResource(resourcePath, new GameObjectCreationParameters());\n        }\n\n        internal NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInNewPrefabResource(\n            string resourcePath, GameObjectCreationParameters gameObjectInfo)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new PrefabResourceBindingFinalizer(\n                BindInfo, gameObjectInfo, resourcePath,\n                (contractType, instantiator) => new GetFromPrefabComponentProvider(contractType, instantiator, false));\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNewScriptableObject(ScriptableObject resource)\n        {\n            return FromScriptableObjectInternal(resource, true);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromScriptableObject(ScriptableObject resource)\n        {\n            return FromScriptableObjectInternal(resource, false);\n        }\n\n        ScopeConcreteIdArgConditionCopyNonLazyBinder FromScriptableObjectInternal(\n            ScriptableObject resource, bool createNew)\n        {\n            BindingUtil.AssertIsInterfaceOrScriptableObject(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new ScriptableObjectInstanceProvider(\n                    resource, type, container, BindInfo.Arguments, createNew,\n                    BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromNewScriptableObjectResource(string resourcePath)\n        {\n            return FromScriptableObjectResourceInternal(resourcePath, true);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromScriptableObjectResource(string resourcePath)\n        {\n            return FromScriptableObjectResourceInternal(resourcePath, false);\n        }\n\n        ScopeConcreteIdArgConditionCopyNonLazyBinder FromScriptableObjectResourceInternal(\n            string resourcePath, bool createNew)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            BindingUtil.AssertIsInterfaceOrScriptableObject(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new ScriptableObjectResourceProvider(\n                    resourcePath, type, container, BindInfo.Arguments, createNew,\n                    BindInfo.ConcreteIdentifier, BindInfo.InstantiatedCallback));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResource(string resourcePath)\n        {\n            BindingUtil.AssertDerivesFromUnityObject(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (_, type) => new ResourceProvider(resourcePath, type, true));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResources(string resourcePath)\n        {\n            BindingUtil.AssertDerivesFromUnityObject(ConcreteTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (_, type) => new ResourceProvider(resourcePath, type, false));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInChildren(\n            bool includeInactive = true)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        Assert.That(ctx.ObjectType.DerivesFromOrEqual<MonoBehaviour>(),\n                            \"Cannot use FromComponentInChildren to inject data into non monobehaviours!\");\n\n                        Assert.IsNotNull(ctx.ObjectInstance);\n\n                        var monoBehaviour = (MonoBehaviour)ctx.ObjectInstance;\n\n                        var match = monoBehaviour.GetComponentInChildren(concreteType, includeInactive);\n\n                        if (match == null)\n                        {\n                            Assert.That(ctx.Optional,\n                                \"Could not find any component with type '{0}' through FromComponentInChildren binding\", concreteType);\n                            return Enumerable.Empty<object>();\n                        }\n\n                        return new object[] { match };\n                    },\n                    container));\n\n            return this;\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInChildrenBase(\n            bool excludeSelf, Func<Component, bool> predicate, bool includeInactive)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        Assert.That(ctx.ObjectType.DerivesFromOrEqual<MonoBehaviour>(),\n                            \"Cannot use FromComponentsInChildren to inject data into non monobehaviours!\");\n\n                        Assert.IsNotNull(ctx.ObjectInstance);\n\n                        var monoBehaviour = (MonoBehaviour)ctx.ObjectInstance;\n\n                        var res = monoBehaviour.GetComponentsInChildren(concreteType, includeInactive)\n                            .Where(x => !ReferenceEquals(x, ctx.ObjectInstance));\n\n                        if (excludeSelf)\n                        {\n                            res = res.Where(x => x.gameObject != monoBehaviour.gameObject);\n                        }\n\n                        if (predicate != null)\n                        {\n                            res = res.Where(predicate);\n                        }\n\n                        return res.Cast<object>();\n                    },\n                    container));\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInParents(\n            bool excludeSelf = false, bool includeInactive = true)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        Assert.That(ctx.ObjectType.DerivesFromOrEqual<MonoBehaviour>(),\n                            \"Cannot use FromComponentSibling to inject data into non monobehaviours!\");\n\n                        Assert.IsNotNull(ctx.ObjectInstance);\n\n                        var monoBehaviour = (MonoBehaviour)ctx.ObjectInstance;\n\n                        var matches = monoBehaviour.GetComponentsInParent(concreteType, includeInactive)\n                            .Where(x => !ReferenceEquals(x, ctx.ObjectInstance));\n\n                        if (excludeSelf)\n                        {\n                            matches = matches.Where(x => x.gameObject != monoBehaviour.gameObject);\n                        }\n\n                        var match = matches.FirstOrDefault();\n\n                        if (match == null)\n                        {\n                            Assert.That(ctx.Optional,\n                                \"Could not find any component with type '{0}' through FromComponentInParents binding\", concreteType);\n\n                            return Enumerable.Empty<object>();\n                        }\n\n                        return new object[] { match };\n                    },\n                    container));\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInParents(\n            bool excludeSelf = false, bool includeInactive = true)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        Assert.That(ctx.ObjectType.DerivesFromOrEqual<MonoBehaviour>(),\n                            \"Cannot use FromComponentSibling to inject data into non monobehaviours!\");\n\n                        Assert.IsNotNull(ctx.ObjectInstance);\n\n                        var monoBehaviour = (MonoBehaviour)ctx.ObjectInstance;\n\n                        var res = monoBehaviour.GetComponentsInParent(concreteType, includeInactive)\n                            .Where(x => !ReferenceEquals(x, ctx.ObjectInstance));\n\n                        if (excludeSelf)\n                        {\n                            res = res.Where(x => x.gameObject != monoBehaviour.gameObject);\n                        }\n\n                        return res.Cast<object>();\n                    },\n                    container));\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentSibling()\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        Assert.That(ctx.ObjectType.DerivesFromOrEqual<MonoBehaviour>(),\n                            \"Cannot use FromComponentSibling to inject data into non monobehaviours!\");\n\n                        Assert.IsNotNull(ctx.ObjectInstance);\n\n                        var monoBehaviour = (MonoBehaviour)ctx.ObjectInstance;\n\n                        var match = monoBehaviour.GetComponent(concreteType);\n\n                        if (match == null)\n                        {\n                            Assert.That(ctx.Optional,\n                                \"Could not find any component with type '{0}' through FromComponentSibling binding\", concreteType);\n                            return Enumerable.Empty<object>();\n                        }\n\n                        return new object[] { match };\n                    },\n                    container));\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsSibling()\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        Assert.That(ctx.ObjectType.DerivesFromOrEqual<MonoBehaviour>(),\n                            \"Cannot use FromComponentSibling to inject data into non monobehaviours!\");\n\n                        Assert.IsNotNull(ctx.ObjectInstance);\n\n                        var monoBehaviour = (MonoBehaviour)ctx.ObjectInstance;\n\n                        return monoBehaviour.GetComponents(concreteType)\n                            .Where(x => !ReferenceEquals(x, monoBehaviour)).Cast<object>();\n                    },\n                    container));\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentInHierarchy(\n            bool includeInactive = true)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            // Since this is a pretty heavy operation, let's require an explicit scope\n            // Most of the time they should use AsCached or AsSingle\n            BindInfo.RequireExplicitScope = true;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        var match = container.Resolve<Context>().GetRootGameObjects()\n                            .Select(x => x.GetComponentInChildren(concreteType, includeInactive))\n                            .Where(x => x != null && !ReferenceEquals(x, ctx.ObjectInstance)).FirstOrDefault();\n\n                        if (match == null)\n                        {\n                            Assert.That(ctx.Optional,\n                                \"Could not find any component with type '{0}' through FromComponentInHierarchy binding\", concreteType);\n                            return Enumerable.Empty<object>();\n                        }\n\n                        return new object[] { match };\n                    },\n                    container));\n\n            return this;\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInHierarchyBase(\n            Func<Component, bool> predicate = null, bool includeInactive = true)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(AllParentTypes);\n\n            BindInfo.RequireExplicitScope = true;\n\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, concreteType) => new MethodMultipleProviderUntyped(ctx =>\n                    {\n                        var res = container.Resolve<Context>().GetRootGameObjects()\n                            .SelectMany(x => x.GetComponentsInChildren(concreteType, includeInactive))\n                            .Where(x => !ReferenceEquals(x, ctx.ObjectInstance));\n\n                        if (predicate != null)\n                        {\n                            res = res.Where(predicate);\n                        }\n\n                        return res.Cast<object>();\n                    },\n                    container));\n\n            return this;\n        }\n#endif\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethodUntyped(Func<InjectContext, object> method)\n        {\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new MethodProviderUntyped(method, container));\n\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethodMultipleUntyped(Func<InjectContext, IEnumerable<object>> method)\n        {\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new MethodMultipleProviderUntyped(method, container));\n\n            return this;\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethodBase<TConcrete>(Func<InjectContext, TConcrete> method)\n        {\n            BindingUtil.AssertIsDerivedFromTypes(typeof(TConcrete), AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new MethodProvider<TConcrete>(method, container));\n\n            return this;\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethodMultipleBase<TConcrete>(Func<InjectContext, IEnumerable<TConcrete>> method)\n        {\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new MethodProviderMultiple<TConcrete>(method, container));\n\n            return this;\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetterBase<TObj, TResult>(\n            object identifier, Func<TObj, TResult> method, InjectSources source, bool matchMultiple)\n        {\n            BindingUtil.AssertIsDerivedFromTypes(typeof(TResult), AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new GetterProvider<TObj, TResult>(identifier, method, container, source, matchMultiple));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        protected ScopeConcreteIdArgConditionCopyNonLazyBinder FromInstanceBase(object instance)\n        {\n            BindingUtil.AssertInstanceDerivesFromOrEqual(instance, AllParentTypes);\n\n            BindInfo.RequireExplicitScope = false;\n            // Don't know how it's created so can't assume here that it violates AsSingle\n            BindInfo.MarkAsCreationBinding = false;\n            SubFinalizer = new ScopableBindingFinalizer(\n                BindInfo,\n                (container, type) => new InstanceProvider(type, instance, container, BindInfo.InstantiatedCallback));\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n    }\n}\n","size_bytes":37253},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/FromBinders/FromBinderGeneric.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing System.Linq;\n\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FromBinderGeneric<TContract> : FromBinder\n    {\n        public FromBinderGeneric(\n            DiContainer bindContainer,\n            BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindContainer, bindInfo, bindStatement)\n        {\n            BindingUtil.AssertIsDerivedFromTypes(typeof(TContract), BindInfo.ContractTypes);\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromFactory<TFactory>()\n            where TFactory : IFactory<TContract>\n        {\n            return FromIFactory(x => x.To<TFactory>().AsCached());\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromIFactory(\n            Action<ConcreteBinderGeneric<IFactory<TContract>>> factoryBindGenerator)\n        {\n            return FromIFactoryBase<TContract>(factoryBindGenerator);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethod(Func<TContract> method)\n        {\n            return FromMethodBase<TContract>(ctx => method());\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethod(Func<InjectContext, TContract> method)\n        {\n            return FromMethodBase<TContract>(method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethodMultiple(Func<InjectContext, IEnumerable<TContract>> method)\n        {\n            BindingUtil.AssertIsDerivedFromTypes(typeof(TContract), AllParentTypes);\n            return FromMethodMultipleBase<TContract>(method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetter<TObj>(Func<TObj, TContract> method)\n        {\n            return FromResolveGetter<TObj>(null, method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetter<TObj>(object identifier, Func<TObj, TContract> method)\n        {\n            return FromResolveGetter<TObj>(identifier, method, InjectSources.Any);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetter<TObj>(object identifier, Func<TObj, TContract> method, InjectSources source)\n        {\n            return FromResolveGetterBase<TObj, TContract>(identifier, method, source, false);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAllGetter<TObj>(Func<TObj, TContract> method)\n        {\n            return FromResolveAllGetter<TObj>(null, method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAllGetter<TObj>(object identifier, Func<TObj, TContract> method)\n        {\n            return FromResolveAllGetter<TObj>(identifier, method, InjectSources.Any);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAllGetter<TObj>(object identifier, Func<TObj, TContract> method, InjectSources source)\n        {\n            return FromResolveGetterBase<TObj, TContract>(identifier, method, source, true);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromInstance(TContract instance)\n        {\n            return FromInstanceBase(instance);\n        }\n\n#if !NOT_UNITY3D\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInChildren(\n            Func<TContract, bool> predicate, bool includeInactive = true)\n        {\n            return FromComponentsInChildren(false, predicate, includeInactive);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInChildren(\n            bool excludeSelf = false, Func<TContract, bool> predicate = null, bool includeInactive = true)\n        {\n            Func<Component, bool> subPredicate;\n\n            if (predicate != null)\n            {\n                subPredicate = component => predicate((TContract)(object)component);\n            }\n            else\n            {\n                subPredicate = null;\n            }\n\n            return FromComponentsInChildrenBase(\n                excludeSelf, subPredicate, includeInactive);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInHierarchy(\n            Func<TContract, bool> predicate = null, bool includeInactive = true)\n        {\n            Func<Component, bool> subPredicate;\n\n            if (predicate != null)\n            {\n                subPredicate = component => predicate((TContract)(object)component);\n            }\n            else\n            {\n                subPredicate = null;\n            }\n\n            return FromComponentsInHierarchyBase(subPredicate, includeInactive);\n        }\n#endif\n    }\n}\n","size_bytes":4788},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/FromBinders/FromBinderNonGeneric.cs":{"content":"using System;\nusing System.Collections.Generic;\n\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FromBinderNonGeneric : FromBinder\n    {\n        public FromBinderNonGeneric(\n            DiContainer bindContainer, BindInfo bindInfo,\n            BindStatement bindStatement)\n            : base(bindContainer, bindInfo, bindStatement)\n        {\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromFactory<TConcrete, TFactory>()\n            where TFactory : IFactory<TConcrete>\n        {\n            return FromIFactory<TConcrete>(x => x.To<TFactory>().AsCached());\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromIFactory<TContract>(\n            Action<ConcreteBinderGeneric<IFactory<TContract>>> factoryBindGenerator)\n        {\n            return FromIFactoryBase<TContract>(factoryBindGenerator);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethod<TConcrete>(Func<InjectContext, TConcrete> method)\n        {\n            return FromMethodBase<TConcrete>(method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromMethodMultiple<TConcrete>(Func<InjectContext, IEnumerable<TConcrete>> method)\n        {\n            BindingUtil.AssertIsDerivedFromTypes(typeof(TConcrete), AllParentTypes);\n            return FromMethodMultipleBase<TConcrete>(method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetter<TObj, TContract>(Func<TObj, TContract> method)\n        {\n            return FromResolveGetter<TObj, TContract>(null, method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetter<TObj, TContract>(object identifier, Func<TObj, TContract> method)\n        {\n            return FromResolveGetter<TObj, TContract>(identifier, method, InjectSources.Any);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveGetter<TObj, TContract>(object identifier, Func<TObj, TContract> method, InjectSources source)\n        {\n            return FromResolveGetterBase<TObj, TContract>(identifier, method, source, false);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAllGetter<TObj, TContract>(Func<TObj, TContract> method)\n        {\n            return FromResolveAllGetter<TObj, TContract>(null, method);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAllGetter<TObj, TContract>(object identifier, Func<TObj, TContract> method)\n        {\n            return FromResolveAllGetter<TObj, TContract>(identifier, method, InjectSources.Any);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromResolveAllGetter<TObj, TContract>(object identifier, Func<TObj, TContract> method, InjectSources source)\n        {\n            return FromResolveGetterBase<TObj, TContract>(identifier, method, source, true);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromInstance(object instance)\n        {\n            return FromInstanceBase(instance);\n        }\n\n#if !NOT_UNITY3D\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInChildren(\n            Func<Component, bool> predicate, bool includeInactive = true)\n        {\n            return FromComponentsInChildren(false, predicate, includeInactive);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInChildren(\n            bool excludeSelf = false, Func<Component, bool> predicate = null, bool includeInactive = true)\n        {\n            return FromComponentsInChildrenBase(excludeSelf, predicate, includeInactive);\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder FromComponentsInHierarchy(\n            Func<Component, bool> predicate = null, bool includeInactive = true)\n        {\n            return FromComponentsInHierarchyBase(predicate, includeInactive);\n        }\n#endif\n    }\n}\n","size_bytes":4041},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/GameObject/NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"#if !NOT_UNITY3D\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder : TransformScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(\n            BindInfo bindInfo,\n            GameObjectCreationParameters gameObjectInfo)\n            : base(bindInfo, gameObjectInfo)\n        {\n        }\n\n        public TransformScopeConcreteIdArgConditionCopyNonLazyBinder WithGameObjectName(string gameObjectName)\n        {\n            GameObjectInfo.Name = gameObjectName;\n            return this;\n        }\n    }\n}\n\n#endif\n","size_bytes":650},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/GameObject/TransformScopeConcreteIdArgConditionCopyNonLazyBinder.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class TransformScopeConcreteIdArgConditionCopyNonLazyBinder : ScopeConcreteIdArgConditionCopyNonLazyBinder\n    {\n        public TransformScopeConcreteIdArgConditionCopyNonLazyBinder(\n            BindInfo bindInfo,\n            GameObjectCreationParameters gameObjectInfo)\n            : base(bindInfo)\n        {\n            GameObjectInfo = gameObjectInfo;\n        }\n\n        protected GameObjectCreationParameters GameObjectInfo\n        {\n            get;\n            private set;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder UnderTransform(Transform parent)\n        {\n            GameObjectInfo.ParentTransform = parent;\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder UnderTransform(Func<InjectContext, Transform> parentGetter)\n        {\n            GameObjectInfo.ParentTransformGetter = parentGetter;\n            return this;\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder UnderTransformGroup(string transformGroupname)\n        {\n            GameObjectInfo.GroupName = transformGroupname;\n            return this;\n        }\n    }\n}\n\n#endif\n","size_bytes":1249},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Static/PoolableStaticMemoryPool.cs":{"content":"namespace Zenject\n{\n    public class PoolableStaticMemoryPool<TValue> : StaticMemoryPool<TValue>\n        where TValue : class, IPoolable, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TValue value)\n        {\n            value.OnSpawned();\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TValue> : StaticMemoryPool<TParam1, TValue>\n        where TValue : class, IPoolable<TParam1>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TValue value)\n        {\n            value.OnSpawned(p1);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TParam2, TValue> : StaticMemoryPool<TParam1, TParam2, TValue>\n        where TValue : class, IPoolable<TParam1, TParam2>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TParam2 p2, TValue value)\n        {\n            value.OnSpawned(p1, p2);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TParam2, TParam3, TValue> : StaticMemoryPool<TParam1, TParam2, TParam3, TValue>\n        where TValue : class, IPoolable<TParam1, TParam2, TParam3>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TParam2 p2, TParam3 p3, TValue value)\n        {\n            value.OnSpawned(p1, p2, p3);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue> : StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        where TValue : class, IPoolable<TParam1, TParam2, TParam3, TParam4>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TValue value)\n        {\n            value.OnSpawned(p1, p2, p3, p4);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> : StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        where TValue : class, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TValue value)\n        {\n            value.OnSpawned(p1, p2, p3, p4, p5);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> : StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        where TValue : class, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TValue value)\n        {\n            value.OnSpawned(p1, p2, p3, p4, p5, p6);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n\n    public class PoolableStaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue> : StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        where TValue : class, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7>, new()\n    {\n        public PoolableStaticMemoryPool()\n            : base(OnSpawned, OnDespawned)\n        {\n        }\n\n        static void OnSpawned(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7, TValue value)\n        {\n            value.OnSpawned(p1, p2, p3, p4, p5, p6, p7);\n        }\n\n        static void OnDespawned(TValue value)\n        {\n            value.OnDespawned();\n        }\n    }\n}\n","size_bytes":4715},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Static/StaticMemoryPool.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public abstract class StaticMemoryPoolBaseBase<TValue> : IDespawnableMemoryPool<TValue>, IDisposable\n        where TValue : class\n    {\n        // I also tried using ConcurrentBag instead of Stack + lock here but that performed much much worse\n        readonly Stack<TValue> _stack = new Stack<TValue>();\n\n        Action<TValue> _onDespawnedMethod;\n        int _activeCount;\n\n#if ZEN_MULTITHREADING\n        protected readonly object _locker = new object();\n#endif\n\n        public StaticMemoryPoolBaseBase(Action<TValue> onDespawnedMethod)\n        {\n            _onDespawnedMethod = onDespawnedMethod;\n\n#if UNITY_EDITOR\n            StaticMemoryPoolRegistry.Add(this);\n#endif\n        }\n\n        public Action<TValue> OnDespawnedMethod\n        {\n            set { _onDespawnedMethod = value; }\n        }\n\n        public int NumTotal\n        {\n            get { return NumInactive + NumActive; }\n        }\n\n        public int NumActive\n        {\n            get\n            {\n#if ZEN_MULTITHREADING\n                lock (_locker)\n#endif\n                {\n                    return _activeCount;\n                }\n            }\n        }\n\n        public int NumInactive\n        {\n            get\n            {\n#if ZEN_MULTITHREADING\n                lock (_locker)\n#endif\n                {\n                    return _stack.Count;\n                }\n            }\n        }\n\n        public Type ItemType\n        {\n            get { return typeof(TValue); }\n        }\n\n        public void Resize(int desiredPoolSize)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                ResizeInternal(desiredPoolSize);\n            }\n        }\n\n        // We assume here that we're in a lock\n        void ResizeInternal(int desiredPoolSize)\n        {\n            Assert.That(desiredPoolSize >= 0, \"Attempted to resize the pool to a negative amount\");\n\n            while (_stack.Count > desiredPoolSize)\n            {\n                _stack.Pop();\n            }\n\n            while (desiredPoolSize > _stack.Count)\n            {\n                _stack.Push(Alloc());\n            }\n\n            Assert.IsEqual(_stack.Count, desiredPoolSize);\n        }\n\n        public void Dispose()\n        {\n#if UNITY_EDITOR\n            StaticMemoryPoolRegistry.Remove(this);\n#endif\n        }\n\n        public void ClearActiveCount()\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                _activeCount = 0;\n            }\n        }\n\n        public void Clear()\n        {\n            Resize(0);\n        }\n\n        public void ShrinkBy(int numToRemove)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                ResizeInternal(_stack.Count - numToRemove);\n            }\n        }\n\n        public void ExpandBy(int numToAdd)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                ResizeInternal(_stack.Count + numToAdd);\n            }\n        }\n\n        // We assume here that we're in a lock\n        protected TValue SpawnInternal()\n        {\n            TValue element;\n\n            if (_stack.Count == 0)\n            {\n                element = Alloc();\n            }\n            else\n            {\n                element = _stack.Pop();\n            }\n\n            _activeCount++;\n            return element;\n        }\n\n        void IMemoryPool.Despawn(object item)\n        {\n            Despawn((TValue)item);\n        }\n\n        public void Despawn(TValue element)\n        {\n            if (_onDespawnedMethod != null)\n            {\n                _onDespawnedMethod(element);\n            }\n\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                Assert.That(!_stack.Contains(element), \"Attempted to despawn element twice!\");\n\n                _activeCount--;\n                _stack.Push(element);\n            }\n        }\n\n        protected abstract TValue Alloc();\n    }\n\n    [NoReflectionBaking]\n    public abstract class StaticMemoryPoolBase<TValue> : StaticMemoryPoolBaseBase<TValue>\n        where TValue : class, new()\n    {\n        public StaticMemoryPoolBase(Action<TValue> onDespawnedMethod)\n            : base(onDespawnedMethod)\n        {\n        }\n\n        protected override TValue Alloc()\n        {\n            return new TValue();\n        }\n    }\n\n    // Zero parameters\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TValue>\n        where TValue : class, new()\n    {\n        Action<TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n            Action<TValue> onSpawnMethod = null, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public Action<TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn()\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // One parameter\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TValue>\n        where TValue : class, new()\n    {\n        Action<TParam1, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n            Action<TParam1, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public Action<TParam1, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 param)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(param, item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // Two parameter\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TParam2, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TValue>\n        where TValue : class, new()\n    {\n        Action<TParam1, TParam2, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n            Action<TParam1, TParam2, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public Action<TParam1, TParam2, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 p1, TParam2 p2)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(p1, p2, item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // Three parameters\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TParam2, TParam3, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TValue>\n        where TValue : class, new()\n    {\n        Action<TParam1, TParam2, TParam3, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n            Action<TParam1, TParam2, TParam3, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public Action<TParam1, TParam2, TParam3, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 p1, TParam2 p2, TParam3 p3)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(p1, p2, p3, item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // Four parameters\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TValue>\n        where TValue : class, new()\n    {\n#if !NET_4_6\n        ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(p1, p2, p3, p4, item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // Five parameters\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TValue>\n        where TValue : class, new()\n    {\n#if !NET_4_6\n        ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(p1, p2, p3, p4, p5, item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // Six parameters\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue>\n        where TValue : class, new()\n    {\n#if !NET_4_6\n        ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(p1, p2, p3, p4, p5, p6, item);\n                }\n\n                return item;\n            }\n        }\n    }\n\n    // Seven parameters\n\n    [NoReflectionBaking]\n    public class StaticMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue> : StaticMemoryPoolBase<TValue>, IMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue>\n        where TValue : class, new()\n    {\n#if !NET_4_6\n        ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue> _onSpawnMethod;\n\n        public StaticMemoryPool(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue> onSpawnMethod, Action<TValue> onDespawnedMethod = null)\n            : base(onDespawnedMethod)\n        {\n            // What's the point of having a param otherwise?\n            Assert.IsNotNull(onSpawnMethod);\n            _onSpawnMethod = onSpawnMethod;\n        }\n\n        public\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TValue> OnSpawnMethod\n        {\n            set { _onSpawnMethod = value; }\n        }\n\n        public TValue Spawn(TParam1 p1, TParam2 p2, TParam3 p3, TParam4 p4, TParam5 p5, TParam6 p6, TParam7 p7)\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                var item = SpawnInternal();\n\n                if (_onSpawnMethod != null)\n                {\n                    _onSpawnMethod(p1, p2, p3, p4, p5, p6, p7, item);\n                }\n\n                return item;\n            }\n        }\n    }\n}\n","size_bytes":14652},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Util/ArrayPool.cs":{"content":"using System.Collections.Generic;\n\nnamespace Zenject\n{\n    public class ArrayPool<T> : StaticMemoryPoolBaseBase<T[]>\n    {\n        readonly int _length;\n\n        public ArrayPool(int length)\n            : base(OnDespawned)\n        {\n            _length = length;\n        }\n\n        static void OnDespawned(T[] arr)\n        {\n            for (int i = 0; i < arr.Length; i++)\n            {\n                arr[i] = default(T);\n            }\n        }\n\n        public T[] Spawn()\n        {\n#if ZEN_MULTITHREADING\n            lock (_locker)\n#endif\n            {\n                return SpawnInternal();\n            }\n        }\n\n        protected override T[] Alloc()\n        {\n            return new T[_length];\n        }\n\n        static readonly Dictionary<int, ArrayPool<T>> _pools =\n            new Dictionary<int, ArrayPool<T>>();\n\n        public static ArrayPool<T> GetPool(int length)\n        {\n            ArrayPool<T> pool;\n\n            if (!_pools.TryGetValue(length, out pool))\n            {\n                pool = new ArrayPool<T>(length);\n                _pools.Add(length, pool);\n            }\n\n            return pool;\n        }\n    }\n}\n","size_bytes":1146},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Util/DictionaryPool.cs":{"content":"using System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public class DictionaryPool<TKey, TValue> : StaticMemoryPool<Dictionary<TKey, TValue>>\n    {\n        static DictionaryPool<TKey, TValue> _instance = new DictionaryPool<TKey, TValue>();\n\n        public DictionaryPool()\n        {\n            OnSpawnMethod = OnSpawned;\n            OnDespawnedMethod = OnDespawned;\n        }\n\n        public static DictionaryPool<TKey, TValue> Instance\n        {\n            get { return _instance; }\n        }\n\n        static void OnSpawned(Dictionary<TKey, TValue> items)\n        {\n            Assert.That(items.IsEmpty());\n        }\n\n        static void OnDespawned(Dictionary<TKey, TValue> items)\n        {\n            items.Clear();\n        }\n    }\n}\n\n","size_bytes":764},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Util/HashSetPool.cs":{"content":"using System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n    public class HashSetPool<T> : StaticMemoryPool<HashSet<T>>\n    {\n        static HashSetPool<T> _instance = new HashSetPool<T>();\n\n        public HashSetPool()\n        {\n            OnSpawnMethod = OnSpawned;\n            OnDespawnedMethod = OnDespawned;\n        }\n\n        public static HashSetPool<T> Instance\n        {\n            get { return _instance; }\n        }\n\n        static void OnSpawned(HashSet<T> items)\n        {\n            Assert.That(items.IsEmpty());\n        }\n\n        static void OnDespawned(HashSet<T> items)\n        {\n            items.Clear();\n        }\n    }\n}\n","size_bytes":662},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Util/ListPool.cs":{"content":"using System.Collections.Generic;\n\nnamespace Zenject\n{\n    public class ListPool<T> : StaticMemoryPool<List<T>>\n    {\n        static ListPool<T> _instance = new ListPool<T>();\n\n        public ListPool()\n        {\n            OnDespawnedMethod = OnDespawned;\n        }\n\n        public static ListPool<T> Instance\n        {\n            get { return _instance; }\n        }\n\n        void OnDespawned(List<T> list)\n        {\n            list.Clear();\n        }\n    }\n}\n","size_bytes":464},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Util/PoolCleanupChecker.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    // If you want to ensure that all items are always returned to the pool, include the following\n    // in an installer\n    // Container.BindInterfacesTo<PoolCleanupChecker>().AsSingle()\n    public class PoolCleanupChecker : ILateDisposable\n    {\n        readonly List<IMemoryPool> _poolFactories;\n        readonly List<Type> _ignoredPools;\n\n        public PoolCleanupChecker(\n            [Inject(Optional = true, Source = InjectSources.Local)]\n            List<IMemoryPool> poolFactories,\n            [Inject(Source = InjectSources.Local)]\n            List<Type> ignoredPools)\n        {\n            _poolFactories = poolFactories;\n            _ignoredPools = ignoredPools;\n\n            Assert.That(ignoredPools.All(x => x.DerivesFrom<IMemoryPool>()));\n        }\n\n        public void LateDispose()\n        {\n            foreach (var pool in _poolFactories)\n            {\n                if (!_ignoredPools.Contains(pool.GetType()))\n                {\n                    Assert.IsEqual(pool.NumActive, 0,\n                        \"Found active objects in pool '{0}' during dispose.  Did you forget to despawn an object of type '{1}'?\".Fmt(pool.GetType(), pool.ItemType));\n                }\n            }\n        }\n    }\n}\n","size_bytes":1328},"CapybaraGame/Assets/Plugins/Zenject/Source/Factories/Pooling/Util/StaticMemoryPoolRegistry.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing ModestTree;\n\nnamespace Zenject\n{\n#if UNITY_EDITOR\n    public static class StaticMemoryPoolRegistry\n    {\n        public static event Action<IMemoryPool> PoolAdded = delegate {};\n        public static event Action<IMemoryPool> PoolRemoved = delegate {};\n\n        readonly static List<IMemoryPool> _pools = new List<IMemoryPool>();\n\n        public static IEnumerable<IMemoryPool> Pools\n        {\n            get { return _pools; }\n        }\n\n        public static void Add(IMemoryPool memoryPool)\n        {\n            _pools.Add(memoryPool);\n            PoolAdded(memoryPool);\n        }\n\n        public static void Remove(IMemoryPool memoryPool)\n        {\n            _pools.RemoveWithConfirm(memoryPool);\n            PoolRemoved(memoryPool);\n        }\n    }\n#endif\n}\n","size_bytes":821},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/AddToGameObjectComponentProviders/AddToCurrentGameObjectComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEngine;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class AddToCurrentGameObjectComponentProvider : IProvider\n    {\n        readonly Type _componentType;\n        readonly DiContainer _container;\n        readonly List<TypeValuePair> _extraArguments;\n        readonly object _concreteIdentifier;\n        readonly Action<InjectContext, object> _instantiateCallback;\n\n        public AddToCurrentGameObjectComponentProvider(\n            DiContainer container, Type componentType,\n            IEnumerable<TypeValuePair> extraArguments, object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n        {\n            Assert.That(componentType.DerivesFrom<Component>());\n\n            _extraArguments = extraArguments.ToList();\n            _componentType = componentType;\n            _container = container;\n            _concreteIdentifier = concreteIdentifier;\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        protected Type ComponentType\n        {\n            get { return _componentType; }\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _componentType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            Assert.That(context.ObjectType.DerivesFrom<Component>(),\n                \"Object '{0}' can only be injected into MonoBehaviour's since it was bound with 'FromNewComponentSibling'. Attempted to inject into non-MonoBehaviour '{1}'\",\n                context.MemberType, context.ObjectType);\n\n            object instance;\n\n            if (!_container.IsValidating || TypeAnalyzer.ShouldAllowDuringValidation(_componentType))\n            {\n                var gameObj = ((Component)context.ObjectInstance).gameObject;\n\n                var componentInstance = gameObj.GetComponent(_componentType);\n                instance = componentInstance;\n\n                // Use componentInstance so that it triggers unity's overloaded comparison operator\n                // So if the component is there but missing then it returns null\n                // (https://github.com/svermeulen/Zenject/issues/582)\n                if (componentInstance != null)\n                {\n                    injectAction = null;\n                    buffer.Add(instance);\n                    return;\n                }\n\n                instance = gameObj.AddComponent(_componentType);\n            }\n            else\n            {\n                instance = new ValidationMarker(_componentType);\n            }\n\n            // Note that we don't just use InstantiateComponentOnNewGameObjectExplicit here\n            // because then circular references don't work\n\n            injectAction = () =>\n            {\n                var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                extraArgs.AllocFreeAddRange(_extraArguments);\n                extraArgs.AllocFreeAddRange(args);\n\n                _container.InjectExplicit(instance, _componentType, extraArgs, context, _concreteIdentifier);\n\n                Assert.That(extraArgs.IsEmpty());\n                ZenPools.DespawnList(extraArgs);\n\n                if (_instantiateCallback != null)\n                {\n                    _instantiateCallback(context, instance);\n                }\n            };\n\n            buffer.Add(instance);\n        }\n    }\n}\n\n#endif\n","size_bytes":3919},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/AddToGameObjectComponentProviders/AddToExistingGameObjectComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing ModestTree;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class AddToExistingGameObjectComponentProvider : AddToGameObjectComponentProviderBase\n    {\n        readonly GameObject _gameObject;\n\n        public AddToExistingGameObjectComponentProvider(\n            GameObject gameObject, DiContainer container, Type componentType,\n            IEnumerable<TypeValuePair> extraArguments, object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n            : base(container, componentType, extraArguments, concreteIdentifier, instantiateCallback)\n        {\n            _gameObject = gameObject;\n        }\n\n        // This will cause [Inject] to be triggered after awake / start\n        // We could return true, but what if toggling active has other negative repercussions?\n        // For now let's just not do anything\n        protected override bool ShouldToggleActive\n        {\n            get { return false; }\n        }\n\n        protected override GameObject GetGameObject(InjectContext context)\n        {\n            return _gameObject;\n        }\n    }\n\n    [NoReflectionBaking]\n    public class AddToExistingGameObjectComponentProviderGetter : AddToGameObjectComponentProviderBase\n    {\n        readonly Func<InjectContext, GameObject> _gameObjectGetter;\n\n        public AddToExistingGameObjectComponentProviderGetter(\n            Func<InjectContext, GameObject> gameObjectGetter, DiContainer container, Type componentType,\n            List<TypeValuePair> extraArguments, object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n            : base(container, componentType, extraArguments, concreteIdentifier, instantiateCallback)\n        {\n            _gameObjectGetter = gameObjectGetter;\n        }\n\n        // This will cause [Inject] to be triggered after awake / start\n        // We could return true, but what if toggling active has other negative repercussions?\n        // For now let's just not do anything\n        protected override bool ShouldToggleActive\n        {\n            get { return false; }\n        }\n\n        protected override GameObject GetGameObject(InjectContext context)\n        {\n            var gameObj = _gameObjectGetter(context);\n            Assert.IsNotNull(gameObj, \"Provided Func<InjectContext, GameObject> returned null value for game object when using FromComponentOn\");\n            return gameObj;\n        }\n    }\n}\n\n#endif\n","size_bytes":2528},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/AddToGameObjectComponentProviders/AddToGameObjectComponentProviderBase.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing ModestTree;\nusing UnityEngine;\nusing Zenject.Internal;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public abstract class AddToGameObjectComponentProviderBase : IProvider\n    {\n        readonly Type _componentType;\n        readonly DiContainer _container;\n        readonly List<TypeValuePair> _extraArguments;\n        readonly object _concreteIdentifier;\n        readonly Action<InjectContext, object> _instantiateCallback;\n\n        public AddToGameObjectComponentProviderBase(\n            DiContainer container, Type componentType,\n            IEnumerable<TypeValuePair> extraArguments, object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n        {\n            Assert.That(componentType.DerivesFrom<Component>());\n\n            _extraArguments = extraArguments.ToList();\n            _componentType = componentType;\n            _container = container;\n            _concreteIdentifier = concreteIdentifier;\n            _instantiateCallback = instantiateCallback;\n        }\n\n        public bool IsCached\n        {\n            get { return false; }\n        }\n\n        public bool TypeVariesBasedOnMemberType\n        {\n            get { return false; }\n        }\n\n        protected DiContainer Container\n        {\n            get { return _container; }\n        }\n\n        protected Type ComponentType\n        {\n            get { return _componentType; }\n        }\n\n        protected abstract bool ShouldToggleActive\n        {\n            get;\n        }\n\n        public Type GetInstanceType(InjectContext context)\n        {\n            return _componentType;\n        }\n\n        public void GetAllInstancesWithInjectSplit(\n            InjectContext context, List<TypeValuePair> args, out Action injectAction, List<object> buffer)\n        {\n            Assert.IsNotNull(context);\n\n            object instance;\n\n            // We still want to make sure we can get the game object during validation\n            var gameObj = GetGameObject(context);\n\n            var wasActive = gameObj.activeSelf;\n\n            if (wasActive && ShouldToggleActive)\n            {\n                // We need to do this in some cases to ensure that [Inject] always gets\n                // called before awake / start\n                gameObj.SetActive(false);\n            }\n\n            if (!_container.IsValidating || TypeAnalyzer.ShouldAllowDuringValidation(_componentType))\n            {\n                if (_componentType == typeof(Transform))\n                    // Treat transform as a special case because it's the one component that's always automatically added\n                    // Otherwise, calling AddComponent below will fail and return null\n                    // This is nice to allow doing things like\n                    //      Container.Bind<Transform>().FromNewComponentOnNewGameObject();\n                {\n                    instance = gameObj.transform;\n                }\n                else\n                {\n                    instance = gameObj.AddComponent(_componentType);\n                }\n\n                Assert.IsNotNull(instance);\n            }\n            else\n            {\n                instance = new ValidationMarker(_componentType);\n            }\n\n            injectAction = () =>\n            {\n                try\n                {\n                    var extraArgs = ZenPools.SpawnList<TypeValuePair>();\n\n                    extraArgs.AllocFreeAddRange(_extraArguments);\n                    extraArgs.AllocFreeAddRange(args);\n\n                    _container.InjectExplicit(instance, _componentType, extraArgs, context, _concreteIdentifier);\n\n                    Assert.That(extraArgs.Count == 0);\n\n                    ZenPools.DespawnList(extraArgs);\n\n                    if (_instantiateCallback != null)\n                    {\n                        _instantiateCallback(context, instance);\n                    }\n                }\n                finally\n                {\n                    if (wasActive && ShouldToggleActive)\n                    {\n                        gameObj.SetActive(true);\n                    }\n                }\n            };\n\n            buffer.Add(instance);\n        }\n\n        protected abstract GameObject GetGameObject(InjectContext context);\n    }\n}\n\n#endif\n","size_bytes":4347},"CapybaraGame/Assets/Plugins/Zenject/Source/Providers/ComponentProviders/AddToGameObjectComponentProviders/AddToNewGameObjectComponentProvider.cs":{"content":"#if !NOT_UNITY3D\n\nusing System;\nusing System.Collections.Generic;\nusing UnityEngine;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class AddToNewGameObjectComponentProvider : AddToGameObjectComponentProviderBase\n    {\n        readonly GameObjectCreationParameters _gameObjectBindInfo;\n\n        public AddToNewGameObjectComponentProvider(\n            DiContainer container, Type componentType,\n            IEnumerable<TypeValuePair> extraArguments, GameObjectCreationParameters gameObjectBindInfo,\n            object concreteIdentifier,\n            Action<InjectContext, object> instantiateCallback)\n            : base(container, componentType, extraArguments, concreteIdentifier, instantiateCallback)\n        {\n            _gameObjectBindInfo = gameObjectBindInfo;\n        }\n\n        protected override bool ShouldToggleActive\n        {\n            get { return true; }\n        }\n\n        protected override GameObject GetGameObject(InjectContext context)\n        {\n            if (_gameObjectBindInfo.Name == null)\n            {\n                _gameObjectBindInfo.Name = ComponentType.Name;\n            }\n\n            return Container.CreateEmptyGameObject(_gameObjectBindInfo, context);\n        }\n    }\n}\n\n#endif\n","size_bytes":1227},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder0.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TContract> : FactoryToChoiceBinder<TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments<TParam1, TParam2>(TParam1 param1, TParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments<TParam1, TParam2, TParam3>(\n            TParam1 param1, TParam2 param2, TParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments<TParam1, TParam2, TParam3, TParam4>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments<TParam1, TParam2, TParam3, TParam4, TParam5>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n            TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, TParam5 param5, TParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":2954},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder1.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TContract> : FactoryToChoiceBinder<TParam1, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":3324},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder10.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> : FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":4144},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder2.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TParam2, TContract> : FactoryToChoiceBinder<TParam1, TParam2, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":3414},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder3.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TContract> : FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":3504},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder4.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> : FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":3594},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder5.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> : FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":3684},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryArgumentsToChoiceBinder/FactoryArgumentsToChoiceBinder6.cs":{"content":"using System.Collections.Generic;\nusing System.Linq;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> : FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n    {\n        public FactoryArgumentsToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // We use generics instead of params object[] so that we preserve type info\n        // So that you can for example pass in a variable that is null and the type info will\n        // still be used to map null on to the correct field\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments<T>(T param)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2>(TFactoryParam1 param1, TFactoryParam2 param2)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments<TFactoryParam1, TFactoryParam2, TFactoryParam3, TFactoryParam4, TFactoryParam5, TFactoryParam6>(\n            TFactoryParam1 param1, TFactoryParam2 param2, TFactoryParam3 param3, TFactoryParam4 param4, TFactoryParam5 param5, TFactoryParam6 param6)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgListExplicit(param1, param2, param3, param4, param5, param6);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArguments(object[] args)\n        {\n            FactoryBindInfo.Arguments = InjectUtil.CreateArgList(args);\n            return this;\n        }\n\n        public FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithFactoryArgumentsExplicit(IEnumerable<TypeValuePair> extraArgs)\n        {\n            FactoryBindInfo.Arguments = extraArgs.ToList();\n            return this;\n        }\n    }\n}\n\n","size_bytes":3774},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder0.cs":{"content":"using System;\nusing System.Collections.Generic;\nusing System.Linq;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TContract> : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromResolveGetter<TObj>(Func<TObj, TContract> method)\n        {\n            return FromResolveGetter<TObj>(null, method);\n        }\n\n        public ConditionCopyNonLazyBinder FromResolveGetter<TObj>(\n            object subIdentifier, Func<TObj, TContract> method)\n        {\n            return FromResolveGetter<TObj>(subIdentifier, method, InjectSources.Any);\n        }\n\n        public ConditionCopyNonLazyBinder FromResolveGetter<TObj>(\n            object subIdentifier, Func<TObj, TContract> method, InjectSources source)\n        {\n            FactoryBindInfo.ProviderFunc =\n                (container) => new GetterProvider<TObj, TContract>(subIdentifier, method, container, source, false);\n\n            return this;\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(Func<DiContainer, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ArgConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n\n#if !NOT_UNITY3D\n\n        public ConditionCopyNonLazyBinder FromComponentInHierarchy(\n            bool includeInactive = true)\n        {\n            BindingUtil.AssertIsInterfaceOrComponent(ContractType);\n\n            return FromMethod(_ =>\n                {\n                    var res = BindContainer.Resolve<Context>().GetRootGameObjects()\n                        .Select(x => x.GetComponentInChildren<TContract>(includeInactive))\n                        .Where(x => x != null).FirstOrDefault();\n\n                    Assert.IsNotNull(res,\n                        \"Could not find component '{0}' through FromComponentInHierarchy factory binding\", typeof(TContract));\n\n                    return res;\n                });\n        }\n#endif\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder0Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TContract, TMemoryPool>(\n            this FactoryFromBinder<TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<IMemoryPool>\n            where TMemoryPool : MemoryPool<IMemoryPool, TContract>\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>().WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TContract>(\n            this FactoryFromBinder<TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TContract>(\n            this FactoryFromBinder<TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TContract, PoolableMemoryPool<IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TContract>(\n            this FactoryFromBinder<TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TContract>(\n            this FactoryFromBinder<TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TContract, MonoPoolableMemoryPool<IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TContract, TMemoryPool>(\n            this FactoryFromBinder<TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<IMemoryPool>\n            where TMemoryPool : MemoryPool<IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TContract>(\n            this FactoryFromBinder<TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":7668},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder1.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TContract> : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(Func<DiContainer, TParam1, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TParam1, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TParam1, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder1Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TParam1, TContract>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TParam1, TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TParam1, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TContract>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TContract>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TContract, PoolableMemoryPool<TParam1, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TContract>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TParam1, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TContract>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TContract, MonoPoolableMemoryPool<TParam1, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, IMemoryPool, TContract>\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>().WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TParam1, TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":6493},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder10.cs":{"content":"using System;\n\n#if !NOT_UNITY3D\n\n#endif\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n        : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n                Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> method)\n        {\n            ProviderFunc =\n                container => new MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n        {\n            return FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public ArgConditionCopyNonLazyBinder FromIFactory(\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                CreateIFactoryBinder<IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>>(out factoryId));\n\n            ProviderFunc =\n                container => { return new IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n}\n","size_bytes":2796},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder2.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TParam2, TContract> : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(Func<DiContainer, TParam1, TParam2, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TParam1, TParam2, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TParam2, TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TParam2, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder2Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TParam1, TParam2, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TParam2, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TParam1, TParam2, TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TParam1, TParam2, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TContract, PoolableMemoryPool<TParam1, TParam2, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TParam1, TParam2, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TContract, MonoPoolableMemoryPool<TParam1, TParam2, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, IMemoryPool, TContract>\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>()\n                .WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TParam1, TParam2, TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":6870},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder3.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TParam2, TParam3, TContract> : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(Func<DiContainer, TParam1, TParam2, TParam3, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TParam1, TParam2, TParam3, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TParam2, TParam3, TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TParam2, TParam3, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder3Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TParam1, TParam2, TParam3, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TParam2, TParam3, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TParam1, TParam2, TParam3, TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TParam1, TParam2, TParam3, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract, PoolableMemoryPool<TParam1, TParam2, TParam3, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract, MonoPoolableMemoryPool<TParam1, TParam2, TParam3, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, IMemoryPool, TContract>\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>()\n                .WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":7230},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder4.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TParam2, TParam3, TParam4, TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder4Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TParam1, TParam2, TParam3, TParam4, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TParam2, TParam3, TParam4, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TParam1, TParam2, TParam3, TParam4, TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract, PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract, MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, IMemoryPool, TContract>\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>()\n                .WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TParam4, TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":7652},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder5.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n        : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder5Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, IMemoryPool, TContract>\n        {\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>()\n                .WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":8020},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/FactoryFromBinder6.cs":{"content":"using System;\nusing System.Collections.Generic;\n#if !NOT_UNITY3D\nusing UnityEngine;\n#endif\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n        : FactoryFromBinderBase\n    {\n        public FactoryFromBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, typeof(TContract), bindInfo, factoryBindInfo)\n        {\n        }\n\n        public ConditionCopyNonLazyBinder FromMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Func<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> method)\n        {\n            ProviderFunc =\n                (container) => new MethodProviderWithContainer<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(method);\n\n            return this;\n        }\n\n        // Shortcut for FromIFactory and also for backwards compatibility\n        public ConditionCopyNonLazyBinder FromFactory<TSubFactory>()\n            where TSubFactory : IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n        {\n            return this.FromIFactory(x => x.To<TSubFactory>().AsCached());\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> FromSubContainerResolve()\n        {\n            return FromSubContainerResolve(null);\n        }\n\n        public FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> FromSubContainerResolve(object subIdentifier)\n        {\n            return new FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n                BindContainer, BindInfo, FactoryBindInfo, subIdentifier);\n        }\n    }\n\n    // These methods have to be extension methods for the UWP build (with .NET backend) to work correctly\n    // When these are instance methods it takes a really long time then fails with StackOverflowException\n    public static class FactoryFromBinder6Extensions\n    {\n        public static ArgConditionCopyNonLazyBinder FromIFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder,\n            Action<ConcreteBinderGeneric<IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>>> factoryBindGenerator)\n        {\n            Guid factoryId;\n            factoryBindGenerator(\n                fromBinder.CreateIFactoryBinder<IFactory<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>>(out factoryId));\n\n            fromBinder.ProviderFunc =\n                (container) => { return new IFactoryProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(container, factoryId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, PoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n\n#if !NOT_UNITY3D\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n        {\n            return fromBinder.FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromMonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : Component, IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, MonoPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool, TContract>>(poolBindGenerator);\n        }\n#endif\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool, TContract>\n        {\n            return fromBinder.FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TMemoryPool>(x => {});\n        }\n\n        public static ArgConditionCopyNonLazyBinder FromPoolableMemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TMemoryPool>(\n            this FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> fromBinder,\n            Action<MemoryPoolInitialSizeMaxSizeBinder<TContract>> poolBindGenerator)\n            // Unfortunately we have to pass the same contract in again to satisfy the generic\n            // constraints below\n            where TContract : IPoolable<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool>\n            where TMemoryPool : MemoryPool<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, IMemoryPool, TContract>\n        {\n            Assert.IsEqual(typeof(TContract), typeof(TContract));\n\n            // Use a random ID so that our provider is the only one that can find it and so it doesn't\n            // conflict with anything else\n            var poolId = Guid.NewGuid();\n\n            // Important to use NoFlush otherwise the binding will be finalized early\n            var binder = fromBinder.BindContainer.BindMemoryPoolCustomInterfaceNoFlush<TContract, TMemoryPool, TMemoryPool>()\n                .WithId(poolId);\n\n            // Always make it non lazy by default in case the user sets an InitialSize\n            binder.NonLazy();\n\n            poolBindGenerator(binder);\n\n            fromBinder.ProviderFunc =\n                (container) => { return new PoolableMemoryPoolProvider<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract, TMemoryPool>(container, poolId); };\n\n            return new ArgConditionCopyNonLazyBinder(fromBinder.BindInfo);\n        }\n    }\n}\n","size_bytes":8447},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/DecoratorToChoiceFromBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class DecoratorToChoiceFromBinder<TContract>\n    {\n        DiContainer _bindContainer;\n        BindInfo _bindInfo;\n        FactoryBindInfo _factoryBindInfo;\n\n        public DecoratorToChoiceFromBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n        {\n            _bindContainer = bindContainer;\n            _bindInfo = bindInfo;\n            _factoryBindInfo = factoryBindInfo;\n        }\n\n        public FactoryFromBinder<TContract, TConcrete> With<TConcrete>()\n            where TConcrete : TContract\n        {\n            _bindInfo.ToChoice = ToChoices.Concrete;\n            _bindInfo.ToTypes.Clear();\n            _bindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TContract, TConcrete>(\n                _bindContainer, _bindInfo, _factoryBindInfo);\n        }\n    }\n}\n","size_bytes":910},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder0.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TContract> : FactoryFromBinder<TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinderUntyped To(Type concreteType)\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(concreteType);\n\n            return new FactoryFromBinderUntyped(\n                BindContainer, concreteType, BindInfo, FactoryBindInfo);\n        }\n\n        public FactoryFromBinder<TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n","size_bytes":1308},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder1.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TContract> : FactoryFromBinder<TParam1, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n","size_bytes":1003},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder10.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n        : FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n","size_bytes":1421},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder2.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TParam2, TContract> : FactoryFromBinder<TParam1, TParam2, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TParam2, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TParam2, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TParam2, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n\n","size_bytes":1049},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder3.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TParam2, TParam3, TContract> : FactoryFromBinder<TParam1, TParam2, TParam3, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TParam2, TParam3, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n\n\n","size_bytes":1095},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder4.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> : FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n","size_bytes":1138},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder5.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n        : FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n","size_bytes":1191},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceBinder/FactoryToChoiceBinder6.cs":{"content":"using ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n        : FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n    {\n        public FactoryToChoiceBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // Note that this is the default, so not necessary to call\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> ToSelf()\n        {\n            Assert.IsEqual(BindInfo.ToChoice, ToChoices.Self);\n            return this;\n        }\n\n        public FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TConcrete> To<TConcrete>()\n            where TConcrete : TContract\n        {\n            BindInfo.ToChoice = ToChoices.Concrete;\n            BindInfo.ToTypes.Clear();\n            BindInfo.ToTypes.Add(typeof(TConcrete));\n\n            return new FactoryFromBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TConcrete>(BindContainer, BindInfo, FactoryBindInfo);\n        }\n    }\n}\n","size_bytes":1236},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder0.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TContract> : FactoryArgumentsToChoiceBinder<TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer container, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(container, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n\n\n","size_bytes":536},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder1.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TContract> : FactoryArgumentsToChoiceBinder<TParam1, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n","size_bytes":569},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder10.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n        : FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n","size_bytes":823},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder2.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TParam2, TContract> : FactoryArgumentsToChoiceBinder<TParam1, TParam2, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TParam2, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n\n","size_bytes":597},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder3.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TContract> : FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n\n\n","size_bytes":625},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder4.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TContract> : FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n","size_bytes":650},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder5.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n        : FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n","size_bytes":685},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryToChoiceIdBinder/FactoryToChoiceIdBinder6.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryToChoiceIdBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n        : FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n    {\n        public FactoryToChoiceIdBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n        }\n\n        public FactoryArgumentsToChoiceBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n","size_bytes":712},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/Pooling/MemoryPoolBindingFinalizer.cs":{"content":"using System.Linq;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class MemoryPoolBindingFinalizer<TContract> : ProviderBindingFinalizer\n    {\n        readonly MemoryPoolBindInfo _poolBindInfo;\n        readonly FactoryBindInfo _factoryBindInfo;\n\n        public MemoryPoolBindingFinalizer(\n            BindInfo bindInfo, FactoryBindInfo factoryBindInfo, MemoryPoolBindInfo poolBindInfo)\n            : base(bindInfo)\n        {\n            // Note that it doesn't derive from MemoryPool<TContract>\n            // when used with To<>, so we can only check IMemoryPoolBase\n            Assert.That(factoryBindInfo.FactoryType.DerivesFrom<IMemoryPool>());\n\n            _factoryBindInfo = factoryBindInfo;\n            _poolBindInfo = poolBindInfo;\n        }\n\n        protected override void OnFinalizeBinding(DiContainer container)\n        {\n            var factory = new FactoryProviderWrapper<TContract>(\n                _factoryBindInfo.ProviderFunc(container), new InjectContext(container, typeof(TContract)));\n\n            var settings = new MemoryPoolSettings(\n                _poolBindInfo.InitialSize, _poolBindInfo.MaxSize, _poolBindInfo.ExpandMethod);\n\n            var transientProvider = new TransientProvider(\n                _factoryBindInfo.FactoryType,\n                container,\n                _factoryBindInfo.Arguments.Concat(\n                    InjectUtil.CreateArgListExplicit(factory, settings)).ToList(),\n                BindInfo.ContextInfo, BindInfo.ConcreteIdentifier, null);\n\n            IProvider mainProvider;\n\n            if (BindInfo.Scope == ScopeTypes.Unset || BindInfo.Scope == ScopeTypes.Singleton)\n            {\n                mainProvider = BindingUtil.CreateCachedProvider(transientProvider);\n            }\n            else\n            {\n                Assert.IsEqual(BindInfo.Scope, ScopeTypes.Transient);\n                mainProvider = transientProvider;\n            }\n\n            RegisterProviderForAllContracts(container, mainProvider);\n        }\n    }\n}\n\n","size_bytes":2022},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/Pooling/MemoryPoolExpandBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class MemoryPoolExpandBinder<TContract> : FactoryArgumentsToChoiceBinder<TContract>\n    {\n        public MemoryPoolExpandBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, MemoryPoolBindInfo poolBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo)\n        {\n            MemoryPoolBindInfo = poolBindInfo;\n\n            ExpandByOneAtATime();\n        }\n\n        protected MemoryPoolBindInfo MemoryPoolBindInfo\n        {\n            get; private set;\n        }\n\n        public FactoryArgumentsToChoiceBinder<TContract> ExpandByOneAtATime()\n        {\n            MemoryPoolBindInfo.ExpandMethod = PoolExpandMethods.OneAtATime;\n            return this;\n        }\n\n        public FactoryArgumentsToChoiceBinder<TContract> ExpandByDoubling()\n        {\n            MemoryPoolBindInfo.ExpandMethod = PoolExpandMethods.Double;\n            return this;\n        }\n    }\n}\n\n","size_bytes":982},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/Pooling/MemoryPoolInitialSizeBinder.cs":{"content":"namespace Zenject\n{\n    [NoReflectionBaking]\n    public class MemoryPoolMaxSizeBinder<TContract> : MemoryPoolExpandBinder<TContract>\n    {\n        public MemoryPoolMaxSizeBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, MemoryPoolBindInfo poolBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo, poolBindInfo)\n        {\n        }\n\n        public MemoryPoolExpandBinder<TContract> WithMaxSize(int size)\n        {\n            MemoryPoolBindInfo.MaxSize = size;\n            return this;\n        }\n    }\n\n    [NoReflectionBaking]\n    public class MemoryPoolInitialSizeMaxSizeBinder<TContract> : MemoryPoolMaxSizeBinder<TContract>\n    {\n        public MemoryPoolInitialSizeMaxSizeBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, MemoryPoolBindInfo poolBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo, poolBindInfo)\n        {\n        }\n\n        public MemoryPoolMaxSizeBinder<TContract> WithInitialSize(int size)\n        {\n            MemoryPoolBindInfo.InitialSize = size;\n            return this;\n        }\n\n        public FactoryArgumentsToChoiceBinder<TContract> WithFixedSize(int size)\n        {\n            MemoryPoolBindInfo.InitialSize = size;\n            MemoryPoolBindInfo.MaxSize = size;\n            MemoryPoolBindInfo.ExpandMethod = PoolExpandMethods.Disabled;\n            return this;\n        }\n    }\n\n    [NoReflectionBaking]\n    public class MemoryPoolIdInitialSizeMaxSizeBinder<TContract> : MemoryPoolInitialSizeMaxSizeBinder<TContract>\n    {\n        public MemoryPoolIdInitialSizeMaxSizeBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, MemoryPoolBindInfo poolBindInfo)\n            : base(bindContainer, bindInfo, factoryBindInfo, poolBindInfo)\n        {\n        }\n\n        public MemoryPoolInitialSizeMaxSizeBinder<TContract> WithId(object identifier)\n        {\n            BindInfo.Identifier = identifier;\n            return this;\n        }\n    }\n}\n\n","size_bytes":2053},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder0.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TContract>\n        : FactorySubContainerBinderBase<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(Action<DiContainer> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(Action<DiContainer> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Action<DiContainer> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab, Action<DiContainer> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath, Action<DiContainer> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        [System.Obsolete(\"ByNewPrefab has been renamed to ByNewContextPrefab to avoid confusion with ByNewPrefabInstaller and ByNewPrefabMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefab(UnityEngine.Object prefab)\n        {\n            return ByNewContextPrefab(prefab);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefab(UnityEngine.Object prefab)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefab(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        [System.Obsolete(\"ByNewPrefabResource has been renamed to ByNewContextPrefabResource to avoid confusion with ByNewPrefabResourceInstaller and ByNewPrefabResourceMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResource(string resourcePath)\n        {\n            return ByNewContextPrefabResource(resourcePath);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefabResource(string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefab(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":6151},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder1.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(Action<DiContainer, TParam1> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n            Action<DiContainer, TParam1> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1>(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Action<DiContainer, TParam1> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1>(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab, Action<DiContainer, TParam1> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1>(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath, Action<DiContainer, TParam1> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1>(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":4105},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder10.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10>( container,\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10>( container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10>( container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TParam7, TParam8, TParam9, TParam10>( container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":5229},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder2.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TParam2, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(Action<DiContainer, TParam1, TParam2> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc = \n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1, TParam2>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n            Action<DiContainer, TParam1, TParam2> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2>(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Action<DiContainer, TParam1, TParam2> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2>(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab, Action<DiContainer, TParam1, TParam2> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2>(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath, Action<DiContainer, TParam1, TParam2> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2>(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n\n","size_bytes":4205},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder3.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TParam2, TParam3, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1, TParam2, TParam3>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n            Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3>(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3>(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab, Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3>(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath, Action<DiContainer, TParam1, TParam2, TParam3> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3>(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n\n\n","size_bytes":4304},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder4.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4>(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4>(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4>(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4>(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n\n","size_bytes":4696},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder5.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4, TParam5>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4, TParam5>(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5>(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5>(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5>(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":4794},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinder6.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinder<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6, TContract>\n        : FactorySubContainerBinderWithParams<TContract>\n    {\n        public FactorySubContainerBinder(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n        {\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n                        container, subcontainerBindInfo, installerMethod), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectMethod(\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n                        container, gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            Func<InjectContext, UnityEngine.Object> prefabGetter,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n        {\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabMethod(\n            UnityEngine.Object prefab,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceMethod(\n            string resourcePath,\n#if !NET_4_6\n            ModestTree.Util.\n#endif\n            Action<DiContainer, TParam1, TParam2, TParam3, TParam4, TParam5, TParam6> installerMethod)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabMethod<TParam1, TParam2, TParam3, TParam4, TParam5, TParam6>(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerMethod), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":4893},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinderBase.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinderBase<TContract>\n    {\n        public FactorySubContainerBinderBase(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n        {\n            FactoryBindInfo = factoryBindInfo;\n            SubIdentifier = subIdentifier;\n            BindInfo = bindInfo;\n            BindContainer = bindContainer;\n\n            // Reset so we get errors if we end here\n            factoryBindInfo.ProviderFunc = null;\n        }\n\n        protected DiContainer BindContainer\n        {\n            get; private set;\n        }\n\n        protected FactoryBindInfo FactoryBindInfo\n        {\n            get; private set;\n        }\n\n        protected Func<DiContainer, IProvider> ProviderFunc\n        {\n            get { return FactoryBindInfo.ProviderFunc; }\n            set { FactoryBindInfo.ProviderFunc = value; }\n        }\n\n        protected BindInfo BindInfo\n        {\n            get;\n            private set;\n        }\n\n        protected object SubIdentifier\n        {\n            get;\n            private set;\n        }\n\n        protected Type ContractType\n        {\n            get { return typeof(TContract); }\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByInstaller<TInstaller>()\n            where TInstaller : InstallerBase\n        {\n            return ByInstaller(typeof(TInstaller));\n        }\n\n        public ScopeConcreteIdArgConditionCopyNonLazyBinder ByInstaller(Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var subcontainerBindInfo = new SubContainerCreatorBindInfo();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByInstaller(\n                        container, subcontainerBindInfo, installerType, BindInfo.Arguments), false);\n\n            return new ScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo);\n        }\n\n#if !NOT_UNITY3D\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectInstaller<TInstaller>()\n            where TInstaller : InstallerBase\n        {\n            return ByNewGameObjectInstaller(typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewGameObjectInstaller(Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewGameObjectInstaller(\n                        container, gameObjectInfo, installerType, BindInfo.Arguments), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller<TInstaller>(\n            Func<InjectContext, UnityEngine.Object> prefabGetter)\n            where TInstaller : InstallerBase\n        {\n            return ByNewPrefabInstaller(prefabGetter, typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller(\n            Func<InjectContext, UnityEngine.Object> prefabGetter, Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabInstaller(\n                        container,\n                        new PrefabProviderCustom(prefabGetter),\n                        gameObjectInfo, installerType, BindInfo.Arguments), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller<TInstaller>(\n            UnityEngine.Object prefab)\n            where TInstaller : InstallerBase\n        {\n            return ByNewPrefabInstaller(prefab, typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabInstaller(\n            UnityEngine.Object prefab, Type installerType)\n        {\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabInstaller(\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo, installerType, BindInfo.Arguments), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceInstaller<TInstaller>(\n            string resourcePath)\n            where TInstaller : InstallerBase\n        {\n            return ByNewPrefabResourceInstaller(resourcePath, typeof(TInstaller));\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResourceInstaller(\n            string resourcePath, Type installerType)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n            Assert.That(installerType.DerivesFrom<InstallerBase>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'Installer<>'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc =\n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabInstaller(\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo, installerType, BindInfo.Arguments), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":7189},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/SubContainerBinder/FactorySubContainerBinderWithParams.cs":{"content":"using System;\nusing ModestTree;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactorySubContainerBinderWithParams<TContract> : FactorySubContainerBinderBase<TContract>\n    {\n        public FactorySubContainerBinderWithParams(\n            DiContainer bindContainer, BindInfo bindInfo, FactoryBindInfo factoryBindInfo, object subIdentifier)\n            : base(bindContainer, bindInfo, factoryBindInfo, subIdentifier)\n        {\n        }\n\n#if !NOT_UNITY3D\n\n        [System.Obsolete(\"ByNewPrefab has been renamed to ByNewContextPrefab to avoid confusion with ByNewPrefabInstaller and ByNewPrefabMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefab(Type installerType, UnityEngine.Object prefab)\n        {\n            return ByNewContextPrefab(installerType, prefab);\n        }\n\n        [System.Obsolete(\"ByNewPrefab has been renamed to ByNewContextPrefab to avoid confusion with ByNewPrefabInstaller and ByNewPrefabMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefab<TInstaller>(UnityEngine.Object prefab)\n            where TInstaller : IInstaller\n        {\n            return ByNewContextPrefab<TInstaller>(prefab);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefab<TInstaller>(UnityEngine.Object prefab)\n            where TInstaller : IInstaller\n        {\n            return ByNewContextPrefab(typeof(TInstaller), prefab);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefab(Type installerType, UnityEngine.Object prefab)\n        {\n            BindingUtil.AssertIsValidPrefab(prefab);\n\n            Assert.That(installerType.DerivesFrom<MonoInstaller>(),\n                \"Invalid installer type given during bind command.  Expected type '{0}' to derive from 'MonoInstaller'\", installerType);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc = \n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabWithParams(\n                        installerType,\n                        container,\n                        new PrefabProvider(prefab),\n                        gameObjectInfo), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n\n        [System.Obsolete(\"ByNewPrefabResource has been renamed to ByNewContextPrefabResource to avoid confusion with ByNewPrefabResourceInstaller and ByNewPrefabResourceMethod\")]\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResource<TInstaller>(string resourcePath)\n            where TInstaller : IInstaller\n        {\n            return ByNewContextPrefabResource<TInstaller>(resourcePath);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewPrefabResource(\n            Type installerType, string resourcePath)\n        {\n            return ByNewContextPrefabResource(installerType, resourcePath);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefabResource<TInstaller>(string resourcePath)\n            where TInstaller : IInstaller\n        {\n            return ByNewContextPrefabResource(typeof(TInstaller), resourcePath);\n        }\n\n        public NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder ByNewContextPrefabResource(\n            Type installerType, string resourcePath)\n        {\n            BindingUtil.AssertIsValidResourcePath(resourcePath);\n\n            var gameObjectInfo = new GameObjectCreationParameters();\n\n            ProviderFunc = \n                (container) => new SubContainerDependencyProvider(\n                    ContractType, SubIdentifier,\n                    new SubContainerCreatorByNewPrefabWithParams(\n                        installerType,\n                        container,\n                        new PrefabProviderResource(resourcePath),\n                        gameObjectInfo), false);\n\n            return new NameTransformScopeConcreteIdArgConditionCopyNonLazyBinder(BindInfo, gameObjectInfo);\n        }\n#endif\n    }\n}\n","size_bytes":4266},"CapybaraGame/Assets/Plugins/Zenject/Source/Binding/Binders/Factory/FactoryFromBinder/Untyped/FactoryFromBinderUntyped.cs":{"content":"using System;\n\nnamespace Zenject\n{\n    [NoReflectionBaking]\n    public class FactoryFromBinderUntyped : FactoryFromBinderBase\n    {\n        public FactoryFromBinderUntyped(\n            DiContainer bindContainer, Type contractType, BindInfo bindInfo, FactoryBindInfo factoryBindInfo)\n            : base(bindContainer, contractType, bindInfo, factoryBindInfo)\n        {\n        }\n\n        // TODO - add similar methods found in FactoryFromBinder<>\n    }\n}\n","size_bytes":454},"client/src/components/SimpleCapiRush.tsx":{"content":"import React, { useRef, useEffect, useState } from 'react';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport { Trophy, ArrowLeft, Heart, Zap, Play, Pause, RotateCcw } from 'lucide-react';\n\ninterface SimpleCapiRushProps {\n  onBackToMenu?: () => void;\n}\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  gamesPlayed: number;\n}\n\nexport const SimpleCapiRush: React.FC<SimpleCapiRushProps> = ({ onBackToMenu }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const gameRef = useRef<any>(null);\n  const animationFrameRef = useRef<number>(0);\n  \n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capirush-stats');\n    return saved ? JSON.parse(saved) : {\n      score: 0,\n      highScore: 0,\n      gamesPlayed: 0\n    };\n  });\n  \n  const [isGameRunning, setIsGameRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [currentScore, setCurrentScore] = useState(0);\n\n  const initializeGame = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const gameState = {\n      player: {\n        x: canvas.width / 2,\n        y: canvas.height - 80,\n        width: 40,\n        height: 30,\n        speed: 200,\n        velocityY: 0,\n        onGround: true\n      },\n      obstacles: [] as any[],\n      score: 0,\n      keys: {} as { [key: string]: boolean },\n      gameRunning: true,\n      lastTime: 0,\n      gravity: 800\n    };\n\n    // Input handling\n    const handleKeyDown = (e: KeyboardEvent) => {\n      gameState.keys[e.key.toLowerCase()] = true;\n      gameState.keys[e.code] = true;\n      \n      // Jump\n      if ((e.key.toLowerCase() === 'w' || e.code === 'ArrowUp' || e.code === 'Space') && gameState.player.onGround) {\n        gameState.player.velocityY = -400;\n        gameState.player.onGround = false;\n      }\n      \n      e.preventDefault();\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      gameState.keys[e.key.toLowerCase()] = false;\n      gameState.keys[e.code] = false;\n      e.preventDefault();\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    // Create obstacle\n    const createObstacle = () => {\n      return {\n        x: canvas.width - 100,\n        y: canvas.height - 80,\n        width: 30,\n        height: 30,\n        speed: 150,\n        color: ['#FF0000', '#00FF00', '#0000FF'][Math.floor(Math.random() * 3)]\n      };\n    };\n\n    // Collision detection\n    const checkCollision = (rect1: any, rect2: any) => {\n      return rect1.x < rect2.x + rect2.width &&\n             rect1.x + rect1.width > rect2.x &&\n             rect1.y < rect2.y + rect2.height &&\n             rect1.y + rect1.height > rect2.y;\n    };\n\n    // Game loop\n    const gameLoop = (currentTime: number) => {\n      if (!gameState.gameRunning || isPaused) {\n        if (gameState.gameRunning && isPaused) {\n          animationFrameRef.current = requestAnimationFrame(gameLoop);\n        }\n        return;\n      }\n\n      const deltaTime = currentTime - gameState.lastTime;\n      gameState.lastTime = currentTime;\n      const modifier = deltaTime / 1000;\n\n      // Clear canvas\n      ctx.fillStyle = '#87CEEB'; // Sky blue\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Draw ground\n      ctx.fillStyle = '#228B22';\n      ctx.fillRect(0, canvas.height - 50, canvas.width, 50);\n\n      // Update player\n      const player = gameState.player;\n      \n      // Horizontal movement\n      if (gameState.keys['a'] || gameState.keys['arrowleft']) {\n        player.x = Math.max(0, player.x - player.speed * modifier);\n      }\n      if (gameState.keys['d'] || gameState.keys['arrowright']) {\n        player.x = Math.min(canvas.width - player.width, player.x + player.speed * modifier);\n      }\n\n      // Gravity\n      if (!player.onGround) {\n        player.velocityY += gameState.gravity * modifier;\n        player.y += player.velocityY * modifier;\n        \n        if (player.y >= canvas.height - 80) {\n          player.y = canvas.height - 80;\n          player.onGround = true;\n          player.velocityY = 0;\n        }\n      }\n\n      // Draw player (capybara)\n      ctx.fillStyle = '#8B4513';\n      ctx.fillRect(player.x, player.y, player.width, player.height);\n      \n      // Draw head\n      ctx.fillStyle = '#654321';\n      ctx.fillRect(player.x + 25, player.y - 5, 20, 15);\n\n      // Update obstacles\n      gameState.obstacles.forEach((obstacle, index) => {\n        obstacle.x -= obstacle.speed * modifier;\n        \n        // Draw obstacle\n        ctx.fillStyle = obstacle.color;\n        ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);\n        \n        // Remove if off screen\n        if (obstacle.x + obstacle.width < 0) {\n          gameState.obstacles.splice(index, 1);\n          gameState.score += 10;\n          setCurrentScore(gameState.score);\n        }\n\n        // Check collision\n        if (checkCollision(player, obstacle)) {\n          endGame(gameState.score);\n          return;\n        }\n      });\n\n      // Spawn obstacles\n      if (Math.random() < 0.01) {\n        gameState.obstacles.push(createObstacle());\n      }\n\n      // Update score\n      gameState.score += Math.floor(modifier * 5);\n      setCurrentScore(gameState.score);\n\n      // Draw score\n      ctx.fillStyle = '#FFFFFF';\n      ctx.font = '20px Arial';\n      ctx.fillText(`Score: ${gameState.score}`, 10, 30);\n\n      // Draw instructions\n      ctx.font = '14px Arial';\n      ctx.fillText('WASD/Arrows to move, W/Up/Space to jump', 10, canvas.height - 10);\n      \n      // Debug info\n      ctx.fillText(`Player: ${Math.round(gameState.player.x)}, ${Math.round(gameState.player.y)}`, 10, 50);\n      ctx.fillText(`Obstacles: ${gameState.obstacles.length}`, 10, 70);\n\n      animationFrameRef.current = requestAnimationFrame(gameLoop);\n    };\n\n    const endGame = (finalScore: number) => {\n      gameState.gameRunning = false;\n      setIsGameRunning(false);\n      const newHighScore = Math.max(gameStats.highScore, finalScore);\n      const newStats = {\n        score: finalScore,\n        highScore: newHighScore,\n        gamesPlayed: gameStats.gamesPlayed + 1\n      };\n      \n      setGameStats(newStats);\n      localStorage.setItem('capirush-stats', JSON.stringify(newStats));\n      \n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n\n    // Start game immediately with visible elements\n    gameState.obstacles.push(createObstacle());\n    \n    // Force first render\n    ctx.fillStyle = '#87CEEB'; // Sky blue\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    \n    // Draw ground\n    ctx.fillStyle = '#228B22';\n    ctx.fillRect(0, canvas.height - 50, canvas.width, 50);\n    \n    // Draw player immediately\n    ctx.fillStyle = '#8B4513';\n    ctx.fillRect(gameState.player.x, gameState.player.y, gameState.player.width, gameState.player.height);\n    \n    // Draw head\n    ctx.fillStyle = '#654321';\n    ctx.fillRect(gameState.player.x + 25, gameState.player.y - 5, 20, 15);\n    \n    // Draw initial obstacle\n    const firstObstacle = gameState.obstacles[0];\n    if (firstObstacle) {\n      ctx.fillStyle = firstObstacle.color;\n      ctx.fillRect(firstObstacle.x, firstObstacle.y, firstObstacle.width, firstObstacle.height);\n    }\n    \n    // Start game loop\n    animationFrameRef.current = requestAnimationFrame(gameLoop);\n\n    gameRef.current = {\n      ...gameState,\n      cleanup: () => {\n        window.removeEventListener('keydown', handleKeyDown);\n        window.removeEventListener('keyup', handleKeyUp);\n        if (animationFrameRef.current) {\n          cancelAnimationFrame(animationFrameRef.current);\n        }\n      }\n    };\n  };\n\n  const startGame = () => {\n    setIsGameRunning(true);\n    setIsPaused(false);\n    setCurrentScore(0);\n    initializeGame();\n  };\n\n  const pauseResumeGame = () => {\n    setIsPaused(prev => !prev);\n  };\n\n  const resetGame = () => {\n    if (gameRef.current?.cleanup) {\n      gameRef.current.cleanup();\n    }\n    setIsGameRunning(false);\n    setIsPaused(false);\n    setCurrentScore(0);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (gameRef.current?.cleanup) {\n        gameRef.current.cleanup();\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"min-h-screen p-4 bg-gradient-to-br from-teal-600 via-teal-700 to-teal-800\">\n      {/* Header */}\n      <div className=\"max-w-6xl mx-auto mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-4\">\n            {onBackToMenu && (\n              <Button onClick={onBackToMenu} variant=\"outline\" size=\"sm\" className=\"bg-white/10 border-white/30\" data-testid=\"button-back-menu\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Menu\n              </Button>\n            )}\n            <h1 className=\"text-3xl font-bold text-white flex items-center gap-2\">\n              ðŸ¹ <span>CapiRush</span>\n            </h1>\n          </div>\n          <div className=\"flex gap-2\">\n            {isGameRunning && (\n              <Button onClick={pauseResumeGame} variant=\"secondary\" size=\"sm\" data-testid=\"button-pause-resume\">\n                {isPaused ? <Play className=\"w-4 h-4 mr-1\" /> : <Pause className=\"w-4 h-4 mr-1\" />}\n                {isPaused ? 'Resume' : 'Pause'}\n              </Button>\n            )}\n            <Button onClick={resetGame} variant=\"destructive\" size=\"sm\" data-testid=\"button-reset\">\n              <RotateCcw className=\"w-4 h-4 mr-1\" />\n              Reset\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-4 mb-6\">\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-yellow-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Current Score</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-current-score\">{currentScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-amber-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">High Score</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-high-score\">{gameStats.highScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Heart className=\"w-5 h-5 text-red-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Games Played</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-games-played\">{gameStats.gamesPlayed}</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n\n      {/* Game Area */}\n      <div className=\"max-w-6xl mx-auto flex flex-col items-center\">\n        <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/30\">\n          {!isGameRunning ? (\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">Ready for the Rush?</h2>\n              <p className=\"text-white/80 mb-6\">\n                Help the capybara navigate through an endless runner adventure! Dodge obstacles and rack up points!\n              </p>\n              <Button onClick={startGame} size=\"lg\" className=\"bg-teal-600 hover:bg-teal-700\" data-testid=\"button-start-capirush\">\n                ðŸ¹ Start CapiRush\n              </Button>\n            </div>\n          ) : (\n            <div className=\"relative\">\n              {isPaused && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/70 z-10 rounded-lg\">\n                  <div className=\"text-white text-center\">\n                    <div className=\"text-6xl mb-4\">â¸ï¸</div>\n                    <p className=\"text-2xl\">Game Paused</p>\n                    <p className=\"text-sm mt-2\">Press Resume to continue</p>\n                  </div>\n                </div>\n              )}\n              <canvas \n                ref={canvasRef}\n                width={800}\n                height={500}\n                className=\"border-2 border-teal-400/50 rounded-lg bg-sky-200\"\n                style={{ width: '800px', height: '500px' }}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Instructions */}\n        <div className=\"mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/30\">\n          <h3 className=\"text-lg font-semibold text-white mb-2\">How to Play:</h3>\n          <div className=\"text-white/80 space-y-1\">\n            <p>â€¢ Use <kbd className=\"bg-white/20 px-2 py-1 rounded\">WASD</kbd> or <kbd className=\"bg-white/20 px-2 py-1 rounded\">Arrow Keys</kbd> to move</p>\n            <p>â€¢ Dodge red, green, and blue obstacles</p>\n            <p>â€¢ Score points by surviving and avoiding obstacles</p>\n            <p>â€¢ Press <kbd className=\"bg-white/20 px-2 py-1 rounded\">W/Up/Space</kbd> to jump</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":13437},"client/src/components/WorkingCapiRush.tsx":{"content":"import React, { useRef, useEffect, useState } from 'react';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport { Trophy, ArrowLeft, Heart, Zap, Play, Pause, RotateCcw } from 'lucide-react';\n\ninterface WorkingCapiRushProps {\n  onBackToMenu?: () => void;\n}\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  gamesPlayed: number;\n}\n\nexport const WorkingCapiRush: React.FC<WorkingCapiRushProps> = ({ onBackToMenu }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const gameLoopRef = useRef<number>(0);\n  \n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capirush-stats');\n    return saved ? JSON.parse(saved) : {\n      score: 0,\n      highScore: 0,\n      gamesPlayed: 0\n    };\n  });\n  \n  const [isGameRunning, setIsGameRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [currentScore, setCurrentScore] = useState(0);\n  const [isMobile, setIsMobile] = useState(false);\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [soundVolume, setSoundVolume] = useState(70);\n  const [musicVolume, setMusicVolume] = useState(50);\n  const [gameLevel, setGameLevel] = useState(1);\n  const [achievements, setAchievements] = useState<string[]>([]);\n  const [touchControls, setTouchControls] = useState({\n    left: false,\n    right: false,\n    jump: false,\n    slide: false\n  });\n  \n  // AI-generated game images\n  const [gameImages, setGameImages] = useState<{[key: string]: HTMLImageElement}>({});\n  const [imagesLoaded, setImagesLoaded] = useState(false);\n\n  // Audio system\n  const audioRef = useRef<{[key: string]: HTMLAudioElement}>({});\n  const backgroundMusicRef = useRef<HTMLAudioElement | null>(null);\n  \n  // Game state\n  // Achievement checking function\n  const checkAchievements = (stats: any) => {\n    const newAchievements: string[] = [];\n    \n    if (stats.gamesPlayed >= 1 && !achievements.includes('first_game')) {\n      newAchievements.push('first_game');\n    }\n    if (stats.highScore >= 500 && !achievements.includes('score_500')) {\n      newAchievements.push('score_500');\n    }\n    if (stats.highScore >= 1000 && !achievements.includes('score_1000')) {\n      newAchievements.push('score_1000');\n    }\n    if (stats.coinsCollected >= 100 && !achievements.includes('coins_100')) {\n      newAchievements.push('coins_100');\n    }\n    if (stats.gamesPlayed >= 10 && !achievements.includes('veteran')) {\n      newAchievements.push('veteran');\n    }\n    \n    if (newAchievements.length > 0) {\n      setAchievements(prev => [...prev, ...newAchievements]);\n      localStorage.setItem('achievements', JSON.stringify([...achievements, ...newAchievements]));\n      playSound('levelUp');\n    }\n  };\n\n  const gameState = useRef({\n    player: { \n      x: 100, y: 420, width: 40, height: 30, vy: 0, onGround: true,\n      speed: 5, doubleJumpAvailable: false, isSliding: false\n    },\n    obstacles: [\n      { x: 600, y: 420, width: 30, height: 30, color: '#FF0000', type: 'normal', passed: false, vy: 0 },\n      { x: 800, y: 420, width: 30, height: 30, color: '#00FF00', type: 'normal', passed: false, vy: 0 }\n    ],\n    powerUps: [] as any[],\n    coins: [] as any[],\n    score: 0,\n    coins_collected: 0,\n    combo: 0,\n    combo_multiplier: 1,\n    keys: {} as { [key: string]: boolean },\n    effects: {\n      speedBoost: 0,\n      invincibility: 0,\n      coinMagnet: 0,\n      doubleJump: false,\n      // New power-ups\n      shield: 0,\n      coinMultiplier: { active: false, multiplier: 1, duration: 0 },\n      slowMotion: 0,\n      dash: 0,\n      tripleJump: 0\n    },\n    particles: [] as any[],\n    // Enhanced game features\n    gameSpeed: 1,\n    difficultyLevel: 1,\n    weatherEffects: [] as any[],\n    screenShake: { intensity: 0, duration: 0 },\n    capybaraTrail: [] as any[],\n    miniBoss: null as any,\n    dailyChallenge: {\n      type: 'score', // 'score', 'coins', 'survive'\n      target: 500,\n      progress: 0,\n      completed: false\n    }\n  });\n\n  // Enhanced mobile detection for Telegram and other mobile apps\n  useEffect(() => {\n    const checkMobile = () => {\n      const isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS|Telegram/i.test(navigator.userAgent) || \n                           window.innerWidth <= 768 ||\n                           'ontouchstart' in window ||\n                           (window as any).TelegramWebApp ||\n                           navigator.maxTouchPoints > 0;\n      setIsMobile(isMobileDevice);\n      \n      // Initialize Telegram WebApp if available\n      if ((window as any).TelegramWebApp) {\n        (window as any).TelegramWebApp.ready();\n        (window as any).TelegramWebApp.MainButton.hide();\n        (window as any).TelegramWebApp.expand();\n        \n        // Enhanced image reload for Telegram and mobile WebViews\n        setTimeout(() => {\n          const images = Object.values(gameImages);\n          images.forEach(img => {\n            if (img && img.src) {\n              // Force cache clearing and reload\n              const newSrc = img.src.split('?')[0] + '?v=' + Date.now() + '&mobile=1';\n              img.src = newSrc;\n              // Also trigger a second reload for stubborn caches\n              setTimeout(() => {\n                if (img && !img.complete) {\n                  img.src = img.src + '&retry=1';\n                }\n              }, 500);\n            }\n          });\n          \n          // Force a canvas redraw after image reload\n          setTimeout(() => {\n            // Trigger reload of game textures if game is running\n            setGameImages(prev => ({ ...prev }));\n          }, 2000);\n        }, 1500);\n      }\n      \n      // Optimize for mobile and Telegram\n      if (isMobileDevice) {\n        const viewport = document.querySelector('meta[name=viewport]');\n        if (viewport) {\n          viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover');\n        } else {\n          const newViewport = document.createElement('meta');\n          newViewport.name = 'viewport';\n          newViewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover';\n          document.head.appendChild(newViewport);\n        }\n        \n        // Disable image caching for mobile WebViews\n        document.addEventListener('DOMContentLoaded', () => {\n          const images = document.querySelectorAll('img');\n          images.forEach(img => {\n            if (img.src && !img.src.includes('?v=')) {\n              img.src = img.src + '?v=' + Date.now();\n            }\n          });\n        });\n      }\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, [gameImages]);\n\n  // Load AI-generated game images\n  useEffect(() => {\n    const loadImages = async () => {\n      const imageUrls = {\n        capybara: '/images/Professional_capybara_character_sprite_01f56ee3.png',\n        background: '/images/Mystical_forest_game_background_58a2540a.png',\n        coin: '/images/Golden_capybara_cryptocurrency_coin_d8288b6d.png',\n        spikeTrap: '/images/Spike_trap_obstacle_43af5d9b.png',\n        energyBarrier: '/images/Energy_barrier_obstacle_3387a6c8.png',\n        tree: '/images/Detailed_game_tree_sprite_15e5af21.png',\n        grass: '/images/Seamless_grass_texture_c8a63111.png',\n        // New power-ups\n        shield: '/images/Shield_power-up_icon_ee2ffa1a.png',\n        coinMultiplier: '/images/Coin_multiplier_power-up_62305235.png',\n        slowMotion: '/images/Slow_motion_power-up_48d17cd8.png',\n        dash: '/images/Dash_teleport_power-up_d5d37feb.png',\n        tripleJump: '/images/Triple_jump_power-up_d04468b7.png',\n        // Visual effects\n        miniBoss: '/images/Forest_mini-boss_enemy_e80d2b41.png',\n        leaves: '/images/Magical_falling_leaves_5c09b3db.png',\n        trail: '/images/Energy_trail_effect_880ef858.png',\n        achievements: '/images/Achievement_badges_collection_7fcc51e5.png'\n      };\n\n      const loadedImages: {[key: string]: HTMLImageElement} = {};\n      const promises = Object.entries(imageUrls).map(([key, url]) => {\n        return new Promise<void>((resolve) => {\n          const img = new Image();\n          img.onload = () => {\n            loadedImages[key] = img;\n            resolve();\n          };\n          img.onerror = () => {\n            console.warn(`Failed to load ${key} image`);\n            resolve(); // Continue even if image fails to load\n          };\n          img.src = url;\n        });\n      });\n\n      await Promise.all(promises);\n      setGameImages(loadedImages);\n      setImagesLoaded(true);\n      console.log('Images loaded successfully:', Object.keys(loadedImages));\n    };\n\n    loadImages();\n  }, []);\n\n  // Enhanced Audio system initialization\n  useEffect(() => {\n    if (!audioEnabled) return;\n\n    // Initialize audio context and sounds\n    const initAudio = () => {\n      try {\n        // Create audio elements for sound effects with real audio files\n        const sounds = {\n          jump: new Audio('/sounds/success.mp3'),\n          coin: new Audio('/sounds/success.mp3'), \n          powerup: new Audio('/sounds/success.mp3'),\n          hit: new Audio('/sounds/hit.mp3'),\n          slide: new Audio('/sounds/hit.mp3'),\n          shield: new Audio('/sounds/success.mp3'),\n          speedBoost: new Audio('/sounds/success.mp3'),\n          magnet: new Audio('/sounds/success.mp3'),\n          slowMotion: new Audio('/sounds/ambient-loop.mp3'),\n          dash: new Audio('/sounds/success.mp3'),\n          tripleJump: new Audio('/sounds/success.mp3'),\n          gameOver: new Audio('/sounds/hit.mp3'),\n          levelUp: new Audio('/sounds/success.mp3'),\n          combo: new Audio('/sounds/success.mp3')\n        };\n\n        Object.entries(sounds).forEach(([key, audio]) => {\n          audio.volume = soundVolume / 100;\n          audio.preload = 'auto';\n          audioRef.current[key] = audio;\n        });\n\n        // Background music with real audio file\n        backgroundMusicRef.current = new Audio('/sounds/background.mp3');\n        backgroundMusicRef.current.loop = true;\n        backgroundMusicRef.current.volume = musicVolume / 100;\n        backgroundMusicRef.current.preload = 'auto';\n        \n        // Auto-play background music when game starts\n        if (isGameRunning && backgroundMusicRef.current && !backgroundMusicRef.current.currentTime) {\n          backgroundMusicRef.current.play().catch(e => console.warn('Background music autoplay blocked:', e));\n        }\n      } catch (error) {\n        console.warn('Audio initialization failed:', error);\n      }\n    };\n\n    initAudio();\n  }, [audioEnabled, soundVolume, musicVolume]);\n\n  // Enhanced sound effect player\n  const playSound = (soundName: string, volumeOverride?: number) => {\n    if (!audioEnabled || !audioRef.current[soundName]) return;\n    try {\n      const audio = audioRef.current[soundName];\n      audio.currentTime = 0;\n      if (volumeOverride !== undefined) {\n        audio.volume = volumeOverride / 100;\n      } else {\n        audio.volume = soundVolume / 100;\n      }\n      audio.play().catch(e => console.warn('Sound play failed:', e));\n    } catch (error) {\n      console.warn('Sound effect failed:', error);\n    }\n  };\n\n  // Background music controls\n  const toggleBackgroundMusic = () => {\n    if (!backgroundMusicRef.current) return;\n    \n    if (backgroundMusicRef.current.paused) {\n      backgroundMusicRef.current.play().catch(e => console.warn('Music play failed:', e));\n    } else {\n      backgroundMusicRef.current.pause();\n    }\n  };\n\n  const updateAudioVolumes = () => {\n    // Update background music volume\n    if (backgroundMusicRef.current) {\n      backgroundMusicRef.current.volume = musicVolume / 100;\n    }\n    \n    // Update sound effects volumes\n    Object.values(audioRef.current).forEach((audio: any) => {\n      if (audio && audio.volume !== undefined) {\n        audio.volume = soundVolume / 100;\n      }\n    });\n  };\n\n  // Update volumes when they change\n  useEffect(() => {\n    updateAudioVolumes();\n  }, [musicVolume, soundVolume]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas || !isGameRunning) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas size with screen shake effect\n    canvas.width = 800;\n    canvas.height = 500;\n    \n    // Apply screen shake\n    let shakeX = 0, shakeY = 0;\n    if (gameState.current.screenShake.duration > 0) {\n      shakeX = (Math.random() - 0.5) * gameState.current.screenShake.intensity;\n      shakeY = (Math.random() - 0.5) * gameState.current.screenShake.intensity;\n      gameState.current.screenShake.duration--;\n    }\n    ctx.translate(shakeX, shakeY);\n\n    // Helper functions for drawing\n    const drawCloud = (ctx: CanvasRenderingContext2D, x: number, y: number, size: number) => {\n      ctx.beginPath();\n      ctx.arc(x, y, size, 0, Math.PI * 2);\n      ctx.arc(x + size * 0.5, y, size * 0.8, 0, Math.PI * 2);\n      ctx.arc(x + size * 1.2, y, size * 0.7, 0, Math.PI * 2);\n      ctx.arc(x + size * 1.8, y, size * 0.9, 0, Math.PI * 2);\n      ctx.fill();\n    };\n\n    const drawCapybara = (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number) => {\n      const animOffset = Math.sin(Date.now() / 200) * 1;\n      \n      // Shadow\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\n      ctx.beginPath();\n      ctx.ellipse(x + width/2, y + height + 2, width/2 - 2, 4, 0, 0, Math.PI * 2);\n      ctx.fill();\n      \n      // Use AI-generated capybara sprite if loaded (flipped to face right)\n      if (gameImages.capybara && imagesLoaded) {\n        ctx.save();\n        // Flip horizontally to face right\n        ctx.scale(-1, 1);\n        // Create a temporary canvas to process the image\n        const tempCanvas = document.createElement('canvas');\n        const tempCtx = tempCanvas.getContext('2d')!;\n        tempCanvas.width = width;\n        tempCanvas.height = height;\n        \n        // Draw the image to temp canvas\n        tempCtx.drawImage(gameImages.capybara, 0, 0, width, height);\n        \n        // Get image data and make white pixels transparent\n        const imageData = tempCtx.getImageData(0, 0, width, height);\n        const data = imageData.data;\n        \n        for (let i = 0; i < data.length; i += 4) {\n          const r = data[i];\n          const g = data[i + 1]; \n          const b = data[i + 2];\n          \n          // If pixel is mostly white/light (more aggressive), make it transparent\n          if (r > 200 && g > 200 && b > 200) {\n            data[i + 3] = 0; // Set alpha to 0\n          }\n        }\n        \n        // Put the processed image data back\n        tempCtx.putImageData(imageData, 0, 0);\n        \n        // Draw the processed image\n        ctx.drawImage(tempCanvas, -x - width, y + animOffset);\n        ctx.restore();\n      } else {\n        // Fallback simple capybara\n        ctx.fillStyle = '#D2691E';\n        ctx.fillRect(x, y + animOffset, width, height);\n        ctx.fillStyle = '#000';\n        ctx.fillRect(x + width - 8, y + 5 + animOffset, 2, 2);\n        ctx.fillRect(x + width - 4, y + 5 + animOffset, 2, 2);\n      }\n    };\n\n    const drawPowerUp = (ctx: CanvasRenderingContext2D, x: number, y: number, type: string) => {\n      const size = 20;\n      const glow = Math.sin(Date.now() / 300) * 0.3 + 0.7;\n      const float = Math.sin(Date.now() / 400) * 2;\n      \n      ctx.save();\n      ctx.translate(x + size/2, y + size/2 + float);\n      \n      if (type === 'speed') {\n        // Lightning Speed Boost\n        ctx.shadowColor = '#FFD700';\n        ctx.shadowBlur = 12 * glow;\n        \n        const speedGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, size/2);\n        speedGradient.addColorStop(0, '#FFFF99');\n        speedGradient.addColorStop(0.6, '#FFD700');\n        speedGradient.addColorStop(1, '#DAA520');\n        ctx.fillStyle = speedGradient;\n        ctx.beginPath();\n        ctx.arc(0, 0, size/2, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Lightning bolt shape\n        ctx.fillStyle = '#FFF';\n        ctx.beginPath();\n        ctx.moveTo(-3, -6);\n        ctx.lineTo(2, -2);\n        ctx.lineTo(-1, 0);\n        ctx.lineTo(4, 6);\n        ctx.lineTo(-2, 2);\n        ctx.lineTo(1, 0);\n        ctx.closePath();\n        ctx.fill();\n        \n        // Electric sparks\n        for (let i = 0; i < 3; i++) {\n          const angle = (Date.now() / 200 + i * 2) % (Math.PI * 2);\n          const sparkX = Math.cos(angle) * 12;\n          const sparkY = Math.sin(angle) * 12;\n          ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n          ctx.beginPath();\n          ctx.arc(sparkX, sparkY, 1, 0, Math.PI * 2);\n          ctx.fill();\n        }\n        \n      } else if (type === 'shield') {\n        // Protective Shield\n        ctx.shadowColor = '#4169E1';\n        ctx.shadowBlur = 12 * glow;\n        \n        const shieldGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, size/2);\n        shieldGradient.addColorStop(0, '#87CEEB');\n        shieldGradient.addColorStop(0.6, '#4169E1');\n        shieldGradient.addColorStop(1, '#191970');\n        ctx.fillStyle = shieldGradient;\n        ctx.beginPath();\n        ctx.arc(0, 0, size/2, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Shield symbol\n        ctx.fillStyle = '#FFF';\n        ctx.beginPath();\n        ctx.moveTo(0, -6);\n        ctx.quadraticCurveTo(-6, -2, -6, 2);\n        ctx.quadraticCurveTo(-3, 6, 0, 6);\n        ctx.quadraticCurveTo(3, 6, 6, 2);\n        ctx.quadraticCurveTo(6, -2, 0, -6);\n        ctx.fill();\n        \n        // Cross design\n        ctx.fillStyle = '#4169E1';\n        ctx.fillRect(-1, -4, 2, 8);\n        ctx.fillRect(-4, -1, 8, 2);\n        \n      } else if (type === 'jump') {\n        // Double Jump\n        ctx.shadowColor = '#32CD32';\n        ctx.shadowBlur = 12 * glow;\n        \n        const jumpGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, size/2);\n        jumpGradient.addColorStop(0, '#98FB98');\n        jumpGradient.addColorStop(0.6, '#32CD32');\n        jumpGradient.addColorStop(1, '#228B22');\n        ctx.fillStyle = jumpGradient;\n        ctx.beginPath();\n        ctx.arc(0, 0, size/2, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Double arrow\n        ctx.fillStyle = '#FFF';\n        ctx.beginPath();\n        ctx.moveTo(0, -7);\n        ctx.lineTo(-3, -3);\n        ctx.lineTo(-1, -3);\n        ctx.lineTo(-1, -1);\n        ctx.lineTo(1, -1);\n        ctx.lineTo(1, -3);\n        ctx.lineTo(3, -3);\n        ctx.closePath();\n        ctx.fill();\n        \n        ctx.beginPath();\n        ctx.moveTo(0, -1);\n        ctx.lineTo(-3, 3);\n        ctx.lineTo(-1, 3);\n        ctx.lineTo(-1, 5);\n        ctx.lineTo(1, 5);\n        ctx.lineTo(1, 3);\n        ctx.lineTo(3, 3);\n        ctx.closePath();\n        ctx.fill();\n        \n      } else if (type === 'magnet') {\n        // Coin Magnet\n        ctx.shadowColor = '#FF1493';\n        ctx.shadowBlur = 12 * glow;\n        \n        const magnetGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, size/2);\n        magnetGradient.addColorStop(0, '#FFB6C1');\n        magnetGradient.addColorStop(0.6, '#FF1493');\n        magnetGradient.addColorStop(1, '#C71585');\n        ctx.fillStyle = magnetGradient;\n        ctx.beginPath();\n        ctx.arc(0, 0, size/2, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Magnet shape\n        ctx.fillStyle = '#FFF';\n        ctx.fillRect(-5, -6, 3, 8);\n        ctx.fillRect(2, -6, 3, 8);\n        ctx.fillRect(-5, -6, 10, 3);\n        \n        // Magnetic field lines\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.6)';\n        ctx.lineWidth = 1;\n        for (let i = 0; i < 3; i++) {\n          ctx.beginPath();\n          ctx.arc(0, 0, 8 + i * 2, -Math.PI/3, -2*Math.PI/3, true);\n          ctx.stroke();\n          ctx.beginPath();\n          ctx.arc(0, 0, 8 + i * 2, Math.PI/3, 2*Math.PI/3);\n          ctx.stroke();\n        }\n        \n        // Attracted coin particles\n        for (let i = 0; i < 2; i++) {\n          const angle = Date.now() / 500 + i * Math.PI;\n          const coinX = Math.cos(angle) * 15;\n          const coinY = Math.sin(angle) * 15;\n          ctx.fillStyle = 'rgba(255, 215, 0, 0.6)';\n          ctx.beginPath();\n          ctx.arc(coinX, coinY, 2, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      }\n      \n      ctx.restore();\n    };\n\n    const drawCoin = (ctx: CanvasRenderingContext2D, x: number, y: number) => {\n      const spin = (Date.now() / 100) % (Math.PI * 2);\n      const coinScale = Math.abs(Math.cos(spin));\n      const glow = Math.sin(Date.now() / 200) * 0.3 + 0.7;\n      \n      ctx.save();\n      ctx.translate(x + 10, y + 10);\n      ctx.scale(coinScale, 1);\n      \n      // Use AI-generated coin image if available\n      if (gameImages.coin && imagesLoaded) {\n        ctx.shadowColor = '#FFD700';\n        ctx.shadowBlur = 12 * glow;\n        \n        // Process image to remove white background\n        const tempCanvas = document.createElement('canvas');\n        const tempCtx = tempCanvas.getContext('2d')!;\n        tempCanvas.width = 30;\n        tempCanvas.height = 30;\n        \n        // Draw the coin image\n        tempCtx.drawImage(gameImages.coin, 0, 0, 30, 30);\n        \n        // Get image data and make white/light pixels transparent\n        const imageData = tempCtx.getImageData(0, 0, 30, 30);\n        const data = imageData.data;\n        \n        for (let i = 0; i < data.length; i += 4) {\n          const r = data[i];\n          const g = data[i + 1]; \n          const b = data[i + 2];\n          \n          // If pixel is light/white (aggressive threshold), make it transparent\n          if (r > 200 && g > 200 && b > 200) {\n            data[i + 3] = 0; // Set alpha to 0\n          }\n        }\n        \n        // Put the processed image data back\n        tempCtx.putImageData(imageData, 0, 0);\n        \n        // Draw the processed transparent coin\n        ctx.drawImage(tempCanvas, -15, -15);\n        \n        // Add sparkle effects\n        if (Math.random() < 0.3) {\n          ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n          ctx.beginPath();\n          ctx.arc(-6 + Math.random() * 12, -6 + Math.random() * 12, 1, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      } else {\n        // Fallback to original coin drawing\n        // Coin shadow\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\n        ctx.beginPath();\n        ctx.ellipse(0, 12, 8, 3, 0, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Outer coin ring with glow\n        ctx.shadowColor = '#FFD700';\n        ctx.shadowBlur = 8 * glow;\n        const outerGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, 9);\n        outerGradient.addColorStop(0, '#FFF8DC');\n        outerGradient.addColorStop(0.7, '#FFD700');\n        outerGradient.addColorStop(1, '#DAA520');\n        ctx.fillStyle = outerGradient;\n        ctx.beginPath();\n        ctx.arc(0, 0, 9, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Inner coin\n        const innerGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, 6);\n        innerGradient.addColorStop(0, '#FFFF99');\n        innerGradient.addColorStop(0.8, '#FFA500');\n        innerGradient.addColorStop(1, '#FF8C00');\n        ctx.fillStyle = innerGradient;\n        ctx.beginPath();\n        ctx.arc(0, 0, 6, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // CAPY symbol\n        ctx.fillStyle = '#8B4513';\n        ctx.font = 'bold 8px Arial';\n        ctx.textAlign = 'center';\n        ctx.fillText('C', 0, 2);\n        \n        // Sparkle effects\n        if (Math.random() < 0.3) {\n          ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n          ctx.beginPath();\n          ctx.arc(-6 + Math.random() * 12, -6 + Math.random() * 12, 1, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      }\n      \n      ctx.restore();\n    };\n\n    const drawParticle = (ctx: CanvasRenderingContext2D, particle: any) => {\n      ctx.save();\n      ctx.globalAlpha = particle.alpha;\n      \n      if (particle.type === 'sparkle') {\n        // Sparkling particle effect\n        ctx.fillStyle = particle.color;\n        ctx.shadowColor = particle.color;\n        ctx.shadowBlur = 6;\n        ctx.beginPath();\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Add cross sparkle effect\n        ctx.strokeStyle = particle.color;\n        ctx.lineWidth = 1;\n        ctx.beginPath();\n        ctx.moveTo(particle.x - particle.size * 2, particle.y);\n        ctx.lineTo(particle.x + particle.size * 2, particle.y);\n        ctx.moveTo(particle.x, particle.y - particle.size * 2);\n        ctx.lineTo(particle.x, particle.y + particle.size * 2);\n        ctx.stroke();\n      } else if (particle.type === 'explosion') {\n        // Explosion particle\n        const gradient = ctx.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y, particle.size);\n        gradient.addColorStop(0, particle.color);\n        gradient.addColorStop(1, 'transparent');\n        ctx.fillStyle = gradient;\n        ctx.beginPath();\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n        ctx.fill();\n      } else {\n        // Standard rectangular particle\n        ctx.fillStyle = particle.color;\n        ctx.fillRect(particle.x, particle.y, particle.size, particle.size);\n      }\n      \n      ctx.restore();\n    };\n\n    const drawObstacle = (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, color: string, type: string = 'normal') => {\n      const pulse = Math.sin(Date.now() / 300) * 0.1 + 1;\n      \n      // Use AI-generated obstacle images if available\n      if (type === 'spike' && gameImages.spikeTrap && imagesLoaded) {\n        ctx.drawImage(gameImages.spikeTrap, x, y, width, height);\n        return;\n      } else if (type === 'energy' && gameImages.energyBarrier && imagesLoaded) {\n        ctx.save();\n        ctx.globalAlpha = 0.8;\n        ctx.drawImage(gameImages.energyBarrier, x, y, width, height);\n        ctx.restore();\n        return;\n      }\n      \n      if (color === '#FF0000') {\n        // Mystical Red Crystal\n        ctx.save();\n        ctx.translate(x + width/2, y + height/2);\n        ctx.scale(pulse, pulse);\n        \n        // Crystal shadow\n        ctx.fillStyle = 'rgba(139, 0, 0, 0.3)';\n        ctx.fillRect(-width/2, height/2 - 2, width, 4);\n        \n        // Main crystal body\n        const crystalGradient = ctx.createLinearGradient(-width/2, -height/2, width/2, height/2);\n        crystalGradient.addColorStop(0, '#FF6B6B');\n        crystalGradient.addColorStop(0.5, '#FF0000');\n        crystalGradient.addColorStop(1, '#8B0000');\n        ctx.fillStyle = crystalGradient;\n        \n        // Crystal shape\n        ctx.beginPath();\n        ctx.moveTo(0, -height/2);\n        ctx.lineTo(width/3, -height/4);\n        ctx.lineTo(width/2, height/4);\n        ctx.lineTo(0, height/2);\n        ctx.lineTo(-width/2, height/4);\n        ctx.lineTo(-width/3, -height/4);\n        ctx.closePath();\n        ctx.fill();\n        \n        // Crystal highlights\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';\n        ctx.beginPath();\n        ctx.moveTo(-width/4, -height/3);\n        ctx.lineTo(-width/6, -height/4);\n        ctx.lineTo(-width/8, -height/6);\n        ctx.closePath();\n        ctx.fill();\n        \n        // Glow effect\n        ctx.shadowColor = '#FF0000';\n        ctx.shadowBlur = 8;\n        ctx.strokeStyle = '#FF4444';\n        ctx.lineWidth = 2;\n        ctx.stroke();\n        \n        ctx.restore();\n        \n      } else if (color === '#00FF00') {\n        // Enchanted Tree\n        ctx.save();\n        ctx.translate(x + width/2, y + height);\n        \n        // Tree shadow\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';\n        ctx.beginPath();\n        ctx.ellipse(0, 0, width/2, 6, 0, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Trunk with bark texture\n        const trunkGradient = ctx.createLinearGradient(-4, 0, 4, 0);\n        trunkGradient.addColorStop(0, '#8B4513');\n        trunkGradient.addColorStop(0.5, '#A0522D');\n        trunkGradient.addColorStop(1, '#654321');\n        ctx.fillStyle = trunkGradient;\n        ctx.fillRect(-4, -height + 8, 8, height - 8);\n        \n        // Foliage layers with gradient\n        const foliageGradient = ctx.createRadialGradient(0, -height + 10, 0, 0, -height + 10, width/2);\n        foliageGradient.addColorStop(0, '#90EE90');\n        foliageGradient.addColorStop(0.7, '#32CD32');\n        foliageGradient.addColorStop(1, '#228B22');\n        ctx.fillStyle = foliageGradient;\n        \n        // Main foliage clusters\n        ctx.beginPath();\n        ctx.arc(-4, -height + 12, width/3, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.beginPath();\n        ctx.arc(4, -height + 8, width/3, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.beginPath();\n        ctx.arc(0, -height + 5, width/2.5, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Mystical glow particles\n        ctx.fillStyle = 'rgba(144, 238, 144, 0.6)';\n        for (let i = 0; i < 3; i++) {\n          const angle = (Date.now() / 1000 + i) * 2;\n          const orbX = Math.cos(angle) * (width/4);\n          const orbY = -height/2 + Math.sin(angle * 2) * 8;\n          ctx.beginPath();\n          ctx.arc(orbX, orbY, 2, 0, Math.PI * 2);\n          ctx.fill();\n        }\n        \n        ctx.restore();\n        \n      } else {\n        // Magical Water Stone\n        ctx.save();\n        ctx.translate(x + width/2, y + height/2);\n        ctx.scale(pulse, pulse);\n        \n        // Stone shadow\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\n        ctx.beginPath();\n        ctx.ellipse(0, height/2 - 2, width/2, 4, 0, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Main stone body with gradient\n        const stoneGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, width/2);\n        stoneGradient.addColorStop(0, '#87CEEB');\n        stoneGradient.addColorStop(0.6, '#4169E1');\n        stoneGradient.addColorStop(1, '#191970');\n        ctx.fillStyle = stoneGradient;\n        ctx.beginPath();\n        ctx.ellipse(0, 0, width/2, height/2, 0, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Stone texture spots\n        ctx.fillStyle = 'rgba(25, 25, 112, 0.4)';\n        ctx.beginPath();\n        ctx.ellipse(-width/4, -height/4, width/6, height/6, 0, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.beginPath();\n        ctx.ellipse(width/6, height/6, width/8, height/8, 0, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Water-like shimmer effect\n        ctx.strokeStyle = 'rgba(135, 206, 235, 0.8)';\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        const shimmer = Math.sin(Date.now() / 200) * 0.3;\n        ctx.moveTo(-width/3 + shimmer * 5, -height/4);\n        ctx.quadraticCurveTo(0, -height/6, width/3 + shimmer * 5, -height/4);\n        ctx.stroke();\n        \n        // Magical aura\n        ctx.shadowColor = '#4169E1';\n        ctx.shadowBlur = 6;\n        ctx.strokeStyle = '#6495ED';\n        ctx.lineWidth = 1;\n        ctx.beginPath();\n        ctx.ellipse(0, 0, width/2 + 2, height/2 + 2, 0, 0, Math.PI * 2);\n        ctx.stroke();\n        \n        ctx.restore();\n      }\n    };\n\n    // Input handlers  \n    const handleKeyDown = (e: KeyboardEvent) => {\n      gameState.current.keys[e.key.toLowerCase()] = true;\n      \n      // Jump or double jump\n      if (e.key.toLowerCase() === 'w' || e.key === ' ') {\n        handleJump();\n      }\n      \n      // Sliding\n      if (e.key.toLowerCase() === 's' || e.code === 'ArrowDown') {\n        handleSlideStart();\n      }\n      \n      e.preventDefault();\n    };\n\n    const handleJump = () => {\n      if (gameState.current.player.onGround) {\n        gameState.current.player.vy = -12;\n        gameState.current.player.onGround = false;\n        gameState.current.player.doubleJumpAvailable = gameState.current.effects.doubleJump;\n      } else if (gameState.current.player.doubleJumpAvailable) {\n        gameState.current.player.vy = -10;\n        gameState.current.player.doubleJumpAvailable = false;\n        // Add double jump particles\n        for (let i = 0; i < 5; i++) {\n          gameState.current.particles.push({\n            x: gameState.current.player.x + Math.random() * 40,\n            y: gameState.current.player.y + 30,\n            size: 3,\n            color: '#32CD32',\n            alpha: 1,\n            vy: Math.random() * 3 + 1,\n            life: 30\n          });\n        }\n      }\n    };\n\n    const handleSlideStart = () => {\n      gameState.current.player.isSliding = true;\n    };\n\n    const handleSlideEnd = () => {\n      gameState.current.player.isSliding = false;\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      gameState.current.keys[e.key.toLowerCase()] = false;\n      \n      // Stop sliding\n      if (e.key.toLowerCase() === 's' || e.code === 'ArrowDown') {\n        handleSlideEnd();\n      }\n      \n      e.preventDefault();\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    // Game loop with delta time for consistent speed across all devices\n    let lastTime = performance.now();\n    const render = (currentTime: number = performance.now()) => {\n      if (isPaused) {\n        gameLoopRef.current = requestAnimationFrame(render);\n        return;\n      }\n\n      // Calculate delta time (time between frames) for consistent speed\n      const deltaTime = Math.min((currentTime - lastTime) / 16.67, 2); // Normalize to 60 FPS, cap at 2x\n      lastTime = currentTime;\n\n      const state = gameState.current;\n\n      // Draw AI-generated mystical forest background\n      if (gameImages.background && imagesLoaded) {\n        ctx.drawImage(gameImages.background, 0, 0, canvas.width, canvas.height);\n      } else {\n        // Fallback gradient background\n        const forestGradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);\n        forestGradient.addColorStop(0, '#2D5016');\n        forestGradient.addColorStop(0.3, '#1F5151');\n        forestGradient.addColorStop(0.6, '#345041');\n        forestGradient.addColorStop(1, '#1B263B');\n        ctx.fillStyle = forestGradient;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n      }\n\n      // Trees removed per user request\n\n      // Add mystical floating lights\n      ctx.fillStyle = '#7FB069';\n      ctx.globalAlpha = 0.4;\n      for (let i = 0; i < 12; i++) {\n        const x = (i * 70 + Math.sin(Date.now() / 1500 + i) * 30) % canvas.width;\n        const y = 80 + Math.sin(Date.now() / 1200 + i * 1.5) * 40;\n        ctx.beginPath();\n        ctx.arc(x, y, 2 + Math.sin(Date.now() / 800 + i) * 1, 0, Math.PI * 2);\n        ctx.fill();\n      }\n      ctx.globalAlpha = 1;\n\n      // Draw grass texture floor\n      if (gameImages.grass && imagesLoaded) {\n        // Use generated grass texture\n        const pattern = ctx.createPattern(gameImages.grass, 'repeat');\n        if (pattern) {\n          ctx.fillStyle = pattern;\n          ctx.fillRect(0, 450, canvas.width, 50);\n        }\n      } else {\n        // Fallback to clean forest floor\n        ctx.fillStyle = '#2F4F2F';\n        ctx.fillRect(0, 450, canvas.width, 50);\n        \n        // Add simple grass texture\n        ctx.fillStyle = '#3D5A3B';\n        for (let i = 0; i < canvas.width; i += 6) {\n          const grassHeight = 2 + Math.sin(i * 0.1) * 1;\n          ctx.fillRect(i, 450, 3, grassHeight);\n        }\n      }\n      \n      // Add mystical forest details - glowing mushrooms and plants\n      ctx.fillStyle = '#7FB069';\n      ctx.globalAlpha = 0.6;\n      for (let i = 0; i < canvas.width; i += 25) {\n        const x = i + Math.sin(Date.now() / 2000 + i) * 2;\n        // Small glowing plants\n        ctx.fillRect(x, 450 + Math.random() * 10, 3, 8);\n        if (i % 60 === 0) {\n          // Glowing mushrooms\n          ctx.fillStyle = '#FFD23F';\n          ctx.beginPath();\n          ctx.arc(x, 455, 4, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.fillStyle = '#7FB069';\n        }\n      }\n      ctx.globalAlpha = 1;\n\n      // Update player physics with delta time normalization\n      if (!state.player.onGround) {\n        state.player.vy += 0.8 * deltaTime; // gravity normalized to delta time\n        state.player.y += state.player.vy * deltaTime;\n        \n        if (state.player.y >= 420) {\n          state.player.y = 420;\n          state.player.vy = 0;\n          state.player.onGround = true;\n        }\n      }\n\n      // Progressive difficulty system\n      const newDifficultyLevel = Math.floor(state.score / 500) + 1;\n      if (newDifficultyLevel !== state.difficultyLevel) {\n        state.difficultyLevel = newDifficultyLevel;\n        state.gameSpeed = Math.min(1 + (newDifficultyLevel - 1) * 0.3, 3);\n        playSound('levelUp');\n        \n        // Add level up celebration particles\n        for (let i = 0; i < 20; i++) {\n          state.particles.push({\n            x: state.player.x + 20,\n            y: state.player.y + 15,\n            size: 6,\n            color: '#FFD700',\n            alpha: 1,\n            vy: (Math.random() - 0.5) * 8,\n            life: 80\n          });\n        }\n      }\n\n      // Update power-up effects with delta time normalization\n      if (state.effects.speedBoost > 0) state.effects.speedBoost -= deltaTime;\n      if (state.effects.invincibility > 0) state.effects.invincibility -= deltaTime;\n      if (state.effects.coinMagnet > 0) state.effects.coinMagnet -= deltaTime;\n      if (state.effects.shield > 0) state.effects.shield -= deltaTime;\n      if (state.effects.slowMotion > 0) state.effects.slowMotion -= deltaTime;\n      if (state.effects.dash > 0) state.effects.dash -= deltaTime;\n      if (state.effects.tripleJump > 0) state.effects.tripleJump -= deltaTime;\n      if (state.effects.coinMultiplier.active && state.effects.coinMultiplier.duration > 0) {\n        state.effects.coinMultiplier.duration -= deltaTime;\n        if (state.effects.coinMultiplier.duration <= 0) {\n          state.effects.coinMultiplier.active = false;\n          state.effects.coinMultiplier.multiplier = 1;\n        }\n      }\n\n      // Player movement with speed boost (keyboard + touch) - normalized to delta time\n      const moveSpeed = (state.effects.speedBoost > 0 ? 8 : 5) * deltaTime;\n      if (state.keys['a'] || state.keys['arrowleft'] || touchControls.left) {\n        state.player.x = Math.max(0, state.player.x - moveSpeed);\n      }\n      if (state.keys['d'] || state.keys['arrowright'] || touchControls.right) {\n        state.player.x = Math.min(canvas.width - state.player.width, state.player.x + moveSpeed);\n      }\n\n      // Adjust player size when sliding\n      const playerHeight = state.player.isSliding ? 15 : 30;\n      const playerY = state.player.isSliding ? state.player.y + 15 : state.player.y;\n\n      // Draw detailed capybara with effects\n      if (state.effects.invincibility > 0) {\n        ctx.globalAlpha = 0.5 + Math.sin(Date.now() / 100) * 0.3; // Flashing effect\n      }\n      if (state.effects.speedBoost > 0) {\n        // Add speed trail particles\n        for (let i = 0; i < 3; i++) {\n          state.particles.push({\n            x: state.player.x - 10 - i * 5,\n            y: state.player.y + Math.random() * 30,\n            size: 2,\n            color: '#FFD700',\n            alpha: 0.8,\n            vy: 0,\n            life: 15\n          });\n        }\n      }\n      drawCapybara(ctx, state.player.x, playerY, state.player.width, playerHeight);\n      ctx.globalAlpha = 1;\n\n      // Spawn mini-boss every 1000 points\n      if (state.score > 0 && state.score % 1000 === 0 && !state.miniBoss) {\n        state.miniBoss = {\n          x: canvas.width,\n          y: 350,\n          width: 60,\n          height: 80,\n          health: 3,\n          maxHealth: 3,\n          attackPattern: 0,\n          lastAttack: 0\n        };\n        playSound('hit'); // Boss arrival sound\n      }\n\n      // Update and draw obstacles with dynamic speed - normalized to delta time\n      const obstacleSpeed = 3 * state.gameSpeed * (state.effects.slowMotion > 0 ? 0.5 : 1) * deltaTime;\n      state.obstacles.forEach((obstacle, index) => {\n        obstacle.x -= obstacleSpeed;\n        \n        // Reset obstacle when off screen with difficulty-based patterns\n        if (obstacle.x < -obstacle.width) {\n          const spacing = Math.max(150, 300 - state.difficultyLevel * 20);\n          obstacle.x = canvas.width + Math.random() * spacing;\n          state.score += 10;\n          \n          // Add new obstacle types at higher difficulties\n          if (state.difficultyLevel >= 3 && Math.random() < 0.3) {\n            obstacle.height = 50; // Taller obstacles\n          }\n          if (state.difficultyLevel >= 5 && Math.random() < 0.2) {\n            // Moving obstacles\n            obstacle.vy = (Math.random() - 0.5) * 2;\n          }\n          setCurrentScore(state.score);\n        }\n\n        // Draw detailed obstacles\n        drawObstacle(ctx, obstacle.x, obstacle.y, obstacle.width, obstacle.height, obstacle.color);\n\n        // Collision check (with invincibility and sliding)\n        if (!state.effects.invincibility && \n            state.player.x < obstacle.x + obstacle.width &&\n            state.player.x + state.player.width > obstacle.x &&\n            playerY < obstacle.y + obstacle.height &&\n            playerY + playerHeight > obstacle.y) {\n          \n          // Break combo\n          state.combo = 0;\n          state.combo_multiplier = 1;\n          endGame();\n          return;\n        }\n        \n        // Check if obstacle passed (for combo)\n        if (obstacle.x + obstacle.width < state.player.x && !obstacle.passed) {\n          obstacle.passed = true;\n          state.combo++;\n          \n          // Update combo multiplier\n          if (state.combo >= 20) {\n            state.combo_multiplier = 8;\n          } else if (state.combo >= 15) {\n            state.combo_multiplier = 4;\n          } else if (state.combo >= 10) {\n            state.combo_multiplier = 2;\n          } else {\n            state.combo_multiplier = 1;\n          }\n          \n          // Combo celebration particles\n          if (state.combo % 5 === 0) {\n            for (let i = 0; i < 10; i++) {\n              state.particles.push({\n                x: state.player.x + 20,\n                y: state.player.y + 15,\n                size: 4,\n                color: '#FF69B4',\n                alpha: 1,\n                vy: (Math.random() - 0.5) * 5,\n                life: 50\n              });\n            }\n          }\n        }\n      });\n\n      // Spawn enhanced power-ups with AI images\n      if (Math.random() < 0.004) {\n        const powerUpTypes = [\n          'speed', 'shield', 'jump', 'magnet', \n          'coinMultiplier', 'slowMotion', 'dash', 'tripleJump'\n        ];\n        state.powerUps.push({\n          x: canvas.width,\n          y: 380 + Math.random() * 40,\n          type: powerUpTypes[Math.floor(Math.random() * powerUpTypes.length)],\n          width: 25,\n          height: 25\n        });\n      }\n\n      // Spawn coins\n      if (Math.random() < 0.008) {\n        state.coins.push({\n          x: canvas.width,\n          y: 380 + Math.random() * 40\n        });\n      }\n\n      // Update and draw power-ups\n      state.powerUps.forEach((powerUp, index) => {\n        powerUp.x -= 3 * deltaTime;\n        \n        if (powerUp.x < -20) {\n          state.powerUps.splice(index, 1);\n          return;\n        }\n\n        // Check collection\n        if (state.player.x < powerUp.x + 20 &&\n            state.player.x + state.player.width > powerUp.x &&\n            playerY < powerUp.y + 20 &&\n            playerY + playerHeight > powerUp.y) {\n          \n          // Apply enhanced power-up effects\n          if (powerUp.type === 'speed') {\n            state.effects.speedBoost = 300; // 5 seconds\n            playSound('speedBoost');\n          } else if (powerUp.type === 'shield') {\n            state.effects.shield = 300; // 5 seconds invincibility\n            playSound('shield');\n          } else if (powerUp.type === 'coinMultiplier') {\n            state.effects.coinMultiplier = { active: true, multiplier: 2, duration: 600 }; // 10 seconds\n            playSound('powerup');\n          } else if (powerUp.type === 'slowMotion') {\n            state.effects.slowMotion = 300; // 5 seconds\n            playSound('slowMotion');\n          } else if (powerUp.type === 'dash') {\n            state.effects.dash = 120; // 2 seconds of dash\n            playSound('dash');\n          } else if (powerUp.type === 'tripleJump') {\n            state.effects.tripleJump = 600; // 10 seconds\n            playSound('tripleJump');\n          } else if (powerUp.type === 'jump') {\n            state.effects.doubleJump = true;\n            playSound('jump');\n          } else if (powerUp.type === 'magnet') {\n            state.effects.coinMagnet = 600; // 10 seconds\n            playSound('magnet');\n          }\n          \n          // Add collection particles\n          for (let i = 0; i < 8; i++) {\n            state.particles.push({\n              x: powerUp.x + 10,\n              y: powerUp.y + 10,\n              size: 4,\n              color: '#FFD700',\n              alpha: 1,\n              vy: (Math.random() - 0.5) * 4,\n              life: 40\n            });\n          }\n          \n          state.powerUps.splice(index, 1);\n        } else {\n          drawPowerUp(ctx, powerUp.x, powerUp.y, powerUp.type);\n        }\n      });\n\n      // Enhanced coin collection with multiplier\n      state.coins.forEach((coin, index) => {\n        const coinSpeed = 3 * state.gameSpeed * (state.effects.slowMotion > 0 ? 0.5 : 1) * deltaTime;\n        coin.x -= coinSpeed;\n        \n        // Coin magnet effect\n        if (state.effects.coinMagnet > 0) {\n          const dx = state.player.x - coin.x;\n          const dy = playerY - coin.y;\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          if (distance < 100) {\n            coin.x += dx * 0.1;\n            coin.y += dy * 0.1;\n          }\n        }\n        \n        if (coin.x < -20) {\n          state.coins.splice(index, 1);\n          return;\n        }\n\n        // Check collection\n        if (state.player.x < coin.x + 20 &&\n            state.player.x + state.player.width > coin.x &&\n            playerY < coin.y + 20 &&\n            playerY + playerHeight > coin.y) {\n          \n          state.coins_collected++;\n          state.score += 50 * state.combo_multiplier;\n          \n          // Add coin collection particles\n          for (let i = 0; i < 6; i++) {\n            state.particles.push({\n              x: coin.x + 10,\n              y: coin.y + 10,\n              size: 3,\n              color: '#FFD700',\n              alpha: 1,\n              vy: (Math.random() - 0.5) * 3,\n              life: 30\n            });\n          }\n          \n          state.coins.splice(index, 1);\n        } else {\n          drawCoin(ctx, coin.x, coin.y);\n        }\n      });\n\n      // Update and draw particles with delta time normalization\n      state.particles.forEach((particle, index) => {\n        particle.life -= deltaTime;\n        particle.alpha = particle.life / 40;\n        particle.y -= particle.vy * deltaTime;\n        \n        if (particle.life <= 0) {\n          state.particles.splice(index, 1);\n        } else {\n          drawParticle(ctx, particle);\n        }\n      });\n\n      // Spawn new obstacles\n      if (Math.random() < 0.006) {\n        state.obstacles.push({\n          x: canvas.width,\n          y: 420,\n          width: 30,\n          height: 30,\n          color: ['#FF0000', '#00FF00', '#0000FF'][Math.floor(Math.random() * 3)],\n          type: 'normal',\n          passed: false,\n          vy: -2\n        });\n      }\n\n      // Score update\n      state.score += 1;\n      setCurrentScore(state.score);\n\n      // Draw UI\n      // Enhanced Score and Coins UI\n      ctx.save();\n      \n      // Score display with background\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n      ctx.fillRect(10, 5, 150, 35);\n      ctx.strokeStyle = '#FFD700';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(10, 5, 150, 35);\n      \n      ctx.fillStyle = '#FFD700';\n      ctx.font = 'bold 18px Arial';\n      ctx.fillText(`âš¡ Score: ${state.score}`, 15, 26);\n      \n      // Coins display with background  \n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n      ctx.fillRect(10, 45, 150, 35);\n      ctx.strokeStyle = '#FFA500';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(10, 45, 150, 35);\n      \n      ctx.fillStyle = '#FFA500';\n      ctx.font = 'bold 18px Arial';\n      ctx.fillText(`ðŸ’° Coins: ${state.coins_collected}`, 15, 66);\n      \n      ctx.restore();\n      \n      // Enhanced Combo display\n      if (state.combo > 0) {\n        ctx.save();\n        \n        // Combo background\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(10, 85, 180, 35);\n        ctx.strokeStyle = state.combo_multiplier > 1 ? '#FFD700' : '#32CD32';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(10, 85, 180, 35);\n        \n        ctx.fillStyle = state.combo_multiplier > 1 ? '#FFD700' : '#32CD32';\n        ctx.font = 'bold 18px Arial';\n        ctx.fillText(`ðŸ”¥ Combo: ${state.combo} (${state.combo_multiplier}x)`, 15, 106);\n        \n        ctx.restore();\n      }\n      \n      // Enhanced Active power-ups display\n      let powerUpY = 125;\n      \n      if (state.effects.speedBoost > 0) {\n        ctx.save();\n        // Speed boost background\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(10, powerUpY, 160, 25);\n        ctx.strokeStyle = '#FFD700';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(10, powerUpY, 160, 25);\n        \n        ctx.fillStyle = '#FFD700';\n        ctx.font = 'bold 16px Arial';\n        ctx.fillText(`âš¡ Speed: ${Math.ceil(state.effects.speedBoost / 60)}s`, 15, powerUpY + 18);\n        ctx.restore();\n        powerUpY += 30;\n      }\n      \n      if (state.effects.invincibility > 0) {\n        ctx.save();\n        // Shield background\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(10, powerUpY, 160, 25);\n        ctx.strokeStyle = '#4169E1';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(10, powerUpY, 160, 25);\n        \n        ctx.fillStyle = '#4169E1';\n        ctx.font = 'bold 16px Arial';\n        ctx.fillText(`ðŸ›¡ï¸ Shield: ${Math.ceil(state.effects.invincibility / 60)}s`, 15, powerUpY + 18);\n        ctx.restore();\n        powerUpY += 30;\n      }\n      \n      if (state.effects.coinMagnet > 0) {\n        ctx.save();\n        // Magnet background\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(10, powerUpY, 160, 25);\n        ctx.strokeStyle = '#FF1493';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(10, powerUpY, 160, 25);\n        \n        ctx.fillStyle = '#FF1493';\n        ctx.font = 'bold 16px Arial';\n        ctx.fillText(`ðŸ§² Magnet: ${Math.ceil(state.effects.coinMagnet / 60)}s`, 15, powerUpY + 18);\n        ctx.restore();\n        powerUpY += 30;\n      }\n      \n      if (state.effects.doubleJump) {\n        ctx.save();\n        // Double jump background\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(10, powerUpY, 160, 25);\n        ctx.strokeStyle = '#32CD32';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(10, powerUpY, 160, 25);\n        \n        ctx.fillStyle = '#32CD32';\n        ctx.font = 'bold 16px Arial';\n        ctx.fillText(`â†‘â†‘ Double Jump`, 15, powerUpY + 18);\n        ctx.restore();\n      }\n      \n      // Dynamic instructions based on device\n      ctx.fillStyle = '#FFFFFF';\n      ctx.font = '14px Arial';\n      if (isMobile) {\n        ctx.fillText('Use touch controls: â† â†’ to move, â†‘ to jump, â†“ to slide', 10, canvas.height - 10);\n      } else {\n        ctx.fillText('WASD/Arrows to move, W/Space to jump, S to slide', 10, canvas.height - 10);\n      }\n\n      // Continue game loop\n      gameLoopRef.current = requestAnimationFrame(render);\n    };\n\n    const endGame = () => {\n      setIsGameRunning(false);\n      const newHighScore = Math.max(gameStats.highScore, gameState.current.score);\n      const newStats = {\n        score: gameState.current.score,\n        highScore: newHighScore,\n        gamesPlayed: gameStats.gamesPlayed + 1\n      };\n      \n      setGameStats(newStats);\n      localStorage.setItem('capirush-stats', JSON.stringify(newStats));\n      \n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n\n    // Start rendering immediately\n    render();\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n      if (gameLoopRef.current) {\n        cancelAnimationFrame(gameLoopRef.current);\n      }\n    };\n  }, [isGameRunning, isPaused, gameStats]);\n\n  // Touch controls effect (separate from main game loop)\n  useEffect(() => {\n    if (!isGameRunning) return;\n    \n    if (touchControls.jump) {\n      // Trigger jump\n      if (gameState.current.player.onGround) {\n        gameState.current.player.vy = -12;\n        gameState.current.player.onGround = false;\n        gameState.current.player.doubleJumpAvailable = gameState.current.effects.doubleJump;\n      } else if (gameState.current.player.doubleJumpAvailable) {\n        gameState.current.player.vy = -10;\n        gameState.current.player.doubleJumpAvailable = false;\n        // Add double jump particles\n        for (let i = 0; i < 5; i++) {\n          gameState.current.particles.push({\n            x: gameState.current.player.x + Math.random() * 40,\n            y: gameState.current.player.y + 30,\n            size: 3,\n            color: '#32CD32',\n            alpha: 1,\n            vy: Math.random() * 3 + 1,\n            life: 30\n          });\n        }\n      }\n      setTouchControls(prev => ({ ...prev, jump: false })); // Reset jump after action\n    }\n    \n    if (touchControls.slide) {\n      gameState.current.player.isSliding = true;\n    } else {\n      gameState.current.player.isSliding = false;\n    }\n  }, [touchControls, isGameRunning]);\n\n  // Twitter sharing function\n  const shareToTwitter = (score: number) => {\n    const tweetText = `ðŸ¹ Just scored ${score} points in CAPYBARA COIN! \n\nðŸŽ® Endless runner with crypto rewards\nðŸ’° Play & earn real value!\n\nPlay: @capybaracoingamebot\n#CapybaraCoin #CryptoGaming`;\n\n    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`;\n    window.open(twitterUrl, '_blank', 'width=550,height=420');\n  };\n\n  const startGame = () => {\n    // Reset game state\n    gameState.current = {\n      player: { \n        x: 100, y: 420, width: 40, height: 30, vy: 0, onGround: true,\n        speed: 5, doubleJumpAvailable: false, isSliding: false\n      },\n      obstacles: [\n        { x: 600, y: 420, width: 30, height: 30, color: '#FF0000', type: 'spike', passed: false, vy: -2 },\n        { x: 800, y: 420, width: 30, height: 30, color: '#00FF00', type: 'energy', passed: false, vy: -2 }\n      ],\n      powerUps: [],\n      coins: [],\n      score: 0,\n      coins_collected: 0,\n      combo: 0,\n      combo_multiplier: 1,\n      keys: {},\n      effects: {\n        speedBoost: 0,\n        invincibility: 0,\n        coinMagnet: 0,\n        doubleJump: false,\n        // New power-ups\n        shield: 0,\n        coinMultiplier: { active: false, multiplier: 1, duration: 0 },\n        slowMotion: 0,\n        dash: 0,\n        tripleJump: 0\n      },\n      particles: [],\n      // Enhanced game features\n      gameSpeed: 1,\n      difficultyLevel: 1,\n      weatherEffects: [],\n      screenShake: { intensity: 0, duration: 0 },\n      capybaraTrail: [],\n      miniBoss: null,\n      dailyChallenge: {\n        type: 'score',\n        target: 500,\n        progress: 0,\n        completed: false\n      }\n    };\n    \n    // Reset score when starting a new game\n    setCurrentScore(0);\n    setIsGameRunning(true);\n    setIsPaused(false);\n  };\n\n  const pauseResumeGame = () => {\n    setIsPaused(prev => !prev);\n  };\n\n  const resetGame = () => {\n    if (gameLoopRef.current) {\n      cancelAnimationFrame(gameLoopRef.current);\n    }\n    setIsGameRunning(false);\n    setIsPaused(false);\n    // Don't reset score here - keep it for the share button\n  };\n\n  return (\n    <div className=\"min-h-screen p-4 relative overflow-hidden\">\n      {/* Mystical Forest Background - Same as Landing Page */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n        style={{ \n          backgroundImage: `url(/images/AAA_capybara_wetland_background_ab88ce49.png)`,\n          filter: 'brightness(0.8) contrast(1.1)'\n        }}\n      />\n      \n      {/* Atmospheric overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-black/20\" />\n      \n      {/* Magical barrier effect */}\n      <div \n        className=\"absolute inset-0 opacity-15 mix-blend-screen\"\n        style={{ \n          backgroundImage: `url(/images/AAA_magical_barrier_UI_b6d0d11f.png)`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          animation: 'pulse 4s infinite ease-in-out'\n        }}\n      />\n      {/* Header */}\n      <div className=\"relative z-10 max-w-6xl mx-auto mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-4\">\n            {onBackToMenu && (\n              <Button onClick={onBackToMenu} variant=\"outline\" size=\"sm\" className=\"bg-white/10 border-white/30\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Menu\n              </Button>\n            )}\n            <h1 className=\"text-3xl font-bold text-white flex items-center gap-2\">\n              ðŸ¹ <span>CAPYBARA COIN</span>\n            </h1>\n          </div>\n          <div className=\"flex gap-2\">\n            {isGameRunning && (\n              <Button onClick={pauseResumeGame} variant=\"secondary\" size=\"sm\">\n                {isPaused ? <Play className=\"w-4 h-4 mr-1\" /> : <Pause className=\"w-4 h-4 mr-1\" />}\n                {isPaused ? 'Resume' : 'Pause'}\n              </Button>\n            )}\n            <Button onClick={resetGame} variant=\"destructive\" size=\"sm\">\n              <RotateCcw className=\"w-4 h-4 mr-1\" />\n              Reset\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-4 mb-6\">\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-yellow-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Current Score</p>\n                <p className=\"text-xl font-bold text-white\">{currentScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-amber-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">High Score</p>\n                <p className=\"text-xl font-bold text-white\">{gameStats.highScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Heart className=\"w-5 h-5 text-red-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Games Played</p>\n                <p className=\"text-xl font-bold text-white\">{gameStats.gamesPlayed}</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n\n      {/* Game Area */}\n      <div className=\"relative z-10 max-w-6xl mx-auto flex flex-col items-center\">\n        <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/30\">\n          {!isGameRunning ? (\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">\n                {currentScore > 0 ? 'ðŸŽ® Game Over!' : 'Ready for the Adventure?'}\n              </h2>\n              <p className=\"text-white/80 mb-6\">\n                {currentScore > 0 \n                  ? `You scored ${currentScore} points! ${currentScore === gameStats.highScore ? 'ðŸŽ‰ New High Score!' : ''}`\n                  : 'Guide the capybara through mystical landscapes! Collect coins and power-ups to earn rewards!'\n                }\n              </p>\n              \n              <div className=\"flex gap-3 justify-center\">\n                <Button onClick={startGame} size=\"lg\" className=\"bg-teal-600 hover:bg-teal-700\">\n                  {currentScore > 0 ? 'ðŸ”„ Play Again' : 'Play Now'}\n                </Button>\n                \n                {currentScore > 0 && (\n                  <Button \n                    onClick={() => shareToTwitter(currentScore)} \n                    size=\"lg\" \n                    className=\"bg-blue-500 hover:bg-blue-600 text-white\"\n                    data-testid=\"button-share-twitter\"\n                  >\n                    ðŸ¦ Share Score\n                  </Button>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div className=\"relative\">\n              {isPaused && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/70 z-10 rounded-lg\">\n                  <div className=\"text-white text-center\">\n                    <div className=\"text-6xl mb-4\">â¸ï¸</div>\n                    <p className=\"text-2xl\">Game Paused</p>\n                    <p className=\"text-sm mt-2\">Press Resume to continue</p>\n                  </div>\n                </div>\n              )}\n              <div className=\"relative\">\n                <canvas \n                  ref={canvasRef}\n                  className=\"border-2 border-teal-400/50 rounded-lg\"\n                  style={{ \n                    width: isMobile ? '100%' : '800px', \n                    height: isMobile ? '300px' : '500px', \n                    maxWidth: '800px',\n                    background: '#000',\n                    touchAction: 'none' // Prevent scrolling on touch\n                  }}\n                />\n                \n                {/* Mobile Touch Controls */}\n                {isMobile && (\n                  <div className=\"absolute -bottom-20 left-1/2 transform -translate-x-1/2 flex justify-center items-center gap-2 z-20\">\n                    {/* Left Side Controls */}\n                    <div className=\"flex gap-3\">\n                      <Button\n                        data-testid=\"button-move-left\"\n                        className=\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 border border-white/40 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all\"\n                        onTouchStart={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, left: true }));\n                        }}\n                        onTouchEnd={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, left: false }));\n                        }}\n                        onMouseDown={() => setTouchControls(prev => ({ ...prev, left: true }))}\n                        onMouseUp={() => setTouchControls(prev => ({ ...prev, left: false }))}\n                        onMouseLeave={() => setTouchControls(prev => ({ ...prev, left: false }))}\n                      >\n                        â†\n                      </Button>\n                      <Button\n                        data-testid=\"button-move-right\"\n                        className=\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 border border-white/40 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all\"\n                        onTouchStart={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, right: true }));\n                        }}\n                        onTouchEnd={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, right: false }));\n                        }}\n                        onMouseDown={() => setTouchControls(prev => ({ ...prev, right: true }))}\n                        onMouseUp={() => setTouchControls(prev => ({ ...prev, right: false }))}\n                        onMouseLeave={() => setTouchControls(prev => ({ ...prev, right: false }))}\n                      >\n                        â†’\n                      </Button>\n                    </div>\n                    \n                    {/* Right Side Controls */}\n                    <div className=\"flex gap-3\">\n                      <Button\n                        data-testid=\"button-slide\"\n                        className=\"w-12 h-12 rounded-full bg-red-500/60 hover:bg-red-500/80 border border-red-400/60 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all ml-4\"\n                        onTouchStart={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, slide: true }));\n                        }}\n                        onTouchEnd={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, slide: false }));\n                        }}\n                        onMouseDown={() => setTouchControls(prev => ({ ...prev, slide: true }))}\n                        onMouseUp={() => setTouchControls(prev => ({ ...prev, slide: false }))}\n                        onMouseLeave={() => setTouchControls(prev => ({ ...prev, slide: false }))}\n                      >\n                        â†“\n                      </Button>\n                      <Button\n                        data-testid=\"button-jump\"\n                        className=\"w-12 h-12 rounded-full bg-green-500/60 hover:bg-green-500/80 border border-green-400/60 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all\"\n                        onTouchStart={(e) => {\n                          e.preventDefault();\n                          setTouchControls(prev => ({ ...prev, jump: true }));\n                        }}\n                        onTouchEnd={(e) => {\n                          e.preventDefault();\n                        }}\n                        onMouseDown={() => setTouchControls(prev => ({ ...prev, jump: true }))}\n                        onMouseUp={() => {}}\n                      >\n                        â†‘\n                      </Button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Wallet Connection Reminder - Extra spacing on mobile */}\n        {!isGameRunning && (\n          <div className={`${isMobile ? 'mt-24' : 'mt-6'} bg-gradient-to-r from-amber-500/20 to-orange-500/20 backdrop-blur-sm rounded-lg p-4 border border-amber-400/40`}>\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"></div>\n              <h3 className=\"text-lg font-semibold text-amber-100\">ðŸ’° Save Your Progress!</h3>\n            </div>\n            <p className=\"text-amber-100/90 text-sm\">\n              Connect your wallet from the main menu to save your high scores and coin progress permanently. Your achievements will be stored on the blockchain! ðŸ”—âœ¨\n            </p>\n          </div>\n        )}\n\n        {/* Instructions - Extra spacing on mobile to avoid control overlap */}\n        <div className={`${isMobile ? 'mt-32' : 'mt-10'} bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/30`}>\n          <h3 className=\"text-lg font-semibold text-white mb-2\">How to Play:</h3>\n          <div className=\"text-white/80 space-y-1\">\n            {isMobile ? (\n              <>\n                <p>â€¢ Use touch controls: â† â†’ for movement, â†‘ to jump, â†“ to slide</p>\n                <p>â€¢ Perfect for Telegram bot web app gameplay!</p>\n                <p>â€¢ Dodge obstacles and collect coins for rewards</p>\n                <p>â€¢ Score points by surviving as long as possible!</p>\n              </>\n            ) : (\n              <>\n                <p>â€¢ Use <kbd className=\"bg-white/20 px-2 py-1 rounded\">WASD</kbd> or <kbd className=\"bg-white/20 px-2 py-1 rounded\">Arrow Keys</kbd> to move</p>\n                <p>â€¢ Press <kbd className=\"bg-white/20 px-2 py-1 rounded\">W</kbd> or <kbd className=\"bg-white/20 px-2 py-1 rounded\">Space</kbd> to jump</p>\n                <p>â€¢ Press <kbd className=\"bg-white/20 px-2 py-1 rounded\">S</kbd> to slide under obstacles</p>\n                <p>â€¢ Dodge obstacles and score points by surviving!</p>\n              </>\n            )}\n            <div className=\"mt-3 pt-3 border-t border-white/20\">\n              <p className=\"text-amber-200 text-sm\">ðŸ’¡ <strong>Tip:</strong> Connect wallet to unlock permanent progress saving and crypto rewards!</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":68987},"client/src/components/Leaderboard.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Trophy, Medal, Crown, Star, Timer, Target } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface LeaderboardEntry {\n  username: string;\n  walletAddress: string;\n  score: number;\n  position?: number;\n  rank?: number;\n}\n\ninterface LeaderboardProps {\n  isVisible: boolean;\n  onClose: () => void;\n}\n\nexport const Leaderboard: React.FC<LeaderboardProps> = ({ isVisible, onClose }) => {\n  const [activeTab, setActiveTab] = useState<'daily' | 'weekly' | 'all_time'>('all_time');\n  const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const fetchLeaderboard = async (type: 'daily' | 'weekly' | 'all_time') => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`/api/leaderboard?type=${type}&limit=50`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch leaderboard');\n      }\n      const data = await response.json();\n      // Extract the correct leaderboard array based on the type\n      const leaderboardData = data[type] || data.leaderboard || [];\n      setLeaderboard(Array.isArray(leaderboardData) ? leaderboardData : []);\n    } catch (err) {\n      setError('Failed to load leaderboard');\n      console.error('Leaderboard error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isVisible) {\n      fetchLeaderboard(activeTab);\n    }\n  }, [isVisible, activeTab]);\n\n  const getRankIcon = (rank: number) => {\n    switch (rank) {\n      case 1:\n        return <Crown className=\"h-6 w-6 text-yellow-400\" />;\n      case 2:\n        return <Trophy className=\"h-6 w-6 text-gray-400\" />;\n      case 3:\n        return <Medal className=\"h-6 w-6 text-amber-600\" />;\n      default:\n        return <Star className=\"h-4 w-4 text-blue-400\" />;\n    }\n  };\n\n  const getRankBg = (rank: number) => {\n    switch (rank) {\n      case 1:\n        return 'bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border-yellow-400/30';\n      case 2:\n        return 'bg-gradient-to-r from-gray-400/20 to-slate-500/20 border-gray-400/30';\n      case 3:\n        return 'bg-gradient-to-r from-amber-600/20 to-orange-500/20 border-amber-600/30';\n      default:\n        return 'bg-emerald-900/20 border-emerald-500/30';\n    }\n  };\n\n  const formatWalletAddress = (address: string) => {\n    return `${address.slice(0, 4)}...${address.slice(-4)}`;\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ scale: 0.8, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.8, opacity: 0 }}\n          className=\"bg-gradient-to-b from-emerald-900/30 to-emerald-800/30 backdrop-blur-md border border-emerald-500/30 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-hidden\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center gap-3\">\n              <Trophy className=\"h-8 w-8 text-yellow-400\" />\n              <h2 className=\"text-2xl font-bold text-white\">Global Leaderboard</h2>\n            </div>\n            <Button\n              onClick={onClose}\n              variant=\"ghost\"\n              className=\"text-white hover:bg-red-500/20 hover:text-red-300\"\n            >\n              âœ•\n            </Button>\n          </div>\n\n          {/* Tab Selector */}\n          <div className=\"flex gap-2 mb-6\">\n            {[\n              { key: 'all_time', label: 'All Time', icon: <Target className=\"h-4 w-4\" /> },\n              { key: 'weekly', label: 'Weekly', icon: <Timer className=\"h-4 w-4\" /> },\n              { key: 'daily', label: 'Daily', icon: <Star className=\"h-4 w-4\" /> }\n            ].map(({ key, label, icon }) => (\n              <Button\n                key={key}\n                onClick={() => setActiveTab(key as any)}\n                variant={activeTab === key ? 'default' : 'ghost'}\n                className={`flex items-center gap-2 ${\n                  activeTab === key \n                    ? 'bg-emerald-600 hover:bg-emerald-700 text-white' \n                    : 'text-emerald-100 hover:bg-emerald-700/30'\n                }`}\n              >\n                {icon}\n                {label}\n              </Button>\n            ))}\n          </div>\n\n          {/* Content */}\n          <div className=\"overflow-y-auto max-h-96\">\n            {loading ? (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400 mx-auto\"></div>\n                <p className=\"text-emerald-100 mt-2\">Loading leaderboard...</p>\n              </div>\n            ) : error ? (\n              <div className=\"text-center py-8\">\n                <p className=\"text-red-400\">{error}</p>\n                <Button \n                  onClick={() => fetchLeaderboard(activeTab)}\n                  className=\"mt-2 bg-emerald-600 hover:bg-emerald-700\"\n                >\n                  Retry\n                </Button>\n              </div>\n            ) : leaderboard.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <Trophy className=\"h-16 w-16 text-emerald-400 mx-auto mb-4 opacity-50\" />\n                <p className=\"text-emerald-100\">No scores yet. Be the first to play!</p>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {leaderboard.map((entry, index) => {\n                  const rank = entry.position || entry.rank || (index + 1);\n                  return (\n                    <motion.div\n                      key={`${entry.username}-${index}`}\n                      initial={{ opacity: 0, x: -20 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: index * 0.05 }}\n                    >\n                      <Card className={`${getRankBg(rank)} backdrop-blur-sm hover:scale-[1.02] transition-all duration-200`}>\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-4\">\n                              <div className=\"flex items-center gap-2\">\n                                {getRankIcon(rank)}\n                                <span className=\"text-white font-bold text-lg\">#{rank}</span>\n                              </div>\n                              <div>\n                                <h3 className=\"text-white font-semibold text-lg\">{entry.username}</h3>\n                                <p className=\"text-emerald-200 text-sm\">{formatWalletAddress(entry.walletAddress)}</p>\n                              </div>\n                            </div>\n                            <div className=\"text-right\">\n                              <div className=\"text-2xl font-bold text-yellow-400\">{entry.score.toLocaleString()}</div>\n                              <div className=\"text-emerald-200 text-sm\">Champion</div>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </motion.div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n\n          {/* Footer */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-emerald-200 text-sm\">\n              ðŸ† Play CAPYBARA COIN to climb the ranks! ðŸ†\n            </p>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};","size_bytes":8079},"dist/public/assets/index-B0_YOK2s.js":{"content":"var KS=Object.defineProperty;var qS=(e,t,n)=>t in e?KS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ic=(e,t,n)=>qS(e,typeof t!=\"symbol\"?t+\"\":t,n);function ZS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!=\"string\"&&!Array.isArray(r)){for(const i in r)if(i!==\"default\"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}))}(function(){const t=document.createElement(\"link\").relList;if(t&&t.supports&&t.supports(\"modulepreload\"))return;for(const i of document.querySelectorAll('link[rel=\"modulepreload\"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type===\"childList\")for(const s of o.addedNodes)s.tagName===\"LINK\"&&s.rel===\"modulepreload\"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin===\"use-credentials\"?o.credentials=\"include\":i.crossOrigin===\"anonymous\"?o.credentials=\"omit\":o.credentials=\"same-origin\",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xn=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function Pu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function bh(e){if(e.__esModule)return e;var t=e.default;if(typeof t==\"function\"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,\"__esModule\",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var o1={exports:{}},Bu={},s1={exports:{}},Ce={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Sa=Symbol.for(\"react.element\"),YS=Symbol.for(\"react.portal\"),XS=Symbol.for(\"react.fragment\"),QS=Symbol.for(\"react.strict_mode\"),JS=Symbol.for(\"react.profiler\"),eE=Symbol.for(\"react.provider\"),tE=Symbol.for(\"react.context\"),nE=Symbol.for(\"react.forward_ref\"),rE=Symbol.for(\"react.suspense\"),iE=Symbol.for(\"react.memo\"),oE=Symbol.for(\"react.lazy\"),Up=Symbol.iterator;function sE(e){return e===null||typeof e!=\"object\"?null:(e=Up&&e[Up]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var a1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l1=Object.assign,u1={};function hs(e,t,n){this.props=e,this.context=t,this.refs=u1,this.updater=n||a1}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,t){if(typeof e!=\"object\"&&typeof e!=\"function\"&&e!=null)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,e,t,\"setState\")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")};function c1(){}c1.prototype=hs.prototype;function Sh(e,t,n){this.props=e,this.context=t,this.refs=u1,this.updater=n||a1}var Eh=Sh.prototype=new c1;Eh.constructor=Sh;l1(Eh,hs.prototype);Eh.isPureReactComponent=!0;var Vp=Array.isArray,f1=Object.prototype.hasOwnProperty,Ch={current:null},d1={key:!0,ref:!0,__self:!0,__source:!0};function h1(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=\"\"+t.key),t)f1.call(t,r)&&!d1.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sa,type:e,key:o,ref:s,props:i,_owner:Ch.current}}function aE(e,t){return{$$typeof:Sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ah(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===Sa}function lE(e){var t={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+e.replace(/[=:]/g,function(n){return t[n]})}var zp=/\\/+/g;function jc(e,t){return typeof e==\"object\"&&e!==null&&e.key!=null?lE(\"\"+e.key):t.toString(36)}function vl(e,t,n,r,i){var o=typeof e;(o===\"undefined\"||o===\"boolean\")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case\"string\":case\"number\":s=!0;break;case\"object\":switch(e.$$typeof){case Sa:case YS:s=!0}}if(s)return s=e,i=i(s),e=r===\"\"?\".\"+jc(s,0):r,Vp(i)?(n=\"\",e!=null&&(n=e.replace(zp,\"$&/\")+\"/\"),vl(i,t,n,\"\",function(u){return u})):i!=null&&(Ah(i)&&(i=aE(i,n+(!i.key||s&&s.key===i.key?\"\":(\"\"+i.key).replace(zp,\"$&/\")+\"/\")+e)),t.push(i)),1;if(s=0,r=r===\"\"?\".\":r+\":\",Vp(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+jc(o,a);s+=vl(o,t,n,l,i)}else if(l=sE(e),typeof l==\"function\")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+jc(o,a++),s+=vl(o,t,n,l,i);else if(o===\"object\")throw t=String(e),Error(\"Objects are not valid as a React child (found: \"+(t===\"[object Object]\"?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":t)+\"). If you meant to render a collection of children, use an array instead.\");return s}function Oa(e,t,n){if(e==null)return e;var r=[],i=0;return vl(e,r,\"\",\"\",function(o){return t.call(n,o,i++)}),r}function uE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},wl={transition:null},cE={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Ch};function p1(){throw Error(\"act(...) is not supported in production builds of React.\")}Ce.Children={map:Oa,forEach:function(e,t,n){Oa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oa(e,function(){t++}),t},toArray:function(e){return Oa(e,function(t){return t})||[]},only:function(e){if(!Ah(e))throw Error(\"React.Children.only expected to receive a single React element child.\");return e}};Ce.Component=hs;Ce.Fragment=XS;Ce.Profiler=JS;Ce.PureComponent=Sh;Ce.StrictMode=QS;Ce.Suspense=rE;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;Ce.act=p1;Ce.cloneElement=function(e,t,n){if(e==null)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+e+\".\");var r=l1({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ch.current),t.key!==void 0&&(i=\"\"+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)f1.call(t,l)&&!d1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sa,type:e.type,key:i,ref:o,props:r,_owner:s}};Ce.createContext=function(e){return e={$$typeof:tE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eE,_context:e},e.Consumer=e};Ce.createElement=h1;Ce.createFactory=function(e){var t=h1.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:nE,render:e}};Ce.isValidElement=Ah;Ce.lazy=function(e){return{$$typeof:oE,_payload:{_status:-1,_result:e},_init:uE}};Ce.memo=function(e,t){return{$$typeof:iE,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=wl.transition;wl.transition={};try{e()}finally{wl.transition=t}};Ce.unstable_act=p1;Ce.useCallback=function(e,t){return un.current.useCallback(e,t)};Ce.useContext=function(e){return un.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return un.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return un.current.useEffect(e,t)};Ce.useId=function(){return un.current.useId()};Ce.useImperativeHandle=function(e,t,n){return un.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return un.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return un.current.useReducer(e,t,n)};Ce.useRef=function(e){return un.current.useRef(e)};Ce.useState=function(e){return un.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return un.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return un.current.useTransition()};Ce.version=\"18.3.1\";s1.exports=Ce;var _=s1.exports;const or=Pu(_),m1=ZS({__proto__:null,default:or},[_]);/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var fE=_,dE=Symbol.for(\"react.element\"),hE=Symbol.for(\"react.fragment\"),pE=Object.prototype.hasOwnProperty,mE=fE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gE={key:!0,ref:!0,__self:!0,__source:!0};function g1(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=\"\"+n),t.key!==void 0&&(o=\"\"+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)pE.call(t,r)&&!gE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:dE,type:e,key:o,ref:s,props:i,_owner:mE.current}}Bu.Fragment=hE;Bu.jsx=g1;Bu.jsxs=g1;o1.exports=Bu;var v=o1.exports,y1={exports:{}},Mn={},v1={exports:{}},w1={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */(function(e){function t(k,I){var D=k.length;k.push(I);e:for(;0<D;){var B=D-1>>>1,m=k[B];if(0<i(m,I))k[B]=I,k[D]=m,D=B;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var I=k[0],D=k.pop();if(D!==I){k[0]=D;e:for(var B=0,m=k.length,F=m>>>1;B<F;){var ie=2*(B+1)-1,x=k[ie],X=ie+1,ae=k[X];if(0>i(x,D))X<m&&0>i(ae,x)?(k[B]=ae,k[X]=D,B=X):(k[B]=x,k[ie]=D,B=ie);else if(X<m&&0>i(ae,D))k[B]=ae,k[X]=D,B=X;else break e}}return I}function i(k,I){var D=k.sortIndex-I.sortIndex;return D!==0?D:k.id-I.id}if(typeof performance==\"object\"&&typeof performance.now==\"function\"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,d=null,h=3,b=!1,S=!1,M=!1,N=typeof setTimeout==\"function\"?setTimeout:null,w=typeof clearTimeout==\"function\"?clearTimeout:null,E=typeof setImmediate<\"u\"?setImmediate:null;typeof navigator<\"u\"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(k){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=k)r(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(u)}}function L(k){if(M=!1,C(k),!S)if(n(l)!==null)S=!0,A(U);else{var I=n(u);I!==null&&R(L,I.startTime-k)}}function U(k,I){S=!1,M&&(M=!1,w(W),W=-1),b=!0;var D=h;try{for(C(I),d=n(l);d!==null&&(!(d.expirationTime>I)||k&&!$());){var B=d.callback;if(typeof B==\"function\"){d.callback=null,h=d.priorityLevel;var m=B(d.expirationTime<=I);I=e.unstable_now(),typeof m==\"function\"?d.callback=m:d===n(l)&&r(l),C(I)}else r(l);d=n(l)}if(d!==null)var F=!0;else{var ie=n(u);ie!==null&&R(L,ie.startTime-I),F=!1}return F}finally{d=null,h=D,b=!1}}var H=!1,V=null,W=-1,K=5,Y=-1;function $(){return!(e.unstable_now()-Y<K)}function O(){if(V!==null){var k=e.unstable_now();Y=k;var I=!0;try{I=V(!0,k)}finally{I?P():(H=!1,V=null)}}else H=!1}var P;if(typeof E==\"function\")P=function(){E(O)};else if(typeof MessageChannel<\"u\"){var c=new MessageChannel,g=c.port2;c.port1.onmessage=O,P=function(){g.postMessage(null)}}else P=function(){N(O,0)};function A(k){V=k,H||(H=!0,P())}function R(k,I){W=N(function(){k(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,A(U))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):K=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var D=h;h=I;try{return k()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=h;h=k;try{return I()}finally{h=D}},e.unstable_scheduleCallback=function(k,I,D){var B=e.unstable_now();switch(typeof D==\"object\"&&D!==null?(D=D.delay,D=typeof D==\"number\"&&0<D?B+D:B):D=B,k){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=D+m,k={id:f++,callback:I,priorityLevel:k,startTime:D,expirationTime:m,sortIndex:-1},D>B?(k.sortIndex=D,t(u,k),n(l)===null&&k===n(u)&&(M?(w(W),W=-1):M=!0,R(L,D-B))):(k.sortIndex=m,t(l,k),S||b||(S=!0,A(U))),k},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(k){var I=h;return function(){var D=h;h=I;try{return k.apply(this,arguments)}finally{h=D}}}})(w1);v1.exports=w1;var yE=v1.exports;/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var vE=_,Cn=yE;function re(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=1;n<arguments.length;n++)t+=\"&args[]=\"+encodeURIComponent(arguments[n]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var x1=new Set,Js={};function eo(e,t){Xo(e,t),Xo(e+\"Capture\",t)}function Xo(e,t){for(Js[e]=t,e=0;e<t.length;e++)x1.add(t[e])}var _r=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),Gf=Object.prototype.hasOwnProperty,wE=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,$p={},Wp={};function xE(e){return Gf.call(Wp,e)?!0:Gf.call($p,e)?!1:wE.test(e)?Wp[e]=!0:($p[e]=!0,!1)}function bE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case\"function\":case\"symbol\":return!0;case\"boolean\":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!==\"data-\"&&e!==\"aria-\");default:return!1}}function SE(e,t,n,r){if(t===null||typeof t>\"u\"||bE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(e){zt[e]=new cn(e,0,!1,e,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(e){var t=e[0];zt[t]=new cn(t,1,!1,e[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(e){zt[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(e){zt[e]=new cn(e,2,!1,e,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(e){zt[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(e){zt[e]=new cn(e,3,!0,e,null,!1,!1)});[\"capture\",\"download\"].forEach(function(e){zt[e]=new cn(e,4,!1,e,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(e){zt[e]=new cn(e,6,!1,e,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(e){zt[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mh=/[\\-:]([a-z])/g;function kh(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(e){var t=e.replace(Mh,kh);zt[t]=new cn(t,1,!1,e,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(e){var t=e.replace(Mh,kh);zt[t]=new cn(t,1,!1,e,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(e){var t=e.replace(Mh,kh);zt[t]=new cn(t,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(e){zt[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});zt.xlinkHref=new cn(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(e){zt[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Th(e,t,n,r){var i=zt.hasOwnProperty(t)?zt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!==\"o\"&&t[0]!==\"O\"||t[1]!==\"n\"&&t[1]!==\"N\")&&(SE(t,n,i,r)&&(n=null),r||i===null?xE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,\"\"+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:\"\":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?\"\":\"\"+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lr=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for(\"react.element\"),xo=Symbol.for(\"react.portal\"),bo=Symbol.for(\"react.fragment\"),Ph=Symbol.for(\"react.strict_mode\"),Kf=Symbol.for(\"react.profiler\"),b1=Symbol.for(\"react.provider\"),S1=Symbol.for(\"react.context\"),Bh=Symbol.for(\"react.forward_ref\"),qf=Symbol.for(\"react.suspense\"),Zf=Symbol.for(\"react.suspense_list\"),Nh=Symbol.for(\"react.memo\"),Zr=Symbol.for(\"react.lazy\"),E1=Symbol.for(\"react.offscreen\"),Hp=Symbol.iterator;function Ss(e){return e===null||typeof e!=\"object\"?null:(e=Hp&&e[Hp]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var Qe=Object.assign,Fc;function _s(e){if(Fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\\n( *(at )?)/);Fc=t&&t[1]||\"\"}return`\n`+Fc+e}var Dc=!1;function Lc(e,t){if(!e||Dc)return\"\";Dc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack==\"string\"){for(var i=u.stack.split(`\n`),o=r.stack.split(`\n`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`\n`+i[s].replace(\" at new \",\" at \");return e.displayName&&l.includes(\"<anonymous>\")&&(l=l.replace(\"<anonymous>\",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Dc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:\"\")?_s(e):\"\"}function EE(e){switch(e.tag){case 5:return _s(e.type);case 16:return _s(\"Lazy\");case 13:return _s(\"Suspense\");case 19:return _s(\"SuspenseList\");case 0:case 2:case 15:return e=Lc(e.type,!1),e;case 11:return e=Lc(e.type.render,!1),e;case 1:return e=Lc(e.type,!0),e;default:return\"\"}}function Yf(e){if(e==null)return null;if(typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case bo:return\"Fragment\";case xo:return\"Portal\";case Kf:return\"Profiler\";case Ph:return\"StrictMode\";case qf:return\"Suspense\";case Zf:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case S1:return(e.displayName||\"Context\")+\".Consumer\";case b1:return(e._context.displayName||\"Context\")+\".Provider\";case Bh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||\"\",e=e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\"),e;case Nh:return t=e.displayName||null,t!==null?t:Yf(e.type)||\"Memo\";case Zr:t=e._payload,e=e._init;try{return Yf(e(t))}catch{}}return null}function CE(e){var t=e.type;switch(e.tag){case 24:return\"Cache\";case 9:return(t.displayName||\"Context\")+\".Consumer\";case 10:return(t._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return e=t.render,e=e.displayName||e.name||\"\",t.displayName||(e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return t;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Yf(t);case 8:return t===Ph?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";case 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t==\"function\")return t.displayName||t.name||null;if(typeof t==\"string\")return t}return null}function gi(e){switch(typeof e){case\"boolean\":case\"number\":case\"string\":case\"undefined\":return e;case\"object\":return e;default:return\"\"}}function C1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===\"input\"&&(t===\"checkbox\"||t===\"radio\")}function AE(e){var t=C1(e)?\"checked\":\"value\",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=\"\"+e[t];if(!e.hasOwnProperty(t)&&typeof n<\"u\"&&typeof n.get==\"function\"&&typeof n.set==\"function\"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=\"\"+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=\"\"+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Va(e){e._valueTracker||(e._valueTracker=AE(e))}function A1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=\"\";return e&&(r=C1(e)?e.checked?\"true\":\"false\":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<\"u\"?document:void 0),typeof e>\"u\")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xf(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gp(e,t){var n=t.defaultValue==null?\"\":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type===\"checkbox\"||t.type===\"radio\"?t.checked!=null:t.value!=null}}function M1(e,t){t=t.checked,t!=null&&Th(e,\"checked\",t,!1)}function Qf(e,t){M1(e,t);var n=gi(t.value),r=t.type;if(n!=null)r===\"number\"?(n===0&&e.value===\"\"||e.value!=n)&&(e.value=\"\"+n):e.value!==\"\"+n&&(e.value=\"\"+n);else if(r===\"submit\"||r===\"reset\"){e.removeAttribute(\"value\");return}t.hasOwnProperty(\"value\")?Jf(e,t.type,n):t.hasOwnProperty(\"defaultValue\")&&Jf(e,t.type,gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kp(e,t,n){if(t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"defaultValue\")){var r=t.type;if(!(r!==\"submit\"&&r!==\"reset\"||t.value!==void 0&&t.value!==null))return;t=\"\"+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==\"\"&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,n!==\"\"&&(e.name=n)}function Jf(e,t,n){(t!==\"number\"||Fl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+n&&(e.defaultValue=\"\"+n))}var Is=Array.isArray;function Oo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[\"$\"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(\"$\"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=\"\"+gi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ed(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function qp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(Is(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=\"\"),n=t}e._wrapperState={initialValue:gi(n)}}function k1(e,t){var n=gi(t.value),r=gi(t.defaultValue);n!=null&&(n=\"\"+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=\"\"+r)}function Zp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==\"\"&&t!==null&&(e.value=t)}function T1(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function td(e,t){return e==null||e===\"http://www.w3.org/1999/xhtml\"?T1(t):e===\"http://www.w3.org/2000/svg\"&&t===\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":e}var za,P1=function(e){return typeof MSApp<\"u\"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==\"http://www.w3.org/2000/svg\"||\"innerHTML\"in e)e.innerHTML=t;else{for(za=za||document.createElement(\"div\"),za.innerHTML=\"<svg>\"+t.valueOf().toString()+\"</svg>\",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ea(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ME=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Us).forEach(function(e){ME.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function B1(e,t,n){return t==null||typeof t==\"boolean\"||t===\"\"?\"\":n||typeof t!=\"number\"||t===0||Us.hasOwnProperty(e)&&Us[e]?(\"\"+t).trim():t+\"px\"}function N1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf(\"--\")===0,i=B1(n,t[n],r);n===\"float\"&&(n=\"cssFloat\"),r?e.setProperty(n,i):e[n]=i}}var kE=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(e,t){if(t){if(kE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!=\"object\"||!(\"__html\"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!=\"object\")throw Error(re(62))}}function rd(e,t){if(e.indexOf(\"-\")===-1)return typeof t.is==\"string\";switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var id=null;function Rh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var od=null,Uo=null,Vo=null;function Yp(e){if(e=Aa(e)){if(typeof od!=\"function\")throw Error(re(280));var t=e.stateNode;t&&(t=ju(t),od(e.stateNode,e.type,t))}}function R1(e){Uo?Vo?Vo.push(e):Vo=[e]:Uo=e}function _1(){if(Uo){var e=Uo,t=Vo;if(Vo=Uo=null,Yp(e),t)for(e=0;e<t.length;e++)Yp(t[e])}}function I1(e,t){return e(t)}function j1(){}var Oc=!1;function F1(e,t,n){if(Oc)return e(t,n);Oc=!0;try{return I1(e,t,n)}finally{Oc=!1,(Uo!==null||Vo!==null)&&(j1(),_1())}}function ta(e,t){var n=e.stateNode;if(n===null)return null;var r=ju(n);if(r===null)return null;n=r[t];e:switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(r=!r.disabled)||(e=e.type,r=!(e===\"button\"||e===\"input\"||e===\"select\"||e===\"textarea\")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!=\"function\")throw Error(re(231,t,typeof n));return n}var sd=!1;if(_r)try{var Es={};Object.defineProperty(Es,\"passive\",{get:function(){sd=!0}}),window.addEventListener(\"test\",Es,Es),window.removeEventListener(\"test\",Es,Es)}catch{sd=!1}function TE(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Vs=!1,Dl=null,Ll=!1,ad=null,PE={onError:function(e){Vs=!0,Dl=e}};function BE(e,t,n,r,i,o,s,a,l){Vs=!1,Dl=null,TE.apply(PE,arguments)}function NE(e,t,n,r,i,o,s,a,l){if(BE.apply(this,arguments),Vs){if(Vs){var u=Dl;Vs=!1,Dl=null}else throw Error(re(198));Ll||(Ll=!0,ad=u)}}function to(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function D1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xp(e){if(to(e)!==e)throw Error(re(188))}function RE(e){var t=e.alternate;if(!t){if(t=to(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xp(i),e;if(o===r)return Xp(i),t;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function L1(e){return e=RE(e),e!==null?O1(e):null}function O1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O1(e);if(t!==null)return t;e=e.sibling}return null}var U1=Cn.unstable_scheduleCallback,Qp=Cn.unstable_cancelCallback,_E=Cn.unstable_shouldYield,IE=Cn.unstable_requestPaint,lt=Cn.unstable_now,jE=Cn.unstable_getCurrentPriorityLevel,_h=Cn.unstable_ImmediatePriority,V1=Cn.unstable_UserBlockingPriority,Ol=Cn.unstable_NormalPriority,FE=Cn.unstable_LowPriority,z1=Cn.unstable_IdlePriority,Nu=null,cr=null;function DE(e){if(cr&&typeof cr.onCommitFiberRoot==\"function\")try{cr.onCommitFiberRoot(Nu,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:UE,LE=Math.log,OE=Math.LN2;function UE(e){return e>>>=0,e===0?32:31-(LE(e)/OE|0)|0}var $a=64,Wa=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ul(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=js(a):(o&=s,o!==0&&(r=js(o)))}else s=n&~i,s!==0?r=js(s):o!==0&&(r=js(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qn(t),i=1<<n,r|=e[n],t&=~i;return r}function VE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-qn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=VE(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ld(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $1(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function Uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=n}function $E(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ih(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Be=0;function W1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H1,jh,G1,K1,q1,ud=!1,Ha=[],si=null,ai=null,li=null,na=new Map,ra=new Map,Jr=[],WE=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");function Jp(e,t){switch(e){case\"focusin\":case\"focusout\":si=null;break;case\"dragenter\":case\"dragleave\":ai=null;break;case\"mouseover\":case\"mouseout\":li=null;break;case\"pointerover\":case\"pointerout\":na.delete(t.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":ra.delete(t.pointerId)}}function Cs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Aa(t),t!==null&&jh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function HE(e,t,n,r,i){switch(t){case\"focusin\":return si=Cs(si,e,t,n,r,i),!0;case\"dragenter\":return ai=Cs(ai,e,t,n,r,i),!0;case\"mouseover\":return li=Cs(li,e,t,n,r,i),!0;case\"pointerover\":var o=i.pointerId;return na.set(o,Cs(na.get(o)||null,e,t,n,r,i)),!0;case\"gotpointercapture\":return o=i.pointerId,ra.set(o,Cs(ra.get(o)||null,e,t,n,r,i)),!0}return!1}function Z1(e){var t=Ii(e.target);if(t!==null){var n=to(t);if(n!==null){if(t=n.tag,t===13){if(t=D1(n),t!==null){e.blockedOn=t,q1(e.priority,function(){G1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);id=r,n.target.dispatchEvent(r),id=null}else return t=Aa(n),t!==null&&jh(t),e.blockedOn=n,!1;t.shift()}return!0}function em(e,t,n){xl(e)&&n.delete(t)}function GE(){ud=!1,si!==null&&xl(si)&&(si=null),ai!==null&&xl(ai)&&(ai=null),li!==null&&xl(li)&&(li=null),na.forEach(em),ra.forEach(em)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,GE)))}function ia(e){function t(i){return As(i,e)}if(0<Ha.length){As(Ha[0],e);for(var n=1;n<Ha.length;n++){var r=Ha[n];r.blockedOn===e&&(r.blockedOn=null)}}for(si!==null&&As(si,e),ai!==null&&As(ai,e),li!==null&&As(li,e),na.forEach(t),ra.forEach(t),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)Z1(n),n.blockedOn===null&&Jr.shift()}var zo=Lr.ReactCurrentBatchConfig,Vl=!0;function KE(e,t,n,r){var i=Be,o=zo.transition;zo.transition=null;try{Be=1,Fh(e,t,n,r)}finally{Be=i,zo.transition=o}}function qE(e,t,n,r){var i=Be,o=zo.transition;zo.transition=null;try{Be=4,Fh(e,t,n,r)}finally{Be=i,zo.transition=o}}function Fh(e,t,n,r){if(Vl){var i=cd(e,t,n,r);if(i===null)Yc(e,t,r,zl,n),Jp(e,r);else if(HE(i,e,t,n,r))r.stopPropagation();else if(Jp(e,r),t&4&&-1<WE.indexOf(e)){for(;i!==null;){var o=Aa(i);if(o!==null&&H1(o),o=cd(e,t,n,r),o===null&&Yc(e,t,r,zl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yc(e,t,r,null,n)}}var zl=null;function cd(e,t,n,r){if(zl=null,e=Rh(r),e=Ii(e),e!==null)if(t=to(e),t===null)e=null;else if(n=t.tag,n===13){if(e=D1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zl=e,null}function Y1(e){switch(e){case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 1;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"toggle\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 4;case\"message\":switch(jE()){case _h:return 1;case V1:return 4;case Ol:case FE:return 16;case z1:return 536870912;default:return 16}default:return 16}}var ti=null,Dh=null,bl=null;function X1(){if(bl)return bl;var e,t=Dh,n=t.length,r,i=\"value\"in ti?ti.value:ti.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return bl=i.slice(e,1<r?1-r:void 0)}function Sl(e){var t=e.keyCode;return\"charCode\"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ga(){return!0}function tm(){return!1}function kn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ga:tm,this.isPropagationStopped=tm,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!=\"unknown\"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!=\"unknown\"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=kn(ps),Ca=Qe({},ps,{view:0,detail:0}),ZE=kn(Ca),Vc,zc,Ms,Ru=Qe({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return\"movementX\"in e?e.movementX:(e!==Ms&&(Ms&&e.type===\"mousemove\"?(Vc=e.screenX-Ms.screenX,zc=e.screenY-Ms.screenY):zc=Vc=0,Ms=e),Vc)},movementY:function(e){return\"movementY\"in e?e.movementY:zc}}),nm=kn(Ru),YE=Qe({},Ru,{dataTransfer:0}),XE=kn(YE),QE=Qe({},Ca,{relatedTarget:0}),$c=kn(QE),JE=Qe({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),e3=kn(JE),t3=Qe({},ps,{clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),n3=kn(t3),r3=Qe({},ps,{data:0}),rm=kn(r3),i3={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},o3={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},s3={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function a3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s3[e])?!!t[e]:!1}function Oh(){return a3}var l3=Qe({},Ca,{key:function(e){if(e.key){var t=i3[e.key]||e.key;if(t!==\"Unidentified\")return t}return e.type===\"keypress\"?(e=Sl(e),e===13?\"Enter\":String.fromCharCode(e)):e.type===\"keydown\"||e.type===\"keyup\"?o3[e.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(e){return e.type===\"keypress\"?Sl(e):0},keyCode:function(e){return e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0},which:function(e){return e.type===\"keypress\"?Sl(e):e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0}}),u3=kn(l3),c3=Qe({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=kn(c3),f3=Qe({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),d3=kn(f3),h3=Qe({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),p3=kn(h3),m3=Qe({},Ru,{deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g3=kn(m3),y3=[9,13,27,32],Uh=_r&&\"CompositionEvent\"in window,zs=null;_r&&\"documentMode\"in document&&(zs=document.documentMode);var v3=_r&&\"TextEvent\"in window&&!zs,Q1=_r&&(!Uh||zs&&8<zs&&11>=zs),om=\" \",sm=!1;function J1(e,t){switch(e){case\"keyup\":return y3.indexOf(t.keyCode)!==-1;case\"keydown\":return t.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function ev(e){return e=e.detail,typeof e==\"object\"&&\"data\"in e?e.data:null}var So=!1;function w3(e,t){switch(e){case\"compositionend\":return ev(t);case\"keypress\":return t.which!==32?null:(sm=!0,om);case\"textInput\":return e=t.data,e===om&&sm?null:e;default:return null}}function x3(e,t){if(So)return e===\"compositionend\"||!Uh&&J1(e,t)?(e=X1(),bl=Dh=ti=null,So=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case\"compositionend\":return Q1&&t.locale!==\"ko\"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===\"input\"?!!b3[e.type]:t===\"textarea\"}function tv(e,t,n,r){R1(r),t=$l(t,\"onChange\"),0<t.length&&(n=new Lh(\"onChange\",\"change\",null,n,r),e.push({event:n,listeners:t}))}var $s=null,oa=null;function S3(e){dv(e,0)}function _u(e){var t=Ao(e);if(A1(t))return e}function E3(e,t){if(e===\"change\")return t}var nv=!1;if(_r){var Wc;if(_r){var Hc=\"oninput\"in document;if(!Hc){var lm=document.createElement(\"div\");lm.setAttribute(\"oninput\",\"return;\"),Hc=typeof lm.oninput==\"function\"}Wc=Hc}else Wc=!1;nv=Wc&&(!document.documentMode||9<document.documentMode)}function um(){$s&&($s.detachEvent(\"onpropertychange\",rv),oa=$s=null)}function rv(e){if(e.propertyName===\"value\"&&_u(oa)){var t=[];tv(t,oa,e,Rh(e)),F1(S3,t)}}function C3(e,t,n){e===\"focusin\"?(um(),$s=t,oa=n,$s.attachEvent(\"onpropertychange\",rv)):e===\"focusout\"&&um()}function A3(e){if(e===\"selectionchange\"||e===\"keyup\"||e===\"keydown\")return _u(oa)}function M3(e,t){if(e===\"click\")return _u(t)}function k3(e,t){if(e===\"input\"||e===\"change\")return _u(t)}function T3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is==\"function\"?Object.is:T3;function sa(e,t){if(Qn(e,t))return!0;if(typeof e!=\"object\"||e===null||typeof t!=\"object\"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gf.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fm(e,t){var n=cm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cm(n)}}function iv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iv(e,t.parentNode):\"contains\"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ov(){for(var e=window,t=Fl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==\"string\"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fl(e.document)}return t}function Vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===\"input\"&&(e.type===\"text\"||e.type===\"search\"||e.type===\"tel\"||e.type===\"url\"||e.type===\"password\")||t===\"textarea\"||e.contentEditable===\"true\")}function P3(e){var t=ov(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iv(n.ownerDocument.documentElement,n)){if(r!==null&&Vh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),\"selectionStart\"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=fm(n,o);var s=fm(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus==\"function\"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B3=_r&&\"documentMode\"in document&&11>=document.documentMode,Eo=null,fd=null,Ws=null,dd=!1;function dm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dd||Eo==null||Eo!==Fl(r)||(r=Eo,\"selectionStart\"in r&&Vh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&sa(Ws,r)||(Ws=r,r=$l(fd,\"onSelect\"),0<r.length&&(t=new Lh(\"onSelect\",\"select\",null,t,n),e.push({event:t,listeners:r}),t.target=Eo)))}function Ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[\"Webkit\"+e]=\"webkit\"+t,n[\"Moz\"+e]=\"moz\"+t,n}var Co={animationend:Ka(\"Animation\",\"AnimationEnd\"),animationiteration:Ka(\"Animation\",\"AnimationIteration\"),animationstart:Ka(\"Animation\",\"AnimationStart\"),transitionend:Ka(\"Transition\",\"TransitionEnd\")},Gc={},sv={};_r&&(sv=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),\"TransitionEvent\"in window||delete Co.transitionend.transition);function Iu(e){if(Gc[e])return Gc[e];if(!Co[e])return e;var t=Co[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sv)return Gc[e]=t[n];return e}var av=Iu(\"animationend\"),lv=Iu(\"animationiteration\"),uv=Iu(\"animationstart\"),cv=Iu(\"transitionend\"),fv=new Map,hm=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");function bi(e,t){fv.set(e,t),eo(t,[e])}for(var Kc=0;Kc<hm.length;Kc++){var qc=hm[Kc],N3=qc.toLowerCase(),R3=qc[0].toUpperCase()+qc.slice(1);bi(N3,\"on\"+R3)}bi(av,\"onAnimationEnd\");bi(lv,\"onAnimationIteration\");bi(uv,\"onAnimationStart\");bi(\"dblclick\",\"onDoubleClick\");bi(\"focusin\",\"onFocus\");bi(\"focusout\",\"onBlur\");bi(cv,\"onTransitionEnd\");Xo(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);Xo(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);Xo(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);Xo(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);eo(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));eo(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));eo(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);eo(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));eo(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));eo(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Fs=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),_3=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Fs));function pm(e,t,n){var r=e.type||\"unknown-event\";e.currentTarget=n,NE(r,t,void 0,e),e.currentTarget=null}function dv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;pm(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;pm(i,a,u),o=l}}}if(Ll)throw e=ad,Ll=!1,ad=null,e}function ze(e,t){var n=t[yd];n===void 0&&(n=t[yd]=new Set);var r=e+\"__bubble\";n.has(r)||(hv(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),hv(n,e,r,t)}var qa=\"_reactListening\"+Math.random().toString(36).slice(2);function aa(e){if(!e[qa]){e[qa]=!0,x1.forEach(function(n){n!==\"selectionchange\"&&(_3.has(n)||Zc(n,!1,e),Zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qa]||(t[qa]=!0,Zc(\"selectionchange\",!1,t))}}function hv(e,t,n,r){switch(Y1(t)){case 1:var i=KE;break;case 4:i=qE;break;default:i=Fh}n=i.bind(null,t,n,e),i=void 0,!sd||t!==\"touchstart\"&&t!==\"touchmove\"&&t!==\"wheel\"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yc(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ii(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}F1(function(){var u=o,f=Rh(n),d=[];e:{var h=fv.get(e);if(h!==void 0){var b=Lh,S=e;switch(e){case\"keypress\":if(Sl(n)===0)break e;case\"keydown\":case\"keyup\":b=u3;break;case\"focusin\":S=\"focus\",b=$c;break;case\"focusout\":S=\"blur\",b=$c;break;case\"beforeblur\":case\"afterblur\":b=$c;break;case\"click\":if(n.button===2)break e;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":b=nm;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":b=XE;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":b=d3;break;case av:case lv:case uv:b=e3;break;case cv:b=p3;break;case\"scroll\":b=ZE;break;case\"wheel\":b=g3;break;case\"copy\":case\"cut\":case\"paste\":b=n3;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":b=im}var M=(t&4)!==0,N=!M&&e===\"scroll\",w=M?h!==null?h+\"Capture\":null:h;M=[];for(var E=u,C;E!==null;){C=E;var L=C.stateNode;if(C.tag===5&&L!==null&&(C=L,w!==null&&(L=ta(E,w),L!=null&&M.push(la(E,L,C)))),N)break;E=E.return}0<M.length&&(h=new b(h,S,null,n,f),d.push({event:h,listeners:M}))}}if(!(t&7)){e:{if(h=e===\"mouseover\"||e===\"pointerover\",b=e===\"mouseout\"||e===\"pointerout\",h&&n!==id&&(S=n.relatedTarget||n.fromElement)&&(Ii(S)||S[Ir]))break e;if((b||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,b?(S=n.relatedTarget||n.toElement,b=u,S=S?Ii(S):null,S!==null&&(N=to(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(b=null,S=u),b!==S)){if(M=nm,L=\"onMouseLeave\",w=\"onMouseEnter\",E=\"mouse\",(e===\"pointerout\"||e===\"pointerover\")&&(M=im,L=\"onPointerLeave\",w=\"onPointerEnter\",E=\"pointer\"),N=b==null?h:Ao(b),C=S==null?h:Ao(S),h=new M(L,E+\"leave\",b,n,f),h.target=N,h.relatedTarget=C,L=null,Ii(f)===u&&(M=new M(w,E+\"enter\",S,n,f),M.target=C,M.relatedTarget=N,L=M),N=L,b&&S)t:{for(M=b,w=S,E=0,C=M;C;C=uo(C))E++;for(C=0,L=w;L;L=uo(L))C++;for(;0<E-C;)M=uo(M),E--;for(;0<C-E;)w=uo(w),C--;for(;E--;){if(M===w||w!==null&&M===w.alternate)break t;M=uo(M),w=uo(w)}M=null}else M=null;b!==null&&mm(d,h,b,M,!1),S!==null&&N!==null&&mm(d,N,S,M,!0)}}e:{if(h=u?Ao(u):window,b=h.nodeName&&h.nodeName.toLowerCase(),b===\"select\"||b===\"input\"&&h.type===\"file\")var U=E3;else if(am(h))if(nv)U=k3;else{U=A3;var H=C3}else(b=h.nodeName)&&b.toLowerCase()===\"input\"&&(h.type===\"checkbox\"||h.type===\"radio\")&&(U=M3);if(U&&(U=U(e,u))){tv(d,U,n,f);break e}H&&H(e,h,u),e===\"focusout\"&&(H=h._wrapperState)&&H.controlled&&h.type===\"number\"&&Jf(h,\"number\",h.value)}switch(H=u?Ao(u):window,e){case\"focusin\":(am(H)||H.contentEditable===\"true\")&&(Eo=H,fd=u,Ws=null);break;case\"focusout\":Ws=fd=Eo=null;break;case\"mousedown\":dd=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":dd=!1,dm(d,n,f);break;case\"selectionchange\":if(B3)break;case\"keydown\":case\"keyup\":dm(d,n,f)}var V;if(Uh)e:{switch(e){case\"compositionstart\":var W=\"onCompositionStart\";break e;case\"compositionend\":W=\"onCompositionEnd\";break e;case\"compositionupdate\":W=\"onCompositionUpdate\";break e}W=void 0}else So?J1(e,n)&&(W=\"onCompositionEnd\"):e===\"keydown\"&&n.keyCode===229&&(W=\"onCompositionStart\");W&&(Q1&&n.locale!==\"ko\"&&(So||W!==\"onCompositionStart\"?W===\"onCompositionEnd\"&&So&&(V=X1()):(ti=f,Dh=\"value\"in ti?ti.value:ti.textContent,So=!0)),H=$l(u,W),0<H.length&&(W=new rm(W,e,null,n,f),d.push({event:W,listeners:H}),V?W.data=V:(V=ev(n),V!==null&&(W.data=V)))),(V=v3?w3(e,n):x3(e,n))&&(u=$l(u,\"onBeforeInput\"),0<u.length&&(f=new rm(\"onBeforeInput\",\"beforeinput\",null,n,f),d.push({event:f,listeners:u}),f.data=V))}dv(d,t)})}function la(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+\"Capture\",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ta(e,n),o!=null&&r.unshift(la(e,o,i)),o=ta(e,t),o!=null&&r.push(la(e,o,i))),e=e.return}return r}function uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mm(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ta(n,o),l!=null&&s.unshift(la(n,l,a))):i||(l=ta(n,o),l!=null&&s.push(la(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var I3=/\\r\\n?/g,j3=/\\u0000|\\uFFFD/g;function gm(e){return(typeof e==\"string\"?e:\"\"+e).replace(I3,`\n`).replace(j3,\"\")}function Za(e,t,n){if(t=gm(t),gm(e)!==t&&n)throw Error(re(425))}function Wl(){}var hd=null,pd=null;function md(e,t){return e===\"textarea\"||e===\"noscript\"||typeof t.children==\"string\"||typeof t.children==\"number\"||typeof t.dangerouslySetInnerHTML==\"object\"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout==\"function\"?setTimeout:void 0,F3=typeof clearTimeout==\"function\"?clearTimeout:void 0,ym=typeof Promise==\"function\"?Promise:void 0,D3=typeof queueMicrotask==\"function\"?queueMicrotask:typeof ym<\"u\"?function(e){return ym.resolve(null).then(e).catch(L3)}:gd;function L3(e){setTimeout(function(){throw e})}function Xc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===\"/$\"){if(r===0){e.removeChild(i),ia(t);return}r--}else n!==\"$\"&&n!==\"$?\"&&n!==\"$!\"||r++;n=i}while(n);ia(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===\"$\"||t===\"$!\"||t===\"$?\")break;if(t===\"/$\")return null}}return e}function vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===\"$\"||n===\"$!\"||n===\"$?\"){if(t===0)return e;t--}else n===\"/$\"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),sr=\"__reactFiber$\"+ms,ua=\"__reactProps$\"+ms,Ir=\"__reactContainer$\"+ms,yd=\"__reactEvents$\"+ms,O3=\"__reactListeners$\"+ms,U3=\"__reactHandles$\"+ms;function Ii(e){var t=e[sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ir]||n[sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vm(e);e!==null;){if(n=e[sr])return n;e=vm(e)}return t}e=n,n=e.parentNode}return null}function Aa(e){return e=e[sr]||e[Ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function ju(e){return e[ua]||null}var vd=[],Mo=-1;function Si(e){return{current:e}}function $e(e){0>Mo||(e.current=vd[Mo],vd[Mo]=null,Mo--)}function De(e,t){Mo++,vd[Mo]=e.current,e.current=t}var yi={},tn=Si(yi),mn=Si(!1),Ki=yi;function Qo(e,t){var n=e.type.contextTypes;if(!n)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gn(e){return e=e.childContextTypes,e!=null}function Hl(){$e(mn),$e(tn)}function wm(e,t,n){if(tn.current!==yi)throw Error(re(168));De(tn,t),De(mn,n)}function pv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!=\"function\")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(re(108,CE(e)||\"Unknown\",i));return Qe({},n,r)}function Gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,Ki=tn.current,De(tn,e),De(mn,mn.current),!0}function xm(e,t,n){var r=e.stateNode;if(!r)throw Error(re(169));n?(e=pv(e,t,Ki),r.__reactInternalMemoizedMergedChildContext=e,$e(mn),$e(tn),De(tn,e)):$e(mn),De(mn,n)}var Er=null,Fu=!1,Qc=!1;function mv(e){Er===null?Er=[e]:Er.push(e)}function V3(e){Fu=!0,mv(e)}function Ei(){if(!Qc&&Er!==null){Qc=!0;var e=0,t=Be;try{var n=Er;for(Be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Er=null,Fu=!1}catch(i){throw Er!==null&&(Er=Er.slice(e+1)),U1(_h,Ei),i}finally{Be=t,Qc=!1}}return null}var ko=[],To=0,Kl=null,ql=0,_n=[],In=0,qi=null,Mr=1,kr=\"\";function Mi(e,t){ko[To++]=ql,ko[To++]=Kl,Kl=e,ql=t}function gv(e,t,n){_n[In++]=Mr,_n[In++]=kr,_n[In++]=qi,qi=e;var r=Mr;e=kr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var o=32-qn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mr=1<<32-qn(t)+i|n<<i|r,kr=o+e}else Mr=1<<o|n<<i|r,kr=e}function zh(e){e.return!==null&&(Mi(e,1),gv(e,1,0))}function $h(e){for(;e===Kl;)Kl=ko[--To],ko[To]=null,ql=ko[--To],ko[To]=null;for(;e===qi;)qi=_n[--In],_n[In]=null,kr=_n[--In],_n[In]=null,Mr=_n[--In],_n[In]=null}var En=null,Sn=null,He=!1,Gn=null;function yv(e,t){var n=jn(5,null,null,0);n.elementType=\"DELETED\",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,Sn=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===\"\"||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qi!==null?{id:Mr,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,Sn=null,!0):!1;default:return!1}}function wd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xd(e){if(He){var t=Sn;if(t){var n=t;if(!bm(e,t)){if(wd(e))throw Error(re(418));t=ui(n.nextSibling);var r=En;t&&bm(e,t)?yv(r,n):(e.flags=e.flags&-4097|2,He=!1,En=e)}}else{if(wd(e))throw Error(re(418));e.flags=e.flags&-4097|2,He=!1,En=e}}}function Sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Ya(e){if(e!==En)return!1;if(!He)return Sm(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!==\"head\"&&t!==\"body\"&&!md(e.type,e.memoizedProps)),t&&(t=Sn)){if(wd(e))throw vv(),Error(re(418));for(;t;)yv(e,t),t=ui(t.nextSibling)}if(Sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n===\"/$\"){if(t===0){Sn=ui(e.nextSibling);break e}t--}else n!==\"$\"&&n!==\"$!\"&&n!==\"$?\"||t++}e=e.nextSibling}Sn=null}}else Sn=En?ui(e.stateNode.nextSibling):null;return!0}function vv(){for(var e=Sn;e;)e=ui(e.nextSibling)}function Jo(){Sn=En=null,He=!1}function Wh(e){Gn===null?Gn=[e]:Gn.push(e)}var z3=Lr.ReactCurrentBatchConfig;function ks(e,t,n){if(e=n.ref,e!==null&&typeof e!=\"function\"&&typeof e!=\"object\"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,e));var i=r,o=\"\"+e;return t!==null&&t.ref!==null&&typeof t.ref==\"function\"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!=\"string\")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e===\"[object Object]\"?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":e))}function Em(e){var t=e._init;return t(e._payload)}function wv(e){function t(w,E){if(e){var C=w.deletions;C===null?(w.deletions=[E],w.flags|=16):C.push(E)}}function n(w,E){if(!e)return null;for(;E!==null;)t(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=hi(w,E),w.index=0,w.sibling=null,w}function o(w,E,C){return w.index=C,e?(C=w.alternate,C!==null?(C=C.index,C<E?(w.flags|=2,E):C):(w.flags|=2,E)):(w.flags|=1048576,E)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,E,C,L){return E===null||E.tag!==6?(E=sf(C,w.mode,L),E.return=w,E):(E=i(E,C),E.return=w,E)}function l(w,E,C,L){var U=C.type;return U===bo?f(w,E,C.props.children,L,C.key):E!==null&&(E.elementType===U||typeof U==\"object\"&&U!==null&&U.$$typeof===Zr&&Em(U)===E.type)?(L=i(E,C.props),L.ref=ks(w,E,C),L.return=w,L):(L=Pl(C.type,C.key,C.props,null,w.mode,L),L.ref=ks(w,E,C),L.return=w,L)}function u(w,E,C,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=af(C,w.mode,L),E.return=w,E):(E=i(E,C.children||[]),E.return=w,E)}function f(w,E,C,L,U){return E===null||E.tag!==7?(E=$i(C,w.mode,L,U),E.return=w,E):(E=i(E,C),E.return=w,E)}function d(w,E,C){if(typeof E==\"string\"&&E!==\"\"||typeof E==\"number\")return E=sf(\"\"+E,w.mode,C),E.return=w,E;if(typeof E==\"object\"&&E!==null){switch(E.$$typeof){case Ua:return C=Pl(E.type,E.key,E.props,null,w.mode,C),C.ref=ks(w,null,E),C.return=w,C;case xo:return E=af(E,w.mode,C),E.return=w,E;case Zr:var L=E._init;return d(w,L(E._payload),C)}if(Is(E)||Ss(E))return E=$i(E,w.mode,C,null),E.return=w,E;Xa(w,E)}return null}function h(w,E,C,L){var U=E!==null?E.key:null;if(typeof C==\"string\"&&C!==\"\"||typeof C==\"number\")return U!==null?null:a(w,E,\"\"+C,L);if(typeof C==\"object\"&&C!==null){switch(C.$$typeof){case Ua:return C.key===U?l(w,E,C,L):null;case xo:return C.key===U?u(w,E,C,L):null;case Zr:return U=C._init,h(w,E,U(C._payload),L)}if(Is(C)||Ss(C))return U!==null?null:f(w,E,C,L,null);Xa(w,C)}return null}function b(w,E,C,L,U){if(typeof L==\"string\"&&L!==\"\"||typeof L==\"number\")return w=w.get(C)||null,a(E,w,\"\"+L,U);if(typeof L==\"object\"&&L!==null){switch(L.$$typeof){case Ua:return w=w.get(L.key===null?C:L.key)||null,l(E,w,L,U);case xo:return w=w.get(L.key===null?C:L.key)||null,u(E,w,L,U);case Zr:var H=L._init;return b(w,E,C,H(L._payload),U)}if(Is(L)||Ss(L))return w=w.get(C)||null,f(E,w,L,U,null);Xa(E,L)}return null}function S(w,E,C,L){for(var U=null,H=null,V=E,W=E=0,K=null;V!==null&&W<C.length;W++){V.index>W?(K=V,V=null):K=V.sibling;var Y=h(w,V,C[W],L);if(Y===null){V===null&&(V=K);break}e&&V&&Y.alternate===null&&t(w,V),E=o(Y,E,W),H===null?U=Y:H.sibling=Y,H=Y,V=K}if(W===C.length)return n(w,V),He&&Mi(w,W),U;if(V===null){for(;W<C.length;W++)V=d(w,C[W],L),V!==null&&(E=o(V,E,W),H===null?U=V:H.sibling=V,H=V);return He&&Mi(w,W),U}for(V=r(w,V);W<C.length;W++)K=b(V,w,W,C[W],L),K!==null&&(e&&K.alternate!==null&&V.delete(K.key===null?W:K.key),E=o(K,E,W),H===null?U=K:H.sibling=K,H=K);return e&&V.forEach(function($){return t(w,$)}),He&&Mi(w,W),U}function M(w,E,C,L){var U=Ss(C);if(typeof U!=\"function\")throw Error(re(150));if(C=U.call(C),C==null)throw Error(re(151));for(var H=U=null,V=E,W=E=0,K=null,Y=C.next();V!==null&&!Y.done;W++,Y=C.next()){V.index>W?(K=V,V=null):K=V.sibling;var $=h(w,V,Y.value,L);if($===null){V===null&&(V=K);break}e&&V&&$.alternate===null&&t(w,V),E=o($,E,W),H===null?U=$:H.sibling=$,H=$,V=K}if(Y.done)return n(w,V),He&&Mi(w,W),U;if(V===null){for(;!Y.done;W++,Y=C.next())Y=d(w,Y.value,L),Y!==null&&(E=o(Y,E,W),H===null?U=Y:H.sibling=Y,H=Y);return He&&Mi(w,W),U}for(V=r(w,V);!Y.done;W++,Y=C.next())Y=b(V,w,W,Y.value,L),Y!==null&&(e&&Y.alternate!==null&&V.delete(Y.key===null?W:Y.key),E=o(Y,E,W),H===null?U=Y:H.sibling=Y,H=Y);return e&&V.forEach(function(O){return t(w,O)}),He&&Mi(w,W),U}function N(w,E,C,L){if(typeof C==\"object\"&&C!==null&&C.type===bo&&C.key===null&&(C=C.props.children),typeof C==\"object\"&&C!==null){switch(C.$$typeof){case Ua:e:{for(var U=C.key,H=E;H!==null;){if(H.key===U){if(U=C.type,U===bo){if(H.tag===7){n(w,H.sibling),E=i(H,C.props.children),E.return=w,w=E;break e}}else if(H.elementType===U||typeof U==\"object\"&&U!==null&&U.$$typeof===Zr&&Em(U)===H.type){n(w,H.sibling),E=i(H,C.props),E.ref=ks(w,H,C),E.return=w,w=E;break e}n(w,H);break}else t(w,H);H=H.sibling}C.type===bo?(E=$i(C.props.children,w.mode,L,C.key),E.return=w,w=E):(L=Pl(C.type,C.key,C.props,null,w.mode,L),L.ref=ks(w,E,C),L.return=w,w=L)}return s(w);case xo:e:{for(H=C.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(w,E.sibling),E=i(E,C.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else t(w,E);E=E.sibling}E=af(C,w.mode,L),E.return=w,w=E}return s(w);case Zr:return H=C._init,N(w,E,H(C._payload),L)}if(Is(C))return S(w,E,C,L);if(Ss(C))return M(w,E,C,L);Xa(w,C)}return typeof C==\"string\"&&C!==\"\"||typeof C==\"number\"?(C=\"\"+C,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,C),E.return=w,w=E):(n(w,E),E=sf(C,w.mode,L),E.return=w,w=E),s(w)):n(w,E)}return N}var es=wv(!0),xv=wv(!1),Zl=Si(null),Yl=null,Po=null,Hh=null;function Gh(){Hh=Po=Yl=null}function Kh(e){var t=Zl.current;$e(Zl),e._currentValue=t}function bd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $o(e,t){Yl=e,Hh=Po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(Hh!==e)if(e={context:e,memoizedValue:t,next:null},Po===null){if(Yl===null)throw Error(re(308));Po=e,Yl.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var ji=null;function qh(e){ji===null?ji=[e]:ji.push(e)}function bv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qh(t)):(n.next=i.next,i.next=n),t.interleaved=n,jr(e,r)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jr(e,n)}return i=r.interleaved,i===null?(t.next=t,qh(r)):(t.next=i.next,i.next=t),r.interleaved=t,jr(e,n)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ih(e,n)}}function Cm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xl(e,t,n,r){var i=e.updateQueue;Yr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,f=u=l=null,a=o;do{var h=a.lane,b=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,M=a;switch(h=t,b=n,M.tag){case 1:if(S=M.payload,typeof S==\"function\"){d=S.call(b,d,h);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=M.payload,h=typeof S==\"function\"?S.call(b,d,h):S,h==null)break e;d=Qe({},d,h);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else b={eventTime:b,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=b,l=d):f=f.next=b,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Yi|=s,e.lanes=s,e.memoizedState=d}}function Am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!=\"function\")throw Error(re(191,i));i.call(r)}}}var Ma={},fr=Si(Ma),ca=Si(Ma),fa=Si(Ma);function Fi(e){if(e===Ma)throw Error(re(174));return e}function Yh(e,t){switch(De(fa,t),De(ca,e),De(fr,Ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:td(null,\"\");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=td(t,e)}$e(fr),De(fr,t)}function ts(){$e(fr),$e(ca),$e(fa)}function Ev(e){Fi(fa.current);var t=Fi(fr.current),n=td(t,e.type);t!==n&&(De(ca,e),De(fr,n))}function Xh(e){ca.current===e&&($e(fr),$e(ca))}var Ke=Si(0);function Ql(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===\"$?\"||n.data===\"$!\"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jc=[];function Qh(){for(var e=0;e<Jc.length;e++)Jc[e]._workInProgressVersionPrimary=null;Jc.length=0}var Cl=Lr.ReactCurrentDispatcher,ef=Lr.ReactCurrentBatchConfig,Zi=0,Xe=null,Pt=null,Rt=null,Jl=!1,Hs=!1,da=0,$3=0;function Wt(){throw Error(re(321))}function Jh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function e0(e,t,n,r,i,o){if(Zi=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cl.current=e===null||e.memoizedState===null?K3:q3,e=n(r,i),Hs){o=0;do{if(Hs=!1,da=0,25<=o)throw Error(re(301));o+=1,Rt=Pt=null,t.updateQueue=null,Cl.current=Z3,e=n(r,i)}while(Hs)}if(Cl.current=eu,t=Pt!==null&&Pt.next!==null,Zi=0,Rt=Pt=Xe=null,Jl=!1,t)throw Error(re(300));return e}function t0(){var e=da!==0;return da=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Xe.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function On(){if(Pt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Rt===null?Xe.memoizedState:Rt.next;if(t!==null)Rt=t,Pt=e;else{if(e===null)throw Error(re(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Rt===null?Xe.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function ha(e,t){return typeof t==\"function\"?t(e):t}function tf(e){var t=On(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=Pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((Zi&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Xe.lanes|=f,Yi|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Qn(r,t.memoizedState)||(hn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,Yi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nf(e){var t=On(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Qn(o,t.memoizedState)||(hn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Cv(){}function Av(e,t){var n=Xe,r=On(),i=t(),o=!Qn(r.memoizedState,i);if(o&&(r.memoizedState=i,hn=!0),r=r.queue,n0(Tv.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,pa(9,kv.bind(null,n,r,i,t),void 0,null),_t===null)throw Error(re(349));Zi&30||Mv(n,t,i)}return i}function Mv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kv(e,t,n,r){t.value=n,t.getSnapshot=r,Pv(t)&&Bv(e)}function Tv(e,t,n){return n(function(){Pv(t)&&Bv(e)})}function Pv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch{return!0}}function Bv(e){var t=jr(e,1);t!==null&&Zn(t,e,1,-1)}function Mm(e){var t=ir();return typeof e==\"function\"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t.queue=e,e=e.dispatch=G3.bind(null,Xe,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nv(){return On().memoizedState}function Al(e,t,n,r){var i=ir();Xe.flags|=e,i.memoizedState=pa(1|t,n,void 0,r===void 0?null:r)}function Du(e,t,n,r){var i=On();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var s=Pt.memoizedState;if(o=s.destroy,r!==null&&Jh(r,s.deps)){i.memoizedState=pa(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=pa(1|t,n,o,r)}function km(e,t){return Al(8390656,8,e,t)}function n0(e,t){return Du(2048,8,e,t)}function Rv(e,t){return Du(4,2,e,t)}function _v(e,t){return Du(4,4,e,t)}function Iv(e,t){if(typeof t==\"function\")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jv(e,t,n){return n=n!=null?n.concat([e]):null,Du(4,4,Iv.bind(null,t,e),n)}function r0(){}function Fv(e,t){var n=On();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dv(e,t){var n=On();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lv(e,t,n){return Zi&21?(Qn(n,t)||(n=$1(),Xe.lanes|=n,Yi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=n)}function W3(e,t){var n=Be;Be=n!==0&&4>n?n:4,e(!0);var r=ef.transition;ef.transition={};try{e(!1),t()}finally{Be=n,ef.transition=r}}function Ov(){return On().memoizedState}function H3(e,t,n){var r=di(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uv(e))Vv(t,n);else if(n=bv(e,t,n,r),n!==null){var i=an();Zn(n,e,r,i),zv(n,t,r)}}function G3(e,t,n){var r=di(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uv(e))Vv(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,s)){var l=t.interleaved;l===null?(i.next=i,qh(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=bv(e,t,i,r),n!==null&&(i=an(),Zn(n,e,r,i),zv(n,t,r))}}function Uv(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function Vv(e,t){Hs=Jl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ih(e,n)}}var eu={readContext:Ln,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},K3={readContext:Ln,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:km,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Al(4194308,4,Iv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ir();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=H3.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:Mm,useDebugValue:r0,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=Mm(!1),t=e[0];return e=W3.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=ir();if(He){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),_t===null)throw Error(re(349));Zi&30||Mv(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,km(Tv.bind(null,r,o,e),[e]),r.flags|=2048,pa(9,kv.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ir(),t=_t.identifierPrefix;if(He){var n=kr,r=Mr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,t=\":\"+t+\"R\"+n,n=da++,0<n&&(t+=\"H\"+n.toString(32)),t+=\":\"}else n=$3++,t=\":\"+t+\"r\"+n.toString(32)+\":\";return e.memoizedState=t},unstable_isNewReconciler:!1},q3={readContext:Ln,useCallback:Fv,useContext:Ln,useEffect:n0,useImperativeHandle:jv,useInsertionEffect:Rv,useLayoutEffect:_v,useMemo:Dv,useReducer:tf,useRef:Nv,useState:function(){return tf(ha)},useDebugValue:r0,useDeferredValue:function(e){var t=On();return Lv(t,Pt.memoizedState,e)},useTransition:function(){var e=tf(ha)[0],t=On().memoizedState;return[e,t]},useMutableSource:Cv,useSyncExternalStore:Av,useId:Ov,unstable_isNewReconciler:!1},Z3={readContext:Ln,useCallback:Fv,useContext:Ln,useEffect:n0,useImperativeHandle:jv,useInsertionEffect:Rv,useLayoutEffect:_v,useMemo:Dv,useReducer:nf,useRef:Nv,useState:function(){return nf(ha)},useDebugValue:r0,useDeferredValue:function(e){var t=On();return Pt===null?t.memoizedState=e:Lv(t,Pt.memoizedState,e)},useTransition:function(){var e=nf(ha)[0],t=On().memoizedState;return[e,t]},useMutableSource:Cv,useSyncExternalStore:Av,useId:Ov,unstable_isNewReconciler:!1};function $n(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lu={isMounted:function(e){return(e=e._reactInternals)?to(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=an(),i=di(e),o=Br(r,i);o.payload=t,n!=null&&(o.callback=n),t=ci(e,o,i),t!==null&&(Zn(t,e,i,r),El(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=an(),i=di(e),o=Br(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ci(e,o,i),t!==null&&(Zn(t,e,i,r),El(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),r=di(e),i=Br(n,r);i.tag=2,t!=null&&(i.callback=t),t=ci(e,i,r),t!==null&&(Zn(t,e,r,n),El(t,e,r))}};function Tm(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate==\"function\"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!sa(n,r)||!sa(i,o):!0}function $v(e,t,n){var r=!1,i=yi,o=t.contextType;return typeof o==\"object\"&&o!==null?o=Ln(o):(i=gn(t)?Ki:tn.current,r=t.contextTypes,o=(r=r!=null)?Qo(e,i):yi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==\"function\"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==\"function\"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function Ed(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Zh(e);var o=t.contextType;typeof o==\"object\"&&o!==null?i.context=Ln(o):(o=gn(t)?Ki:tn.current,i.context=Qo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o==\"function\"&&(Sd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps==\"function\"||typeof i.getSnapshotBeforeUpdate==\"function\"||typeof i.UNSAFE_componentWillMount!=\"function\"&&typeof i.componentWillMount!=\"function\"||(t=i.state,typeof i.componentWillMount==\"function\"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount==\"function\"&&i.UNSAFE_componentWillMount(),t!==i.state&&Lu.enqueueReplaceState(i,i.state,null),Xl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount==\"function\"&&(e.flags|=4194308)}function ns(e,t){try{var n=\"\",r=t;do n+=EE(r),r=r.return;while(r);var i=n}catch(o){i=`\nError generating stack: `+o.message+`\n`+o.stack}return{value:e,source:t,stack:i,digest:null}}function rf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Y3=typeof WeakMap==\"function\"?WeakMap:Map;function Wv(e,t,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nu||(nu=!0,Id=r),Cd(e,t)},n}function Hv(e,t,n){n=Br(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r==\"function\"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Cd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch==\"function\"&&(n.callback=function(){Cd(e,t),typeof r!=\"function\"&&(fi===null?fi=new Set([this]):fi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:\"\"})}),n}function Bm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Y3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=cC.bind(null,e,t,n),t.then(e,e))}function Nm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Br(-1,1),t.tag=2,ci(n,t,1))),n.lanes|=1),e)}var X3=Lr.ReactCurrentOwner,hn=!1;function on(e,t,n,r){t.child=e===null?xv(t,null,n,r):es(t,e.child,n,r)}function _m(e,t,n,r,i){n=n.render;var o=t.ref;return $o(t,i),r=e0(e,t,n,r,o,i),n=t0(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fr(e,t,i)):(He&&n&&zh(t),t.flags|=1,on(e,t,r,i),t.child)}function Im(e,t,n,r,i){if(e===null){var o=n.type;return typeof o==\"function\"&&!f0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Gv(e,t,o,r,i)):(e=Pl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(s,r)&&e.ref===t.ref)return Fr(e,t,i)}return t.flags|=1,e=hi(o,r),e.ref=t.ref,e.return=t,t.child=e}function Gv(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(sa(o,r)&&e.ref===t.ref)if(hn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,Fr(e,t,i)}return Ad(e,t,n,r,i)}function Kv(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode===\"hidden\")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(No,xn),xn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(No,xn),xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(No,xn),xn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,De(No,xn),xn|=r;return on(e,t,i,n),t.child}function qv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ad(e,t,n,r,i){var o=gn(n)?Ki:tn.current;return o=Qo(t,o),$o(t,i),n=e0(e,t,n,r,o,i),r=t0(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fr(e,t,i)):(He&&r&&zh(t),t.flags|=1,on(e,t,n,i),t.child)}function jm(e,t,n,r,i){if(gn(n)){var o=!0;Gl(t)}else o=!1;if($o(t,i),t.stateNode===null)Ml(e,t),$v(t,n,r),Ed(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u==\"object\"&&u!==null?u=Ln(u):(u=gn(n)?Ki:tn.current,u=Qo(t,u));var f=n.getDerivedStateFromProps,d=typeof f==\"function\"||typeof s.getSnapshotBeforeUpdate==\"function\";d||typeof s.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof s.componentWillReceiveProps!=\"function\"||(a!==r||l!==u)&&Pm(t,s,r,u),Yr=!1;var h=t.memoizedState;s.state=h,Xl(t,r,s,i),l=t.memoizedState,a!==r||h!==l||mn.current||Yr?(typeof f==\"function\"&&(Sd(t,n,f,r),l=t.memoizedState),(a=Yr||Tm(t,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!=\"function\"&&typeof s.componentWillMount!=\"function\"||(typeof s.componentWillMount==\"function\"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount==\"function\"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount==\"function\"&&(t.flags|=4194308)):(typeof s.componentDidMount==\"function\"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount==\"function\"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Sv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:$n(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,typeof l==\"object\"&&l!==null?l=Ln(l):(l=gn(n)?Ki:tn.current,l=Qo(t,l));var b=n.getDerivedStateFromProps;(f=typeof b==\"function\"||typeof s.getSnapshotBeforeUpdate==\"function\")||typeof s.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof s.componentWillReceiveProps!=\"function\"||(a!==d||h!==l)&&Pm(t,s,r,l),Yr=!1,h=t.memoizedState,s.state=h,Xl(t,r,s,i);var S=t.memoizedState;a!==d||h!==S||mn.current||Yr?(typeof b==\"function\"&&(Sd(t,n,b,r),S=t.memoizedState),(u=Yr||Tm(t,n,u,r,h,S,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!=\"function\"&&typeof s.componentWillUpdate!=\"function\"||(typeof s.componentWillUpdate==\"function\"&&s.componentWillUpdate(r,S,l),typeof s.UNSAFE_componentWillUpdate==\"function\"&&s.UNSAFE_componentWillUpdate(r,S,l)),typeof s.componentDidUpdate==\"function\"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate==\"function\"&&(t.flags|=1024)):(typeof s.componentDidUpdate!=\"function\"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!=\"function\"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),s.props=r,s.state=S,s.context=l,r=u):(typeof s.componentDidUpdate!=\"function\"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!=\"function\"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Md(e,t,n,r,o,i)}function Md(e,t,n,r,i,o){qv(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&xm(t,n,!1),Fr(e,t,o);r=t.stateNode,X3.current=t;var a=s&&typeof n.getDerivedStateFromError!=\"function\"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=es(t,e.child,null,o),t.child=es(t,null,a,o)):on(e,t,a,o),t.memoizedState=r.state,i&&xm(t,n,!0),t.child}function Zv(e){var t=e.stateNode;t.pendingContext?wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wm(e,t.context,!1),Yh(e,t.containerInfo)}function Fm(e,t,n,r,i){return Jo(),Wh(i),t.flags|=256,on(e,t,n,r),t.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Td(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yv(e,t,n){var r=t.pendingProps,i=Ke.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Ke,i&1),e===null)return xd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data===\"$!\"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:\"hidden\",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Vu(s,r,0,null),e=$i(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Td(n),t.memoizedState=kd,e):i0(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Q3(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:\"hidden\",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hi(a,o):(o=$i(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Td(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=kd,r}return o=e.child,e=o.sibling,r=hi(o,{mode:\"visible\",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function i0(e,t){return t=Vu({mode:\"visible\",children:t},e.mode,0,null),t.return=e,e.child=t}function Qa(e,t,n,r){return r!==null&&Wh(r),es(t,e.child,null,n),e=i0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q3(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=rf(Error(re(422))),Qa(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Vu({mode:\"visible\",children:r.children},i,0,null),o=$i(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&es(t,e.child,null,s),t.child.memoizedState=Td(s),t.memoizedState=kd,o);if(!(t.mode&1))return Qa(e,t,s,null);if(i.data===\"$!\"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(re(419)),r=rf(o,r,void 0),Qa(e,t,s,r)}if(a=(s&e.childLanes)!==0,hn||a){if(r=_t,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jr(e,i),Zn(r,e,i,-1))}return c0(),r=rf(Error(re(421))),Qa(e,t,s,r)}return i.data===\"$?\"?(t.flags|=128,t.child=e.child,t=fC.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Sn=ui(i.nextSibling),En=t,He=!0,Gn=null,e!==null&&(_n[In++]=Mr,_n[In++]=kr,_n[In++]=qi,Mr=e.id,kr=e.overflow,qi=t),t=i0(t,r.children),t.flags|=4096,t)}function Dm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bd(e.return,t,n)}function of(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Xv(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(on(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dm(e,n,t);else if(e.tag===19)Dm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case\"forwards\":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ql(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),of(t,!1,i,n,o);break;case\"backwards\":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ql(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}of(t,!0,n,null,o);break;case\"together\":of(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function J3(e,t,n){switch(t.tag){case 3:Zv(t),Jo();break;case 5:Ev(t);break;case 1:gn(t.type)&&Gl(t);break;case 4:Yh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;De(Zl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?Yv(e,t,n):(De(Ke,Ke.current&1),e=Fr(e,t,n),e!==null?e.sibling:null);De(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Kv(e,t,n)}return Fr(e,t,n)}var Qv,Pd,Jv,ew;Qv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pd=function(){};Jv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fi(fr.current);var o=null;switch(n){case\"input\":i=Xf(e,i),r=Xf(e,r),o=[];break;case\"select\":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case\"textarea\":i=ed(e,i),r=ed(e,r),o=[];break;default:typeof i.onClick!=\"function\"&&typeof r.onClick==\"function\"&&(e.onclick=Wl)}nd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u===\"style\"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]=\"\")}else u!==\"dangerouslySetInnerHTML\"&&u!==\"children\"&&u!==\"suppressContentEditableWarning\"&&u!==\"suppressHydrationWarning\"&&u!==\"autoFocus\"&&(Js.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u===\"style\")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]=\"\");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u===\"dangerouslySetInnerHTML\"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u===\"children\"?typeof l!=\"string\"&&typeof l!=\"number\"||(o=o||[]).push(u,\"\"+l):u!==\"suppressContentEditableWarning\"&&u!==\"suppressHydrationWarning\"&&(Js.hasOwnProperty(u)?(l!=null&&u===\"onScroll\"&&ze(\"scroll\",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push(\"style\",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ew=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!He)switch(e.tailMode){case\"hidden\":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case\"collapsed\":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eC(e,t,n){var r=t.pendingProps;switch($h(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return gn(t.type)&&Hl(),Ht(t),null;case 3:return r=t.stateNode,ts(),$e(mn),$e(tn),Qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(Dd(Gn),Gn=null))),Pd(e,t),Ht(t),null;case 5:Xh(t);var i=Fi(fa.current);if(n=t.type,e!==null&&t.stateNode!=null)Jv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(re(166));return Ht(t),null}if(e=Fi(fr.current),Ya(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[sr]=t,r[ua]=o,e=(t.mode&1)!==0,n){case\"dialog\":ze(\"cancel\",r),ze(\"close\",r);break;case\"iframe\":case\"object\":case\"embed\":ze(\"load\",r);break;case\"video\":case\"audio\":for(i=0;i<Fs.length;i++)ze(Fs[i],r);break;case\"source\":ze(\"error\",r);break;case\"img\":case\"image\":case\"link\":ze(\"error\",r),ze(\"load\",r);break;case\"details\":ze(\"toggle\",r);break;case\"input\":Gp(r,o),ze(\"invalid\",r);break;case\"select\":r._wrapperState={wasMultiple:!!o.multiple},ze(\"invalid\",r);break;case\"textarea\":qp(r,o),ze(\"invalid\",r)}nd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s===\"children\"?typeof a==\"string\"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Za(r.textContent,a,e),i=[\"children\",a]):typeof a==\"number\"&&r.textContent!==\"\"+a&&(o.suppressHydrationWarning!==!0&&Za(r.textContent,a,e),i=[\"children\",\"\"+a]):Js.hasOwnProperty(s)&&a!=null&&s===\"onScroll\"&&ze(\"scroll\",r)}switch(n){case\"input\":Va(r),Kp(r,o,!0);break;case\"textarea\":Va(r),Zp(r);break;case\"select\":case\"option\":break;default:typeof o.onClick==\"function\"&&(r.onclick=Wl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e===\"http://www.w3.org/1999/xhtml\"&&(e=T1(n)),e===\"http://www.w3.org/1999/xhtml\"?n===\"script\"?(e=s.createElement(\"div\"),e.innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):typeof r.is==\"string\"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n===\"select\"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[sr]=t,e[ua]=r,Qv(e,t,!1,!1),t.stateNode=e;e:{switch(s=rd(n,r),n){case\"dialog\":ze(\"cancel\",e),ze(\"close\",e),i=r;break;case\"iframe\":case\"object\":case\"embed\":ze(\"load\",e),i=r;break;case\"video\":case\"audio\":for(i=0;i<Fs.length;i++)ze(Fs[i],e);i=r;break;case\"source\":ze(\"error\",e),i=r;break;case\"img\":case\"image\":case\"link\":ze(\"error\",e),ze(\"load\",e),i=r;break;case\"details\":ze(\"toggle\",e),i=r;break;case\"input\":Gp(e,r),i=Xf(e,r),ze(\"invalid\",e);break;case\"option\":i=r;break;case\"select\":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),ze(\"invalid\",e);break;case\"textarea\":qp(e,r),i=ed(e,r),ze(\"invalid\",e);break;default:i=r}nd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o===\"style\"?N1(e,l):o===\"dangerouslySetInnerHTML\"?(l=l?l.__html:void 0,l!=null&&P1(e,l)):o===\"children\"?typeof l==\"string\"?(n!==\"textarea\"||l!==\"\")&&ea(e,l):typeof l==\"number\"&&ea(e,\"\"+l):o!==\"suppressContentEditableWarning\"&&o!==\"suppressHydrationWarning\"&&o!==\"autoFocus\"&&(Js.hasOwnProperty(o)?l!=null&&o===\"onScroll\"&&ze(\"scroll\",e):l!=null&&Th(e,o,l,s))}switch(n){case\"input\":Va(e),Kp(e,r,!1);break;case\"textarea\":Va(e),Zp(e);break;case\"option\":r.value!=null&&e.setAttribute(\"value\",\"\"+gi(r.value));break;case\"select\":e.multiple=!!r.multiple,o=r.value,o!=null?Oo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Oo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick==\"function\"&&(e.onclick=Wl)}switch(n){case\"button\":case\"input\":case\"select\":case\"textarea\":r=!!r.autoFocus;break e;case\"img\":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)ew(e,t,e.memoizedProps,r);else{if(typeof r!=\"string\"&&t.stateNode===null)throw Error(re(166));if(n=Fi(fa.current),Fi(fr.current),Ya(t)){if(r=t.stateNode,n=t.memoizedProps,r[sr]=t,(o=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:Za(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Za(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=t,t.stateNode=r}return Ht(t),null;case 13:if($e(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Sn!==null&&t.mode&1&&!(t.flags&128))vv(),Jo(),t.flags|=98560,o=!1;else if(o=Ya(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(re(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[sr]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),o=!1}else Gn!==null&&(Dd(Gn),Gn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?Bt===0&&(Bt=3):c0())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return ts(),Pd(e,t),e===null&&aa(t.stateNode.containerInfo),Ht(t),null;case 10:return Kh(t.type._context),Ht(t),null;case 17:return gn(t.type)&&Hl(),Ht(t),null;case 19:if($e(Ke),o=t.memoizedState,o===null)return Ht(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ts(o,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ql(e),s!==null){for(t.flags|=128,Ts(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ke,Ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&lt()>rs&&(t.flags|=128,r=!0,Ts(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ql(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(o,!0),o.tail===null&&o.tailMode===\"hidden\"&&!s.alternate&&!He)return Ht(t),null}else 2*lt()-o.renderingStartTime>rs&&n!==1073741824&&(t.flags|=128,r=!0,Ts(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lt(),t.sibling=null,n=Ke.current,De(Ke,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return u0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function tC(e,t){switch($h(t),t.tag){case 1:return gn(t.type)&&Hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),$e(mn),$e(tn),Qh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xh(t),null;case 13:if($e(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Ke),null;case 4:return ts(),null;case 10:return Kh(t.type._context),null;case 22:case 23:return u0(),null;case 24:return null;default:return null}}var Ja=!1,Qt=!1,nC=typeof WeakSet==\"function\"?WeakSet:Set,ce=null;function Bo(e,t){var n=e.ref;if(n!==null)if(typeof n==\"function\")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function Bd(e,t,n){try{n()}catch(r){it(e,t,r)}}var Lm=!1;function rC(e,t){if(hd=Vl,e=ov(),Vh(e)){if(\"selectionStart\"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var b;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(b=d.firstChild)!==null;)h=d,d=b;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++f===r&&(l=s),(b=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=b}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:e,selectionRange:n},Vl=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var M=S.memoizedProps,N=S.memoizedState,w=t.stateNode,E=w.getSnapshotBeforeUpdate(t.elementType===t.type?M:$n(t.type,M),N);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent=\"\":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(L){it(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return S=Lm,Lm=!1,S}function Gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bd(t,n,o)}i=i.next}while(i!==r)}}function Ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t==\"function\"?t(e):t.current=e}}function tw(e){var t=e.alternate;t!==null&&(e.alternate=null,tw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[ua],delete t[yd],delete t[O3],delete t[U3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nw(e){return e.tag===5||e.tag===3||e.tag===4}function Om(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wl));else if(r!==4&&(e=e.child,e!==null))for(Rd(e,t,n),e=e.sibling;e!==null;)Rd(e,t,n),e=e.sibling}function _d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_d(e,t,n),e=e.sibling;e!==null;)_d(e,t,n),e=e.sibling}var Ft=null,Wn=!1;function Or(e,t,n){for(n=n.child;n!==null;)rw(e,t,n),n=n.sibling}function rw(e,t,n){if(cr&&typeof cr.onCommitFiberUnmount==\"function\")try{cr.onCommitFiberUnmount(Nu,n)}catch{}switch(n.tag){case 5:Qt||Bo(n,t);case 6:var r=Ft,i=Wn;Ft=null,Or(e,t,n),Ft=r,Wn=i,Ft!==null&&(Wn?(e=Ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Wn?(e=Ft,n=n.stateNode,e.nodeType===8?Xc(e.parentNode,n):e.nodeType===1&&Xc(e,n),ia(e)):Xc(Ft,n.stateNode));break;case 4:r=Ft,i=Wn,Ft=n.stateNode.containerInfo,Wn=!0,Or(e,t,n),Ft=r,Wn=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Bd(n,t,s),i=i.next}while(i!==r)}Or(e,t,n);break;case 1:if(!Qt&&(Bo(n,t),r=n.stateNode,typeof r.componentWillUnmount==\"function\"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,t,a)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Or(e,t,n),Qt=r):Or(e,t,n);break;default:Or(e,t,n)}}function Um(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nC),t.forEach(function(r){var i=dC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,Wn=!1;break e;case 3:Ft=a.stateNode.containerInfo,Wn=!0;break e;case 4:Ft=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Ft===null)throw Error(re(160));rw(o,s,i),Ft=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iw(t,e),t=t.sibling}function iw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vn(t,e),nr(e),r&4){try{Gs(3,e,e.return),Ou(3,e)}catch(M){it(e,e.return,M)}try{Gs(5,e,e.return)}catch(M){it(e,e.return,M)}}break;case 1:Vn(t,e),nr(e),r&512&&n!==null&&Bo(n,n.return);break;case 5:if(Vn(t,e),nr(e),r&512&&n!==null&&Bo(n,n.return),e.flags&32){var i=e.stateNode;try{ea(i,\"\")}catch(M){it(e,e.return,M)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a===\"input\"&&o.type===\"radio\"&&o.name!=null&&M1(i,o),rd(a,s);var u=rd(a,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f===\"style\"?N1(i,d):f===\"dangerouslySetInnerHTML\"?P1(i,d):f===\"children\"?ea(i,d):Th(i,f,d,u)}switch(a){case\"input\":Qf(i,o);break;case\"textarea\":k1(i,o);break;case\"select\":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Oo(i,!!o.multiple,b,!1):h!==!!o.multiple&&(o.defaultValue!=null?Oo(i,!!o.multiple,o.defaultValue,!0):Oo(i,!!o.multiple,o.multiple?[]:\"\",!1))}i[ua]=o}catch(M){it(e,e.return,M)}}break;case 6:if(Vn(t,e),nr(e),r&4){if(e.stateNode===null)throw Error(re(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(M){it(e,e.return,M)}}break;case 3:if(Vn(t,e),nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(M){it(e,e.return,M)}break;case 4:Vn(t,e),nr(e);break;case 13:Vn(t,e),nr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(a0=lt())),r&4&&Um(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||f,Vn(t,e),Qt=u):Vn(t,e),nr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ce=e,f=e.child;f!==null;){for(d=ce=f;ce!==null;){switch(h=ce,b=h.child,h.tag){case 0:case 11:case 14:case 15:Gs(4,h,h.return);break;case 1:Bo(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount==\"function\"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(M){it(r,n,M)}}break;case 5:Bo(h,h.return);break;case 22:if(h.memoizedState!==null){zm(d);continue}}b!==null?(b.return=h,ce=b):zm(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty==\"function\"?o.setProperty(\"display\",\"none\",\"important\"):o.display=\"none\"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty(\"display\")?l.display:null,a.style.display=B1(\"display\",s))}catch(M){it(e,e.return,M)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?\"\":d.memoizedProps}catch(M){it(e,e.return,M)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vn(t,e),nr(e),r&4&&Um(e);break;case 21:break;default:Vn(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nw(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ea(i,\"\"),r.flags&=-33);var o=Om(e);_d(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Om(e);Rd(e,a,s);break;default:throw Error(re(161))}}catch(l){it(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iC(e,t,n){ce=e,ow(e)}function ow(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ja;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Ja;var u=Qt;if(Ja=s,(Qt=l)&&!u)for(ce=i;ce!==null;)s=ce,l=s.child,s.tag===22&&s.memoizedState!==null?$m(i):l!==null?(l.return=s,ce=l):$m(i);for(;o!==null;)ce=o,ow(o),o=o.sibling;ce=i,Ja=a,Qt=u}Vm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):Vm(e)}}function Vm(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Ou(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$n(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Am(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Am(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case\"button\":case\"input\":case\"select\":case\"textarea\":l.autoFocus&&n.focus();break;case\"img\":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ia(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Qt||t.flags&512&&Nd(t)}catch(h){it(t,t.return,h)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function zm(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function $m(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ou(4,t)}catch(l){it(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount==\"function\"){var i=t.return;try{r.componentDidMount()}catch(l){it(t,i,l)}}var o=t.return;try{Nd(t)}catch(l){it(t,o,l)}break;case 5:var s=t.return;try{Nd(t)}catch(l){it(t,s,l)}}}catch(l){it(t,t.return,l)}if(t===e){ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ce=a;break}ce=t.return}}var oC=Math.ceil,tu=Lr.ReactCurrentDispatcher,o0=Lr.ReactCurrentOwner,Fn=Lr.ReactCurrentBatchConfig,Ae=0,_t=null,kt=null,Ot=0,xn=0,No=Si(0),Bt=0,ma=null,Yi=0,Uu=0,s0=0,Ks=null,fn=null,a0=0,rs=1/0,Sr=null,nu=!1,Id=null,fi=null,el=!1,ni=null,ru=0,qs=0,jd=null,kl=-1,Tl=0;function an(){return Ae&6?lt():kl!==-1?kl:kl=lt()}function di(e){return e.mode&1?Ae&2&&Ot!==0?Ot&-Ot:z3.transition!==null?(Tl===0&&(Tl=$1()),Tl):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Y1(e.type)),e):1}function Zn(e,t,n,r){if(50<qs)throw qs=0,jd=null,Error(re(185));Ea(e,n,r),(!(Ae&2)||e!==_t)&&(e===_t&&(!(Ae&2)&&(Uu|=n),Bt===4&&ei(e,Ot)),yn(e,r),n===1&&Ae===0&&!(t.mode&1)&&(rs=lt()+500,Fu&&Ei()))}function yn(e,t){var n=e.callbackNode;zE(e,t);var r=Ul(e,e===_t?Ot:0);if(r===0)n!==null&&Qp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qp(n),t===1)e.tag===0?V3(Wm.bind(null,e)):mv(Wm.bind(null,e)),D3(function(){!(Ae&6)&&Ei()}),n=null;else{switch(W1(r)){case 1:n=_h;break;case 4:n=V1;break;case 16:n=Ol;break;case 536870912:n=z1;break;default:n=Ol}n=hw(n,sw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sw(e,t){if(kl=-1,Tl=0,Ae&6)throw Error(re(327));var n=e.callbackNode;if(Wo()&&e.callbackNode!==n)return null;var r=Ul(e,e===_t?Ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=iu(e,r);else{t=r;var i=Ae;Ae|=2;var o=lw();(_t!==e||Ot!==t)&&(Sr=null,rs=lt()+500,zi(e,t));do try{lC();break}catch(a){aw(e,a)}while(!0);Gh(),tu.current=o,Ae=i,kt!==null?t=0:(_t=null,Ot=0,t=Bt)}if(t!==0){if(t===2&&(i=ld(e),i!==0&&(r=i,t=Fd(e,i))),t===1)throw n=ma,zi(e,0),ei(e,r),yn(e,lt()),n;if(t===6)ei(e,r);else{if(i=e.current.alternate,!(r&30)&&!sC(i)&&(t=iu(e,r),t===2&&(o=ld(e),o!==0&&(r=o,t=Fd(e,o))),t===1))throw n=ma,zi(e,0),ei(e,r),yn(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(re(345));case 2:ki(e,fn,Sr);break;case 3:if(ei(e,r),(r&130023424)===r&&(t=a0+500-lt(),10<t)){if(Ul(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){an(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gd(ki.bind(null,e,fn,Sr),t);break}ki(e,fn,Sr);break;case 4:if(ei(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-qn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oC(r/1960))-r,10<r){e.timeoutHandle=gd(ki.bind(null,e,fn,Sr),r);break}ki(e,fn,Sr);break;case 5:ki(e,fn,Sr);break;default:throw Error(re(329))}}}return yn(e,lt()),e.callbackNode===n?sw.bind(null,e):null}function Fd(e,t){var n=Ks;return e.current.memoizedState.isDehydrated&&(zi(e,t).flags|=256),e=iu(e,t),e!==2&&(t=fn,fn=n,t!==null&&Dd(t)),e}function Dd(e){fn===null?fn=e:fn.push.apply(fn,e)}function sC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t){for(t&=~s0,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qn(t),r=1<<n;e[n]=-1,t&=~r}}function Wm(e){if(Ae&6)throw Error(re(327));Wo();var t=Ul(e,0);if(!(t&1))return yn(e,lt()),null;var n=iu(e,t);if(e.tag!==0&&n===2){var r=ld(e);r!==0&&(t=r,n=Fd(e,r))}if(n===1)throw n=ma,zi(e,0),ei(e,t),yn(e,lt()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ki(e,fn,Sr),yn(e,lt()),null}function l0(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(rs=lt()+500,Fu&&Ei())}}function Xi(e){ni!==null&&ni.tag===0&&!(Ae&6)&&Wo();var t=Ae;Ae|=1;var n=Fn.transition,r=Be;try{if(Fn.transition=null,Be=1,e)return e()}finally{Be=r,Fn.transition=n,Ae=t,!(Ae&6)&&Ei()}}function u0(){xn=No.current,$e(No)}function zi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,F3(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch($h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hl();break;case 3:ts(),$e(mn),$e(tn),Qh();break;case 5:Xh(r);break;case 4:ts();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:Kh(r.type._context);break;case 22:case 23:u0()}n=n.return}if(_t=e,kt=e=hi(e.current,null),Ot=xn=t,Bt=0,ma=null,s0=Uu=Yi=0,fn=Ks=null,ji!==null){for(t=0;t<ji.length;t++)if(n=ji[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ji=null}return e}function aw(e,t){do{var n=kt;try{if(Gh(),Cl.current=eu,Jl){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jl=!1}if(Zi=0,Rt=Pt=Xe=null,Hs=!1,da=0,o0.current=null,n===null||n.return===null){Bt=1,ma=t,kt=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ot,a.flags|=32768,l!==null&&typeof l==\"object\"&&typeof l.then==\"function\"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var b=Nm(s);if(b!==null){b.flags&=-257,Rm(b,s,a,o,t),b.mode&1&&Bm(o,u,t),t=b,l=u;var S=t.updateQueue;if(S===null){var M=new Set;M.add(l),t.updateQueue=M}else S.add(l);break e}else{if(!(t&1)){Bm(o,u,t),c0();break e}l=Error(re(426))}}else if(He&&a.mode&1){var N=Nm(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Rm(N,s,a,o,t),Wh(ns(l,a));break e}}o=l=ns(l,a),Bt!==4&&(Bt=2),Ks===null?Ks=[o]:Ks.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Wv(o,l,t);Cm(o,w);break e;case 1:a=l;var E=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError==\"function\"||C!==null&&typeof C.componentDidCatch==\"function\"&&(fi===null||!fi.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var L=Hv(o,a,t);Cm(o,L);break e}}o=o.return}while(o!==null)}cw(n)}catch(U){t=U,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function lw(){var e=tu.current;return tu.current=eu,e===null?eu:e}function c0(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),_t===null||!(Yi&268435455)&&!(Uu&268435455)||ei(_t,Ot)}function iu(e,t){var n=Ae;Ae|=2;var r=lw();(_t!==e||Ot!==t)&&(Sr=null,zi(e,t));do try{aC();break}catch(i){aw(e,i)}while(!0);if(Gh(),Ae=n,tu.current=r,kt!==null)throw Error(re(261));return _t=null,Ot=0,Bt}function aC(){for(;kt!==null;)uw(kt)}function lC(){for(;kt!==null&&!_E();)uw(kt)}function uw(e){var t=dw(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?cw(e):kt=t,o0.current=null}function cw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tC(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,kt=null;return}}else if(n=eC(n,t,xn),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Bt===0&&(Bt=5)}function ki(e,t,n){var r=Be,i=Fn.transition;try{Fn.transition=null,Be=1,uC(e,t,n,r)}finally{Fn.transition=i,Be=r}return null}function uC(e,t,n,r){do Wo();while(ni!==null);if(Ae&6)throw Error(re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if($E(e,o),e===_t&&(kt=_t=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,hw(Ol,function(){return Wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Fn.transition,Fn.transition=null;var s=Be;Be=1;var a=Ae;Ae|=4,o0.current=null,rC(e,n),iw(n,e),P3(pd),Vl=!!hd,pd=hd=null,e.current=n,iC(n),IE(),Ae=a,Be=s,Fn.transition=o}else e.current=n;if(el&&(el=!1,ni=e,ru=i),o=e.pendingLanes,o===0&&(fi=null),DE(n.stateNode),yn(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nu)throw nu=!1,e=Id,Id=null,e;return ru&1&&e.tag!==0&&Wo(),o=e.pendingLanes,o&1?e===jd?qs++:(qs=0,jd=e):qs=0,Ei(),null}function Wo(){if(ni!==null){var e=W1(ru),t=Fn.transition,n=Be;try{if(Fn.transition=null,Be=16>e?16:e,ni===null)var r=!1;else{if(e=ni,ni=null,ru=0,Ae&6)throw Error(re(331));var i=Ae;for(Ae|=4,ce=e.current;ce!==null;){var o=ce,s=o.child;if(ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Gs(8,f,o)}var d=f.child;if(d!==null)d.return=f,ce=d;else for(;ce!==null;){f=ce;var h=f.sibling,b=f.return;if(tw(f),f===u){ce=null;break}if(h!==null){h.return=b,ce=h;break}ce=b}}}var S=o.alternate;if(S!==null){var M=S.child;if(M!==null){S.child=null;do{var N=M.sibling;M.sibling=null,M=N}while(M!==null)}}ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ce=s;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}var E=e.current;for(ce=E;ce!==null;){s=ce;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ce=C;else e:for(s=E;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(U){it(a,a.return,U)}if(a===s){ce=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,ce=L;break e}ce=a.return}}if(Ae=i,Ei(),cr&&typeof cr.onPostCommitFiberRoot==\"function\")try{cr.onPostCommitFiberRoot(Nu,e)}catch{}r=!0}return r}finally{Be=n,Fn.transition=t}}return!1}function Hm(e,t,n){t=ns(n,t),t=Wv(e,t,1),e=ci(e,t,1),t=an(),e!==null&&(Ea(e,1,t),yn(e,t))}function it(e,t,n){if(e.tag===3)Hm(e,e,n);else for(;t!==null;){if(t.tag===3){Hm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==\"function\"||typeof r.componentDidCatch==\"function\"&&(fi===null||!fi.has(r))){e=ns(n,e),e=Hv(t,e,1),t=ci(t,e,1),e=an(),t!==null&&(Ea(t,1,e),yn(t,e));break}}t=t.return}}function cC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(Ot&n)===n&&(Bt===4||Bt===3&&(Ot&130023424)===Ot&&500>lt()-a0?zi(e,0):s0|=n),yn(e,t)}function fw(e,t){t===0&&(e.mode&1?(t=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):t=1);var n=an();e=jr(e,t),e!==null&&(Ea(e,t,n),yn(e,n))}function fC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fw(e,n)}function dC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(t),fw(e,n)}var dw;dw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hn=!1,J3(e,t,n);hn=!!(e.flags&131072)}else hn=!1,He&&t.flags&1048576&&gv(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ml(e,t),e=t.pendingProps;var i=Qo(t,tn.current);$o(t,n),i=e0(null,t,r,e,i,n);var o=t0();return t.flags|=1,typeof i==\"object\"&&i!==null&&typeof i.render==\"function\"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(r)?(o=!0,Gl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zh(t),i.updater=Lu,t.stateNode=i,i._reactInternals=t,Ed(t,r,e,n),t=Md(null,t,r,!0,o,n)):(t.tag=0,He&&o&&zh(t),on(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ml(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=pC(r),e=$n(r,e),i){case 0:t=Ad(null,t,r,e,n);break e;case 1:t=jm(null,t,r,e,n);break e;case 11:t=_m(null,t,r,e,n);break e;case 14:t=Im(null,t,r,$n(r.type,e),n);break e}throw Error(re(306,r,\"\"))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$n(r,i),Ad(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$n(r,i),jm(e,t,r,i,n);case 3:e:{if(Zv(t),e===null)throw Error(re(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Sv(e,t),Xl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ns(Error(re(423)),t),t=Fm(e,t,r,n,i);break e}else if(r!==i){i=ns(Error(re(424)),t),t=Fm(e,t,r,n,i);break e}else for(Sn=ui(t.stateNode.containerInfo.firstChild),En=t,He=!0,Gn=null,n=xv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),r===i){t=Fr(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return Ev(t),e===null&&xd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,md(r,i)?s=null:o!==null&&md(r,o)&&(t.flags|=32),qv(e,t),on(e,t,s,n),t.child;case 6:return e===null&&xd(t),null;case 13:return Yv(e,t,n);case 4:return Yh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=es(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$n(r,i),_m(e,t,r,i,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,De(Zl,r._currentValue),r._currentValue=s,o!==null)if(Qn(o.value,s)){if(o.children===i.children&&!mn.current){t=Fr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Br(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bd(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),bd(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$o(t,n),i=Ln(i),r=r(i),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,i=$n(r,t.pendingProps),i=$n(r.type,i),Im(e,t,r,i,n);case 15:return Gv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$n(r,i),Ml(e,t),t.tag=1,gn(r)?(e=!0,Gl(t)):e=!1,$o(t,n),$v(t,r,i),Ed(t,r,i,n),Md(null,t,r,!0,e,n);case 19:return Xv(e,t,n);case 22:return Kv(e,t,n)}throw Error(re(156,t.tag))};function hw(e,t){return U1(e,t)}function hC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,n,r){return new hC(e,t,n,r)}function f0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pC(e){if(typeof e==\"function\")return f0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bh)return 11;if(e===Nh)return 14}return 2}function hi(e,t){var n=e.alternate;return n===null?(n=jn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,o){var s=2;if(r=e,typeof e==\"function\")f0(e)&&(s=1);else if(typeof e==\"string\")s=5;else e:switch(e){case bo:return $i(n.children,i,o,t);case Ph:s=8,i|=8;break;case Kf:return e=jn(12,n,t,i|2),e.elementType=Kf,e.lanes=o,e;case qf:return e=jn(13,n,t,i),e.elementType=qf,e.lanes=o,e;case Zf:return e=jn(19,n,t,i),e.elementType=Zf,e.lanes=o,e;case E1:return Vu(n,i,o,t);default:if(typeof e==\"object\"&&e!==null)switch(e.$$typeof){case b1:s=10;break e;case S1:s=9;break e;case Bh:s=11;break e;case Nh:s=14;break e;case Zr:s=16,r=null;break e}throw Error(re(130,e==null?e:typeof e,\"\"))}return t=jn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function $i(e,t,n,r){return e=jn(7,e,r,t),e.lanes=n,e}function Vu(e,t,n,r){return e=jn(22,e,r,t),e.elementType=E1,e.lanes=n,e.stateNode={isHidden:!1},e}function sf(e,t,n){return e=jn(6,e,null,t),e.lanes=n,e}function af(e,t,n){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function d0(e,t,n,r,i,o,s,a,l){return e=new mC(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(o),e}function gC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:\"\"+r,children:e,containerInfo:t,implementation:n}}function pw(e){if(!e)return yi;e=e._reactInternals;e:{if(to(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(gn(n))return pv(e,n,t)}return t}function mw(e,t,n,r,i,o,s,a,l){return e=d0(n,r,!0,e,i,o,s,a,l),e.context=pw(null),n=e.current,r=an(),i=di(n),o=Br(r,i),o.callback=t??null,ci(n,o,i),e.current.lanes=i,Ea(e,i,r),yn(e,r),e}function zu(e,t,n,r){var i=t.current,o=an(),s=di(i);return n=pw(n),t.context===null?t.context=n:t.pendingContext=n,t=Br(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ci(i,t,s),e!==null&&(Zn(e,i,s,o),El(e,i,s)),s}function ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function h0(e,t){Gm(e,t),(e=e.alternate)&&Gm(e,t)}function yC(){return null}var gw=typeof reportError==\"function\"?reportError:function(e){console.error(e)};function p0(e){this._internalRoot=e}$u.prototype.render=p0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));zu(e,t,null,null)};$u.prototype.unmount=p0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xi(function(){zu(null,e,null,null)}),t[Ir]=null}};function $u(e){this._internalRoot=e}$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=K1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&Z1(e)}};function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==\" react-mount-point-unstable \"))}function Km(){}function vC(e,t,n,r,i){if(i){if(typeof r==\"function\"){var o=r;r=function(){var u=ou(s);o.call(u)}}var s=mw(t,r,e,0,null,!1,!1,\"\",Km);return e._reactRootContainer=s,e[Ir]=s.current,aa(e.nodeType===8?e.parentNode:e),Xi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r==\"function\"){var a=r;r=function(){var u=ou(l);a.call(u)}}var l=d0(e,0,!1,null,null,!1,!1,\"\",Km);return e._reactRootContainer=l,e[Ir]=l.current,aa(e.nodeType===8?e.parentNode:e),Xi(function(){zu(t,l,n,r)}),l}function Hu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i==\"function\"){var a=i;i=function(){var l=ou(s);a.call(l)}}zu(t,s,e,i)}else s=vC(n,t,e,i,r);return ou(s)}H1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=js(t.pendingLanes);n!==0&&(Ih(t,n|1),yn(t,lt()),!(Ae&6)&&(rs=lt()+500,Ei()))}break;case 13:Xi(function(){var r=jr(e,1);if(r!==null){var i=an();Zn(r,e,1,i)}}),h0(e,1)}};jh=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var n=an();Zn(t,e,134217728,n)}h0(e,134217728)}};G1=function(e){if(e.tag===13){var t=di(e),n=jr(e,t);if(n!==null){var r=an();Zn(n,e,t,r)}h0(e,t)}};K1=function(){return Be};q1=function(e,t){var n=Be;try{return Be=e,t()}finally{Be=n}};od=function(e,t,n){switch(t){case\"input\":if(Qf(e,n),t=n.name,n.type===\"radio\"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+t)+'][type=\"radio\"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ju(r);if(!i)throw Error(re(90));A1(r),Qf(r,i)}}}break;case\"textarea\":k1(e,n);break;case\"select\":t=n.value,t!=null&&Oo(e,!!n.multiple,t,!1)}};I1=l0;j1=Xi;var wC={usingClientEntryPoint:!1,Events:[Aa,Ao,ju,R1,_1,l0]},Ps={findFiberByHostInstance:Ii,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"},xC={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||yC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Nu=tl.inject(xC),cr=tl}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC;Mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(t))throw Error(re(200));return gC(e,t,null,n)};Mn.createRoot=function(e,t){if(!m0(e))throw Error(re(299));var n=!1,r=\"\",i=gw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=d0(e,1,!1,null,null,n,!1,r,i),e[Ir]=t.current,aa(e.nodeType===8?e.parentNode:e),new p0(t)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render==\"function\"?Error(re(188)):(e=Object.keys(e).join(\",\"),Error(re(268,e)));return e=L1(t),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return Xi(e)};Mn.hydrate=function(e,t,n){if(!Wu(t))throw Error(re(200));return Hu(null,e,t,!0,n)};Mn.hydrateRoot=function(e,t,n){if(!m0(e))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o=\"\",s=gw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=mw(t,null,e,1,n??null,i,!1,o,s),e[Ir]=t.current,aa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)};Mn.render=function(e,t,n){if(!Wu(t))throw Error(re(200));return Hu(null,e,t,!1,n)};Mn.unmountComponentAtNode=function(e){if(!Wu(e))throw Error(re(40));return e._reactRootContainer?(Xi(function(){Hu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ir]=null})}),!0):!1};Mn.unstable_batchedUpdates=l0;Mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wu(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Hu(e,t,n,!1,r)};Mn.version=\"18.3.1-next-f1338f8080-20240426\";function yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yw)}catch(e){console.error(e)}}yw(),y1.exports=Mn;var g0=y1.exports;const bC=Pu(g0);var vw,qm=g0;vw=qm.createRoot,qm.hydrateRoot;/**\n * @remix-run/router v1.23.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}var ri;(function(e){e.Pop=\"POP\",e.Push=\"PUSH\",e.Replace=\"REPLACE\"})(ri||(ri={}));const Zm=\"popstate\";function SC(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ld(\"\",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||\"default\")}function n(r,i){return typeof i==\"string\"?i:xw(i)}return CC(t,n,null,e)}function vn(e,t){if(e===!1||e===null||typeof e>\"u\")throw new Error(t)}function ww(e,t){if(!e){typeof console<\"u\"&&console.warn(t);try{throw new Error(t)}catch{}}}function EC(){return Math.random().toString(36).substr(2,8)}function Ym(e,t){return{usr:e.state,key:e.key,idx:t}}function Ld(e,t,n,r){return n===void 0&&(n=null),su({pathname:typeof e==\"string\"?e:e.pathname,search:\"\",hash:\"\"},typeof t==\"string\"?Gu(t):t,{state:n,key:t&&t.key||r||EC()})}function xw(e){let{pathname:t=\"/\",search:n=\"\",hash:r=\"\"}=e;return n&&n!==\"?\"&&(t+=n.charAt(0)===\"?\"?n:\"?\"+n),r&&r!==\"#\"&&(t+=r.charAt(0)===\"#\"?r:\"#\"+r),t}function Gu(e){let t={};if(e){let n=e.indexOf(\"#\");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf(\"?\");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function CC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ri.Pop,l=null,u=f();u==null&&(u=0,s.replaceState(su({},s.state,{idx:u}),\"\"));function f(){return(s.state||{idx:null}).idx}function d(){a=ri.Pop;let N=f(),w=N==null?null:N-u;u=N,l&&l({action:a,location:M.location,delta:w})}function h(N,w){a=ri.Push;let E=Ld(M.location,N,w);u=f()+1;let C=Ym(E,u),L=M.createHref(E);try{s.pushState(C,\"\",L)}catch(U){if(U instanceof DOMException&&U.name===\"DataCloneError\")throw U;i.location.assign(L)}o&&l&&l({action:a,location:M.location,delta:1})}function b(N,w){a=ri.Replace;let E=Ld(M.location,N,w);u=f();let C=Ym(E,u),L=M.createHref(E);s.replaceState(C,\"\",L),o&&l&&l({action:a,location:M.location,delta:0})}function S(N){let w=i.location.origin!==\"null\"?i.location.origin:i.location.href,E=typeof N==\"string\"?N:xw(N);return E=E.replace(/ $/,\"%20\"),vn(w,\"No window.location.(origin|href) available to create URL for href: \"+E),new URL(E,w)}let M={get action(){return a},get location(){return e(i,s)},listen(N){if(l)throw new Error(\"A history only accepts one active listener\");return i.addEventListener(Zm,d),l=N,()=>{i.removeEventListener(Zm,d),l=null}},createHref(N){return t(i,N)},createURL:S,encodeLocation(N){let w=S(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:b,go(N){return s.go(N)}};return M}var Xm;(function(e){e.data=\"data\",e.deferred=\"deferred\",e.redirect=\"redirect\",e.error=\"error\"})(Xm||(Xm={}));function AC(e,t,n){return n===void 0&&(n=\"/\"),MC(e,t,n,!1)}function MC(e,t,n,r){let i=typeof t==\"string\"?Gu(t):t,o=Ew(i.pathname||\"/\",n);if(o==null)return null;let s=bw(e);kC(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=LC(o);a=FC(s[l],u,r)}return a}function bw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=\"\");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||\"\":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith(\"/\")&&(vn(l.relativePath.startsWith(r),'Absolute route path \"'+l.relativePath+'\" nested under path '+('\"'+r+'\" is not valid. An absolute child route path ')+\"must start with the combined path of all its parent routes.\"),l.relativePath=l.relativePath.slice(r.length));let u=Ho([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(vn(o.index!==!0,\"Index routes must not have child routes. Please remove \"+('all child routes from route path \"'+u+'\".')),bw(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:IC(u,o.index),routesMeta:f})};return e.forEach((o,s)=>{var a;if(o.path===\"\"||!((a=o.path)!=null&&a.includes(\"?\")))i(o,s);else for(let l of Sw(o.path))i(o,s,l)}),t}function Sw(e){let t=e.split(\"/\");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(\"?\"),o=n.replace(/\\?$/,\"\");if(r.length===0)return i?[o,\"\"]:[o];let s=Sw(r.join(\"/\")),a=[];return a.push(...s.map(l=>l===\"\"?o:[o,l].join(\"/\"))),i&&a.push(...s),a.map(l=>e.startsWith(\"/\")&&l===\"\"?\"/\":l)}function kC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TC=/^:[\\w-]+$/,PC=3,BC=2,NC=1,RC=10,_C=-2,Qm=e=>e===\"*\";function IC(e,t){let n=e.split(\"/\"),r=n.length;return n.some(Qm)&&(r+=_C),t&&(r+=BC),n.filter(i=>!Qm(i)).reduce((i,o)=>i+(TC.test(o)?PC:o===\"\"?NC:RC),r)}function jC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function FC(e,t,n){let{routesMeta:r}=e,i={},o=\"/\",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=o===\"/\"?t:t.slice(o.length)||\"/\",d=Jm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Jm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ho([o,d.pathname]),pathnameBase:OC(Ho([o,d.pathnameBase])),route:h}),d.pathnameBase!==\"/\"&&(o=Ho([o,d.pathnameBase]))}return s}function Jm(e,t){typeof e==\"string\"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\\/+$/,\"$1\"),a=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:b}=f;if(h===\"*\"){let M=a[d]||\"\";s=o.slice(0,o.length-M.length).replace(/(.)\\/+$/,\"$1\")}const S=a[d];return b&&!S?u[h]=void 0:u[h]=(S||\"\").replace(/%2F/g,\"/\"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function DC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ww(e===\"*\"||!e.endsWith(\"*\")||e.endsWith(\"/*\"),'Route path \"'+e+'\" will be treated as if it were '+('\"'+e.replace(/\\*$/,\"/*\")+'\" because the `*` character must ')+\"always follow a `/` in the pattern. To get rid of this warning, \"+('please change the route path to \"'+e.replace(/\\*$/,\"/*\")+'\".'));let r=[],i=\"^\"+e.replace(/\\/*\\*?$/,\"\").replace(/^\\/*/,\"/\").replace(/[\\\\.*+^${}|()[\\]]/g,\"\\\\$&\").replace(/\\/:([\\w-]+)(\\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?\"/?([^\\\\/]+)?\":\"/([^\\\\/]+)\"));return e.endsWith(\"*\")?(r.push({paramName:\"*\"}),i+=e===\"*\"||e===\"/*\"?\"(.*)$\":\"(?:\\\\/(.+)|\\\\/*)$\"):n?i+=\"\\\\/*$\":e!==\"\"&&e!==\"/\"&&(i+=\"(?:(?=\\\\/|$))\"),[new RegExp(i,t?void 0:\"i\"),r]}function LC(e){try{return e.split(\"/\").map(t=>decodeURIComponent(t).replace(/\\//g,\"%2F\")).join(\"/\")}catch(t){return ww(!1,'The URL path \"'+e+'\" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+(\"encoding (\"+t+\").\")),e}}function Ew(e,t){if(t===\"/\")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(\"/\")?t.length-1:t.length,r=e.charAt(n);return r&&r!==\"/\"?null:e.slice(n)||\"/\"}const Ho=e=>e.join(\"/\").replace(/\\/\\/+/g,\"/\"),OC=e=>e.replace(/\\/+$/,\"\").replace(/^\\/*/,\"/\");function UC(e){return e!=null&&typeof e.status==\"number\"&&typeof e.statusText==\"string\"&&typeof e.internal==\"boolean\"&&\"data\"in e}const Cw=[\"post\",\"put\",\"patch\",\"delete\"];new Set(Cw);const VC=[\"get\",...Cw];new Set(VC);/**\n * React Router v6.30.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}const zC=_.createContext(null),$C=_.createContext(null),Aw=_.createContext(null),Ku=_.createContext(null),qu=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Mw=_.createContext(null);function y0(){return _.useContext(Ku)!=null}function WC(){return y0()||vn(!1),_.useContext(Ku).location}function HC(e,t){return GC(e,t)}function GC(e,t,n,r){y0()||vn(!1);let{navigator:i,static:o}=_.useContext(Aw),{matches:s}=_.useContext(qu),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:\"/\";a&&a.route;let f=WC(),d;if(t){var h;let w=typeof t==\"string\"?Gu(t):t;u===\"/\"||(h=w.pathname)!=null&&h.startsWith(u)||vn(!1),d=w}else d=f;let b=d.pathname||\"/\",S=b;if(u!==\"/\"){let w=u.replace(/^\\//,\"\").split(\"/\");S=\"/\"+b.replace(/^\\//,\"\").split(\"/\").slice(w.length).join(\"/\")}let M=!o&&n&&n.matches&&n.matches.length>0?n.matches:AC(e,{pathname:S}),N=XC(M&&M.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ho([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase===\"/\"?u:Ho([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&N?_.createElement(Ku.Provider,{value:{location:au({pathname:\"/\",search:\"\",hash:\"\",state:null,key:\"default\"},d),navigationType:ri.Pop}},N):N}function KC(){let e=tA(),t=UC(e)?e.status+\" \"+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:\"0.5rem\",backgroundColor:\"rgba(200,200,200, 0.5)\"};return _.createElement(_.Fragment,null,_.createElement(\"h2\",null,\"Unexpected Application Error!\"),_.createElement(\"h3\",{style:{fontStyle:\"italic\"}},t),n?_.createElement(\"pre\",{style:i},n):null,null)}const qC=_.createElement(KC,null);class ZC extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!==\"idle\"&&t.revalidation===\"idle\"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error(\"React Router caught the following error during render\",t,n)}render(){return this.state.error!==void 0?_.createElement(qu.Provider,{value:this.props.routeContext},_.createElement(Mw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YC(e){let{routeContext:t,match:n,children:r}=e,i=_.useContext(zC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(qu.Provider,{value:t},r)}function XC(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||vn(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:b}=n,S=d.route.loader&&h[d.route.id]===void 0&&(!b||b[d.route.id]===void 0);if(d.route.lazy||S){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let b,S=!1,M=null,N=null;n&&(b=a&&d.route.id?a[d.route.id]:void 0,M=d.route.errorElement||qC,l&&(u<0&&h===0?(S=!0,N=null):u===h&&(S=!0,N=d.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,h+1)),E=()=>{let C;return b?C=M:S?C=N:d.route.Component?C=_.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=f,_.createElement(YC,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(ZC,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var Od=function(e){return e.UseBlocker=\"useBlocker\",e.UseLoaderData=\"useLoaderData\",e.UseActionData=\"useActionData\",e.UseRouteError=\"useRouteError\",e.UseNavigation=\"useNavigation\",e.UseRouteLoaderData=\"useRouteLoaderData\",e.UseMatches=\"useMatches\",e.UseRevalidator=\"useRevalidator\",e.UseNavigateStable=\"useNavigate\",e.UseRouteId=\"useRouteId\",e}(Od||{});function QC(e){let t=_.useContext($C);return t||vn(!1),t}function JC(e){let t=_.useContext(qu);return t||vn(!1),t}function eA(e){let t=JC(),n=t.matches[t.matches.length-1];return n.route.id||vn(!1),n.route.id}function tA(){var e;let t=_.useContext(Mw),n=QC(Od.UseRouteError),r=eA(Od.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ds(e){vn(!1)}function rA(e){let{basename:t=\"/\",children:n=null,location:r,navigationType:i=ri.Pop,navigator:o,static:s=!1,future:a}=e;y0()&&vn(!1);let l=t.replace(/^\\/*/,\"/\"),u=_.useMemo(()=>({basename:l,navigator:o,static:s,future:au({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r==\"string\"&&(r=Gu(r));let{pathname:f=\"/\",search:d=\"\",hash:h=\"\",state:b=null,key:S=\"default\"}=r,M=_.useMemo(()=>{let N=Ew(f,l);return N==null?null:{location:{pathname:N,search:d,hash:h,state:b,key:S},navigationType:i}},[l,f,d,h,b,S,i]);return M==null?null:_.createElement(Aw.Provider,{value:u},_.createElement(Ku.Provider,{children:n,value:M}))}function iA(e){let{children:t,location:n}=e;return HC(Ud(t),n)}new Promise(()=>{});function Ud(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Ud(r.props.children,o));return}r.type!==Ds&&vn(!1),!r.props.index||!r.props.children||vn(!1);let s={id:r.props.id||o.join(\"-\"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ud(r.props.children,o)),n.push(s)}),n}/**\n * React Router DOM v6.30.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */const oA=\"6\";try{window.__reactRouterVersion=oA}catch{}const sA=\"startTransition\",eg=m1[sA];function aA(e){let{basename:t,children:n,future:r,window:i}=e,o=_.useRef();o.current==null&&(o.current=SC({window:i,v5Compat:!0}));let s=o.current,[a,l]=_.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},f=_.useCallback(d=>{u&&eg?eg(()=>l(d)):l(d)},[l,u]);return _.useLayoutEffect(()=>s.listen(f),[s,f]),_.useEffect(()=>nA(r),[r]),_.createElement(rA,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var tg;(function(e){e.UseScrollRestoration=\"useScrollRestoration\",e.UseSubmit=\"useSubmit\",e.UseSubmitFetcher=\"useSubmitFetcher\",e.UseFetcher=\"useFetcher\",e.useViewTransitionState=\"useViewTransitionState\"})(tg||(tg={}));var ng;(function(e){e.UseFetcher=\"useFetcher\",e.UseFetchers=\"useFetchers\",e.UseScrollRestoration=\"useScrollRestoration\"})(ng||(ng={}));const rg=({children:e})=>v.jsx(v.Fragment,{children:e});function lA(e,t){typeof e==\"function\"?e(t):e!=null&&(e.current=t)}function kw(...e){return t=>e.forEach(n=>lA(n,t))}function pr(...e){return _.useCallback(kw(...e),e)}var is=_.forwardRef((e,t)=>{const{children:n,...r}=e,i=_.Children.toArray(n),o=i.find(cA);if(o){const s=o.props.children,a=i.map(l=>l===o?_.Children.count(s)>1?_.Children.only(null):_.isValidElement(s)?s.props.children:null:l);return v.jsx(Vd,{...r,ref:t,children:_.isValidElement(s)?_.cloneElement(s,void 0,a):null})}return v.jsx(Vd,{...r,ref:t,children:n})});is.displayName=\"Slot\";var Vd=_.forwardRef((e,t)=>{const{children:n,...r}=e;if(_.isValidElement(n)){const i=dA(n);return _.cloneElement(n,{...fA(r,n.props),ref:t?kw(t,i):i})}return _.Children.count(n)>1?_.Children.only(null):null});Vd.displayName=\"SlotClone\";var uA=({children:e})=>v.jsx(v.Fragment,{children:e});function cA(e){return _.isValidElement(e)&&e.type===uA}function fA(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r===\"style\"?n[r]={...i,...o}:r===\"className\"&&(n[r]=[i,o].filter(Boolean).join(\" \"))}return{...e,...n}}function dA(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,\"ref\"))==null?void 0:r.get,n=t&&\"isReactWarning\"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,\"ref\"))==null?void 0:i.get,n=t&&\"isReactWarning\"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tw(e){var t,n,r=\"\";if(typeof e==\"string\"||typeof e==\"number\")r+=e;else if(typeof e==\"object\")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Tw(e[t]))&&(r&&(r+=\" \"),r+=n);else for(t in e)e[t]&&(r&&(r+=\" \"),r+=t);return r}function hA(){for(var e,t,n=0,r=\"\";n<arguments.length;)(e=arguments[n++])&&(t=Tw(e))&&(r&&(r+=\" \"),r+=t);return r}const ig=e=>typeof e==\"boolean\"?\"\".concat(e):e===0?\"0\":e,og=hA,Pw=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return og(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],d=o==null?void 0:o[u];if(f===null)return null;const h=ig(f)||ig(d);return i[u][h]}),a=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...b}=f;return Object.entries(b).every(S=>{let[M,N]=S;return Array.isArray(N)?N.includes({...o,...a}[M]):{...o,...a}[M]===N})?[...u,d,h]:u},[]);return og(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function Bw(e){var t,n,r=\"\";if(typeof e==\"string\"||typeof e==\"number\")r+=e;else if(typeof e==\"object\")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Bw(e[t]))&&(r&&(r+=\" \"),r+=n)}else for(n in e)e[n]&&(r&&(r+=\" \"),r+=n);return r}function pA(){for(var e,t,n=0,r=\"\",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Bw(e))&&(r&&(r+=\" \"),r+=t);return r}const v0=\"-\",mA=e=>{const t=yA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(v0);return a[0]===\"\"&&a.length!==1&&a.shift(),Nw(a,t)||gA(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},Nw=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Nw(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(v0);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},sg=/^\\[(.+)\\]$/,gA=e=>{if(sg.test(e)){const t=sg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(\":\"));if(n)return\"arbitrary..\"+n}},yA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return wA(Object.entries(e.classGroups),n).forEach(([o,s])=>{zd(s,r,o,t)}),r},zd=(e,t,n,r)=>{e.forEach(i=>{if(typeof i==\"string\"){const o=i===\"\"?t:ag(t,i);o.classGroupId=n;return}if(typeof i==\"function\"){if(vA(i)){zd(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{zd(s,ag(t,o),n,r)})})},ag=(e,t)=>{let n=e;return t.split(v0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vA=e=>e.isThemeGetter,wA=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o==\"string\"?t+o:typeof o==\"object\"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,xA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},Rw=\"!\",bA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const l=[];let u=0,f=0,d;for(let N=0;N<a.length;N++){let w=a[N];if(u===0){if(w===i&&(r||a.slice(N,N+o)===t)){l.push(a.slice(f,N)),f=N+o;continue}if(w===\"/\"){d=N;continue}}w===\"[\"?u++:w===\"]\"&&u--}const h=l.length===0?a:a.substring(f),b=h.startsWith(Rw),S=b?h.substring(1):h,M=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:M}};return n?a=>n({className:a,parseClassName:s}):s},SA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]===\"[\"?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},EA=e=>({cache:xA(e.cacheSize),parseClassName:bA(e),...mA(e)}),CA=/\\s+/,AA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(CA);let a=\"\";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:b}=n(u);let S=!!b,M=r(S?h.substring(0,b):h);if(!M){if(!S){a=u+(a.length>0?\" \"+a:a);continue}if(M=r(h),!M){a=u+(a.length>0?\" \"+a:a);continue}S=!1}const N=SA(f).join(\":\"),w=d?N+Rw:N,E=w+M;if(o.includes(E))continue;o.push(E);const C=i(M,S);for(let L=0;L<C.length;++L){const U=C[L];o.push(w+U)}a=u+(a.length>0?\" \"+a:a)}return a};function MA(){let e=0,t,n,r=\"\";for(;e<arguments.length;)(t=arguments[e++])&&(n=_w(t))&&(r&&(r+=\" \"),r+=n);return r}const _w=e=>{if(typeof e==\"string\")return e;let t,n=\"\";for(let r=0;r<e.length;r++)e[r]&&(t=_w(e[r]))&&(n&&(n+=\" \"),n+=t);return n};function kA(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((f,d)=>d(f),e());return n=EA(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=AA(l,n);return i(l,f),f}return function(){return o(MA.apply(null,arguments))}}const Ve=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Iw=/^\\[(?:([a-z-]+):)?(.+)\\]$/i,TA=/^\\d+\\/\\d+$/,PA=new Set([\"px\",\"full\",\"screen\"]),BA=/^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/,NA=/\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/,RA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/,_A=/^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/,IA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/,wr=e=>Go(e)||PA.has(e)||TA.test(e),Ur=e=>gs(e,\"length\",zA),Go=e=>!!e&&!Number.isNaN(Number(e)),lf=e=>gs(e,\"number\",Go),Bs=e=>!!e&&Number.isInteger(Number(e)),jA=e=>e.endsWith(\"%\")&&Go(e.slice(0,-1)),Se=e=>Iw.test(e),Vr=e=>BA.test(e),FA=new Set([\"length\",\"size\",\"percentage\"]),DA=e=>gs(e,FA,jw),LA=e=>gs(e,\"position\",jw),OA=new Set([\"image\",\"url\"]),UA=e=>gs(e,OA,WA),VA=e=>gs(e,\"\",$A),Ns=()=>!0,gs=(e,t,n)=>{const r=Iw.exec(e);return r?r[1]?typeof t==\"string\"?r[1]===t:t.has(r[1]):n(r[2]):!1},zA=e=>NA.test(e)&&!RA.test(e),jw=()=>!1,$A=e=>_A.test(e),WA=e=>IA.test(e),HA=()=>{const e=Ve(\"colors\"),t=Ve(\"spacing\"),n=Ve(\"blur\"),r=Ve(\"brightness\"),i=Ve(\"borderColor\"),o=Ve(\"borderRadius\"),s=Ve(\"borderSpacing\"),a=Ve(\"borderWidth\"),l=Ve(\"contrast\"),u=Ve(\"grayscale\"),f=Ve(\"hueRotate\"),d=Ve(\"invert\"),h=Ve(\"gap\"),b=Ve(\"gradientColorStops\"),S=Ve(\"gradientColorStopPositions\"),M=Ve(\"inset\"),N=Ve(\"margin\"),w=Ve(\"opacity\"),E=Ve(\"padding\"),C=Ve(\"saturate\"),L=Ve(\"scale\"),U=Ve(\"sepia\"),H=Ve(\"skew\"),V=Ve(\"space\"),W=Ve(\"translate\"),K=()=>[\"auto\",\"contain\",\"none\"],Y=()=>[\"auto\",\"hidden\",\"clip\",\"visible\",\"scroll\"],$=()=>[\"auto\",Se,t],O=()=>[Se,t],P=()=>[\"\",wr,Ur],c=()=>[\"auto\",Go,Se],g=()=>[\"bottom\",\"center\",\"left\",\"left-bottom\",\"left-top\",\"right\",\"right-bottom\",\"right-top\",\"top\"],A=()=>[\"solid\",\"dashed\",\"dotted\",\"double\",\"none\"],R=()=>[\"normal\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"hue\",\"saturation\",\"color\",\"luminosity\"],k=()=>[\"start\",\"end\",\"center\",\"between\",\"around\",\"evenly\",\"stretch\"],I=()=>[\"\",\"0\",Se],D=()=>[\"auto\",\"avoid\",\"all\",\"avoid-page\",\"page\",\"left\",\"right\",\"column\"],B=()=>[Go,Se];return{cacheSize:500,separator:\":\",theme:{colors:[Ns],spacing:[wr,Ur],blur:[\"none\",\"\",Vr,Se],brightness:B(),borderColor:[e],borderRadius:[\"none\",\"\",\"full\",Vr,Se],borderSpacing:O(),borderWidth:P(),contrast:B(),grayscale:I(),hueRotate:B(),invert:I(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[jA,Ur],inset:$(),margin:$(),opacity:B(),padding:O(),saturate:B(),scale:B(),sepia:I(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:[\"auto\",\"square\",\"video\",Se]}],container:[\"container\"],columns:[{columns:[Vr]}],\"break-after\":[{\"break-after\":D()}],\"break-before\":[{\"break-before\":D()}],\"break-inside\":[{\"break-inside\":[\"auto\",\"avoid\",\"avoid-page\",\"avoid-column\"]}],\"box-decoration\":[{\"box-decoration\":[\"slice\",\"clone\"]}],box:[{box:[\"border\",\"content\"]}],display:[\"block\",\"inline-block\",\"inline\",\"flex\",\"inline-flex\",\"table\",\"inline-table\",\"table-caption\",\"table-cell\",\"table-column\",\"table-column-group\",\"table-footer-group\",\"table-header-group\",\"table-row-group\",\"table-row\",\"flow-root\",\"grid\",\"inline-grid\",\"contents\",\"list-item\",\"hidden\"],float:[{float:[\"right\",\"left\",\"none\",\"start\",\"end\"]}],clear:[{clear:[\"left\",\"right\",\"both\",\"none\",\"start\",\"end\"]}],isolation:[\"isolate\",\"isolation-auto\"],\"object-fit\":[{object:[\"contain\",\"cover\",\"fill\",\"none\",\"scale-down\"]}],\"object-position\":[{object:[...g(),Se]}],overflow:[{overflow:Y()}],\"overflow-x\":[{\"overflow-x\":Y()}],\"overflow-y\":[{\"overflow-y\":Y()}],overscroll:[{overscroll:K()}],\"overscroll-x\":[{\"overscroll-x\":K()}],\"overscroll-y\":[{\"overscroll-y\":K()}],position:[\"static\",\"fixed\",\"absolute\",\"relative\",\"sticky\"],inset:[{inset:[M]}],\"inset-x\":[{\"inset-x\":[M]}],\"inset-y\":[{\"inset-y\":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:[\"visible\",\"invisible\",\"collapse\"],z:[{z:[\"auto\",Bs,Se]}],basis:[{basis:$()}],\"flex-direction\":[{flex:[\"row\",\"row-reverse\",\"col\",\"col-reverse\"]}],\"flex-wrap\":[{flex:[\"wrap\",\"wrap-reverse\",\"nowrap\"]}],flex:[{flex:[\"1\",\"auto\",\"initial\",\"none\",Se]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:[\"first\",\"last\",\"none\",Bs,Se]}],\"grid-cols\":[{\"grid-cols\":[Ns]}],\"col-start-end\":[{col:[\"auto\",{span:[\"full\",Bs,Se]},Se]}],\"col-start\":[{\"col-start\":c()}],\"col-end\":[{\"col-end\":c()}],\"grid-rows\":[{\"grid-rows\":[Ns]}],\"row-start-end\":[{row:[\"auto\",{span:[Bs,Se]},Se]}],\"row-start\":[{\"row-start\":c()}],\"row-end\":[{\"row-end\":c()}],\"grid-flow\":[{\"grid-flow\":[\"row\",\"col\",\"dense\",\"row-dense\",\"col-dense\"]}],\"auto-cols\":[{\"auto-cols\":[\"auto\",\"min\",\"max\",\"fr\",Se]}],\"auto-rows\":[{\"auto-rows\":[\"auto\",\"min\",\"max\",\"fr\",Se]}],gap:[{gap:[h]}],\"gap-x\":[{\"gap-x\":[h]}],\"gap-y\":[{\"gap-y\":[h]}],\"justify-content\":[{justify:[\"normal\",...k()]}],\"justify-items\":[{\"justify-items\":[\"start\",\"end\",\"center\",\"stretch\"]}],\"justify-self\":[{\"justify-self\":[\"auto\",\"start\",\"end\",\"center\",\"stretch\"]}],\"align-content\":[{content:[\"normal\",...k(),\"baseline\"]}],\"align-items\":[{items:[\"start\",\"end\",\"center\",\"baseline\",\"stretch\"]}],\"align-self\":[{self:[\"auto\",\"start\",\"end\",\"center\",\"stretch\",\"baseline\"]}],\"place-content\":[{\"place-content\":[...k(),\"baseline\"]}],\"place-items\":[{\"place-items\":[\"start\",\"end\",\"center\",\"baseline\",\"stretch\"]}],\"place-self\":[{\"place-self\":[\"auto\",\"start\",\"end\",\"center\",\"stretch\"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],\"space-x\":[{\"space-x\":[V]}],\"space-x-reverse\":[\"space-x-reverse\"],\"space-y\":[{\"space-y\":[V]}],\"space-y-reverse\":[\"space-y-reverse\"],w:[{w:[\"auto\",\"min\",\"max\",\"fit\",\"svw\",\"lvw\",\"dvw\",Se,t]}],\"min-w\":[{\"min-w\":[Se,t,\"min\",\"max\",\"fit\"]}],\"max-w\":[{\"max-w\":[Se,t,\"none\",\"full\",\"min\",\"max\",\"fit\",\"prose\",{screen:[Vr]},Vr]}],h:[{h:[Se,t,\"auto\",\"min\",\"max\",\"fit\",\"svh\",\"lvh\",\"dvh\"]}],\"min-h\":[{\"min-h\":[Se,t,\"min\",\"max\",\"fit\",\"svh\",\"lvh\",\"dvh\"]}],\"max-h\":[{\"max-h\":[Se,t,\"min\",\"max\",\"fit\",\"svh\",\"lvh\",\"dvh\"]}],size:[{size:[Se,t,\"auto\",\"min\",\"max\",\"fit\"]}],\"font-size\":[{text:[\"base\",Vr,Ur]}],\"font-smoothing\":[\"antialiased\",\"subpixel-antialiased\"],\"font-style\":[\"italic\",\"not-italic\"],\"font-weight\":[{font:[\"thin\",\"extralight\",\"light\",\"normal\",\"medium\",\"semibold\",\"bold\",\"extrabold\",\"black\",lf]}],\"font-family\":[{font:[Ns]}],\"fvn-normal\":[\"normal-nums\"],\"fvn-ordinal\":[\"ordinal\"],\"fvn-slashed-zero\":[\"slashed-zero\"],\"fvn-figure\":[\"lining-nums\",\"oldstyle-nums\"],\"fvn-spacing\":[\"proportional-nums\",\"tabular-nums\"],\"fvn-fraction\":[\"diagonal-fractions\",\"stacked-fractons\"],tracking:[{tracking:[\"tighter\",\"tight\",\"normal\",\"wide\",\"wider\",\"widest\",Se]}],\"line-clamp\":[{\"line-clamp\":[\"none\",Go,lf]}],leading:[{leading:[\"none\",\"tight\",\"snug\",\"normal\",\"relaxed\",\"loose\",wr,Se]}],\"list-image\":[{\"list-image\":[\"none\",Se]}],\"list-style-type\":[{list:[\"none\",\"disc\",\"decimal\",Se]}],\"list-style-position\":[{list:[\"inside\",\"outside\"]}],\"placeholder-color\":[{placeholder:[e]}],\"placeholder-opacity\":[{\"placeholder-opacity\":[w]}],\"text-alignment\":[{text:[\"left\",\"center\",\"right\",\"justify\",\"start\",\"end\"]}],\"text-color\":[{text:[e]}],\"text-opacity\":[{\"text-opacity\":[w]}],\"text-decoration\":[\"underline\",\"overline\",\"line-through\",\"no-underline\"],\"text-decoration-style\":[{decoration:[...A(),\"wavy\"]}],\"text-decoration-thickness\":[{decoration:[\"auto\",\"from-font\",wr,Ur]}],\"underline-offset\":[{\"underline-offset\":[\"auto\",wr,Se]}],\"text-decoration-color\":[{decoration:[e]}],\"text-transform\":[\"uppercase\",\"lowercase\",\"capitalize\",\"normal-case\"],\"text-overflow\":[\"truncate\",\"text-ellipsis\",\"text-clip\"],\"text-wrap\":[{text:[\"wrap\",\"nowrap\",\"balance\",\"pretty\"]}],indent:[{indent:O()}],\"vertical-align\":[{align:[\"baseline\",\"top\",\"middle\",\"bottom\",\"text-top\",\"text-bottom\",\"sub\",\"super\",Se]}],whitespace:[{whitespace:[\"normal\",\"nowrap\",\"pre\",\"pre-line\",\"pre-wrap\",\"break-spaces\"]}],break:[{break:[\"normal\",\"words\",\"all\",\"keep\"]}],hyphens:[{hyphens:[\"none\",\"manual\",\"auto\"]}],content:[{content:[\"none\",Se]}],\"bg-attachment\":[{bg:[\"fixed\",\"local\",\"scroll\"]}],\"bg-clip\":[{\"bg-clip\":[\"border\",\"padding\",\"content\",\"text\"]}],\"bg-opacity\":[{\"bg-opacity\":[w]}],\"bg-origin\":[{\"bg-origin\":[\"border\",\"padding\",\"content\"]}],\"bg-position\":[{bg:[...g(),LA]}],\"bg-repeat\":[{bg:[\"no-repeat\",{repeat:[\"\",\"x\",\"y\",\"round\",\"space\"]}]}],\"bg-size\":[{bg:[\"auto\",\"cover\",\"contain\",DA]}],\"bg-image\":[{bg:[\"none\",{\"gradient-to\":[\"t\",\"tr\",\"r\",\"br\",\"b\",\"bl\",\"l\",\"tl\"]},UA]}],\"bg-color\":[{bg:[e]}],\"gradient-from-pos\":[{from:[S]}],\"gradient-via-pos\":[{via:[S]}],\"gradient-to-pos\":[{to:[S]}],\"gradient-from\":[{from:[b]}],\"gradient-via\":[{via:[b]}],\"gradient-to\":[{to:[b]}],rounded:[{rounded:[o]}],\"rounded-s\":[{\"rounded-s\":[o]}],\"rounded-e\":[{\"rounded-e\":[o]}],\"rounded-t\":[{\"rounded-t\":[o]}],\"rounded-r\":[{\"rounded-r\":[o]}],\"rounded-b\":[{\"rounded-b\":[o]}],\"rounded-l\":[{\"rounded-l\":[o]}],\"rounded-ss\":[{\"rounded-ss\":[o]}],\"rounded-se\":[{\"rounded-se\":[o]}],\"rounded-ee\":[{\"rounded-ee\":[o]}],\"rounded-es\":[{\"rounded-es\":[o]}],\"rounded-tl\":[{\"rounded-tl\":[o]}],\"rounded-tr\":[{\"rounded-tr\":[o]}],\"rounded-br\":[{\"rounded-br\":[o]}],\"rounded-bl\":[{\"rounded-bl\":[o]}],\"border-w\":[{border:[a]}],\"border-w-x\":[{\"border-x\":[a]}],\"border-w-y\":[{\"border-y\":[a]}],\"border-w-s\":[{\"border-s\":[a]}],\"border-w-e\":[{\"border-e\":[a]}],\"border-w-t\":[{\"border-t\":[a]}],\"border-w-r\":[{\"border-r\":[a]}],\"border-w-b\":[{\"border-b\":[a]}],\"border-w-l\":[{\"border-l\":[a]}],\"border-opacity\":[{\"border-opacity\":[w]}],\"border-style\":[{border:[...A(),\"hidden\"]}],\"divide-x\":[{\"divide-x\":[a]}],\"divide-x-reverse\":[\"divide-x-reverse\"],\"divide-y\":[{\"divide-y\":[a]}],\"divide-y-reverse\":[\"divide-y-reverse\"],\"divide-opacity\":[{\"divide-opacity\":[w]}],\"divide-style\":[{divide:A()}],\"border-color\":[{border:[i]}],\"border-color-x\":[{\"border-x\":[i]}],\"border-color-y\":[{\"border-y\":[i]}],\"border-color-s\":[{\"border-s\":[i]}],\"border-color-e\":[{\"border-e\":[i]}],\"border-color-t\":[{\"border-t\":[i]}],\"border-color-r\":[{\"border-r\":[i]}],\"border-color-b\":[{\"border-b\":[i]}],\"border-color-l\":[{\"border-l\":[i]}],\"divide-color\":[{divide:[i]}],\"outline-style\":[{outline:[\"\",...A()]}],\"outline-offset\":[{\"outline-offset\":[wr,Se]}],\"outline-w\":[{outline:[wr,Ur]}],\"outline-color\":[{outline:[e]}],\"ring-w\":[{ring:P()}],\"ring-w-inset\":[\"ring-inset\"],\"ring-color\":[{ring:[e]}],\"ring-opacity\":[{\"ring-opacity\":[w]}],\"ring-offset-w\":[{\"ring-offset\":[wr,Ur]}],\"ring-offset-color\":[{\"ring-offset\":[e]}],shadow:[{shadow:[\"\",\"inner\",\"none\",Vr,VA]}],\"shadow-color\":[{shadow:[Ns]}],opacity:[{opacity:[w]}],\"mix-blend\":[{\"mix-blend\":[...R(),\"plus-lighter\",\"plus-darker\"]}],\"bg-blend\":[{\"bg-blend\":R()}],filter:[{filter:[\"\",\"none\"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],\"drop-shadow\":[{\"drop-shadow\":[\"\",\"none\",Vr,Se]}],grayscale:[{grayscale:[u]}],\"hue-rotate\":[{\"hue-rotate\":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[C]}],sepia:[{sepia:[U]}],\"backdrop-filter\":[{\"backdrop-filter\":[\"\",\"none\"]}],\"backdrop-blur\":[{\"backdrop-blur\":[n]}],\"backdrop-brightness\":[{\"backdrop-brightness\":[r]}],\"backdrop-contrast\":[{\"backdrop-contrast\":[l]}],\"backdrop-grayscale\":[{\"backdrop-grayscale\":[u]}],\"backdrop-hue-rotate\":[{\"backdrop-hue-rotate\":[f]}],\"backdrop-invert\":[{\"backdrop-invert\":[d]}],\"backdrop-opacity\":[{\"backdrop-opacity\":[w]}],\"backdrop-saturate\":[{\"backdrop-saturate\":[C]}],\"backdrop-sepia\":[{\"backdrop-sepia\":[U]}],\"border-collapse\":[{border:[\"collapse\",\"separate\"]}],\"border-spacing\":[{\"border-spacing\":[s]}],\"border-spacing-x\":[{\"border-spacing-x\":[s]}],\"border-spacing-y\":[{\"border-spacing-y\":[s]}],\"table-layout\":[{table:[\"auto\",\"fixed\"]}],caption:[{caption:[\"top\",\"bottom\"]}],transition:[{transition:[\"none\",\"all\",\"\",\"colors\",\"opacity\",\"shadow\",\"transform\",Se]}],duration:[{duration:B()}],ease:[{ease:[\"linear\",\"in\",\"out\",\"in-out\",Se]}],delay:[{delay:B()}],animate:[{animate:[\"none\",\"spin\",\"ping\",\"pulse\",\"bounce\",Se]}],transform:[{transform:[\"\",\"gpu\",\"none\"]}],scale:[{scale:[L]}],\"scale-x\":[{\"scale-x\":[L]}],\"scale-y\":[{\"scale-y\":[L]}],rotate:[{rotate:[Bs,Se]}],\"translate-x\":[{\"translate-x\":[W]}],\"translate-y\":[{\"translate-y\":[W]}],\"skew-x\":[{\"skew-x\":[H]}],\"skew-y\":[{\"skew-y\":[H]}],\"transform-origin\":[{origin:[\"center\",\"top\",\"top-right\",\"right\",\"bottom-right\",\"bottom\",\"bottom-left\",\"left\",\"top-left\",Se]}],accent:[{accent:[\"auto\",e]}],appearance:[{appearance:[\"none\",\"auto\"]}],cursor:[{cursor:[\"auto\",\"default\",\"pointer\",\"wait\",\"text\",\"move\",\"help\",\"not-allowed\",\"none\",\"context-menu\",\"progress\",\"cell\",\"crosshair\",\"vertical-text\",\"alias\",\"copy\",\"no-drop\",\"grab\",\"grabbing\",\"all-scroll\",\"col-resize\",\"row-resize\",\"n-resize\",\"e-resize\",\"s-resize\",\"w-resize\",\"ne-resize\",\"nw-resize\",\"se-resize\",\"sw-resize\",\"ew-resize\",\"ns-resize\",\"nesw-resize\",\"nwse-resize\",\"zoom-in\",\"zoom-out\",Se]}],\"caret-color\":[{caret:[e]}],\"pointer-events\":[{\"pointer-events\":[\"none\",\"auto\"]}],resize:[{resize:[\"none\",\"y\",\"x\",\"\"]}],\"scroll-behavior\":[{scroll:[\"auto\",\"smooth\"]}],\"scroll-m\":[{\"scroll-m\":O()}],\"scroll-mx\":[{\"scroll-mx\":O()}],\"scroll-my\":[{\"scroll-my\":O()}],\"scroll-ms\":[{\"scroll-ms\":O()}],\"scroll-me\":[{\"scroll-me\":O()}],\"scroll-mt\":[{\"scroll-mt\":O()}],\"scroll-mr\":[{\"scroll-mr\":O()}],\"scroll-mb\":[{\"scroll-mb\":O()}],\"scroll-ml\":[{\"scroll-ml\":O()}],\"scroll-p\":[{\"scroll-p\":O()}],\"scroll-px\":[{\"scroll-px\":O()}],\"scroll-py\":[{\"scroll-py\":O()}],\"scroll-ps\":[{\"scroll-ps\":O()}],\"scroll-pe\":[{\"scroll-pe\":O()}],\"scroll-pt\":[{\"scroll-pt\":O()}],\"scroll-pr\":[{\"scroll-pr\":O()}],\"scroll-pb\":[{\"scroll-pb\":O()}],\"scroll-pl\":[{\"scroll-pl\":O()}],\"snap-align\":[{snap:[\"start\",\"end\",\"center\",\"align-none\"]}],\"snap-stop\":[{snap:[\"normal\",\"always\"]}],\"snap-type\":[{snap:[\"none\",\"x\",\"y\",\"both\"]}],\"snap-strictness\":[{snap:[\"mandatory\",\"proximity\"]}],touch:[{touch:[\"auto\",\"none\",\"manipulation\"]}],\"touch-x\":[{\"touch-pan\":[\"x\",\"left\",\"right\"]}],\"touch-y\":[{\"touch-pan\":[\"y\",\"up\",\"down\"]}],\"touch-pz\":[\"touch-pinch-zoom\"],select:[{select:[\"none\",\"text\",\"all\",\"auto\"]}],\"will-change\":[{\"will-change\":[\"auto\",\"scroll\",\"contents\",\"transform\",Se]}],fill:[{fill:[e,\"none\"]}],\"stroke-w\":[{stroke:[wr,Ur,lf]}],stroke:[{stroke:[e,\"none\"]}],sr:[\"sr-only\",\"not-sr-only\"],\"forced-color-adjust\":[{\"forced-color-adjust\":[\"auto\",\"none\"]}]},conflictingClassGroups:{overflow:[\"overflow-x\",\"overflow-y\"],overscroll:[\"overscroll-x\",\"overscroll-y\"],inset:[\"inset-x\",\"inset-y\",\"start\",\"end\",\"top\",\"right\",\"bottom\",\"left\"],\"inset-x\":[\"right\",\"left\"],\"inset-y\":[\"top\",\"bottom\"],flex:[\"basis\",\"grow\",\"shrink\"],gap:[\"gap-x\",\"gap-y\"],p:[\"px\",\"py\",\"ps\",\"pe\",\"pt\",\"pr\",\"pb\",\"pl\"],px:[\"pr\",\"pl\"],py:[\"pt\",\"pb\"],m:[\"mx\",\"my\",\"ms\",\"me\",\"mt\",\"mr\",\"mb\",\"ml\"],mx:[\"mr\",\"ml\"],my:[\"mt\",\"mb\"],size:[\"w\",\"h\"],\"font-size\":[\"leading\"],\"fvn-normal\":[\"fvn-ordinal\",\"fvn-slashed-zero\",\"fvn-figure\",\"fvn-spacing\",\"fvn-fraction\"],\"fvn-ordinal\":[\"fvn-normal\"],\"fvn-slashed-zero\":[\"fvn-normal\"],\"fvn-figure\":[\"fvn-normal\"],\"fvn-spacing\":[\"fvn-normal\"],\"fvn-fraction\":[\"fvn-normal\"],\"line-clamp\":[\"display\",\"overflow\"],rounded:[\"rounded-s\",\"rounded-e\",\"rounded-t\",\"rounded-r\",\"rounded-b\",\"rounded-l\",\"rounded-ss\",\"rounded-se\",\"rounded-ee\",\"rounded-es\",\"rounded-tl\",\"rounded-tr\",\"rounded-br\",\"rounded-bl\"],\"rounded-s\":[\"rounded-ss\",\"rounded-es\"],\"rounded-e\":[\"rounded-se\",\"rounded-ee\"],\"rounded-t\":[\"rounded-tl\",\"rounded-tr\"],\"rounded-r\":[\"rounded-tr\",\"rounded-br\"],\"rounded-b\":[\"rounded-br\",\"rounded-bl\"],\"rounded-l\":[\"rounded-tl\",\"rounded-bl\"],\"border-spacing\":[\"border-spacing-x\",\"border-spacing-y\"],\"border-w\":[\"border-w-s\",\"border-w-e\",\"border-w-t\",\"border-w-r\",\"border-w-b\",\"border-w-l\"],\"border-w-x\":[\"border-w-r\",\"border-w-l\"],\"border-w-y\":[\"border-w-t\",\"border-w-b\"],\"border-color\":[\"border-color-s\",\"border-color-e\",\"border-color-t\",\"border-color-r\",\"border-color-b\",\"border-color-l\"],\"border-color-x\":[\"border-color-r\",\"border-color-l\"],\"border-color-y\":[\"border-color-t\",\"border-color-b\"],\"scroll-m\":[\"scroll-mx\",\"scroll-my\",\"scroll-ms\",\"scroll-me\",\"scroll-mt\",\"scroll-mr\",\"scroll-mb\",\"scroll-ml\"],\"scroll-mx\":[\"scroll-mr\",\"scroll-ml\"],\"scroll-my\":[\"scroll-mt\",\"scroll-mb\"],\"scroll-p\":[\"scroll-px\",\"scroll-py\",\"scroll-ps\",\"scroll-pe\",\"scroll-pt\",\"scroll-pr\",\"scroll-pb\",\"scroll-pl\"],\"scroll-px\":[\"scroll-pr\",\"scroll-pl\"],\"scroll-py\":[\"scroll-pt\",\"scroll-pb\"],touch:[\"touch-x\",\"touch-y\",\"touch-pz\"],\"touch-x\":[\"touch\"],\"touch-y\":[\"touch\"],\"touch-pz\":[\"touch\"]},conflictingClassGroupModifiers:{\"font-size\":[\"leading\"]}}},GA=kA(HA);function $t(...e){return GA(pA(e))}const KA=Pw(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",{variants:{variant:{default:\"bg-primary text-primary-foreground shadow hover:bg-primary/90\",destructive:\"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",outline:\"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",secondary:\"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",ghost:\"hover:bg-accent hover:text-accent-foreground\",link:\"text-primary underline-offset-4 hover:underline\"},size:{default:\"h-9 px-4 py-2\",sm:\"h-8 rounded-md px-3 text-xs\",lg:\"h-10 rounded-md px-8\",icon:\"h-9 w-9\"}},defaultVariants:{variant:\"default\",size:\"default\"}}),_e=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?is:\"button\";return v.jsx(s,{className:$t(KA({variant:t,size:n,className:e})),ref:o,...i})});_e.displayName=\"Button\";const Fe=_.forwardRef(({className:e,...t},n)=>v.jsx(\"div\",{ref:n,className:$t(\"rounded-xl border bg-card text-card-foreground shadow\",e),...t}));Fe.displayName=\"Card\";const Xr=_.forwardRef(({className:e,...t},n)=>v.jsx(\"div\",{ref:n,className:$t(\"flex flex-col space-y-1.5 p-6\",e),...t}));Xr.displayName=\"CardHeader\";const Qr=_.forwardRef(({className:e,...t},n)=>v.jsx(\"div\",{ref:n,className:$t(\"font-semibold leading-none tracking-tight\",e),...t}));Qr.displayName=\"CardTitle\";const qA=_.forwardRef(({className:e,...t},n)=>v.jsx(\"div\",{ref:n,className:$t(\"text-sm text-muted-foreground\",e),...t}));qA.displayName=\"CardDescription\";const qe=_.forwardRef(({className:e,...t},n)=>v.jsx(\"div\",{ref:n,className:$t(\"p-6 pt-0\",e),...t}));qe.displayName=\"CardContent\";const ZA=_.forwardRef(({className:e,...t},n)=>v.jsx(\"div\",{ref:n,className:$t(\"flex items-center p-6 pt-0\",e),...t}));ZA.displayName=\"CardFooter\";/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const YA=e=>e.replace(/([a-z0-9])([A-Z])/g,\"$1-$2\").toLowerCase(),Fw=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(\" \");/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */var XA={xmlns:\"http://www.w3.org/2000/svg\",width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:2,strokeLinecap:\"round\",strokeLinejoin:\"round\"};/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const QA=_.forwardRef(({color:e=\"currentColor\",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=\"\",children:o,iconNode:s,...a},l)=>_.createElement(\"svg\",{ref:l,...XA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Fw(\"lucide\",i),...a},[...s.map(([u,f])=>_.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const je=(e,t)=>{const n=_.forwardRef(({className:r,...i},o)=>_.createElement(QA,{ref:o,iconNode:t,className:Fw(`lucide-${YA(e)}`,r),...i}));return n.displayName=`${e}`,n};/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const w0=je(\"ArrowLeft\",[[\"path\",{d:\"m12 19-7-7 7-7\",key:\"1l729n\"}],[\"path\",{d:\"M19 12H5\",key:\"x3x0zl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const JA=je(\"CircleCheckBig\",[[\"path\",{d:\"M21.801 10A10 10 0 1 1 17 3.335\",key:\"yps3ct\"}],[\"path\",{d:\"m9 11 3 3L22 4\",key:\"1pflzl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const eM=je(\"Clock\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"polyline\",{points:\"12 6 12 12 16 14\",key:\"68esgv\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const tM=je(\"Coins\",[[\"circle\",{cx:\"8\",cy:\"8\",r:\"6\",key:\"3yglwk\"}],[\"path\",{d:\"M18.09 10.37A6 6 0 1 1 10.34 18\",key:\"t5s6rm\"}],[\"path\",{d:\"M7 6h1v4\",key:\"1obek4\"}],[\"path\",{d:\"m16.71 13.88.7.71-2.82 2.82\",key:\"1rbuyh\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const nM=je(\"Crown\",[[\"path\",{d:\"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z\",key:\"1vdc57\"}],[\"path\",{d:\"M5 21h14\",key:\"11awu3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const rM=je(\"FileText\",[[\"path\",{d:\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\",key:\"1rqfz7\"}],[\"path\",{d:\"M14 2v4a2 2 0 0 0 2 2h4\",key:\"tnqrlb\"}],[\"path\",{d:\"M10 9H8\",key:\"b1mrlr\"}],[\"path\",{d:\"M16 13H8\",key:\"t4e002\"}],[\"path\",{d:\"M16 17H8\",key:\"z1uh3a\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const iM=je(\"Gamepad2\",[[\"line\",{x1:\"6\",x2:\"10\",y1:\"11\",y2:\"11\",key:\"1gktln\"}],[\"line\",{x1:\"8\",x2:\"8\",y1:\"9\",y2:\"13\",key:\"qnk9ow\"}],[\"line\",{x1:\"15\",x2:\"15.01\",y1:\"12\",y2:\"12\",key:\"krot7o\"}],[\"line\",{x1:\"18\",x2:\"18.01\",y1:\"10\",y2:\"10\",key:\"1lcuu1\"}],[\"path\",{d:\"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z\",key:\"mfqc10\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const oM=je(\"Heart\",[[\"path\",{d:\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",key:\"c3ymky\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const sM=je(\"LogOut\",[[\"path\",{d:\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\",key:\"1uf3rs\"}],[\"polyline\",{points:\"16 17 21 12 16 7\",key:\"1gabdz\"}],[\"line\",{x1:\"21\",x2:\"9\",y1:\"12\",y2:\"12\",key:\"1uyos4\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const aM=je(\"Map\",[[\"path\",{d:\"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z\",key:\"169xi5\"}],[\"path\",{d:\"M15 5.764v15\",key:\"1pn4in\"}],[\"path\",{d:\"M9 3.236v15\",key:\"1uimfh\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const lM=je(\"Medal\",[[\"path\",{d:\"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15\",key:\"143lza\"}],[\"path\",{d:\"M11 12 5.12 2.2\",key:\"qhuxz6\"}],[\"path\",{d:\"m13 12 5.88-9.8\",key:\"hbye0f\"}],[\"path\",{d:\"M8 7h8\",key:\"i86dvs\"}],[\"circle\",{cx:\"12\",cy:\"17\",r:\"5\",key:\"qbz8iq\"}],[\"path\",{d:\"M12 18v-2h-.5\",key:\"fawc4q\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const uM=je(\"MessageCircle\",[[\"path\",{d:\"M7.9 20A9 9 0 1 0 4 16.1L2 22Z\",key:\"vv11sd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const cM=je(\"Music\",[[\"path\",{d:\"M9 18V5l12-2v13\",key:\"1jmyc2\"}],[\"circle\",{cx:\"6\",cy:\"18\",r:\"3\",key:\"fqmcym\"}],[\"circle\",{cx:\"18\",cy:\"16\",r:\"3\",key:\"1hluhg\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const fM=je(\"Pause\",[[\"rect\",{x:\"14\",y:\"4\",width:\"4\",height:\"16\",rx:\"1\",key:\"zuxfzm\"}],[\"rect\",{x:\"6\",y:\"4\",width:\"4\",height:\"16\",rx:\"1\",key:\"1okwgv\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const dM=je(\"Play\",[[\"polygon\",{points:\"6 3 20 12 6 21 6 3\",key:\"1oa8hb\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const lg=je(\"Rocket\",[[\"path\",{d:\"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\",key:\"m3kijz\"}],[\"path\",{d:\"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\",key:\"1fmvmk\"}],[\"path\",{d:\"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\",key:\"1f8sc4\"}],[\"path\",{d:\"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\",key:\"qeys4\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const hM=je(\"RotateCcw\",[[\"path\",{d:\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\",key:\"1357e3\"}],[\"path\",{d:\"M3 3v5h5\",key:\"1xhq8a\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const pM=je(\"Shield\",[[\"path\",{d:\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",key:\"oel41y\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const mM=je(\"ShoppingCart\",[[\"circle\",{cx:\"8\",cy:\"21\",r:\"1\",key:\"jimo8o\"}],[\"circle\",{cx:\"19\",cy:\"21\",r:\"1\",key:\"13723u\"}],[\"path\",{d:\"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12\",key:\"9zh506\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const $d=je(\"Star\",[[\"polygon\",{points:\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\",key:\"8f66p6\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Dw=je(\"Target\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"6\",key:\"1vlfrh\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"2\",key:\"1c9p78\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const gM=je(\"Timer\",[[\"line\",{x1:\"10\",x2:\"14\",y1:\"2\",y2:\"2\",key:\"14vaq8\"}],[\"line\",{x1:\"12\",x2:\"15\",y1:\"14\",y2:\"11\",key:\"17fdiu\"}],[\"circle\",{cx:\"12\",cy:\"14\",r:\"8\",key:\"1e1u0o\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ko=je(\"Trophy\",[[\"path\",{d:\"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\",key:\"17hqa7\"}],[\"path\",{d:\"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\",key:\"lmptdp\"}],[\"path\",{d:\"M4 22h16\",key:\"57wxv0\"}],[\"path\",{d:\"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\",key:\"1nw9bq\"}],[\"path\",{d:\"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\",key:\"1np0yb\"}],[\"path\",{d:\"M18 2H6v7a6 6 0 0 0 12 0V2Z\",key:\"u46fv3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const yM=je(\"User\",[[\"path\",{d:\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\",key:\"975kel\"}],[\"circle\",{cx:\"12\",cy:\"7\",r:\"4\",key:\"17ys0d\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Wd=je(\"Users\",[[\"path\",{d:\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\",key:\"1yyitq\"}],[\"circle\",{cx:\"9\",cy:\"7\",r:\"4\",key:\"nufk8\"}],[\"path\",{d:\"M22 21v-2a4 4 0 0 0-3-3.87\",key:\"kshegd\"}],[\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\",key:\"1da9ce\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const vM=je(\"Wallet\",[[\"path\",{d:\"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\",key:\"18etb6\"}],[\"path\",{d:\"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\",key:\"xoc0q4\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const wM=je(\"X\",[[\"path\",{d:\"M18 6 6 18\",key:\"1bl5f8\"}],[\"path\",{d:\"m6 6 12 12\",key:\"d8bk6v\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Zu=je(\"Zap\",[[\"path\",{d:\"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",key:\"1xq2db\"}]]),ug=({onBackToMenu:e})=>{const t=_.useRef(null),n=_.useRef(0),[r,i]=_.useState(()=>{const $=localStorage.getItem(\"capirush-stats\");return $?JSON.parse($):{score:0,highScore:0,gamesPlayed:0}}),[o,s]=_.useState(!1),[a,l]=_.useState(!1),[u,f]=_.useState(0),[d,h]=_.useState(!1),[b,S]=_.useState(!0);_.useState(1),_.useState([]);const[M,N]=_.useState({left:!1,right:!1,jump:!1,slide:!1}),[w,E]=_.useState({}),[C,L]=_.useState(!1),U=_.useRef({}),H=_.useRef(null),V=_.useRef({player:{x:100,y:420,width:40,height:30,vy:0,onGround:!0,speed:5,doubleJumpAvailable:!1,isSliding:!1},obstacles:[{x:600,y:420,width:30,height:30,color:\"#FF0000\",type:\"normal\",passed:!1},{x:800,y:420,width:30,height:30,color:\"#00FF00\",type:\"normal\",passed:!1}],powerUps:[],coins:[],score:0,coins_collected:0,combo:0,combo_multiplier:1,keys:{},effects:{speedBoost:0,invincibility:0,coinMagnet:0,doubleJump:!1,shield:0,coinMultiplier:{active:!1,multiplier:1,duration:0},slowMotion:0,dash:0,tripleJump:0},particles:[],gameSpeed:1,difficultyLevel:1,weatherEffects:[],screenShake:{intensity:0,duration:0},capybaraTrail:[],miniBoss:null,dailyChallenge:{type:\"score\",target:500,progress:0,completed:!1}});_.useEffect(()=>{const $=()=>{const O=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS|Telegram/i.test(navigator.userAgent)||window.innerWidth<=768||\"ontouchstart\"in window||window.TelegramWebApp||navigator.maxTouchPoints>0;if(h(O),window.TelegramWebApp&&(window.TelegramWebApp.ready(),window.TelegramWebApp.MainButton.hide(),window.TelegramWebApp.expand(),setTimeout(()=>{Object.values(w).forEach(c=>{if(c&&c.src){const g=c.src+\"?t=\"+Date.now();c.src=g}})},1e3)),O){const P=document.querySelector(\"meta[name=viewport]\");if(P)P.setAttribute(\"content\",\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover\");else{const c=document.createElement(\"meta\");c.name=\"viewport\",c.content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover\",document.head.appendChild(c)}}};return $(),window.addEventListener(\"resize\",$),()=>window.removeEventListener(\"resize\",$)},[w]),_.useEffect(()=>{(async()=>{const O={capybara:\"/images/Professional_capybara_character_sprite_01f56ee3.png\",background:\"/images/Mystical_forest_game_background_58a2540a.png\",coin:\"/images/Golden_capybara_cryptocurrency_coin_d8288b6d.png\",spikeTrap:\"/images/Spike_trap_obstacle_43af5d9b.png\",energyBarrier:\"/images/Energy_barrier_obstacle_3387a6c8.png\",tree:\"/images/Detailed_game_tree_sprite_15e5af21.png\",grass:\"/images/Seamless_grass_texture_c8a63111.png\",shield:\"/images/Shield_power-up_icon_ee2ffa1a.png\",coinMultiplier:\"/images/Coin_multiplier_power-up_62305235.png\",slowMotion:\"/images/Slow_motion_power-up_48d17cd8.png\",dash:\"/images/Dash_teleport_power-up_d5d37feb.png\",tripleJump:\"/images/Triple_jump_power-up_d04468b7.png\",miniBoss:\"/images/Forest_mini-boss_enemy_e80d2b41.png\",leaves:\"/images/Magical_falling_leaves_5c09b3db.png\",trail:\"/images/Energy_trail_effect_880ef858.png\",achievements:\"/images/Achievement_badges_collection_7fcc51e5.png\"},P={},c=Object.entries(O).map(([g,A])=>new Promise(R=>{const k=new Image;k.onload=()=>{P[g]=k,R()},k.onerror=()=>{console.warn(`Failed to load ${g} image`),R()},k.src=A}));await Promise.all(c),E(P),L(!0),console.log(\"Images loaded successfully:\",Object.keys(P))})()},[]),_.useEffect(()=>{if(!b)return;(()=>{try{const O={jump:new Audio(\"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAbBrxrpGNzl\"),coin:new Audio(\"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAbBrxrpGNzl\"),powerup:new Audio(\"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAbBrxrpGNzl\"),hit:new Audio(\"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAbBrxrpGNzl\")};Object.entries(O).forEach(([P,c])=>{c.volume=.3,U.current[P]=c}),H.current=new Audio(\"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAbBrxrpGNzl\"),H.current.loop=!0,H.current.volume=.1}catch(O){console.warn(\"Audio initialization failed:\",O)}})()},[b]),_.useEffect(()=>{const $=t.current;if(!$||!o)return;const O=$.getContext(\"2d\");if(!O)return;$.width=800,$.height=500;const P=(x,X,ae,te,ee)=>{const J=Math.sin(Date.now()/200)*1;if(x.fillStyle=\"rgba(0, 0, 0, 0.3)\",x.beginPath(),x.ellipse(X+te/2,ae+ee+2,te/2-2,4,0,0,Math.PI*2),x.fill(),w.capybara&&C){x.save(),x.scale(-1,1);const fe=document.createElement(\"canvas\"),se=fe.getContext(\"2d\");fe.width=te,fe.height=ee,se.drawImage(w.capybara,0,0,te,ee);const ge=se.getImageData(0,0,te,ee),he=ge.data;for(let xe=0;xe<he.length;xe+=4){const rn=he[xe],Pe=he[xe+1],Re=he[xe+2];rn>200&&Pe>200&&Re>200&&(he[xe+3]=0)}se.putImageData(ge,0,0),x.drawImage(fe,-X-te,ae+J),x.restore()}else x.fillStyle=\"#D2691E\",x.fillRect(X,ae+J,te,ee),x.fillStyle=\"#000\",x.fillRect(X+te-8,ae+5+J,2,2),x.fillRect(X+te-4,ae+5+J,2,2)},c=(x,X,ae,te)=>{const J=Math.sin(Date.now()/300)*.3+.7,fe=Math.sin(Date.now()/400)*2;if(x.save(),x.translate(X+20/2,ae+20/2+fe),te===\"speed\"){x.shadowColor=\"#FFD700\",x.shadowBlur=12*J;const se=x.createRadialGradient(0,0,0,0,0,20/2);se.addColorStop(0,\"#FFFF99\"),se.addColorStop(.6,\"#FFD700\"),se.addColorStop(1,\"#DAA520\"),x.fillStyle=se,x.beginPath(),x.arc(0,0,20/2,0,Math.PI*2),x.fill(),x.fillStyle=\"#FFF\",x.beginPath(),x.moveTo(-3,-6),x.lineTo(2,-2),x.lineTo(-1,0),x.lineTo(4,6),x.lineTo(-2,2),x.lineTo(1,0),x.closePath(),x.fill();for(let ge=0;ge<3;ge++){const he=(Date.now()/200+ge*2)%(Math.PI*2),xe=Math.cos(he)*12,rn=Math.sin(he)*12;x.fillStyle=\"rgba(255, 255, 255, 0.8)\",x.beginPath(),x.arc(xe,rn,1,0,Math.PI*2),x.fill()}}else if(te===\"shield\"){x.shadowColor=\"#4169E1\",x.shadowBlur=12*J;const se=x.createRadialGradient(0,0,0,0,0,20/2);se.addColorStop(0,\"#87CEEB\"),se.addColorStop(.6,\"#4169E1\"),se.addColorStop(1,\"#191970\"),x.fillStyle=se,x.beginPath(),x.arc(0,0,20/2,0,Math.PI*2),x.fill(),x.fillStyle=\"#FFF\",x.beginPath(),x.moveTo(0,-6),x.quadraticCurveTo(-6,-2,-6,2),x.quadraticCurveTo(-3,6,0,6),x.quadraticCurveTo(3,6,6,2),x.quadraticCurveTo(6,-2,0,-6),x.fill(),x.fillStyle=\"#4169E1\",x.fillRect(-1,-4,2,8),x.fillRect(-4,-1,8,2)}else if(te===\"jump\"){x.shadowColor=\"#32CD32\",x.shadowBlur=12*J;const se=x.createRadialGradient(0,0,0,0,0,20/2);se.addColorStop(0,\"#98FB98\"),se.addColorStop(.6,\"#32CD32\"),se.addColorStop(1,\"#228B22\"),x.fillStyle=se,x.beginPath(),x.arc(0,0,20/2,0,Math.PI*2),x.fill(),x.fillStyle=\"#FFF\",x.beginPath(),x.moveTo(0,-7),x.lineTo(-3,-3),x.lineTo(-1,-3),x.lineTo(-1,-1),x.lineTo(1,-1),x.lineTo(1,-3),x.lineTo(3,-3),x.closePath(),x.fill(),x.beginPath(),x.moveTo(0,-1),x.lineTo(-3,3),x.lineTo(-1,3),x.lineTo(-1,5),x.lineTo(1,5),x.lineTo(1,3),x.lineTo(3,3),x.closePath(),x.fill()}else if(te===\"magnet\"){x.shadowColor=\"#FF1493\",x.shadowBlur=12*J;const se=x.createRadialGradient(0,0,0,0,0,20/2);se.addColorStop(0,\"#FFB6C1\"),se.addColorStop(.6,\"#FF1493\"),se.addColorStop(1,\"#C71585\"),x.fillStyle=se,x.beginPath(),x.arc(0,0,20/2,0,Math.PI*2),x.fill(),x.fillStyle=\"#FFF\",x.fillRect(-5,-6,3,8),x.fillRect(2,-6,3,8),x.fillRect(-5,-6,10,3),x.strokeStyle=\"rgba(255, 255, 255, 0.6)\",x.lineWidth=1;for(let ge=0;ge<3;ge++)x.beginPath(),x.arc(0,0,8+ge*2,-Math.PI/3,-2*Math.PI/3,!0),x.stroke(),x.beginPath(),x.arc(0,0,8+ge*2,Math.PI/3,2*Math.PI/3),x.stroke();for(let ge=0;ge<2;ge++){const he=Date.now()/500+ge*Math.PI,xe=Math.cos(he)*15,rn=Math.sin(he)*15;x.fillStyle=\"rgba(255, 215, 0, 0.6)\",x.beginPath(),x.arc(xe,rn,2,0,Math.PI*2),x.fill()}}x.restore()},g=(x,X,ae)=>{const te=Date.now()/100%(Math.PI*2),ee=Math.abs(Math.cos(te)),J=Math.sin(Date.now()/200)*.3+.7;if(x.save(),x.translate(X+10,ae+10),x.scale(ee,1),w.coin&&C){x.shadowColor=\"#FFD700\",x.shadowBlur=12*J;const fe=document.createElement(\"canvas\"),se=fe.getContext(\"2d\");fe.width=30,fe.height=30,se.drawImage(w.coin,0,0,30,30);const ge=se.getImageData(0,0,30,30),he=ge.data;for(let xe=0;xe<he.length;xe+=4){const rn=he[xe],Pe=he[xe+1],Re=he[xe+2];rn>200&&Pe>200&&Re>200&&(he[xe+3]=0)}se.putImageData(ge,0,0),x.drawImage(fe,-15,-15),Math.random()<.3&&(x.fillStyle=\"rgba(255, 255, 255, 0.8)\",x.beginPath(),x.arc(-6+Math.random()*12,-6+Math.random()*12,1,0,Math.PI*2),x.fill())}else{x.fillStyle=\"rgba(0, 0, 0, 0.3)\",x.beginPath(),x.ellipse(0,12,8,3,0,0,Math.PI*2),x.fill(),x.shadowColor=\"#FFD700\",x.shadowBlur=8*J;const fe=x.createRadialGradient(0,0,0,0,0,9);fe.addColorStop(0,\"#FFF8DC\"),fe.addColorStop(.7,\"#FFD700\"),fe.addColorStop(1,\"#DAA520\"),x.fillStyle=fe,x.beginPath(),x.arc(0,0,9,0,Math.PI*2),x.fill();const se=x.createRadialGradient(0,0,0,0,0,6);se.addColorStop(0,\"#FFFF99\"),se.addColorStop(.8,\"#FFA500\"),se.addColorStop(1,\"#FF8C00\"),x.fillStyle=se,x.beginPath(),x.arc(0,0,6,0,Math.PI*2),x.fill(),x.fillStyle=\"#8B4513\",x.font=\"bold 8px Arial\",x.textAlign=\"center\",x.fillText(\"C\",0,2),Math.random()<.3&&(x.fillStyle=\"rgba(255, 255, 255, 0.8)\",x.beginPath(),x.arc(-6+Math.random()*12,-6+Math.random()*12,1,0,Math.PI*2),x.fill())}x.restore()},A=(x,X)=>{if(x.save(),x.globalAlpha=X.alpha,X.type===\"sparkle\")x.fillStyle=X.color,x.shadowColor=X.color,x.shadowBlur=6,x.beginPath(),x.arc(X.x,X.y,X.size,0,Math.PI*2),x.fill(),x.strokeStyle=X.color,x.lineWidth=1,x.beginPath(),x.moveTo(X.x-X.size*2,X.y),x.lineTo(X.x+X.size*2,X.y),x.moveTo(X.x,X.y-X.size*2),x.lineTo(X.x,X.y+X.size*2),x.stroke();else if(X.type===\"explosion\"){const ae=x.createRadialGradient(X.x,X.y,0,X.x,X.y,X.size);ae.addColorStop(0,X.color),ae.addColorStop(1,\"transparent\"),x.fillStyle=ae,x.beginPath(),x.arc(X.x,X.y,X.size,0,Math.PI*2),x.fill()}else x.fillStyle=X.color,x.fillRect(X.x,X.y,X.size,X.size);x.restore()},R=(x,X,ae,te,ee,J,fe=\"normal\")=>{const se=Math.sin(Date.now()/300)*.1+1;if(fe===\"spike\"&&w.spikeTrap&&C){x.drawImage(w.spikeTrap,X,ae,te,ee);return}else if(fe===\"energy\"&&w.energyBarrier&&C){x.save(),x.globalAlpha=.8,x.drawImage(w.energyBarrier,X,ae,te,ee),x.restore();return}if(J===\"#FF0000\"){x.save(),x.translate(X+te/2,ae+ee/2),x.scale(se,se),x.fillStyle=\"rgba(139, 0, 0, 0.3)\",x.fillRect(-te/2,ee/2-2,te,4);const ge=x.createLinearGradient(-te/2,-ee/2,te/2,ee/2);ge.addColorStop(0,\"#FF6B6B\"),ge.addColorStop(.5,\"#FF0000\"),ge.addColorStop(1,\"#8B0000\"),x.fillStyle=ge,x.beginPath(),x.moveTo(0,-ee/2),x.lineTo(te/3,-ee/4),x.lineTo(te/2,ee/4),x.lineTo(0,ee/2),x.lineTo(-te/2,ee/4),x.lineTo(-te/3,-ee/4),x.closePath(),x.fill(),x.fillStyle=\"rgba(255, 255, 255, 0.4)\",x.beginPath(),x.moveTo(-te/4,-ee/3),x.lineTo(-te/6,-ee/4),x.lineTo(-te/8,-ee/6),x.closePath(),x.fill(),x.shadowColor=\"#FF0000\",x.shadowBlur=8,x.strokeStyle=\"#FF4444\",x.lineWidth=2,x.stroke(),x.restore()}else if(J===\"#00FF00\"){x.save(),x.translate(X+te/2,ae+ee),x.fillStyle=\"rgba(0, 0, 0, 0.2)\",x.beginPath(),x.ellipse(0,0,te/2,6,0,0,Math.PI*2),x.fill();const ge=x.createLinearGradient(-4,0,4,0);ge.addColorStop(0,\"#8B4513\"),ge.addColorStop(.5,\"#A0522D\"),ge.addColorStop(1,\"#654321\"),x.fillStyle=ge,x.fillRect(-4,-ee+8,8,ee-8);const he=x.createRadialGradient(0,-ee+10,0,0,-ee+10,te/2);he.addColorStop(0,\"#90EE90\"),he.addColorStop(.7,\"#32CD32\"),he.addColorStop(1,\"#228B22\"),x.fillStyle=he,x.beginPath(),x.arc(-4,-ee+12,te/3,0,Math.PI*2),x.fill(),x.beginPath(),x.arc(4,-ee+8,te/3,0,Math.PI*2),x.fill(),x.beginPath(),x.arc(0,-ee+5,te/2.5,0,Math.PI*2),x.fill(),x.fillStyle=\"rgba(144, 238, 144, 0.6)\";for(let xe=0;xe<3;xe++){const rn=(Date.now()/1e3+xe)*2,Pe=Math.cos(rn)*(te/4),Re=-ee/2+Math.sin(rn*2)*8;x.beginPath(),x.arc(Pe,Re,2,0,Math.PI*2),x.fill()}x.restore()}else{x.save(),x.translate(X+te/2,ae+ee/2),x.scale(se,se),x.fillStyle=\"rgba(0, 0, 0, 0.3)\",x.beginPath(),x.ellipse(0,ee/2-2,te/2,4,0,0,Math.PI*2),x.fill();const ge=x.createRadialGradient(0,0,0,0,0,te/2);ge.addColorStop(0,\"#87CEEB\"),ge.addColorStop(.6,\"#4169E1\"),ge.addColorStop(1,\"#191970\"),x.fillStyle=ge,x.beginPath(),x.ellipse(0,0,te/2,ee/2,0,0,Math.PI*2),x.fill(),x.fillStyle=\"rgba(25, 25, 112, 0.4)\",x.beginPath(),x.ellipse(-te/4,-ee/4,te/6,ee/6,0,0,Math.PI*2),x.fill(),x.beginPath(),x.ellipse(te/6,ee/6,te/8,ee/8,0,0,Math.PI*2),x.fill(),x.strokeStyle=\"rgba(135, 206, 235, 0.8)\",x.lineWidth=2,x.beginPath();const he=Math.sin(Date.now()/200)*.3;x.moveTo(-te/3+he*5,-ee/4),x.quadraticCurveTo(0,-ee/6,te/3+he*5,-ee/4),x.stroke(),x.shadowColor=\"#4169E1\",x.shadowBlur=6,x.strokeStyle=\"#6495ED\",x.lineWidth=1,x.beginPath(),x.ellipse(0,0,te/2+2,ee/2+2,0,0,Math.PI*2),x.stroke(),x.restore()}},k=x=>{V.current.keys[x.key.toLowerCase()]=!0,(x.key.toLowerCase()===\"w\"||x.key===\" \")&&I(),(x.key.toLowerCase()===\"s\"||x.code===\"ArrowDown\")&&D(),x.preventDefault()},I=()=>{if(V.current.player.onGround)V.current.player.vy=-12,V.current.player.onGround=!1,V.current.player.doubleJumpAvailable=V.current.effects.doubleJump;else if(V.current.player.doubleJumpAvailable){V.current.player.vy=-10,V.current.player.doubleJumpAvailable=!1;for(let x=0;x<5;x++)V.current.particles.push({x:V.current.player.x+Math.random()*40,y:V.current.player.y+30,size:3,color:\"#32CD32\",alpha:1,vy:Math.random()*3+1,life:30})}},D=()=>{V.current.player.isSliding=!0},B=()=>{V.current.player.isSliding=!1},m=x=>{V.current.keys[x.key.toLowerCase()]=!1,(x.key.toLowerCase()===\"s\"||x.code===\"ArrowDown\")&&B(),x.preventDefault()};window.addEventListener(\"keydown\",k),window.addEventListener(\"keyup\",m);const F=()=>{if(a){n.current=requestAnimationFrame(F);return}const x=V.current;if(w.background&&C)O.drawImage(w.background,0,0,$.width,$.height);else{const J=O.createLinearGradient(0,0,$.width,$.height);J.addColorStop(0,\"#2D5016\"),J.addColorStop(.3,\"#1F5151\"),J.addColorStop(.6,\"#345041\"),J.addColorStop(1,\"#1B263B\"),O.fillStyle=J,O.fillRect(0,0,$.width,$.height)}O.fillStyle=\"#7FB069\",O.globalAlpha=.4;for(let J=0;J<12;J++){const fe=(J*70+Math.sin(Date.now()/1500+J)*30)%$.width,se=80+Math.sin(Date.now()/1200+J*1.5)*40;O.beginPath(),O.arc(fe,se,2+Math.sin(Date.now()/800+J)*1,0,Math.PI*2),O.fill()}if(O.globalAlpha=1,w.grass&&C){const J=O.createPattern(w.grass,\"repeat\");J&&(O.fillStyle=J,O.fillRect(0,450,$.width,50))}else{O.fillStyle=\"#2F4F2F\",O.fillRect(0,450,$.width,50),O.fillStyle=\"#3D5A3B\";for(let J=0;J<$.width;J+=6){const fe=2+Math.sin(J*.1)*1;O.fillRect(J,450,3,fe)}}O.fillStyle=\"#7FB069\",O.globalAlpha=.6;for(let J=0;J<$.width;J+=25){const fe=J+Math.sin(Date.now()/2e3+J)*2;O.fillRect(fe,450+Math.random()*10,3,8),J%60===0&&(O.fillStyle=\"#FFD23F\",O.beginPath(),O.arc(fe,455,4,0,Math.PI*2),O.fill(),O.fillStyle=\"#7FB069\")}O.globalAlpha=1,x.player.onGround||(x.player.vy+=.8,x.player.y+=x.player.vy,x.player.y>=420&&(x.player.y=420,x.player.vy=0,x.player.onGround=!0)),x.effects.speedBoost>0&&x.effects.speedBoost--,x.effects.invincibility>0&&x.effects.invincibility--,x.effects.coinMagnet>0&&x.effects.coinMagnet--;const X=x.effects.speedBoost>0?8:5;(x.keys.a||x.keys.arrowleft||M.left)&&(x.player.x=Math.max(0,x.player.x-X)),(x.keys.d||x.keys.arrowright||M.right)&&(x.player.x=Math.min($.width-x.player.width,x.player.x+X));const ae=x.player.isSliding?15:30,te=x.player.isSliding?x.player.y+15:x.player.y;if(x.effects.invincibility>0&&(O.globalAlpha=.5+Math.sin(Date.now()/100)*.3),x.effects.speedBoost>0)for(let J=0;J<3;J++)x.particles.push({x:x.player.x-10-J*5,y:x.player.y+Math.random()*30,size:2,color:\"#FFD700\",alpha:.8,vy:0,life:15});if(P(O,x.player.x,te,x.player.width,ae),O.globalAlpha=1,x.obstacles.forEach((J,fe)=>{if(J.x-=3,J.x<-J.width&&(J.x=$.width+Math.random()*200,x.score+=10,f(x.score)),R(O,J.x,J.y,J.width,J.height,J.color),!x.effects.invincibility&&x.player.x<J.x+J.width&&x.player.x+x.player.width>J.x&&te<J.y+J.height&&te+ae>J.y){x.combo=0,x.combo_multiplier=1,ie();return}if(J.x+J.width<x.player.x&&!J.passed&&(J.passed=!0,x.combo++,x.combo>=20?x.combo_multiplier=8:x.combo>=15?x.combo_multiplier=4:x.combo>=10?x.combo_multiplier=2:x.combo_multiplier=1,x.combo%5===0))for(let se=0;se<10;se++)x.particles.push({x:x.player.x+20,y:x.player.y+15,size:4,color:\"#FF69B4\",alpha:1,vy:(Math.random()-.5)*5,life:50})}),Math.random()<.003){const J=[\"speed\",\"shield\",\"jump\",\"magnet\"];x.powerUps.push({x:$.width,y:380+Math.random()*40,type:J[Math.floor(Math.random()*J.length)]})}Math.random()<.008&&x.coins.push({x:$.width,y:380+Math.random()*40}),x.powerUps.forEach((J,fe)=>{if(J.x-=3,J.x<-20){x.powerUps.splice(fe,1);return}if(x.player.x<J.x+20&&x.player.x+x.player.width>J.x&&te<J.y+20&&te+ae>J.y){J.type===\"speed\"?x.effects.speedBoost=300:J.type===\"shield\"?x.effects.invincibility=180:J.type===\"jump\"?x.effects.doubleJump=!0:J.type===\"magnet\"&&(x.effects.coinMagnet=600);for(let se=0;se<8;se++)x.particles.push({x:J.x+10,y:J.y+10,size:4,color:\"#FFD700\",alpha:1,vy:(Math.random()-.5)*4,life:40});x.powerUps.splice(fe,1)}else c(O,J.x,J.y,J.type)}),x.coins.forEach((J,fe)=>{if(J.x-=3,x.effects.coinMagnet>0){const se=x.player.x-J.x,ge=te-J.y;Math.sqrt(se*se+ge*ge)<100&&(J.x+=se*.1,J.y+=ge*.1)}if(J.x<-20){x.coins.splice(fe,1);return}if(x.player.x<J.x+20&&x.player.x+x.player.width>J.x&&te<J.y+20&&te+ae>J.y){x.coins_collected++,x.score+=50*x.combo_multiplier;for(let se=0;se<6;se++)x.particles.push({x:J.x+10,y:J.y+10,size:3,color:\"#FFD700\",alpha:1,vy:(Math.random()-.5)*3,life:30});x.coins.splice(fe,1)}else g(O,J.x,J.y)}),x.particles.forEach((J,fe)=>{J.life--,J.alpha=J.life/40,J.y-=J.vy,J.life<=0?x.particles.splice(fe,1):A(O,J)}),Math.random()<.006&&x.obstacles.push({x:$.width,y:420,width:30,height:30,color:[\"#FF0000\",\"#00FF00\",\"#0000FF\"][Math.floor(Math.random()*3)],type:\"normal\",passed:!1}),x.score+=1,f(x.score),O.save(),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,5,150,35),O.strokeStyle=\"#FFD700\",O.lineWidth=2,O.strokeRect(10,5,150,35),O.fillStyle=\"#FFD700\",O.font=\"bold 18px Arial\",O.fillText(`âš¡ Score: ${x.score}`,15,26),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,45,150,35),O.strokeStyle=\"#FFA500\",O.lineWidth=2,O.strokeRect(10,45,150,35),O.fillStyle=\"#FFA500\",O.font=\"bold 18px Arial\",O.fillText(`ðŸ’° Coins: ${x.coins_collected}`,15,66),O.restore(),x.combo>0&&(O.save(),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,85,180,35),O.strokeStyle=x.combo_multiplier>1?\"#FFD700\":\"#32CD32\",O.lineWidth=2,O.strokeRect(10,85,180,35),O.fillStyle=x.combo_multiplier>1?\"#FFD700\":\"#32CD32\",O.font=\"bold 18px Arial\",O.fillText(`ðŸ”¥ Combo: ${x.combo} (${x.combo_multiplier}x)`,15,106),O.restore());let ee=125;x.effects.speedBoost>0&&(O.save(),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,ee,160,25),O.strokeStyle=\"#FFD700\",O.lineWidth=2,O.strokeRect(10,ee,160,25),O.fillStyle=\"#FFD700\",O.font=\"bold 16px Arial\",O.fillText(`âš¡ Speed: ${Math.ceil(x.effects.speedBoost/60)}s`,15,ee+18),O.restore(),ee+=30),x.effects.invincibility>0&&(O.save(),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,ee,160,25),O.strokeStyle=\"#4169E1\",O.lineWidth=2,O.strokeRect(10,ee,160,25),O.fillStyle=\"#4169E1\",O.font=\"bold 16px Arial\",O.fillText(`ðŸ›¡ï¸ Shield: ${Math.ceil(x.effects.invincibility/60)}s`,15,ee+18),O.restore(),ee+=30),x.effects.coinMagnet>0&&(O.save(),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,ee,160,25),O.strokeStyle=\"#FF1493\",O.lineWidth=2,O.strokeRect(10,ee,160,25),O.fillStyle=\"#FF1493\",O.font=\"bold 16px Arial\",O.fillText(`ðŸ§² Magnet: ${Math.ceil(x.effects.coinMagnet/60)}s`,15,ee+18),O.restore(),ee+=30),x.effects.doubleJump&&(O.save(),O.fillStyle=\"rgba(0, 0, 0, 0.7)\",O.fillRect(10,ee,160,25),O.strokeStyle=\"#32CD32\",O.lineWidth=2,O.strokeRect(10,ee,160,25),O.fillStyle=\"#32CD32\",O.font=\"bold 16px Arial\",O.fillText(\"â†‘â†‘ Double Jump\",15,ee+18),O.restore()),O.fillStyle=\"#FFFFFF\",O.font=\"14px Arial\",d?O.fillText(\"Use touch controls: â† â†’ to move, â†‘ to jump, â†“ to slide\",10,$.height-10):O.fillText(\"WASD/Arrows to move, W/Space to jump, S to slide\",10,$.height-10),n.current=requestAnimationFrame(F)},ie=()=>{s(!1);const x=Math.max(r.highScore,V.current.score),X={score:V.current.score,highScore:x,gamesPlayed:r.gamesPlayed+1};i(X),localStorage.setItem(\"capirush-stats\",JSON.stringify(X)),window.removeEventListener(\"keydown\",k),window.removeEventListener(\"keyup\",m)};return F(),()=>{window.removeEventListener(\"keydown\",k),window.removeEventListener(\"keyup\",m),n.current&&cancelAnimationFrame(n.current)}},[o,a,r]),_.useEffect(()=>{if(o){if(M.jump){if(V.current.player.onGround)V.current.player.vy=-12,V.current.player.onGround=!1,V.current.player.doubleJumpAvailable=V.current.effects.doubleJump;else if(V.current.player.doubleJumpAvailable){V.current.player.vy=-10,V.current.player.doubleJumpAvailable=!1;for(let $=0;$<5;$++)V.current.particles.push({x:V.current.player.x+Math.random()*40,y:V.current.player.y+30,size:3,color:\"#32CD32\",alpha:1,vy:Math.random()*3+1,life:30})}N($=>({...$,jump:!1}))}M.slide?V.current.player.isSliding=!0:V.current.player.isSliding=!1}},[M,o]);const W=()=>{V.current={player:{x:100,y:420,width:40,height:30,vy:0,onGround:!0,speed:5,doubleJumpAvailable:!1,isSliding:!1},obstacles:[{x:600,y:420,width:30,height:30,color:\"#FF0000\",type:\"spike\",passed:!1},{x:800,y:420,width:30,height:30,color:\"#00FF00\",type:\"energy\",passed:!1}],powerUps:[],coins:[],score:0,coins_collected:0,combo:0,combo_multiplier:1,keys:{},effects:{speedBoost:0,invincibility:0,coinMagnet:0,doubleJump:!1,shield:0,coinMultiplier:{active:!1,multiplier:1,duration:0},slowMotion:0,dash:0,tripleJump:0},particles:[],gameSpeed:1,difficultyLevel:1,weatherEffects:[],screenShake:{intensity:0,duration:0},capybaraTrail:[],miniBoss:null,dailyChallenge:{type:\"score\",target:500,progress:0,completed:!1}},f(0),s(!0),l(!1)},K=()=>{l($=>!$)},Y=()=>{n.current&&cancelAnimationFrame(n.current),s(!1),l(!1),f(0)};return v.jsxs(\"div\",{className:\"min-h-screen p-4 relative overflow-hidden\",children:[v.jsx(\"div\",{className:\"absolute inset-0 bg-cover bg-center bg-no-repeat\",style:{backgroundImage:\"url(/images/AAA_capybara_wetland_background_ab88ce49.png)\",filter:\"brightness(0.8) contrast(1.1)\"}}),v.jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-black/20\"}),v.jsx(\"div\",{className:\"absolute inset-0 opacity-15 mix-blend-screen\",style:{backgroundImage:\"url(/images/AAA_magical_barrier_UI_b6d0d11f.png)\",backgroundSize:\"cover\",backgroundPosition:\"center\",animation:\"pulse 4s infinite ease-in-out\"}}),v.jsxs(\"div\",{className:\"relative z-10 max-w-6xl mx-auto mb-6\",children:[v.jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[v.jsxs(\"div\",{className:\"flex items-center gap-4\",children:[e&&v.jsxs(_e,{onClick:e,variant:\"outline\",size:\"sm\",className:\"bg-white/10 border-white/30\",children:[v.jsx(w0,{className:\"w-4 h-4 mr-2\"}),\"Back to Menu\"]}),v.jsxs(\"h1\",{className:\"text-3xl font-bold text-white flex items-center gap-2\",children:[\"ðŸ¹ \",v.jsx(\"span\",{children:\"CAPYBARA COIN\"})]})]}),v.jsxs(\"div\",{className:\"flex gap-2\",children:[o&&v.jsxs(_e,{onClick:K,variant:\"secondary\",size:\"sm\",children:[a?v.jsx(dM,{className:\"w-4 h-4 mr-1\"}):v.jsx(fM,{className:\"w-4 h-4 mr-1\"}),a?\"Resume\":\"Pause\"]}),v.jsxs(_e,{onClick:Y,variant:\"destructive\",size:\"sm\",children:[v.jsx(hM,{className:\"w-4 h-4 mr-1\"}),\"Reset\"]})]})]}),v.jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-6\",children:[v.jsx(Fe,{className:\"p-4 bg-white/10 backdrop-blur-sm border-white/20\",children:v.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[v.jsx(Zu,{className:\"w-5 h-5 text-yellow-400\"}),v.jsxs(\"div\",{children:[v.jsx(\"p\",{className:\"text-sm text-white/70\",children:\"Current Score\"}),v.jsx(\"p\",{className:\"text-xl font-bold text-white\",children:u})]})]})}),v.jsx(Fe,{className:\"p-4 bg-white/10 backdrop-blur-sm border-white/20\",children:v.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[v.jsx(Ko,{className:\"w-5 h-5 text-amber-400\"}),v.jsxs(\"div\",{children:[v.jsx(\"p\",{className:\"text-sm text-white/70\",children:\"High Score\"}),v.jsx(\"p\",{className:\"text-xl font-bold text-white\",children:r.highScore})]})]})}),v.jsx(Fe,{className:\"p-4 bg-white/10 backdrop-blur-sm border-white/20\",children:v.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[v.jsx(oM,{className:\"w-5 h-5 text-red-400\"}),v.jsxs(\"div\",{children:[v.jsx(\"p\",{className:\"text-sm text-white/70\",children:\"Games Played\"}),v.jsx(\"p\",{className:\"text-xl font-bold text-white\",children:r.gamesPlayed})]})]})})]})]}),v.jsxs(\"div\",{className:\"relative z-10 max-w-6xl mx-auto flex flex-col items-center\",children:[v.jsx(\"div\",{className:\"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/30\",children:o?v.jsxs(\"div\",{className:\"relative\",children:[a&&v.jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center bg-black/70 z-10 rounded-lg\",children:v.jsxs(\"div\",{className:\"text-white text-center\",children:[v.jsx(\"div\",{className:\"text-6xl mb-4\",children:\"â¸ï¸\"}),v.jsx(\"p\",{className:\"text-2xl\",children:\"Game Paused\"}),v.jsx(\"p\",{className:\"text-sm mt-2\",children:\"Press Resume to continue\"})]})}),v.jsxs(\"div\",{className:\"relative\",children:[v.jsx(\"canvas\",{ref:t,className:\"border-2 border-teal-400/50 rounded-lg\",style:{width:d?\"100%\":\"800px\",height:d?\"300px\":\"500px\",maxWidth:\"800px\",background:\"#000\",touchAction:\"none\"}}),d&&v.jsxs(\"div\",{className:\"absolute -bottom-20 left-1/2 transform -translate-x-1/2 flex justify-center items-center gap-2 z-20\",children:[v.jsxs(\"div\",{className:\"flex gap-3\",children:[v.jsx(_e,{\"data-testid\":\"button-move-left\",className:\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 border border-white/40 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all\",onTouchStart:$=>{$.preventDefault(),N(O=>({...O,left:!0}))},onTouchEnd:$=>{$.preventDefault(),N(O=>({...O,left:!1}))},onMouseDown:()=>N($=>({...$,left:!0})),onMouseUp:()=>N($=>({...$,left:!1})),onMouseLeave:()=>N($=>({...$,left:!1})),children:\"â†\"}),v.jsx(_e,{\"data-testid\":\"button-move-right\",className:\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 border border-white/40 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all\",onTouchStart:$=>{$.preventDefault(),N(O=>({...O,right:!0}))},onTouchEnd:$=>{$.preventDefault(),N(O=>({...O,right:!1}))},onMouseDown:()=>N($=>({...$,right:!0})),onMouseUp:()=>N($=>({...$,right:!1})),onMouseLeave:()=>N($=>({...$,right:!1})),children:\"â†’\"})]}),v.jsxs(\"div\",{className:\"flex gap-3\",children:[v.jsx(_e,{\"data-testid\":\"button-slide\",className:\"w-12 h-12 rounded-full bg-red-500/60 hover:bg-red-500/80 border border-red-400/60 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all ml-4\",onTouchStart:$=>{$.preventDefault(),N(O=>({...O,slide:!0}))},onTouchEnd:$=>{$.preventDefault(),N(O=>({...O,slide:!1}))},onMouseDown:()=>N($=>({...$,slide:!0})),onMouseUp:()=>N($=>({...$,slide:!1})),onMouseLeave:()=>N($=>({...$,slide:!1})),children:\"â†“\"}),v.jsx(_e,{\"data-testid\":\"button-jump\",className:\"w-12 h-12 rounded-full bg-green-500/60 hover:bg-green-500/80 border border-green-400/60 backdrop-blur-sm text-white text-lg shadow-lg active:scale-95 transition-all\",onTouchStart:$=>{$.preventDefault(),N(O=>({...O,jump:!0}))},onTouchEnd:$=>{$.preventDefault()},onMouseDown:()=>N($=>({...$,jump:!0})),onMouseUp:()=>{},children:\"â†‘\"})]})]})]})]}):v.jsxs(\"div\",{className:\"text-center\",children:[v.jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Ready for the Adventure?\"}),v.jsx(\"p\",{className:\"text-white/80 mb-6\",children:\"Guide the capybara through mystical landscapes! Collect coins and power-ups to earn rewards!\"}),v.jsx(_e,{onClick:W,size:\"lg\",className:\"bg-teal-600 hover:bg-teal-700\",children:\"Play Now\"})]})}),v.jsxs(\"div\",{className:\"mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/30\",children:[v.jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-2\",children:\"How to Play:\"}),v.jsx(\"div\",{className:\"text-white/80 space-y-1\",children:d?v.jsxs(v.Fragment,{children:[v.jsx(\"p\",{children:\"â€¢ Use touch controls: â† â†’ for movement, â†‘ to jump, â†“ to slide\"}),v.jsx(\"p\",{children:\"â€¢ Perfect for Telegram bot web app gameplay!\"}),v.jsx(\"p\",{children:\"â€¢ Dodge obstacles and collect coins for rewards\"}),v.jsx(\"p\",{children:\"â€¢ Score points by surviving as long as possible!\"})]}):v.jsxs(v.Fragment,{children:[v.jsxs(\"p\",{children:[\"â€¢ Use \",v.jsx(\"kbd\",{className:\"bg-white/20 px-2 py-1 rounded\",children:\"WASD\"}),\" or \",v.jsx(\"kbd\",{className:\"bg-white/20 px-2 py-1 rounded\",children:\"Arrow Keys\"}),\" to move\"]}),v.jsxs(\"p\",{children:[\"â€¢ Press \",v.jsx(\"kbd\",{className:\"bg-white/20 px-2 py-1 rounded\",children:\"W\"}),\" or \",v.jsx(\"kbd\",{className:\"bg-white/20 px-2 py-1 rounded\",children:\"Space\"}),\" to jump\"]}),v.jsxs(\"p\",{children:[\"â€¢ Press \",v.jsx(\"kbd\",{className:\"bg-white/20 px-2 py-1 rounded\",children:\"S\"}),\" to slide under obstacles\"]}),v.jsx(\"p\",{children:\"â€¢ Dodge obstacles and score points by surviving!\"})]})})]})]})]})};function xM(e){if(typeof Proxy>\"u\")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i===\"create\"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function Yu(e){return e!==null&&typeof e==\"object\"&&typeof e.start==\"function\"}const Hd=e=>Array.isArray(e);function Lw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ga(e){return typeof e==\"string\"||Array.isArray(e)}function cg(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function x0(e,t,n,r){if(typeof t==\"function\"){const[i,o]=cg(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t==\"string\"&&(t=e.variants&&e.variants[t]),typeof t==\"function\"){const[i,o]=cg(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function Xu(e,t,n){const r=e.getProps();return x0(r,t,n!==void 0?n:r.custom,e)}const b0=[\"animate\",\"whileInView\",\"whileFocus\",\"whileHover\",\"whileTap\",\"whileDrag\",\"exit\"],S0=[\"initial\",...b0],ka=[\"transformPerspective\",\"x\",\"y\",\"z\",\"translateX\",\"translateY\",\"translateZ\",\"scale\",\"scaleX\",\"scaleY\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"skew\",\"skewX\",\"skewY\"],no=new Set(ka),Nr=e=>e*1e3,Rr=e=>e/1e3,bM={type:\"spring\",stiffness:500,damping:25,restSpeed:10},SM=e=>({type:\"spring\",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EM={type:\"keyframes\",duration:.8},CM={type:\"keyframes\",ease:[.25,.1,.35,1],duration:.3},AM=(e,{keyframes:t})=>t.length>2?EM:no.has(e)?e.startsWith(\"scale\")?SM(t[1]):bM:CM;function E0(e,t){return e?e[t]||e.default||e:void 0}const MM={skipAnimations:!1,useManualTiming:!1},kM=e=>e!==null;function Qu(e,{repeat:t,repeatType:n=\"loop\"},r){const i=e.filter(kM),o=t&&n!==\"loop\"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const en=e=>e;let Gd=en;function TM(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(l.schedule(u),e()),u(s)}const l={schedule:(u,f=!1,d=!1)=>{const b=d&&r?t:n;return f&&o.add(u),b.has(u)||b.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const nl=[\"read\",\"resolveKeyframes\",\"update\",\"preRender\",\"render\",\"postRender\"],PM=40;function Ow(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=nl.reduce((w,E)=>(w[E]=TM(o),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:f,render:d,postRender:h}=s,b=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,PM),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),f.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(b))},S=()=>{n=!0,r=!0,i.isProcessing||e(b)};return{schedule:nl.reduce((w,E)=>{const C=s[E];return w[E]=(L,U=!1,H=!1)=>(n||S(),C.schedule(L,U,H)),w},{}),cancel:w=>{for(let E=0;E<nl.length;E++)s[nl[E]].cancel(w)},state:i,steps:s}}const{schedule:Ie,cancel:vi,state:Dt,steps:uf}=Ow(typeof requestAnimationFrame<\"u\"?requestAnimationFrame:en,!0),Uw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,BM=1e-7,NM=12;function RM(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Uw(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>BM&&++a<NM);return s}function Ta(e,t,n,r){if(e===t&&n===r)return en;const i=o=>RM(o,0,1,e,n);return o=>o===0||o===1?o:Uw(i(o),t,r)}const Vw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zw=e=>t=>1-e(1-t),$w=Ta(.33,1.53,.69,.99),C0=zw($w),Ww=Vw(C0),Hw=e=>(e*=2)<1?.5*C0(e):.5*(2-Math.pow(2,-10*(e-1))),A0=e=>1-Math.sin(Math.acos(e)),Gw=zw(A0),Kw=Vw(A0),qw=e=>/^0[^.\\s]+$/u.test(e);function _M(e){return typeof e==\"number\"?e===0:e!==null?e===\"none\"||e===\"0\"||qw(e):!0}const Zw=e=>/^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(e),Yw=e=>t=>typeof t==\"string\"&&t.startsWith(e),Xw=Yw(\"--\"),IM=Yw(\"var(--\"),M0=e=>IM(e)?jM.test(e.split(\"/*\")[0].trim()):!1,jM=/var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu,FM=/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;function DM(e){const t=FM.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Qw(e,t,n=1){const[r,i]=DM(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return Zw(s)?parseFloat(s):s}return M0(i)?Qw(i,t,n+1):i}const Dr=(e,t,n)=>n>t?t:n<e?e:n,ys={test:e=>typeof e==\"number\",parse:parseFloat,transform:e=>e},ya={...ys,transform:e=>Dr(0,1,e)},rl={...ys,default:1},Pa=e=>({test:t=>typeof t==\"string\"&&t.endsWith(e)&&t.split(\" \").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kr=Pa(\"deg\"),dr=Pa(\"%\"),ye=Pa(\"px\"),LM=Pa(\"vh\"),OM=Pa(\"vw\"),fg={...dr,parse:e=>dr.parse(e)/100,transform:e=>dr.transform(e*100)},UM=new Set([\"width\",\"height\",\"top\",\"left\",\"right\",\"bottom\",\"x\",\"y\",\"translateX\",\"translateY\"]),dg=e=>e===ys||e===ye,hg=(e,t)=>parseFloat(e.split(\", \")[t]),pg=(e,t)=>(n,{transform:r})=>{if(r===\"none\"||!r)return 0;const i=r.match(/^matrix3d\\((.+)\\)$/u);if(i)return hg(i[1],t);{const o=r.match(/^matrix\\((.+)\\)$/u);return o?hg(o[1],e):0}},VM=new Set([\"x\",\"y\",\"z\"]),zM=ka.filter(e=>!VM.has(e));function $M(e){const t=[];return zM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(\"scale\")?1:0))}),t}const os={width:({x:e},{paddingLeft:t=\"0\",paddingRight:n=\"0\"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=\"0\",paddingBottom:n=\"0\"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:pg(4,13),y:pg(5,14)};os.translateX=os.x;os.translateY=os.y;const Jw=e=>t=>t.test(e),WM={test:e=>e===\"auto\",parse:e=>e},ex=[ys,ye,dr,Kr,OM,LM,WM],mg=e=>ex.find(Jw(e)),Wi=new Set;let Kd=!1,qd=!1;function tx(){if(qd){const e=Array.from(Wi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=$M(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qd=!1,Kd=!1,Wi.forEach(e=>e.complete()),Wi.clear()}function nx(){Wi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qd=!0)})}function HM(){nx(),tx()}class k0{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wi.add(this),Kd||(Kd=!0,Ie.read(nx),Ie.resolveKeyframes(tx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zs=e=>Math.round(e*1e5)/1e5,T0=/-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;function GM(e){return e==null}const KM=/^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu,P0=(e,t)=>n=>!!(typeof n==\"string\"&&KM.test(n)&&n.startsWith(e)||t&&!GM(n)&&Object.prototype.hasOwnProperty.call(n,t)),rx=(e,t,n)=>r=>{if(typeof r!=\"string\")return r;const[i,o,s,a]=r.match(T0);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},qM=e=>Dr(0,255,e),cf={...ys,transform:e=>Math.round(qM(e))},Di={test:P0(\"rgb\",\"red\"),parse:rx(\"red\",\"green\",\"blue\"),transform:({red:e,green:t,blue:n,alpha:r=1})=>\"rgba(\"+cf.transform(e)+\", \"+cf.transform(t)+\", \"+cf.transform(n)+\", \"+Zs(ya.transform(r))+\")\"};function ZM(e){let t=\"\",n=\"\",r=\"\",i=\"\";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Zd={test:P0(\"#\"),parse:ZM,transform:Di.transform},Ro={test:P0(\"hsl\",\"hue\"),parse:rx(\"hue\",\"saturation\",\"lightness\"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>\"hsla(\"+Math.round(e)+\", \"+dr.transform(Zs(t))+\", \"+dr.transform(Zs(n))+\", \"+Zs(ya.transform(r))+\")\"},Xt={test:e=>Di.test(e)||Zd.test(e)||Ro.test(e),parse:e=>Di.test(e)?Di.parse(e):Ro.test(e)?Ro.parse(e):Zd.parse(e),transform:e=>typeof e==\"string\"?e:e.hasOwnProperty(\"red\")?Di.transform(e):Ro.transform(e)},YM=/(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;function XM(e){var t,n;return isNaN(e)&&typeof e==\"string\"&&(((t=e.match(T0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(YM))===null||n===void 0?void 0:n.length)||0)>0}const ix=\"number\",ox=\"color\",QM=\"var\",JM=\"var(\",gg=\"${}\",e4=/var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;function va(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(e4,l=>(Xt.test(l)?(r.color.push(o),i.push(ox),n.push(Xt.parse(l))):l.startsWith(JM)?(r.var.push(o),i.push(QM),n.push(l)):(r.number.push(o),i.push(ix),n.push(parseFloat(l))),++o,gg)).split(gg);return{values:n,split:a,indexes:r,types:i}}function sx(e){return va(e).values}function ax(e){const{split:t,types:n}=va(e),r=t.length;return i=>{let o=\"\";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===ix?o+=Zs(i[s]):a===ox?o+=Xt.transform(i[s]):o+=i[s]}return o}}const t4=e=>typeof e==\"number\"?0:e;function n4(e){const t=sx(e);return ax(e)(t.map(t4))}const wi={test:XM,parse:sx,createTransformer:ax,getAnimatableNone:n4},r4=new Set([\"brightness\",\"contrast\",\"saturate\",\"opacity\"]);function i4(e){const[t,n]=e.slice(0,-1).split(\"(\");if(t===\"drop-shadow\")return e;const[r]=n.match(T0)||[];if(!r)return e;const i=n.replace(r,\"\");let o=r4.has(t)?1:0;return r!==n&&(o*=100),t+\"(\"+o+i+\")\"}const o4=/\\b([a-z-]*)\\(.*?\\)/gu,Yd={...wi,getAnimatableNone:e=>{const t=e.match(o4);return t?t.map(i4).join(\" \"):e}},s4={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},a4={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:rl,scaleX:rl,scaleY:rl,scaleZ:rl,skew:Kr,skewX:Kr,skewY:Kr,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:ya,originX:fg,originY:fg,originZ:ye},yg={...ys,transform:Math.round},B0={...s4,...a4,zIndex:yg,size:ye,fillOpacity:ya,strokeOpacity:ya,numOctaves:yg},l4={...B0,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:Yd,WebkitFilter:Yd},N0=e=>l4[e];function lx(e,t){let n=N0(e);return n!==Yd&&(n=wi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const u4=new Set([\"auto\",\"none\",\"0\"]);function c4(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o==\"string\"&&!u4.has(o)&&va(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=lx(n,i)}class ux extends k0{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u==\"string\"&&(u=u.trim(),M0(u))){const f=Qw(u,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!UM.has(r)||t.length!==2)return;const[i,o]=t,s=mg(i),a=mg(o);if(s!==a)if(dg(s)&&dg(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u==\"string\"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)_M(t[i])&&r.push(i);r.length&&c4(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r===\"height\"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=os[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=os[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function R0(e){return typeof e==\"function\"}let Bl;function f4(){Bl=void 0}const hr={now:()=>(Bl===void 0&&hr.set(Dt.isProcessing||MM.useManualTiming?Dt.timestamp:performance.now()),Bl),set:e=>{Bl=e,queueMicrotask(f4)}},vg=(e,t)=>t===\"zIndex\"?!1:!!(typeof e==\"number\"||Array.isArray(e)||typeof e==\"string\"&&(wi.test(e)||e===\"0\")&&!e.startsWith(\"url(\"));function d4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function h4(e,t,n,r){const i=e[0];if(i===null)return!1;if(t===\"display\"||t===\"visibility\")return!0;const o=e[e.length-1],s=vg(i,t),a=vg(o,t);return!s||!a?!1:d4(e)||(n===\"spring\"||R0(n))&&r}const p4=40;class cx{constructor({autoplay:t=!0,delay:n=0,type:r=\"keyframes\",repeat:i=0,repeatDelay:o=0,repeatType:s=\"loop\",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hr.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>p4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HM(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=hr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!h4(t,r,i,o))if(s)this.options.duration=0;else{l==null||l(Qu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type=\"keyframes\",this.options.ease=\"linear\"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ss=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},fx=(e,t,n=10)=>{let r=\"\";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(ss(0,i-1,o))+\", \";return`linear(${r.substring(0,r.length-2)})`};function dx(e,t){return t?e*(1e3/t):0}const m4=5;function hx(e,t,n){const r=Math.max(t-m4,0);return dx(n-e(r),t-r)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ff=.001;function g4({duration:e=nt.duration,bounce:t=nt.bounce,velocity:n=nt.velocity,mass:r=nt.mass}){let i,o,s=1-t;s=Dr(nt.minDamping,nt.maxDamping,s),e=Dr(nt.minDuration,nt.maxDuration,Rr(e)),s<1?(i=u=>{const f=u*s,d=f*e,h=f-n,b=Xd(u,s),S=Math.exp(-d);return ff-h/b*S},o=u=>{const d=u*s*e,h=d*n+n,b=Math.pow(s,2)*Math.pow(u,2)*e,S=Math.exp(-d),M=Xd(Math.pow(u,2),s);return(-i(u)+ff>0?-1:1)*((h-b)*S)/M}):(i=u=>{const f=Math.exp(-u*e),d=(u-n)*e+1;return-ff+f*d},o=u=>{const f=Math.exp(-u*e),d=(n-u)*(e*e);return f*d});const a=5/e,l=v4(i,o,a);if(e=Nr(e),isNaN(l))return{stiffness:nt.stiffness,damping:nt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const y4=12;function v4(e,t,n){let r=n;for(let i=1;i<y4;i++)r=r-e(r)/t(r);return r}function Xd(e,t){return e*Math.sqrt(1-t*t)}const Qd=2e4;function px(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Qd;)t+=n,r=e.next(t);return t>=Qd?1/0:t}const w4=[\"duration\",\"bounce\"],x4=[\"stiffness\",\"damping\",\"mass\"];function wg(e,t){return t.some(n=>e[n]!==void 0)}function b4(e){let t={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...e};if(!wg(e,x4)&&wg(e,w4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Dr(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:nt.mass,stiffness:i,damping:o}}else{const n=g4(e);t={...t,...n,mass:nt.mass},t.isResolvedFromDuration=!0}return t}function mx(e=nt.visualDuration,t=nt.bounce){const n=typeof e!=\"object\"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:f,duration:d,velocity:h,isResolvedFromDuration:b}=b4({...n,velocity:-Rr(n.velocity||0)}),S=h||0,M=u/(2*Math.sqrt(l*f)),N=s-o,w=Rr(Math.sqrt(l/f)),E=Math.abs(N)<5;r||(r=E?nt.restSpeed.granular:nt.restSpeed.default),i||(i=E?nt.restDelta.granular:nt.restDelta.default);let C;if(M<1){const U=Xd(w,M);C=H=>{const V=Math.exp(-M*w*H);return s-V*((S+M*w*N)/U*Math.sin(U*H)+N*Math.cos(U*H))}}else if(M===1)C=U=>s-Math.exp(-w*U)*(N+(S+w*N)*U);else{const U=w*Math.sqrt(M*M-1);C=H=>{const V=Math.exp(-M*w*H),W=Math.min(U*H,300);return s-V*((S+M*w*N)*Math.sinh(W)+U*N*Math.cosh(W))/U}}const L={calculatedDuration:b&&d||null,next:U=>{const H=C(U);if(b)a.done=U>=d;else{let V=0;M<1&&(V=U===0?Nr(S):hx(C,U,H));const W=Math.abs(V)<=r,K=Math.abs(s-H)<=i;a.done=W&&K}return a.value=a.done?s:H,a},toString:()=>{const U=Math.min(px(L),Qd),H=fx(V=>L.next(U*V).value,U,30);return U+\"ms \"+H}};return L}function xg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=e[0],h={done:!1,value:d},b=W=>a!==void 0&&W<a||l!==void 0&&W>l,S=W=>a===void 0?l:l===void 0||Math.abs(a-W)<Math.abs(l-W)?a:l;let M=n*t;const N=d+M,w=s===void 0?N:s(N);w!==N&&(M=w-d);const E=W=>-M*Math.exp(-W/r),C=W=>w+E(W),L=W=>{const K=E(W),Y=C(W);h.done=Math.abs(K)<=u,h.value=h.done?w:Y};let U,H;const V=W=>{b(h.value)&&(U=W,H=mx({keyframes:[h.value,S(h.value)],velocity:hx(C,W,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:f}))};return V(0),{calculatedDuration:null,next:W=>{let K=!1;return!H&&U===void 0&&(K=!0,L(W),V(W)),U!==void 0&&W>=U?H.next(W-U):(!K&&L(W),h)}}}const S4=Ta(.42,0,1,1),E4=Ta(0,0,.58,1),gx=Ta(.42,0,.58,1),C4=e=>Array.isArray(e)&&typeof e[0]!=\"number\",_0=e=>Array.isArray(e)&&typeof e[0]==\"number\",bg={linear:en,easeIn:S4,easeInOut:gx,easeOut:E4,circIn:A0,circInOut:Kw,circOut:Gw,backIn:C0,backInOut:Ww,backOut:$w,anticipate:Hw},Sg=e=>{if(_0(e)){Gd(e.length===4);const[t,n,r,i]=e;return Ta(t,n,r,i)}else if(typeof e==\"string\")return Gd(bg[e]!==void 0),bg[e];return e},A4=(e,t)=>n=>t(e(n)),pi=(...e)=>e.reduce(A4),Ye=(e,t,n)=>e+(t-e)*n;function df(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function M4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=df(l,a,e+1/3),o=df(l,a,e),s=df(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function lu(e,t){return n=>n>0?t:e}const hf=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},k4=[Zd,Di,Ro],T4=e=>k4.find(t=>t.test(e));function Eg(e){const t=T4(e);if(!t)return!1;let n=t.parse(e);return t===Ro&&(n=M4(n)),n}const Cg=(e,t)=>{const n=Eg(e),r=Eg(t);if(!n||!r)return lu(e,t);const i={...n};return o=>(i.red=hf(n.red,r.red,o),i.green=hf(n.green,r.green,o),i.blue=hf(n.blue,r.blue,o),i.alpha=Ye(n.alpha,r.alpha,o),Di.transform(i))},Jd=new Set([\"none\",\"hidden\"]);function P4(e,t){return Jd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function B4(e,t){return n=>Ye(e,t,n)}function I0(e){return typeof e==\"number\"?B4:typeof e==\"string\"?M0(e)?lu:Xt.test(e)?Cg:_4:Array.isArray(e)?yx:typeof e==\"object\"?Xt.test(e)?Cg:N4:lu}function yx(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>I0(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function N4(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=I0(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function R4(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const _4=(e,t)=>{const n=wi.createTransformer(t),r=va(e),i=va(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jd.has(e)&&!i.values.length||Jd.has(t)&&!r.values.length?P4(e,t):pi(yx(R4(r,i),i.values),n):lu(e,t)};function vx(e,t,n){return typeof e==\"number\"&&typeof t==\"number\"&&typeof n==\"number\"?Ye(e,t,n):I0(e)(e,t)}function I4(e,t,n){const r=[],i=n||vx,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||en:t;a=pi(l,a)}r.push(a)}return r}function j4(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Gd(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=I4(t,r,i),a=s.length,l=u=>{let f=0;if(a>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=ss(e[f],e[f+1],u);return s[f](d)};return n?u=>l(Dr(e[0],e[o-1],u)):l}function F4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ss(0,t,r);e.push(Ye(n,1,i))}}function D4(e){const t=[0];return F4(t,e.length-1),t}function L4(e,t){return e.map(n=>n*t)}function O4(e,t){return e.map(()=>t||gx).splice(0,e.length-1)}function uu({duration:e=300,keyframes:t,times:n,ease:r=\"easeInOut\"}){const i=C4(r)?r.map(Sg):Sg(r),o={done:!1,value:t[0]},s=L4(n&&n.length===t.length?n:D4(t),e),a=j4(s,t,{ease:Array.isArray(i)?i:O4(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const U4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ie.update(t,!0),stop:()=>vi(t),now:()=>Dt.isProcessing?Dt.timestamp:hr.now()}},V4={decay:xg,inertia:xg,tween:uu,keyframes:uu,spring:mx},z4=e=>e/100;class j0 extends cx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState=\"running\",this.startTime=null,this.state=\"idle\",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state===\"idle\")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||k0,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n=\"keyframes\",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=R0(n)?n:V4[n]||uu;let l,u;a!==uu&&typeof t[0]!=\"number\"&&(l=pi(z4,vx(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});o===\"mirror\"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=px(f));const{calculatedDuration:d}=f,h=d+i,b=h*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState===\"paused\"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:W}=this.options;return{done:!0,value:W[W.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:d}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:b,repeatType:S,repeatDelay:M,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),E=this.speed>=0?w<0:w>f;this.currentTime=Math.max(w,0),this.state===\"finished\"&&this.holdTime===null&&(this.currentTime=f);let C=this.currentTime,L=o;if(b){const W=Math.min(this.currentTime,f)/d;let K=Math.floor(W),Y=W%1;!Y&&W>=1&&(Y=1),Y===1&&K--,K=Math.min(K,b+1),!!(K%2)&&(S===\"reverse\"?(Y=1-Y,M&&(Y-=M/d)):S===\"mirror\"&&(L=s)),C=Dr(0,1,Y)*d}const U=E?{done:!1,value:l[0]}:L.next(C);a&&(U.value=a(U.value));let{done:H}=U;!E&&u!==null&&(H=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const V=this.holdTime===null&&(this.state===\"finished\"||this.state===\"running\"&&H);return V&&i!==void 0&&(U.value=Qu(l,this.options,i)),N&&N(U.value),V&&this.finish(),U}get duration(){const{resolved:t}=this;return t?Rr(t.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(t){t=Nr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState=\"running\";return}if(this.isStopped)return;const{driver:t=U4,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state===\"finished\"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state===\"finished\"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state=\"running\",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState=\"paused\";return}this.state=\"paused\",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!==\"running\"&&this.play(),this.pendingPlayState=this.state=\"finished\",this.holdTime=null}finish(){this.teardown(),this.state=\"finished\";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state=\"idle\",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const $4=new Set([\"opacity\",\"clipPath\",\"filter\",\"transform\"]);function F0(e){let t;return()=>(t===void 0&&(t=e()),t)}const W4={linearEasing:void 0};function H4(e,t){const n=F0(e);return()=>{var r;return(r=W4[t])!==null&&r!==void 0?r:n()}}const cu=H4(()=>{try{document.createElement(\"div\").animate({opacity:0},{easing:\"linear(0, 1)\"})}catch{return!1}return!0},\"linearEasing\");function wx(e){return!!(typeof e==\"function\"&&cu()||!e||typeof e==\"string\"&&(e in eh||cu())||_0(e)||Array.isArray(e)&&e.every(wx))}const Ls=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,eh={linear:\"linear\",ease:\"ease\",easeIn:\"ease-in\",easeOut:\"ease-out\",easeInOut:\"ease-in-out\",circIn:Ls([0,.65,.55,1]),circOut:Ls([.55,0,1,.45]),backIn:Ls([.31,.01,.66,-.59]),backOut:Ls([.33,1.53,.69,.99])};function xx(e,t){if(e)return typeof e==\"function\"&&cu()?fx(e,t):_0(e)?Ls(e):Array.isArray(e)?e.map(n=>xx(n,t)||eh.easeOut):eh[e]}function G4(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s=\"loop\",ease:a=\"easeInOut\",times:l}={}){const u={[t]:n};l&&(u.offset=l);const f=xx(a,i);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?\"linear\":f,fill:\"both\",iterations:o+1,direction:s===\"reverse\"?\"alternate\":\"normal\"})}function Ag(e,t){e.timeline=t,e.onfinish=null}const K4=F0(()=>Object.hasOwnProperty.call(Element.prototype,\"animate\")),fu=10,q4=2e4;function Z4(e){return R0(e.type)||e.type===\"spring\"||!wx(e.ease)}function Y4(e,t){const n=new j0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<q4;)r=n.sample(o),i.push(r.value),o+=fu;return{times:void 0,keyframes:i,duration:o-fu,ease:\"linear\"}}const bx={anticipate:Hw,backInOut:Ww,circInOut:Kw};function X4(e){return e in bx}class Mg extends cx{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new ux(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:o,ease:s,type:a,motionValue:l,name:u,startTime:f}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof s==\"string\"&&cu()&&X4(s)&&(s=bx[s]),Z4(this.options)){const{onComplete:h,onUpdate:b,motionValue:S,element:M,...N}=this.options,w=Y4(t,N);t=w.keyframes,t.length===1&&(t[1]=t[0]),i=w.duration,o=w.times,s=w.ease,a=\"keyframes\"}const d=G4(l.owner.current,u,t,{...this.options,duration:i,times:o,ease:s});return d.startTime=f??this.calcStartTime(),this.pendingTimeline?(Ag(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Qu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:o,type:a,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Rr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Rr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Nr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return\"idle\";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return en;const{animation:r}=n;Ag(r,t)}return en}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState===\"finished\"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state===\"idle\")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState===\"idle\"||n.playState===\"finished\")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:d,element:h,...b}=this.options,S=new j0({...b,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),M=Nr(this.time);u.setWithVelocity(S.sample(M-fu).value,S.sample(M).value,fu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;return K4()&&r&&$4.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!==\"mirror\"&&s!==0&&a!==\"inertia\"}}const Q4=F0(()=>window.ScrollTimeline!==void 0);class J4{constructor(t){this.stop=()=>this.runAll(\"stop\"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>Q4()&&i.attachTimeline?i.attachTimeline(t):n(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll(\"time\")}set time(t){this.setAll(\"time\",t)}get speed(){return this.getAll(\"speed\")}set speed(t){this.setAll(\"speed\",t)}get startTime(){return this.getAll(\"startTime\")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll(\"flatten\")}play(){this.runAll(\"play\")}pause(){this.runAll(\"pause\")}cancel(){this.runAll(\"cancel\")}complete(){this.runAll(\"complete\")}}function ek({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const D0=(e,t,n,r={},i,o)=>s=>{const a=E0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Nr(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:\"easeOut\",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};ek(a)||(f={...f,...AM(e,f)}),f.duration&&(f.duration=Nr(f.duration)),f.repeatDelay&&(f.repeatDelay=Nr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),d&&!o&&t.get()!==void 0){const h=Qu(f.keyframes,a);if(h!==void 0)return Ie.update(()=>{f.onUpdate(h),f.onComplete()}),new J4([])}return!o&&Mg.supports(f)?new Mg(f):new j0(f)},tk=e=>!!(e&&typeof e==\"object\"&&e.mix&&e.toValue),nk=e=>Hd(e)?e[e.length-1]||0:e;function L0(e,t){e.indexOf(t)===-1&&e.push(t)}function O0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class U0{constructor(){this.subscriptions=[]}add(t){return L0(this.subscriptions,t),()=>O0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kg=30,rk=e=>!isNaN(parseFloat(e));class ik{constructor(t,n={}){this.version=\"11.13.1\",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=hr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on(\"change\",t)}on(t,n){this.events[t]||(this.events[t]=new U0);const r=this.events[t].add(n);return t===\"change\"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kg);return dx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wa(e,t){return new ik(e,t)}function ok(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wa(n))}function sk(e,t){const n=Xu(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=nk(o[s]);ok(e,s,a)}}const V0=e=>e.replace(/([a-z])([A-Z])/gu,\"$1-$2\").toLowerCase(),ak=\"framerAppearId\",Sx=\"data-\"+V0(ak);function Ex(e){return e.props[Sx]}const Jt=e=>!!(e&&e.getVelocity);function lk(e){return!!(Jt(e)&&e.add)}function th(e,t){const n=e.getValue(\"willChange\");if(lk(n))return n.add(t)}function uk({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Cx(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const h=e.getValue(d,(o=e.latestValues[d])!==null&&o!==void 0?o:null),b=l[d];if(b===void 0||f&&uk(f,d))continue;const S={delay:n,...E0(s||{},d)};let M=!1;if(window.MotionHandoffAnimation){const w=Ex(e);if(w){const E=window.MotionHandoffAnimation(w,d,Ie);E!==null&&(S.startTime=E,M=!0)}}th(e,d),h.start(D0(d,h,b,e.shouldReduceMotion&&no.has(d)?{type:!1}:S,e,M));const N=h.animation;N&&u.push(N)}return a&&Promise.all(u).then(()=>{Ie.update(()=>{a&&sk(e,a)})}),u}function nh(e,t,n={}){var r;const i=Xu(e,t,n.type===\"exit\"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Cx(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:h}=o;return ck(e,t,f+u,d,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,f]=l===\"beforeChildren\"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function ck(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(fk).forEach((u,f)=>{u.notify(\"AnimationStart\",t),s.push(nh(u,t,{...o,delay:n+l(f)}).then(()=>u.notify(\"AnimationComplete\",t)))}),Promise.all(s)}function fk(e,t){return e.sortNodePosition(t)}function dk(e,t,n={}){e.notify(\"AnimationStart\",t);let r;if(Array.isArray(t)){const i=t.map(o=>nh(e,o,n));r=Promise.all(i)}else if(typeof t==\"string\")r=nh(e,t,n);else{const i=typeof t==\"function\"?Xu(e,t,n.custom):t;r=Promise.all(Cx(e,i,n))}return r.then(()=>{e.notify(\"AnimationComplete\",t)})}const hk=S0.length;function Ax(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ax(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hk;n++){const r=S0[n],i=e.props[r];(ga(i)||i===!1)&&(t[r]=i)}return t}const pk=[...b0].reverse(),mk=b0.length;function gk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>dk(e,n,r)))}function yk(e){let t=gk(e),n=Tg(),r=!0;const i=l=>(u,f)=>{var d;const h=Xu(e,f,l===\"exit\"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:b,transitionEnd:S,...M}=h;u={...u,...M,...S}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,f=Ax(e.parent)||{},d=[],h=new Set;let b={},S=1/0;for(let N=0;N<mk;N++){const w=pk[N],E=n[w],C=u[w]!==void 0?u[w]:f[w],L=ga(C),U=w===l?E.isActive:null;U===!1&&(S=N);let H=C===f[w]&&C!==u[w]&&L;if(H&&r&&e.manuallyAnimateOnMount&&(H=!1),E.protectedKeys={...b},!E.isActive&&U===null||!C&&!E.prevProp||Yu(C)||typeof C==\"boolean\")continue;const V=vk(E.prevProp,C);let W=V||w===l&&E.isActive&&!H&&L||N>S&&L,K=!1;const Y=Array.isArray(C)?C:[C];let $=Y.reduce(i(w),{});U===!1&&($={});const{prevResolvedValues:O={}}=E,P={...O,...$},c=R=>{W=!0,h.has(R)&&(K=!0,h.delete(R)),E.needsAnimating[R]=!0;const k=e.getValue(R);k&&(k.liveStyle=!1)};for(const R in P){const k=$[R],I=O[R];if(b.hasOwnProperty(R))continue;let D=!1;Hd(k)&&Hd(I)?D=!Lw(k,I):D=k!==I,D?k!=null?c(R):h.add(R):k!==void 0&&h.has(R)?c(R):E.protectedKeys[R]=!0}E.prevProp=C,E.prevResolvedValues=$,E.isActive&&(b={...b,...$}),r&&e.blockInitialAnimation&&(W=!1),W&&(!(H&&V)||K)&&d.push(...Y.map(R=>({animation:R,options:{type:w}})))}if(h.size){const N={};h.forEach(w=>{const E=e.getBaseTarget(w),C=e.getValue(w);C&&(C.liveStyle=!0),N[w]=E??null}),d.push({animation:N})}let M=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(M=!1),r=!1,M?t(d):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var b;return(b=h.animationState)===null||b===void 0?void 0:b.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Tg(),r=!0}}}function vk(e,t){return typeof t==\"string\"?t!==e:Array.isArray(t)?!Lw(t,e):!1}function Ai(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tg(){return{animate:Ai(!0),whileInView:Ai(),whileHover:Ai(),whileTap:Ai(),whileDrag:Ai(),whileFocus:Ai(),exit:Ai()}}class Ci{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wk extends Ci{constructor(t){super(t),t.animationState||(t.animationState=yk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let xk=0;class bk extends Ci{constructor(){super(...arguments),this.id=xk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive(\"exit\",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Sk={animation:{Feature:wk},exit:{Feature:bk}};function Ek(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e==\"string\"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const zn={x:!1,y:!1};function Mx(){return zn.x||zn.y}function Pg(e){return t=>{t.pointerType===\"touch\"||Mx()||e(t)}}function Ck(e,t,n={}){const r=new AbortController,i={passive:!0,...n,signal:r.signal},o=Pg(s=>{const{target:a}=s,l=t(s);if(!l||!a)return;const u=Pg(f=>{l(f),a.removeEventListener(\"pointerleave\",u)});a.addEventListener(\"pointerleave\",u,i)});return Ek(e).forEach(s=>{s.addEventListener(\"pointerenter\",o,i)}),()=>r.abort()}function Ak(e){return e===\"x\"||e===\"y\"?zn[e]?null:(zn[e]=!0,()=>{zn[e]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}const kx=e=>e.pointerType===\"mouse\"?typeof e.button!=\"number\"||e.button<=0:e.isPrimary!==!1;function Ba(e){return{point:{x:e.pageX,y:e.pageY}}}const Mk=e=>t=>kx(t)&&e(t,Ba(t));function Tr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function mi(e,t,n,r){return Tr(e,t,Mk(n),r)}const Bg=(e,t)=>Math.abs(e-t);function kk(e,t){const n=Bg(e.x,t.x),r=Bg(e.y,t.y);return Math.sqrt(n**2+r**2)}class Tx{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=mf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,b=kk(d.offset,{x:0,y:0})>=3;if(!h&&!b)return;const{point:S}=d,{timestamp:M}=Dt;this.history.push({...S,timestamp:M});const{onStart:N,onMove:w}=this.handlers;h||(N&&N(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=pf(h,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=mf(d.type===\"pointercancel\"?this.lastMoveEventInfo:pf(h,this.transformPagePoint),this.history);this.startEvent&&b&&b(d,N),S&&S(d,N)},!kx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Ba(t),a=pf(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Dt;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,mf(a,this.history)),this.removeListeners=pi(mi(this.contextWindow,\"pointermove\",this.handlePointerMove),mi(this.contextWindow,\"pointerup\",this.handlePointerUp),mi(this.contextWindow,\"pointercancel\",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vi(this.updatePoint)}}function pf(e,t){return t?{point:t(e.point)}:e}function Ng(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mf({point:e},t){return{point:e,delta:Ng(e,Px(t)),offset:Ng(e,Tk(t)),velocity:Pk(t,.1)}}function Tk(e){return e[0]}function Px(e){return e[e.length-1]}function Pk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Px(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Nr(t)));)n--;if(!r)return{x:0,y:0};const o=Rr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function _o(e){return e&&typeof e==\"object\"&&Object.prototype.hasOwnProperty.call(e,\"current\")}const Bx=1e-4,Bk=1-Bx,Nk=1+Bx,Nx=.01,Rk=0-Nx,_k=0+Nx;function An(e){return e.max-e.min}function Ik(e,t,n){return Math.abs(e-t)<=n}function Rg(e,t,n,r=.5){e.origin=r,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=An(n)/An(t),e.translate=Ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Bk&&e.scale<=Nk||isNaN(e.scale))&&(e.scale=1),(e.translate>=Rk&&e.translate<=_k||isNaN(e.translate))&&(e.translate=0)}function Ys(e,t,n,r){Rg(e.x,t.x,n.x,r?r.originX:void 0),Rg(e.y,t.y,n.y,r?r.originY:void 0)}function _g(e,t,n){e.min=n.min+t.min,e.max=e.min+An(t)}function jk(e,t,n){_g(e.x,t.x,n.x),_g(e.y,t.y,n.y)}function Ig(e,t,n){e.min=t.min-n.min,e.max=e.min+An(t)}function Xs(e,t,n){Ig(e.x,t.x,n.x),Ig(e.y,t.y,n.y)}function Fk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ye(n,e,r.max):Math.min(e,n)),e}function jg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Dk(e,{top:t,left:n,bottom:r,right:i}){return{x:jg(e.x,n,i),y:jg(e.y,t,r)}}function Fg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Lk(e,t){return{x:Fg(e.x,t.x),y:Fg(e.y,t.y)}}function Ok(e,t){let n=.5;const r=An(e),i=An(t);return i>r?n=ss(t.min,t.max-r,e.min):r>i&&(n=ss(e.min,e.max-i,t.min)),Dr(0,1,n)}function Uk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const rh=.35;function Vk(e=rh){return e===!1?e=0:e===!0&&(e=rh),{x:Dg(e,\"left\",\"right\"),y:Dg(e,\"top\",\"bottom\")}}function Dg(e,t,n){return{min:Lg(e,t),max:Lg(e,n)}}function Lg(e,t){return typeof e==\"number\"?e:e[t]||0}const Og=()=>({translate:0,scale:1,origin:0,originPoint:0}),Io=()=>({x:Og(),y:Og()}),Ug=()=>({min:0,max:0}),at=()=>({x:Ug(),y:Ug()});function Bn(e){return[e(\"x\"),e(\"y\")]}function Rx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $k(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gf(e){return e===void 0||e===1}function ih({scale:e,scaleX:t,scaleY:n}){return!gf(e)||!gf(t)||!gf(n)}function Ti(e){return ih(e)||_x(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _x(e){return Vg(e.x)||Vg(e.y)}function Vg(e){return e&&e!==\"0%\"}function du(e,t,n){const r=e-n,i=t*r;return n+i}function zg(e,t,n,r,i){return i!==void 0&&(e=du(e,i,r)),du(e,n,r)+t}function oh(e,t=0,n=1,r,i){e.min=zg(e.min,t,n,r,i),e.max=zg(e.max,t,n,r,i)}function Ix(e,{x:t,y:n}){oh(e.x,t.translate,t.scale,t.originPoint),oh(e.y,n.translate,n.scale,n.originPoint)}const $g=.999999999999,Wg=1.0000000000001;function Wk(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display===\"contents\"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Ix(e,s)),r&&Ti(o.latestValues)&&Fo(e,o.latestValues))}t.x<Wg&&t.x>$g&&(t.x=1),t.y<Wg&&t.y>$g&&(t.y=1)}function jo(e,t){e.min=e.min+t,e.max=e.max+t}function Hg(e,t,n,r,i=.5){const o=Ye(e.min,e.max,i);oh(e,t,n,o,r)}function Fo(e,t){Hg(e.x,t.x,t.scaleX,t.scale,t.originX),Hg(e.y,t.y,t.scaleY,t.scale,t.originY)}function jx(e,t){return Rx($k(e.getBoundingClientRect(),t))}function Hk(e,t,n){const r=jx(e,n),{scroll:i}=t;return i&&(jo(r.x,i.offset.x),jo(r.y,i.offset.y)),r}const Fx=({current:e})=>e?e.ownerDocument.defaultView:null,Gk=new WeakMap;class Kk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ba(f).point)},o=(f,d)=>{const{drag:h,dragPropagation:b,onDragStart:S}=this.getProps();if(h&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ak(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(N=>{let w=this.getAxisMotionValue(N).get()||0;if(dr.test(w)){const{projection:E}=this.visualElement;if(E&&E.layout){const C=E.layout.layoutBox[N];C&&(w=An(C)*(parseFloat(w)/100))}}this.originPoint[N]=w}),S&&Ie.postRender(()=>S(f,d)),th(this.visualElement,\"transform\");const{animationState:M}=this.visualElement;M&&M.setActive(\"whileDrag\",!0)},s=(f,d)=>{const{dragPropagation:h,dragDirectionLock:b,onDirectionLock:S,onDrag:M}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:N}=d;if(b&&this.currentDirection===null){this.currentDirection=qk(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis(\"x\",d.point,N),this.updateAxis(\"y\",d.point,N),this.visualElement.render(),M&&M(f,d)},a=(f,d)=>this.stop(f,d),l=()=>Bn(f=>{var d;return this.getAnimationState(f)===\"paused\"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Tx(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Fx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ie.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive(\"whileDrag\",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!il(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Fk(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&_o(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Dk(i.layoutBox,n):this.constraints=!1,this.elastic=Vk(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Uk(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_o(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Hk(r,i.root,this.visualElement.getTransformPagePoint());let s=Lk(i.layout.layoutBox,o);if(n){const a=n(zk(s));this.hasMutatedConstraints=!!a,a&&(s=Rx(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Bn(f=>{if(!il(f,n,this.currentDirection))return;let d=l&&l[f]||{};s&&(d={min:0,max:0});const h=i?200:1e6,b=i?40:1e7,S={type:\"inertia\",velocity:r?t[f]:0,bounceStiffness:h,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(f,S)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return th(this.visualElement,t),r.start(D0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bn(n=>{const{drag:r}=this.getProps();if(!il(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Ye(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_o(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=Ok({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},\"\"):\"none\",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(s=>{if(!il(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Ye(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Gk.set(this.visualElement,this);const t=this.visualElement.current,n=mi(t,\"pointerdown\",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();_o(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener(\"measure\",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ie.read(r);const s=Tr(window,\"resize\",()=>this.scalePositionWithinConstraints()),a=i.addEventListener(\"didUpdate\",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bn(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=rh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function il(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qk(e,t=10){let n=null;return Math.abs(e.y)>t?n=\"y\":Math.abs(e.x)>t&&(n=\"x\"),n}class Zk extends Ci{constructor(t){super(t),this.removeGroupControls=en,this.removeListeners=en,this.controls=new Kk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gg=e=>(t,n)=>{e&&Ie.postRender(()=>e(t,n))};class Yk extends Ci{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(t){this.session=new Tx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Gg(t),onStart:Gg(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ie.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=mi(this.node.current,\"pointerdown\",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ju=_.createContext(null);function Xk(){const e=_.useContext(Ju);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=_.useId();_.useEffect(()=>r(i),[]);const o=_.useCallback(()=>n&&n(i),[i,n]);return!t&&n?[!1,o]:[!0]}const z0=_.createContext({}),Dx=_.createContext({}),Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e==\"string\")if(ye.test(e))e=parseFloat(e);else return e;const n=Kg(e,t.target.x),r=Kg(e,t.target.y);return`${n}% ${r}%`}},Qk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=wi.parse(e);if(i.length>5)return r;const o=wi.createTransformer(e),s=typeof i[0]!=\"number\"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Ye(a,l,.5);return typeof i[2+s]==\"number\"&&(i[2+s]/=u),typeof i[3+s]==\"number\"&&(i[3+s]/=u),o(i)}},hu={};function Jk(e){Object.assign(hu,e)}const{schedule:$0,cancel:AR}=Ow(queueMicrotask,!1);class e6 extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Jk(t6),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener(\"animationComplete\",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||Ie.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lx(e){const[t,n]=Xk(),r=_.useContext(z0);return v.jsx(e6,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(Dx),isPresent:t,safeToRemove:n})}const t6={borderRadius:{...Rs,applyTo:[\"borderTopLeftRadius\",\"borderTopRightRadius\",\"borderBottomLeftRadius\",\"borderBottomRightRadius\"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:Qk},Ox=[\"TopLeft\",\"TopRight\",\"BottomLeft\",\"BottomRight\"],n6=Ox.length,qg=e=>typeof e==\"string\"?parseFloat(e):e,Zg=e=>typeof e==\"number\"||ye.test(e);function r6(e,t,n,r,i,o){i?(e.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,i6(r)),e.opacityExit=Ye(t.opacity!==void 0?t.opacity:1,0,o6(r))):o&&(e.opacity=Ye(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<n6;s++){const a=`border${Ox[s]}Radius`;let l=Yg(t,a),u=Yg(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Zg(l)===Zg(u)?(e[a]=Math.max(Ye(qg(l),qg(u),r),0),(dr.test(u)||dr.test(l))&&(e[a]+=\"%\")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ye(t.rotate||0,n.rotate||0,r))}function Yg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const i6=Ux(0,.5,Gw),o6=Ux(.5,.95,en);function Ux(e,t,n){return r=>r<e?0:r>t?1:n(ss(e,t,r))}function Xg(e,t){e.min=t.min,e.max=t.max}function Pn(e,t){Xg(e.x,t.x),Xg(e.y,t.y)}function Qg(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jg(e,t,n,r,i){return e-=t,e=du(e,1/n,r),i!==void 0&&(e=du(e,1/i,r)),e}function s6(e,t=0,n=1,r=.5,i,o=e,s=e){if(dr.test(t)&&(t=parseFloat(t),t=Ye(s.min,s.max,t/100)-s.min),typeof t!=\"number\")return;let a=Ye(o.min,o.max,r);e===o&&(a-=t),e.min=Jg(e.min,t,n,a,i),e.max=Jg(e.max,t,n,a,i)}function ey(e,t,[n,r,i],o,s){s6(e,t[n],t[r],t[i],t.scale,o,s)}const a6=[\"x\",\"scaleX\",\"originX\"],l6=[\"y\",\"scaleY\",\"originY\"];function ty(e,t,n,r){ey(e.x,t,a6,n?n.x:void 0,r?r.x:void 0),ey(e.y,t,l6,n?n.y:void 0,r?r.y:void 0)}function ny(e){return e.translate===0&&e.scale===1}function Vx(e){return ny(e.x)&&ny(e.y)}function ry(e,t){return e.min===t.min&&e.max===t.max}function u6(e,t){return ry(e.x,t.x)&&ry(e.y,t.y)}function iy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zx(e,t){return iy(e.x,t.x)&&iy(e.y,t.y)}function oy(e){return An(e.x)/An(e.y)}function sy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class c6{constructor(){this.members=[]}add(t){L0(this.members,t),t.scheduleRender()}remove(t){if(O0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function f6(e,t,n){let r=\"\";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:h,skewX:b,skewY:S}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||\"none\"}const d6=(e,t)=>e.depth-t.depth;class h6{constructor(){this.children=[],this.isDirty=!1}add(t){L0(this.children,t),this.isDirty=!0}remove(t){O0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(d6),this.isDirty=!1,this.children.forEach(t)}}function Rl(e){const t=Jt(e)?e.get():e;return tk(t)?t.toValue():t}function p6(e,t){const n=hr.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(vi(r),e(o-t))};return Ie.read(r,!0),()=>vi(r)}function m6(e){return e instanceof SVGElement&&e.tagName!==\"svg\"}function g6(e,t,n){const r=Jt(e)?e:wa(e);return r.start(D0(\"\",r,t,n)),r.animation}const Pi={type:\"projectionFrame\",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Os=typeof window<\"u\"&&window.MotionDebug!==void 0,yf=[\"\",\"X\",\"Y\",\"Z\"],y6={visibility:\"hidden\"},ay=1e3;let v6=0;function vf(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $x(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ex(t);if(window.MotionHasOptimisedAnimation(n,\"transform\")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,\"transform\",Ie,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&$x(r)}function Wx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=v6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Os&&(Pi.totalNodes=Pi.resolvedTargetDeltas=Pi.recalculatedProjection=0),this.nodes.forEach(b6),this.nodes.forEach(M6),this.nodes.forEach(k6),this.nodes.forEach(S6),Os&&window.MotionDebug.record(Pi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new h6)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new U0),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m6(s),this.instance=s;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=p6(h,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(uy))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener(\"didUpdate\",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||f.getDefaultTransition()||R6,{onLayoutAnimationStart:N,onLayoutAnimationComplete:w}=f.getProps(),E=!this.targetLayout||!zx(this.targetLayout,S)||b,C=!h&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const L={...E0(M,\"layout\"),onPlay:N,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else h||uy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(T6),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$x(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll(\"snapshot\"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,\"\"):void 0,this.updateSnapshot(),s&&this.notifyListeners(\"willUpdate\")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ly);return}this.isUpdating||this.nodes.forEach(C6),this.isUpdating=!1,this.nodes.forEach(A6),this.nodes.forEach(w6),this.nodes.forEach(x6),this.clearAllSnapshots();const a=hr.now();Dt.delta=Dr(0,1e3/60,a-Dt.timestamp),Dt.timestamp=a,Dt.isProcessing=!0,uf.update.process(Dt),uf.preRender.process(Dt),uf.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E6),this.sharedNodes.forEach(P6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(\"measure\",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify(\"LayoutMeasure\",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s=\"measure\"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Vx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,\"\"):void 0,f=u!==this.prevTransformTemplateValue;s&&(a||Ti(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),_6(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return at();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(I6))){const{scroll:f}=this.root;f&&(jo(l.x,f.offset.x),jo(l.y,f.offset.y))}return l}removeElementScroll(s){var a;const l=at();if(Pn(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:h}=f;f!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Pn(l,s),jo(l.x,d.offset.x),jo(l.y,d.offset.y))}return l}applyTransform(s,a=!1){const l=at();Pn(l,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Fo(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ti(f.latestValues)&&Fo(l,f.latestValues)}return Ti(this.latestValues)&&Fo(l,this.latestValues),l}removeTransform(s){const a=at();Pn(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ti(u.latestValues))continue;ih(u.latestValues)&&u.updateSnapshot();const f=at(),d=u.measurePageBox();Pn(f,d),ty(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Ti(this.latestValues)&&ty(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Xs(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),Ix(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Xs(this.relativeTargetOrigin,this.target,b.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Os&&Pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ih(this.parent.latestValues)||_x(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Pn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,b=this.treeScale.y;Wk(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=at());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qg(this.prevProjectionDelta.x,this.projectionDelta.x),Qg(this.prevProjectionDelta.y,this.projectionDelta.y)),Ys(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==b||!sy(this.projectionDelta.x,this.prevProjectionDelta.x)||!sy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(\"projectionUpdate\",S)),Os&&Pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Io(),this.projectionDelta=Io(),this.projectionDeltaWithTransform=Io()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=Io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=at(),b=l?l.source:void 0,S=this.layout?this.layout.source:void 0,M=b!==S,N=this.getStack(),w=!N||N.members.length<=1,E=!!(M&&!w&&this.options.crossfade===!0&&!this.path.some(N6));this.animationProgress=0;let C;this.mixTargetDelta=L=>{const U=L/1e3;cy(d.x,s.x,U),cy(d.y,s.y,U),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B6(this.relativeTarget,this.relativeTargetOrigin,h,U),C&&u6(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=at()),Pn(C,this.relativeTarget)),M&&(this.animationValues=f,r6(f,u,this.latestValues,U,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners(\"animationStart\"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Nl.hasAnimatedSinceResize=!0,this.currentAnimation=g6(0,ay,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(\"animationComplete\")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ay),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Hx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||at();const d=An(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=An(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Pn(a,l),Fo(a,f),Ys(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new c6),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&vf(\"z\",s,u,this.animationValues);for(let f=0;f<yf.length;f++)vf(`rotate${yf[f]}`,s,u,this.animationValues),vf(`skew${yf[f]}`,s,u,this.animationValues);s.render();for(const f in u)s.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y6;const u={visibility:\"\"},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity=\"\",u.pointerEvents=Rl(s==null?void 0:s.pointerEvents)||\"\",u.transform=f?f(this.latestValues,\"\"):\"none\",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=Rl(s==null?void 0:s.pointerEvents)||\"\"),this.hasProjected&&!Ti(this.latestValues)&&(M.transform=f?f({},\"\"):\"none\",this.hasProjected=!1),M}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=f6(this.projectionDeltaWithTransform,this.treeScale,h),f&&(u.transform=f(h,u.transform));const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:\"\":h.opacityExit!==void 0?h.opacityExit:0;for(const M in hu){if(h[M]===void 0)continue;const{correct:N,applyTo:w}=hu[M],E=u.transform===\"none\"?h[M]:N(h[M],d);if(w){const C=w.length;for(let L=0;L<C;L++)u[w[L]]=E}else u[M]=E}return this.options.layoutId&&(u.pointerEvents=d===this?Rl(s==null?void 0:s.pointerEvents)||\"\":\"none\"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ly),this.root.sharedNodes.clear()}}}function w6(e){e.updateLayout()}function x6(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners(\"didUpdate\")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o===\"size\"?Bn(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],b=An(h);h.min=r[d].min,h.max=h.min+b}):Hx(o,n.layoutBox,r)&&Bn(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],b=An(r[d]);h.max=h.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+b)});const a=Io();Ys(a,r,n.layoutBox);const l=Io();s?Ys(l,e.applyTransform(i,!0),n.measuredBox):Ys(l,r,n.layoutBox);const u=!Vx(a);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:b}=d;if(h&&b){const S=at();Xs(S,n.layoutBox,h.layoutBox);const M=at();Xs(M,r,b.layoutBox),zx(S,M)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=S,e.relativeParent=d)}}}e.notifyListeners(\"didUpdate\",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function b6(e){Os&&Pi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function S6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E6(e){e.clearSnapshot()}function ly(e){e.clearMeasurements()}function C6(e){e.isLayoutDirty=!1}function A6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(\"BeforeLayoutMeasure\"),e.resetTransform()}function uy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function M6(e){e.resolveTargetDelta()}function k6(e){e.calcProjection()}function T6(e){e.resetSkewAndRotation()}function P6(e){e.removeLeadSnapshot()}function cy(e,t,n){e.translate=Ye(t.translate,0,n),e.scale=Ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function fy(e,t,n,r){e.min=Ye(t.min,n.min,r),e.max=Ye(t.max,n.max,r)}function B6(e,t,n,r){fy(e.x,t.x,n.x,r),fy(e.y,t.y,n.y,r)}function N6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const R6={duration:.45,ease:[.4,0,.1,1]},dy=e=>typeof navigator<\"u\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hy=dy(\"applewebkit/\")&&!dy(\"chrome/\")?Math.round:en;function py(e){e.min=hy(e.min),e.max=hy(e.max)}function _6(e){py(e.x),py(e.y)}function Hx(e,t,n){return e===\"position\"||e===\"preserve-aspect\"&&!Ik(oy(t),oy(n),.2)}function I6(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const j6=Wx({attachResizeListener:(e,t)=>Tr(e,\"resize\",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wf={current:void 0},Gx=Wx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wf.current){const e=new j6({});e.mount(window),e.setOptions({layoutScroll:!0}),wf.current=e}return wf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:\"none\"},checkIsScrollRoot:e=>window.getComputedStyle(e).position===\"fixed\"}),F6={pan:{Feature:Yk},drag:{Feature:Zk,ProjectionNode:Gx,MeasureLayout:Lx}};function my(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(\"whileHover\",n);const i=r[n?\"onHoverStart\":\"onHoverEnd\"];i&&Ie.postRender(()=>i(t,Ba(t)))}class D6 extends Ci{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=Ck(t,r=>(my(this.node,r,!0),i=>my(this.node,i,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class L6 extends Ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(\":focus-visible\")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive(\"whileFocus\",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(\"whileFocus\",!1),this.isActive=!1)}mount(){this.unmount=pi(Tr(this.node.current,\"focus\",()=>this.onFocus()),Tr(this.node.current,\"blur\",()=>this.onBlur()))}unmount(){}}const Kx=(e,t)=>t?e===t?!0:Kx(e,t.parentElement):!1;function xf(e,t){if(!t)return;const n=new PointerEvent(\"pointer\"+e);t(n,Ba(n))}class O6 extends Ci{constructor(){super(...arguments),this.removeStartListeners=en,this.removeEndListeners=en,this.removeAccessibleListeners=en,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=mi(window,\"pointerup\",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps(),h=!d&&!Kx(this.node.current,a.target)?f:u;h&&Ie.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),s=mi(window,\"pointercancel\",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pi(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!==\"Enter\"||this.isPressing)return;const s=a=>{a.key!==\"Enter\"||!this.checkPressEnd()||xf(\"up\",(l,u)=>{const{onTap:f}=this.node.getProps();f&&Ie.postRender(()=>f(l,u))})};this.removeEndListeners(),this.removeEndListeners=Tr(this.node.current,\"keyup\",s),xf(\"down\",(a,l)=>{this.startPress(a,l)})},n=Tr(this.node.current,\"keydown\",t),r=()=>{this.isPressing&&xf(\"cancel\",(o,s)=>this.cancelPress(o,s))},i=Tr(this.node.current,\"blur\",r);this.removeAccessibleListeners=pi(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive(\"whileTap\",!0),r&&Ie.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive(\"whileTap\",!1),!Mx()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ie.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=mi(t.globalTapTarget?window:this.node.current,\"pointerdown\",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Tr(this.node.current,\"focus\",this.startAccessiblePress);this.removeStartListeners=pi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sh=new WeakMap,bf=new WeakMap,U6=e=>{const t=sh.get(e.target);t&&t(e)},V6=e=>{e.forEach(U6)};function z6({root:e,...t}){const n=e||document;bf.has(n)||bf.set(n,{});const r=bf.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(V6,{root:e,...t})),r[i]}function $6(e,t,n){const r=z6(t);return sh.set(e,n),r.observe(e),()=>{sh.delete(e),r.unobserve(e)}}const W6={some:0,all:1};class H6 extends Ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i=\"some\",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i==\"number\"?i:W6[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(\"whileInView\",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),h=u?f:d;h&&h(l)};return $6(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>\"u\")return;const{props:t,prevProps:n}=this.node;[\"amount\",\"margin\",\"root\"].some(G6(t,n))&&this.startObserver()}unmount(){}}function G6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const K6={inView:{Feature:H6},tap:{Feature:O6},focus:{Feature:L6},hover:{Feature:D6}},q6={layout:{ProjectionNode:Gx,MeasureLayout:Lx}},W0=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:\"never\"}),ec=_.createContext({}),H0=typeof window<\"u\",qx=H0?_.useLayoutEffect:_.useEffect,Zx=_.createContext({strict:!1});function Z6(e,t,n,r,i){var o,s;const{visualElement:a}=_.useContext(ec),l=_.useContext(Zx),u=_.useContext(Ju),f=_.useContext(W0).reducedMotion,d=_.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const h=d.current,b=_.useContext(Dx);h&&!h.projection&&i&&(h.type===\"html\"||h.type===\"svg\")&&Y6(d.current,n,i,b);const S=_.useRef(!1);_.useInsertionEffect(()=>{h&&S.current&&h.update(n,u)});const M=n[Sx],N=_.useRef(!!M&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,M))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,M)));return qx(()=>{h&&(S.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),$0.render(h.render),N.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!N.current&&h.animationState&&h.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,M)}),N.current=!1))}),h}function Y6(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t[\"data-framer-portal-id\"]?void 0:Yx(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&_o(a),visualElement:e,animationType:typeof o==\"string\"?o:\"both\",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Yx(e){if(e)return e.options.allowProjection!==!1?e.projection:Yx(e.parent)}function X6(e,t,n){return _.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n==\"function\"?n(r):_o(n)&&(n.current=r))},[t])}function tc(e){return Yu(e.animate)||S0.some(t=>ga(e[t]))}function Xx(e){return!!(tc(e)||e.variants)}function Q6(e,t){if(tc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ga(n)?n:void 0,animate:ga(r)?r:void 0}}return e.inherit!==!1?t:{}}function J6(e){const{initial:t,animate:n}=Q6(e,_.useContext(ec));return _.useMemo(()=>({initial:t,animate:n}),[gy(t),gy(n)])}function gy(e){return Array.isArray(e)?e.join(\" \"):e}const yy={animation:[\"animate\",\"variants\",\"whileHover\",\"whileTap\",\"exit\",\"whileInView\",\"whileFocus\",\"whileDrag\"],exit:[\"exit\"],drag:[\"drag\",\"dragControls\"],focus:[\"whileFocus\"],hover:[\"whileHover\",\"onHoverStart\",\"onHoverEnd\"],tap:[\"whileTap\",\"onTap\",\"onTapStart\",\"onTapCancel\"],pan:[\"onPan\",\"onPanStart\",\"onPanSessionStart\",\"onPanEnd\"],inView:[\"whileInView\",\"onViewportEnter\",\"onViewportLeave\"],layout:[\"layout\",\"layoutId\"]},as={};for(const e in yy)as[e]={isEnabled:t=>yy[e].some(n=>!!t[n])};function eT(e){for(const t in e)as[t]={...as[t],...e[t]}}const tT=Symbol.for(\"motionComponentSymbol\");function nT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&eT(e);function o(a,l){let u;const f={..._.useContext(W0),...a,layoutId:rT(a)},{isStatic:d}=f,h=J6(a),b=r(a,d);if(!d&&H0){iT();const S=oT(f);u=S.MeasureLayout,h.visualElement=Z6(i,b,f,t,S.ProjectionNode)}return v.jsxs(ec.Provider,{value:h,children:[u&&h.visualElement?v.jsx(u,{visualElement:h.visualElement,...f}):null,n(i,a,X6(b,h.visualElement,l),b,d,h.visualElement)]})}const s=_.forwardRef(o);return s[tT]=i,s}function rT({layoutId:e}){const t=_.useContext(z0).id;return t&&e!==void 0?t+\"-\"+e:e}function iT(e,t){_.useContext(Zx).strict}function oT(e){const{drag:t,layout:n}=as;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const sT=[\"animate\",\"circle\",\"defs\",\"desc\",\"ellipse\",\"g\",\"image\",\"line\",\"filter\",\"marker\",\"mask\",\"metadata\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"rect\",\"stop\",\"switch\",\"symbol\",\"svg\",\"text\",\"tspan\",\"use\",\"view\"];function G0(e){return typeof e!=\"string\"||e.includes(\"-\")?!1:!!(sT.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qx(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Jx=new Set([\"baseFrequency\",\"diffuseConstant\",\"kernelMatrix\",\"kernelUnitLength\",\"keySplines\",\"keyTimes\",\"limitingConeAngle\",\"markerHeight\",\"markerWidth\",\"numOctaves\",\"targetX\",\"targetY\",\"surfaceScale\",\"specularConstant\",\"specularExponent\",\"stdDeviation\",\"tableValues\",\"viewBox\",\"gradientTransform\",\"pathLength\",\"startOffset\",\"textLength\",\"lengthAdjust\"]);function eb(e,t,n,r){Qx(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Jx.has(i)?i:V0(i),t.attrs[i])}function tb(e,{layout:t,layoutId:n}){return no.has(e)||e.startsWith(\"origin\")||(t||n!==void 0)&&(!!hu[e]||e===\"opacity\")}function K0(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Jt(i[s])||t.style&&Jt(t.style[s])||tb(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function nb(e,t,n){const r=K0(e,t,n);for(const i in e)if(Jt(e[i])||Jt(t[i])){const o=ka.indexOf(i)!==-1?\"attr\"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function q0(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}function aT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:lT(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const rb=e=>(t,n)=>{const r=_.useContext(ec),i=_.useContext(Ju),o=()=>aT(e,t,r,i);return n?o():q0(o)};function lT(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=Rl(o[h]);let{initial:s,animate:a}=e;const l=tc(e),u=Xx(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const d=f?a:s;if(d&&typeof d!=\"boolean\"&&!Yu(d)){const h=Array.isArray(d)?d:[d];for(let b=0;b<h.length;b++){const S=x0(e,h[b]);if(S){const{transitionEnd:M,transition:N,...w}=S;for(const E in w){let C=w[E];if(Array.isArray(C)){const L=f?C.length-1:0;C=C[L]}C!==null&&(i[E]=C)}for(const E in M)i[E]=M[E]}}}return i}const Z0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ib=()=>({...Z0(),attrs:{}}),ob=(e,t)=>t&&typeof e==\"number\"?t.transform(e):e,uT={x:\"translateX\",y:\"translateY\",z:\"translateZ\",transformPerspective:\"perspective\"},cT=ka.length;function fT(e,t,n){let r=\"\",i=!0;for(let o=0;o<cT;o++){const s=ka[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a==\"number\"?l=a===(s.startsWith(\"scale\")?1:0):l=parseFloat(a)===0,!l||n){const u=ob(a,B0[s]);if(!l){i=!1;const f=uT[s]||s;r+=`${f}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?\"\":r):i&&(r=\"none\"),r}function Y0(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(no.has(l)){s=!0;continue}else if(Xw(l)){i[l]=u;continue}else{const f=ob(u,B0[l]);l.startsWith(\"origin\")?(a=!0,o[l]=f):r[l]=f}}if(t.transform||(s||n?r.transform=fT(t,e.transform,n):r.transform&&(r.transform=\"none\")),a){const{originX:l=\"50%\",originY:u=\"50%\",originZ:f=0}=o;r.transformOrigin=`${l} ${u} ${f}`}}function vy(e,t,n){return typeof e==\"string\"?e:ye.transform(t+n*e)}function dT(e,t,n){const r=vy(t,e.x,e.width),i=vy(n,e.y,e.height);return`${r} ${i}`}const hT={offset:\"stroke-dashoffset\",array:\"stroke-dasharray\"},pT={offset:\"strokeDashoffset\",array:\"strokeDasharray\"};function mT(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?hT:pT;e[o.offset]=ye.transform(-r);const s=ye.transform(t),a=ye.transform(n);e[o.array]=`${s} ${a}`}function X0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},f,d){if(Y0(e,u,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:b,dimensions:S}=e;h.transform&&(S&&(b.transform=h.transform),delete h.transform),S&&(i!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=dT(S,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&mT(h,s,a,l,!1)}const Q0=e=>typeof e==\"string\"&&e.toLowerCase()===\"svg\",gT={useVisualState:rb({scrapeMotionValuesFromProps:nb,createRenderState:ib,onMount:(e,t,{renderState:n,latestValues:r})=>{Ie.read(()=>{try{n.dimensions=typeof t.getBBox==\"function\"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ie.render(()=>{X0(n,r,Q0(t.tagName),e.transformTemplate),eb(t,n)})}})},yT={useVisualState:rb({scrapeMotionValuesFromProps:K0,createRenderState:Z0})};function sb(e,t,n){for(const r in t)!Jt(t[r])&&!tb(r,n)&&(e[r]=t[r])}function vT({transformTemplate:e},t){return _.useMemo(()=>{const n=Z0();return Y0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wT(e,t){const n=e.style||{},r={};return sb(r,n,e),Object.assign(r,vT(e,t)),r}function xT(e,t){const n={},r=wT(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=\"none\",r.touchAction=e.drag===!0?\"none\":`pan-${e.drag===\"x\"?\"y\":\"x\"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const bT=new Set([\"animate\",\"exit\",\"variants\",\"initial\",\"style\",\"values\",\"variants\",\"transition\",\"transformTemplate\",\"custom\",\"inherit\",\"onBeforeLayoutMeasure\",\"onAnimationStart\",\"onAnimationComplete\",\"onUpdate\",\"onDragStart\",\"onDrag\",\"onDragEnd\",\"onMeasureDragConstraints\",\"onDirectionLock\",\"onDragTransitionEnd\",\"_dragX\",\"_dragY\",\"onHoverStart\",\"onHoverEnd\",\"onViewportEnter\",\"onViewportLeave\",\"globalTapTarget\",\"ignoreStrict\",\"viewport\"]);function pu(e){return e.startsWith(\"while\")||e.startsWith(\"drag\")&&e!==\"draggable\"||e.startsWith(\"layout\")||e.startsWith(\"onTap\")||e.startsWith(\"onPan\")||e.startsWith(\"onLayout\")||bT.has(e)}let ab=e=>!pu(e);function ST(e){e&&(ab=t=>t.startsWith(\"on\")?!pu(t):e(t))}try{ST(require(\"@emotion/is-prop-valid\").default)}catch{}function ET(e,t,n){const r={};for(const i in e)i===\"values\"&&typeof e.values==\"object\"||(ab(i)||n===!0&&pu(i)||!t&&!pu(i)||e.draggable&&i.startsWith(\"onDrag\"))&&(r[i]=e[i]);return r}function CT(e,t,n,r){const i=_.useMemo(()=>{const o=ib();return X0(o,t,Q0(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};sb(o,e.style,e),i.style={...o,...i.style}}return i}function AT(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(G0(n)?CT:xT)(r,o,s,n),u=ET(r,typeof n==\"string\",e),f=n!==_.Fragment?{...u,...l,ref:i}:{},{children:d}=r,h=_.useMemo(()=>Jt(d)?d.get():d,[d]);return _.createElement(n,{...f,children:h})}}function MT(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...G0(r)?gT:yT,preloadedFeatures:e,useRender:AT(i),createVisualElement:t,Component:r};return nT(s)}}const ah={current:null},lb={current:!1};function kT(){if(lb.current=!0,!!H0)if(window.matchMedia){const e=window.matchMedia(\"(prefers-reduced-motion)\"),t=()=>ah.current=e.matches;e.addListener(t),t()}else ah.current=!1}function TT(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Jt(i))e.addValue(r,i);else if(Jt(o))e.addValue(r,wa(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,wa(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const wy=new WeakMap,PT=[...ex,Xt,wi],BT=e=>PT.find(Jw(e)),xy=[\"AnimationStart\",\"AnimationComplete\",\"Update\",\"BeforeLayoutMeasure\",\"LayoutMeasure\",\"LayoutAnimationStart\",\"LayoutAnimationComplete\"];class NT{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(\"Update\",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=tc(n),this.isVariantNode=Xx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const b=d[h];l[h]!==void 0&&Jt(b)&&b.set(l[h],!1)}}mount(t){this.current=t,wy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lb.current||kT(),this.shouldReduceMotion=this.reducedMotionConfig===\"never\"?!1:this.reducedMotionConfig===\"always\"?!0:ah.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wy.delete(this.current),this.projection&&this.projection.unmount(),vi(this.notifyUpdate),vi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=no.has(t),i=n.on(\"change\",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on(\"renderRequest\",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t=\"animation\";for(t in as){const n=as[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xy.length;r++){const i=xy[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=\"on\"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=TT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i==\"string\"&&(Zw(i)||qw(i))?i=parseFloat(i):!BT(i)&&wi.test(n)&&(i=lx(t,n)),this.setBaseTarget(t,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r==\"string\"||typeof r==\"object\"){const s=x0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Jt(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new U0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ub extends NT{constructor(){super(...arguments),this.KeyframeResolver=ux}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jt(t)&&(this.childSubscription=t.on(\"change\",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RT(e){return window.getComputedStyle(e)}class _T extends ub{constructor(){super(...arguments),this.type=\"html\",this.renderInstance=Qx}readValueFromInstance(t,n){if(no.has(n)){const r=N0(n);return r&&r.default||0}else{const r=RT(t),i=(Xw(n)?r.getPropertyValue(n):r[n])||0;return typeof i==\"string\"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jx(t,n)}build(t,n,r){Y0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return K0(t,n,r)}}class IT extends ub{constructor(){super(...arguments),this.type=\"svg\",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(no.has(n)){const r=N0(n);return r&&r.default||0}return n=Jx.has(n)?n:V0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return nb(t,n,r)}build(t,n,r){X0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){eb(t,n,r,i)}mount(t){this.isSVGTag=Q0(t.tagName),super.mount(t)}}const jT=(e,t)=>G0(e)?new IT(t):new _T(t,{allowProjection:e!==_.Fragment}),FT=MT({...Sk,...K6,...F6,...q6},jT),Hn=xM(FT);class DT extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LT({children:e,isPresent:t}){const n=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=_.useContext(W0);return _.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:u}=i.current;if(t||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement(\"style\");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`\n          [data-motion-pop-id=\"${n}\"] {\n            position: absolute !important;\n            width: ${s}px !important;\n            height: ${a}px !important;\n            top: ${l}px !important;\n            left: ${u}px !important;\n          }\n        `),()=>{document.head.removeChild(f)}},[t]),v.jsx(DT,{isPresent:t,childRef:r,sizeRef:i,children:_.cloneElement(e,{ref:r})})}const OT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=q0(UT),l=_.useId(),u=_.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),f=_.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:u,register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random(),u]:[n,u]);return _.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s===\"popLayout\"&&(e=v.jsx(LT,{isPresent:n,children:e})),v.jsx(Ju.Provider,{value:f,children:e})};function UT(){return new Map}const ol=e=>e.key||\"\";function by(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const cb=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:s=\"sync\"})=>{const a=_.useMemo(()=>by(e),[e]),l=a.map(ol),u=_.useRef(!0),f=_.useRef(a),d=q0(()=>new Map),[h,b]=_.useState(a),[S,M]=_.useState(a);qx(()=>{u.current=!1,f.current=a;for(let E=0;E<S.length;E++){const C=ol(S[E]);l.includes(C)?d.delete(C):d.get(C)!==!0&&d.set(C,!1)}},[S,l.length,l.join(\"-\")]);const N=[];if(a!==h){let E=[...a];for(let C=0;C<S.length;C++){const L=S[C],U=ol(L);l.includes(U)||(E.splice(C,0,L),N.push(L))}s===\"wait\"&&N.length&&(E=N),M(by(E)),b(a);return}const{forceRender:w}=_.useContext(z0);return v.jsx(v.Fragment,{children:S.map(E=>{const C=ol(E),L=a===S||l.includes(C),U=()=>{if(d.has(C))d.set(C,!0);else return;let H=!0;d.forEach(V=>{V||(H=!1)}),H&&(w==null||w(),M(f.current),i&&i())};return v.jsx(OT,{isPresent:L,initial:!u.current||r?void 0:!1,custom:L?void 0:n,presenceAffectsLayout:o,mode:s,onExitComplete:L?void 0:U,children:E},C)})})},Sy=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u==\"function\"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!=\"object\"||d===null)?d:Object.assign({},t,d),n.forEach(b=>b(t,h))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},VT=e=>e?Sy(e):Sy,zT=e=>e;function $T(e,t=zT){const n=or.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return or.useDebugValue(n),n}const Ey=e=>{const t=VT(e),n=r=>$T(t,r);return Object.assign(n,t),n},WT=e=>e?Ey(e):Ey,J0=WT((e,t)=>({user:null,isLoggedIn:!1,login:async(n,r)=>{try{const i=await fetch(\"/api/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({walletAddress:n,seedPhrase:r})});if(i.ok){const o=await i.json();return e({user:o.user,isLoggedIn:!0}),localStorage.setItem(\"user_session\",JSON.stringify(o.user)),!0}return!1}catch(i){return console.error(\"Login error:\",i),!1}},register:async(n,r,i)=>{try{const o=await fetch(\"/api/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({walletAddress:n,username:r,seedPhrase:i})});if(o.ok){const s=await o.json();return e({user:s.user,isLoggedIn:!0}),localStorage.setItem(\"user_session\",JSON.stringify(s.user)),!0}return!1}catch(o){return console.error(\"Registration error:\",o),!1}},logout:()=>{e({user:null,isLoggedIn:!1}),localStorage.removeItem(\"user_session\")},setUser:n=>{e({user:n,isLoggedIn:!!n}),n?localStorage.setItem(\"user_session\",JSON.stringify(n)):localStorage.removeItem(\"user_session\")}}));if(typeof window<\"u\"){const e=localStorage.getItem(\"user_session\");if(e)try{const t=JSON.parse(e);J0.getState().setUser(t)}catch{localStorage.removeItem(\"user_session\")}}const Bi=_.forwardRef(({className:e,type:t,...n},r)=>v.jsx(\"input\",{type:t,className:$t(\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",e),ref:r,...n}));Bi.displayName=\"Input\";function Ut(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function HT(e,t){const n=_.createContext(t),r=o=>{const{children:s,...a}=o,l=_.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:s})};r.displayName=e+\"Provider\";function i(o){const s=_.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\\`${o}\\` must be used within \\`${e}\\``)}return[r,i]}function fb(e,t=[]){let n=[];function r(o,s){const a=_.createContext(s),l=n.length;n=[...n,s];const u=d=>{var w;const{scope:h,children:b,...S}=d,M=((w=h==null?void 0:h[e])==null?void 0:w[l])||a,N=_.useMemo(()=>S,Object.values(S));return v.jsx(M.Provider,{value:N,children:b})};u.displayName=o+\"Provider\";function f(d,h){var M;const b=((M=h==null?void 0:h[e])==null?void 0:M[l])||a,S=_.useContext(b);if(S)return S;if(s!==void 0)return s;throw new Error(`\\`${d}\\` must be used within \\`${o}\\``)}return[u,f]}const i=()=>{const o=n.map(s=>_.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,GT(i,...t)]}function GT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var mu=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},KT=m1.useId||(()=>{}),qT=0;function Qs(e){const[t,n]=_.useState(KT());return mu(()=>{e||n(r=>r??String(qT++))},[e]),e||(t?`radix-${t}`:\"\")}function xi(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ep({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=ZT({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=xi(n),l=_.useCallback(u=>{if(o){const d=typeof u==\"function\"?u(e):u;d!==e&&a(d)}else i(u)},[o,e,i,a]);return[s,l]}function ZT({defaultProp:e,onChange:t}){const n=_.useState(e),[r]=n,i=_.useRef(r),o=xi(t);return _.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var YT=[\"a\",\"button\",\"div\",\"form\",\"h2\",\"h3\",\"img\",\"input\",\"label\",\"li\",\"nav\",\"ol\",\"p\",\"span\",\"svg\",\"ul\"],nn=YT.reduce((e,t)=>{const n=_.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?is:t;return typeof window<\"u\"&&(window[Symbol.for(\"radix-ui\")]=!0),v.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function XT(e,t){e&&g0.flushSync(()=>e.dispatchEvent(t))}function QT(e,t=globalThis==null?void 0:globalThis.document){const n=xi(e);_.useEffect(()=>{const r=i=>{i.key===\"Escape\"&&n(i)};return t.addEventListener(\"keydown\",r,{capture:!0}),()=>t.removeEventListener(\"keydown\",r,{capture:!0})},[n,t])}var JT=\"DismissableLayer\",lh=\"dismissableLayer.update\",eP=\"dismissableLayer.pointerDownOutside\",tP=\"dismissableLayer.focusOutside\",Cy,db=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hb=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=_.useContext(db),[f,d]=_.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=_.useState({}),S=pr(t,V=>d(V)),M=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=M.indexOf(N),E=f?M.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,L=E>=w,U=iP(V=>{const W=V.target,K=[...u.branches].some(Y=>Y.contains(W));!L||K||(i==null||i(V),s==null||s(V),V.defaultPrevented||a==null||a())},h),H=oP(V=>{const W=V.target;[...u.branches].some(Y=>Y.contains(W))||(o==null||o(V),s==null||s(V),V.defaultPrevented||a==null||a())},h);return QT(V=>{E===u.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&a&&(V.preventDefault(),a()))},h),_.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Cy=h.body.style.pointerEvents,h.body.style.pointerEvents=\"none\"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Ay(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Cy)}},[f,h,n,u]),_.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Ay())},[f,u]),_.useEffect(()=>{const V=()=>b({});return document.addEventListener(lh,V),()=>document.removeEventListener(lh,V)},[]),v.jsx(nn.div,{...l,ref:S,style:{pointerEvents:C?L?\"auto\":\"none\":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,H.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,U.onPointerDownCapture)})});hb.displayName=JT;var nP=\"DismissableLayerBranch\",rP=_.forwardRef((e,t)=>{const n=_.useContext(db),r=_.useRef(null),i=pr(t,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),v.jsx(nn.div,{...e,ref:i})});rP.displayName=nP;function iP(e,t=globalThis==null?void 0:globalThis.document){const n=xi(e),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){pb(eP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType===\"touch\"?(t.removeEventListener(\"click\",i.current),i.current=l,t.addEventListener(\"click\",i.current,{once:!0})):l()}else t.removeEventListener(\"click\",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener(\"pointerdown\",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener(\"pointerdown\",o),t.removeEventListener(\"click\",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oP(e,t=globalThis==null?void 0:globalThis.document){const n=xi(e),r=_.useRef(!1);return _.useEffect(()=>{const i=o=>{o.target&&!r.current&&pb(tP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener(\"focusin\",i),()=>t.removeEventListener(\"focusin\",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ay(){const e=new CustomEvent(lh);document.dispatchEvent(e)}function pb(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?XT(i,o):i.dispatchEvent(o)}var Sf=\"focusScope.autoFocusOnMount\",Ef=\"focusScope.autoFocusOnUnmount\",My={bubbles:!1,cancelable:!0},sP=\"FocusScope\",mb=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=_.useState(null),u=xi(i),f=xi(o),d=_.useRef(null),h=pr(t,M=>l(M)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let M=function(C){if(b.paused||!a)return;const L=C.target;a.contains(L)?d.current=L:qr(d.current,{select:!0})},N=function(C){if(b.paused||!a)return;const L=C.relatedTarget;L!==null&&(a.contains(L)||qr(d.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const U of C)U.removedNodes.length>0&&qr(a)};document.addEventListener(\"focusin\",M),document.addEventListener(\"focusout\",N);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener(\"focusin\",M),document.removeEventListener(\"focusout\",N),E.disconnect()}}},[r,a,b.paused]),_.useEffect(()=>{if(a){Ty.add(b);const M=document.activeElement;if(!a.contains(M)){const w=new CustomEvent(Sf,My);a.addEventListener(Sf,u),a.dispatchEvent(w),w.defaultPrevented||(aP(dP(gb(a)),{select:!0}),document.activeElement===M&&qr(a))}return()=>{a.removeEventListener(Sf,u),setTimeout(()=>{const w=new CustomEvent(Ef,My);a.addEventListener(Ef,f),a.dispatchEvent(w),w.defaultPrevented||qr(M??document.body,{select:!0}),a.removeEventListener(Ef,f),Ty.remove(b)},0)}}},[a,u,f,b]);const S=_.useCallback(M=>{if(!n&&!r||b.paused)return;const N=M.key===\"Tab\"&&!M.altKey&&!M.ctrlKey&&!M.metaKey,w=document.activeElement;if(N&&w){const E=M.currentTarget,[C,L]=lP(E);C&&L?!M.shiftKey&&w===L?(M.preventDefault(),n&&qr(C,{select:!0})):M.shiftKey&&w===C&&(M.preventDefault(),n&&qr(L,{select:!0})):w===E&&M.preventDefault()}},[n,r,b.paused]);return v.jsx(nn.div,{tabIndex:-1,...s,ref:h,onKeyDown:S})});mb.displayName=sP;function aP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(qr(r,{select:t}),document.activeElement!==n)return}function lP(e){const t=gb(e),n=ky(t,e),r=ky(t.reverse(),e);return[n,r]}function gb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName===\"INPUT\"&&r.type===\"hidden\";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ky(e,t){for(const n of e)if(!uP(n,{upTo:t}))return n}function uP(e,{upTo:t}){if(getComputedStyle(e).visibility===\"hidden\")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display===\"none\")return!0;e=e.parentElement}return!1}function cP(e){return e instanceof HTMLInputElement&&\"select\"in e}function qr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cP(e)&&t&&e.select()}}var Ty=fP();function fP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Py(e,t),e.unshift(t)},remove(t){var n;e=Py(e,t),(n=e[0])==null||n.resume()}}}function Py(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dP(e){return e.filter(t=>t.tagName!==\"A\")}var hP=\"Portal\",yb=_.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,o]=_.useState(!1);mu(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?bC.createPortal(v.jsx(nn.div,{...r,ref:t}),s):null});yb.displayName=hP;function pP(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Na=e=>{const{present:t,children:n}=e,r=mP(t),i=typeof n==\"function\"?n({present:r.isPresent}):_.Children.only(n),o=pr(r.ref,gP(i));return typeof n==\"function\"||r.isPresent?_.cloneElement(i,{ref:o}):null};Na.displayName=\"Presence\";function mP(e){const[t,n]=_.useState(),r=_.useRef({}),i=_.useRef(e),o=_.useRef(\"none\"),s=e?\"mounted\":\"unmounted\",[a,l]=pP(s,{mounted:{UNMOUNT:\"unmounted\",ANIMATION_OUT:\"unmountSuspended\"},unmountSuspended:{MOUNT:\"mounted\",ANIMATION_END:\"unmounted\"},unmounted:{MOUNT:\"mounted\"}});return _.useEffect(()=>{const u=sl(r.current);o.current=a===\"mounted\"?u:\"none\"},[a]),mu(()=>{const u=r.current,f=i.current;if(f!==e){const h=o.current,b=sl(u);e?l(\"MOUNT\"):b===\"none\"||(u==null?void 0:u.display)===\"none\"?l(\"UNMOUNT\"):l(f&&h!==b?\"ANIMATION_OUT\":\"UNMOUNT\"),i.current=e}},[e,l]),mu(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=b=>{const M=sl(r.current).includes(b.animationName);if(b.target===t&&M&&(l(\"ANIMATION_END\"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode=\"forwards\",u=f.setTimeout(()=>{t.style.animationFillMode===\"forwards\"&&(t.style.animationFillMode=N)})}},h=b=>{b.target===t&&(o.current=sl(r.current))};return t.addEventListener(\"animationstart\",h),t.addEventListener(\"animationcancel\",d),t.addEventListener(\"animationend\",d),()=>{f.clearTimeout(u),t.removeEventListener(\"animationstart\",h),t.removeEventListener(\"animationcancel\",d),t.removeEventListener(\"animationend\",d)}}else l(\"ANIMATION_END\")},[t,l]),{isPresent:[\"mounted\",\"unmountSuspended\"].includes(a),ref:_.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function sl(e){return(e==null?void 0:e.animationName)||\"none\"}function gP(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,\"ref\"))==null?void 0:r.get,n=t&&\"isReactWarning\"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,\"ref\"))==null?void 0:i.get,n=t&&\"isReactWarning\"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cf=0;function yP(){_.useEffect(()=>{const e=document.querySelectorAll(\"[data-radix-focus-guard]\");return document.body.insertAdjacentElement(\"afterbegin\",e[0]??By()),document.body.insertAdjacentElement(\"beforeend\",e[1]??By()),Cf++,()=>{Cf===1&&document.querySelectorAll(\"[data-radix-focus-guard]\").forEach(t=>t.remove()),Cf--}},[])}function By(){const e=document.createElement(\"span\");return e.setAttribute(\"data-radix-focus-guard\",\"\"),e.tabIndex=0,e.style.outline=\"none\",e.style.opacity=\"0\",e.style.position=\"fixed\",e.style.pointerEvents=\"none\",e}var ar=function(){return ar=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ar.apply(this,arguments)};function vb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vP(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var _l=\"right-scroll-bar-position\",Il=\"width-before-scroll-bar\",wP=\"with-scroll-bars-hidden\",xP=\"--removed-body-scroll-bar-size\";function Af(e,t){return typeof e==\"function\"?e(t):e&&(e.current=t),e}function bP(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var SP=typeof window<\"u\"?_.useLayoutEffect:_.useEffect,Ny=new WeakMap;function EP(e,t){var n=bP(null,function(r){return e.forEach(function(i){return Af(i,r)})});return SP(function(){var r=Ny.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||Af(a,null)}),o.forEach(function(a){i.has(a)||Af(a,s)})}Ny.set(n,e)},[e]),n}function CP(e){return e}function AP(e,t){t===void 0&&(t=CP);var n=[],r=!1,i={read:function(){if(r)throw new Error(\"Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.\");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return i}function MP(e){e===void 0&&(e={});var t=AP(null);return t.options=ar({async:!0,ssr:!1},e),t}var wb=function(e){var t=e.sideCar,n=vb(e,[\"sideCar\"]);if(!t)throw new Error(\"Sidecar: please provide `sideCar` property to import the right car\");var r=t.read();if(!r)throw new Error(\"Sidecar medium not found\");return _.createElement(r,ar({},n))};wb.isSideCarExport=!0;function kP(e,t){return e.useMedium(t),wb}var xb=MP(),Mf=function(){},nc=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,b=e.noIsolation,S=e.inert,M=e.allowPinchZoom,N=e.as,w=N===void 0?\"div\":N,E=e.gapMode,C=vb(e,[\"forwardProps\",\"children\",\"className\",\"removeScrollBar\",\"enabled\",\"shards\",\"sideCar\",\"noIsolation\",\"inert\",\"allowPinchZoom\",\"as\",\"gapMode\"]),L=h,U=EP([n,t]),H=ar(ar({},C),i);return _.createElement(_.Fragment,null,f&&_.createElement(L,{sideCar:xb,removeScrollBar:u,shards:d,noIsolation:b,inert:S,setCallbacks:o,allowPinchZoom:!!M,lockRef:n,gapMode:E}),s?_.cloneElement(_.Children.only(a),ar(ar({},H),{ref:U})):_.createElement(w,ar({},H,{className:l,ref:U}),a))});nc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nc.classNames={fullWidth:Il,zeroRight:_l};var TP=function(){if(typeof __webpack_nonce__<\"u\")return __webpack_nonce__};function PP(){if(!document)return null;var e=document.createElement(\"style\");e.type=\"text/css\";var t=TP();return t&&e.setAttribute(\"nonce\",t),e}function BP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NP(e){var t=document.head||document.getElementsByTagName(\"head\")[0];t.appendChild(e)}var RP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=PP())&&(BP(t,n),NP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_P=function(){var e=RP();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bb=function(){var e=_P(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},IP={left:0,top:0,right:0,gap:0},kf=function(e){return parseInt(e||\"\",10)||0},jP=function(e){var t=window.getComputedStyle(document.body),n=t[e===\"padding\"?\"paddingLeft\":\"marginLeft\"],r=t[e===\"padding\"?\"paddingTop\":\"marginTop\"],i=t[e===\"padding\"?\"paddingRight\":\"m","size_bytes":360000},"client/src/components/CapiRush.tsx":{"content":"import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport * as THREE from 'three';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport { Trophy, ArrowLeft, Heart, Zap, Play, Pause, RotateCcw } from 'lucide-react';\n\ninterface CapiRushProps {\n  onBackToMenu?: () => void;\n}\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  gamesPlayed: number;\n}\n\nexport const CapiRush: React.FC<CapiRushProps> = ({ onBackToMenu }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const gameRef = useRef<any>(null);\n  const animationFrameRef = useRef<number>(0);\n  \n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capirush-stats');\n    return saved ? JSON.parse(saved) : {\n      score: 0,\n      highScore: 0,\n      gamesPlayed: 0\n    };\n  });\n  \n  const [isGameRunning, setIsGameRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentScore, setCurrentScore] = useState(0);\n\n  // Box helper class from the original game\n  class Box extends THREE.Mesh {\n    width: number;\n    height: number;\n    depth: number;\n    bottom: number;\n    top: number;\n\n    constructor({ width, height, depth, position = { x: 0, y: 0, z: 0 } }: {\n      width: number;\n      height: number;\n      depth: number;\n      position?: { x: number; y: number; z: number };\n    }) {\n      super(new THREE.BoxGeometry(width, height, depth));\n\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n\n      this.position.set(position.x, position.y, position.z);\n\n      this.bottom = this.position.y - this.height / 2;\n      this.top = this.position.y + this.height / 2;\n    }\n  }\n\n  const initializeGame = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    setIsLoading(true);\n\n    // Initialize Three.js scene\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 100);\n    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });\n    \n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    camera.position.set(0, 0, 5.3);\n\n    // Game state\n    const gameState = {\n      scene,\n      camera,\n      renderer,\n      score: 0,\n      gameRunning: true,\n      player: null as any,\n      obstacles: [] as any[],\n      keys: {} as { [key: string]: boolean },\n      lastTime: 0,\n      cleanup: () => {\n        if (animationFrameRef.current) {\n          cancelAnimationFrame(animationFrameRef.current);\n        }\n        window.removeEventListener('keydown', handleKeyDown);\n        window.removeEventListener('keyup', handleKeyUp);\n        window.removeEventListener('resize', handleResize);\n      }\n    };\n\n    // Setup scenario (simplified version)\n    const setupScenario = () => {\n      // Simple road\n      const road = new Box({\n        width: 5,\n        height: 0.5,\n        depth: 50,\n        position: { x: 0, y: -1.5, z: 0 }\n      });\n      road.material = new THREE.MeshPhongMaterial({ color: 0x333333 });\n      road.castShadow = true;\n      road.receiveShadow = true;\n      scene.add(road);\n\n      // Walkway\n      const walkway = new Box({\n        width: 9,\n        height: 0.5,\n        depth: 50,\n        position: { x: 0, y: -1.6, z: 0 }\n      });\n      walkway.material = new THREE.MeshPhongMaterial({ color: 0x666666 });\n      walkway.castShadow = true;\n      walkway.receiveShadow = true;\n      scene.add(walkway);\n\n      // Simple skybox\n      scene.background = new THREE.Color(0x87CEEB);\n    };\n\n    // Setup lights\n    const setupLights = () => {\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\n      scene.add(ambientLight);\n\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n      directionalLight.position.set(0, 10, 5);\n      directionalLight.castShadow = true;\n      scene.add(directionalLight);\n    };\n\n    // Create simple capybara player\n    const createPlayer = () => {\n      const playerGeometry = new THREE.BoxGeometry(0.6, 0.4, 0.8);\n      const playerMaterial = new THREE.MeshPhongMaterial({ color: 0x8B4513 });\n      const player = new THREE.Mesh(playerGeometry, playerMaterial);\n      player.position.set(0, -0.8, 0);\n      player.castShadow = true;\n      scene.add(player);\n      return player;\n    };\n\n    // Create obstacles\n    const createObstacle = (type: string = 'car') => {\n      let obstacle;\n      if (type === 'car') {\n        obstacle = new THREE.Mesh(\n          new THREE.BoxGeometry(0.8, 0.4, 1.6),\n          new THREE.MeshPhongMaterial({ color: 0xFF0000 })\n        );\n      } else {\n        obstacle = new THREE.Mesh(\n          new THREE.SphereGeometry(0.3),\n          new THREE.MeshPhongMaterial({ color: 0x00FF00 })\n        );\n      }\n      obstacle.position.set(\n        (Math.random() - 0.5) * 4,\n        -0.8,\n        -20 - Math.random() * 10\n      );\n      obstacle.castShadow = true;\n      scene.add(obstacle);\n      return obstacle;\n    };\n\n    // Input handling\n    const handleKeyDown = (e: KeyboardEvent) => {\n      gameState.keys[e.key.toLowerCase()] = true;\n      gameState.keys[e.code] = true;\n      e.preventDefault();\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      gameState.keys[e.key.toLowerCase()] = false;\n      gameState.keys[e.code] = false;\n      e.preventDefault();\n    };\n\n    const handleResize = () => {\n      if (!canvas) return;\n      camera.aspect = canvas.clientWidth / canvas.clientHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n    };\n\n    // Collision detection\n    const checkCollision = (obj1: any, obj2: any) => {\n      const distance = obj1.position.distanceTo(obj2.position);\n      return distance < 0.8;\n    };\n\n    // Game loop\n    const gameLoop = (currentTime: number) => {\n      if (!gameState.gameRunning || isPaused) {\n        if (gameState.gameRunning && isPaused) {\n          animationFrameRef.current = requestAnimationFrame(gameLoop);\n        }\n        return;\n      }\n\n      const deltaTime = currentTime - gameState.lastTime;\n      gameState.lastTime = currentTime;\n      const modifier = deltaTime / 1000;\n\n      // Player movement\n      if (gameState.player) {\n        const speed = 3;\n        if (gameState.keys['a'] || gameState.keys['arrowleft']) {\n          gameState.player.position.x = Math.max(-2, gameState.player.position.x - speed * modifier);\n        }\n        if (gameState.keys['d'] || gameState.keys['arrowright']) {\n          gameState.player.position.x = Math.min(2, gameState.player.position.x + speed * modifier);\n        }\n        if (gameState.keys['w'] || gameState.keys['arrowup']) {\n          gameState.player.position.y = Math.min(1, gameState.player.position.y + speed * modifier);\n        }\n        if (gameState.keys['s'] || gameState.keys['arrowdown']) {\n          gameState.player.position.y = Math.max(-1.2, gameState.player.position.y - speed * modifier);\n        }\n      }\n\n      // Move obstacles towards player\n      gameState.obstacles.forEach((obstacle, index) => {\n        obstacle.position.z += 5 * modifier;\n        \n        // Remove obstacles that passed the player\n        if (obstacle.position.z > 10) {\n          scene.remove(obstacle);\n          gameState.obstacles.splice(index, 1);\n          gameState.score += 10;\n          setCurrentScore(gameState.score);\n        }\n\n        // Check collision\n        if (gameState.player && checkCollision(gameState.player, obstacle)) {\n          endGame(gameState.score);\n          return;\n        }\n      });\n\n      // Spawn new obstacles\n      if (Math.random() < 0.02) {\n        const obstacle = createObstacle(Math.random() > 0.5 ? 'car' : 'ball');\n        gameState.obstacles.push(obstacle);\n      }\n\n      renderer.render(scene, camera);\n      animationFrameRef.current = requestAnimationFrame(gameLoop);\n    };\n\n    const endGame = (finalScore: number) => {\n      gameState.gameRunning = false;\n      setIsGameRunning(false);\n      const newHighScore = Math.max(gameStats.highScore, finalScore);\n      const newStats = {\n        score: finalScore,\n        highScore: newHighScore,\n        gamesPlayed: gameStats.gamesPlayed + 1\n      };\n      \n      setGameStats(newStats);\n      localStorage.setItem('capirush-stats', JSON.stringify(newStats));\n    };\n\n    // Initialize game\n    setupScenario();\n    setupLights();\n    gameState.player = createPlayer();\n\n    // Add event listeners\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    window.addEventListener('resize', handleResize);\n\n    // Start spawning obstacles\n    for (let i = 0; i < 3; i++) {\n      const obstacle = createObstacle();\n      gameState.obstacles.push(obstacle);\n    }\n\n    setIsLoading(false);\n    animationFrameRef.current = requestAnimationFrame(gameLoop);\n\n    gameRef.current = gameState;\n  }, [gameStats, isPaused]);\n\n  const startGame = () => {\n    setIsGameRunning(true);\n    setIsPaused(false);\n    setCurrentScore(0);\n    initializeGame();\n  };\n\n  const pauseResumeGame = () => {\n    setIsPaused(prev => !prev);\n  };\n\n  const resetGame = () => {\n    if (gameRef.current?.cleanup) {\n      gameRef.current.cleanup();\n    }\n    setIsGameRunning(false);\n    setIsPaused(false);\n    setCurrentScore(0);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (gameRef.current?.cleanup) {\n        gameRef.current.cleanup();\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"min-h-screen p-4 bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-700\">\n      {/* Header */}\n      <div className=\"max-w-6xl mx-auto mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-4\">\n            {onBackToMenu && (\n              <Button onClick={onBackToMenu} variant=\"outline\" size=\"sm\" className=\"bg-white/10 border-white/30\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Menu\n              </Button>\n            )}\n            <h1 className=\"text-3xl font-bold text-white\">ðŸ¹ CapiRush</h1>\n          </div>\n          <div className=\"flex gap-2\">\n            {isGameRunning && (\n              <Button onClick={pauseResumeGame} variant=\"secondary\" size=\"sm\" data-testid=\"button-pause-resume\">\n                {isPaused ? <Play className=\"w-4 h-4 mr-1\" /> : <Pause className=\"w-4 h-4 mr-1\" />}\n                {isPaused ? 'Resume' : 'Pause'}\n              </Button>\n            )}\n            <Button onClick={resetGame} variant=\"destructive\" size=\"sm\" data-testid=\"button-reset\">\n              <RotateCcw className=\"w-4 h-4 mr-1\" />\n              Reset\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-4 mb-6\">\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-yellow-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Current Score</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-current-score\">{currentScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-amber-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">High Score</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-high-score\">{gameStats.highScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Heart className=\"w-5 h-5 text-red-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Games Played</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-games-played\">{gameStats.gamesPlayed}</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n\n      {/* Game Area */}\n      <div className=\"max-w-6xl mx-auto flex flex-col items-center\">\n        <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/30\">\n          {!isGameRunning ? (\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">Ready for the Rush?</h2>\n              <p className=\"text-white/80 mb-6\">\n                Help the capybara navigate through an endless runner adventure! Dodge obstacles and rack up points!\n              </p>\n              <Button onClick={startGame} size=\"lg\" className=\"bg-emerald-600 hover:bg-emerald-700\" data-testid=\"button-start-game\">\n                ðŸ¹ Start CapiRush\n              </Button>\n            </div>\n          ) : (\n            <div className=\"relative\">\n              {isLoading && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/50 z-10 rounded-lg\">\n                  <div className=\"text-white text-center\">\n                    <div className=\"text-4xl mb-2\">ðŸŽ®</div>\n                    <p>Loading CapiRush...</p>\n                  </div>\n                </div>\n              )}\n              {isPaused && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/70 z-10 rounded-lg\">\n                  <div className=\"text-white text-center\">\n                    <div className=\"text-6xl mb-4\">â¸ï¸</div>\n                    <p className=\"text-2xl\">Game Paused</p>\n                    <p className=\"text-sm mt-2\">Press Resume to continue</p>\n                  </div>\n                </div>\n              )}\n              <canvas \n                ref={canvasRef}\n                width={800}\n                height={500}\n                className=\"border-2 border-emerald-400/50 rounded-lg bg-gradient-to-b from-sky-300 to-green-400\"\n                style={{ width: '800px', height: '500px' }}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Instructions */}\n        <div className=\"mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/30\">\n          <h3 className=\"text-lg font-semibold text-white mb-2\">How to Play:</h3>\n          <div className=\"text-white/80 space-y-1\">\n            <p>â€¢ Use <kbd className=\"bg-white/20 px-2 py-1 rounded\">WASD</kbd> or <kbd className=\"bg-white/20 px-2 py-1 rounded\">Arrow Keys</kbd> to move</p>\n            <p>â€¢ Dodge red cars and green balls</p>\n            <p>â€¢ Score points by surviving and avoiding obstacles</p>\n            <p>â€¢ Press <kbd className=\"bg-white/20 px-2 py-1 rounded\">C</kbd> to change camera view</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":15113},"client/src/components/CapiRushGame.tsx":{"content":"import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport * as THREE from 'three';\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport { Trophy, ArrowLeft, Heart, Zap, Play, Pause, RotateCcw } from 'lucide-react';\n\ninterface CapiRushGameProps {\n  onBackToMenu?: () => void;\n}\n\ninterface GameStats {\n  score: number;\n  highScore: number;\n  gamesPlayed: number;\n}\n\nexport const CapiRushGame: React.FC<CapiRushGameProps> = ({ onBackToMenu }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const gameRef = useRef<any>(null);\n  const animationFrameRef = useRef<number>(0);\n  \n  const [gameStats, setGameStats] = useState<GameStats>(() => {\n    const saved = localStorage.getItem('capirush-stats');\n    return saved ? JSON.parse(saved) : {\n      score: 0,\n      highScore: 0,\n      gamesPlayed: 0\n    };\n  });\n  \n  const [isGameRunning, setIsGameRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState(0);\n  const [currentScore, setCurrentScore] = useState(0);\n\n  // Box helper class from CapiRush\n  class Box extends THREE.Mesh {\n    width: number;\n    height: number;\n    depth: number;\n    bottom: number;\n    top: number;\n\n    constructor({ width, height, depth, position = { x: 0, y: 0, z: 0 } }: {\n      width: number;\n      height: number;\n      depth: number;\n      position?: { x: number; y: number; z: number };\n    }) {\n      super(new THREE.BoxGeometry(width, height, depth));\n\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n\n      this.position.set(position.x, position.y, position.z);\n\n      this.bottom = this.position.y - this.height / 2;\n      this.top = this.position.y + this.height / 2;\n    }\n  }\n\n  const initializeGame = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    setIsLoading(true);\n    setLoadingProgress(0);\n\n    // Initialize Three.js scene - following CapiRush structure\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 100);\n    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });\n    \n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    camera.position.set(0, 2, 5);\n\n    // Game state\n    const gameState = {\n      scene,\n      camera: camera as any,\n      renderer,\n      score: 0,\n      gameRunning: true,\n      player: null as any,\n      obstacles: [] as any[],\n      outObjects: [] as any[],\n      keys: {} as { [key: string]: boolean },\n      lastTime: 0,\n      gravForce: 0.05,\n      playerOnGround: true,\n      dayNightCycle: 0,\n      camPos: 1,\n      cleanup: () => {\n        if (animationFrameRef.current) {\n          cancelAnimationFrame(animationFrameRef.current);\n        }\n        window.removeEventListener('keydown', handleKeyDown);\n        window.removeEventListener('keyup', handleKeyUp);\n        window.removeEventListener('resize', handleResize);\n      }\n    };\n\n    // Simulate loading progress\n    const simulateLoading = () => {\n      let progress = 0;\n      const loadingInterval = setInterval(() => {\n        progress += Math.random() * 15;\n        setLoadingProgress(Math.min(progress, 100));\n        \n        if (progress >= 100) {\n          clearInterval(loadingInterval);\n          setIsLoading(false);\n          // Start the actual game immediately\n          setTimeout(() => {\n            startGameLoop();\n          }, 100);\n        }\n      }, 50);\n    };\n\n    // Setup skybox with meadow theme\n    const setupSkybox = () => {\n      // Create a simple gradient background\n      scene.background = new THREE.Color(0x87CEEB);\n    };\n\n    // Setup scenario - road and walkway\n    const setupScenario = () => {\n      // Road\n      const roadGeometry = new THREE.BoxGeometry(5, 0.5, 50);\n      const roadMaterial = new THREE.MeshBasicMaterial({ color: 0x333333 });\n      const road = new THREE.Mesh(roadGeometry, roadMaterial);\n      road.position.set(0, -1.5, -10);\n      scene.add(road);\n\n      // Walkway\n      const walkwayGeometry = new THREE.BoxGeometry(9, 0.5, 50);\n      const walkwayMaterial = new THREE.MeshBasicMaterial({ color: 0x228B22 });\n      const walkway = new THREE.Mesh(walkwayGeometry, walkwayMaterial);\n      walkway.position.set(0, -1.6, -10);\n      scene.add(walkway);\n    };\n\n    // Setup lights - simplified\n    const setupLights = () => {\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n      scene.add(ambientLight);\n\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n      directionalLight.position.set(0, 5, 5);\n      scene.add(directionalLight);\n    };\n\n    // Create capybara player\n    const createPlayer = () => {\n      // Simple capybara representation\n      const playerGeometry = new THREE.BoxGeometry(0.6, 0.4, 0.8);\n      const playerMaterial = new THREE.MeshBasicMaterial({ color: 0x8B4513 });\n      const player = new THREE.Mesh(playerGeometry, playerMaterial);\n      player.position.set(0, -0.8, 0);\n      \n      // Add some details to make it look more like a capybara\n      const headGeometry = new THREE.BoxGeometry(0.3, 0.25, 0.35);\n      const headMaterial = new THREE.MeshBasicMaterial({ color: 0x654321 });\n      const head = new THREE.Mesh(headGeometry, headMaterial);\n      head.position.set(0.35, 0.1, 0);\n      player.add(head);\n      \n      scene.add(player);\n      return player;\n    };\n\n    // Create obstacles (cars, balls, tires)\n    const createObstacle = (type: string = 'car') => {\n      let obstacle;\n      if (type === 'car') {\n        obstacle = new THREE.Mesh(\n          new THREE.BoxGeometry(0.8, 0.4, 1.6),\n          new THREE.MeshBasicMaterial({ color: 0xFF0000 })\n        );\n      } else if (type === 'ball') {\n        obstacle = new THREE.Mesh(\n          new THREE.SphereGeometry(0.3),\n          new THREE.MeshBasicMaterial({ color: 0x00FF00 })\n        );\n      } else { // tire\n        obstacle = new THREE.Mesh(\n          new THREE.CylinderGeometry(0.25, 0.25, 0.15, 8),\n          new THREE.MeshBasicMaterial({ color: 0x222222 })\n        );\n      }\n      \n      obstacle.position.set(\n        (Math.random() - 0.5) * 4,\n        -0.8,\n        -5 - Math.random() * 5\n      );\n      scene.add(obstacle);\n      return obstacle;\n    };\n\n    // Create objects for walkway decoration\n    const createOutObject = () => {\n      const colors = [0x228B22, 0x32CD32, 0x9ACD32];\n      const object = new THREE.Mesh(\n        new THREE.BoxGeometry(0.3, 0.8, 0.3),\n        new THREE.MeshBasicMaterial({ color: colors[Math.floor(Math.random() * colors.length)] })\n      );\n      object.position.set(\n        (Math.random() > 0.5 ? 1 : -1) * (3 + Math.random() * 1.5),\n        -0.8,\n        -5 - Math.random() * 5\n      );\n      scene.add(object);\n      return object;\n    };\n\n    // Input handling\n    const handleKeyDown = (e: KeyboardEvent) => {\n      gameState.keys[e.key.toLowerCase()] = true;\n      gameState.keys[e.code] = true;\n      \n      // Jump logic\n      if ((e.key.toLowerCase() === 'w' || e.code === 'ArrowUp' || e.code === 'Space') && gameState.playerOnGround) {\n        if (gameState.player) {\n          gameState.player.userData.velocityY = 0.8;\n          gameState.playerOnGround = false;\n        }\n      }\n      \n      // Camera toggle\n      if (e.key.toLowerCase() === 'c') {\n        toggleCamera();\n      }\n      \n      e.preventDefault();\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      gameState.keys[e.key.toLowerCase()] = false;\n      gameState.keys[e.code] = false;\n      e.preventDefault();\n    };\n\n    const handleResize = () => {\n      if (!canvas) return;\n      camera.aspect = canvas.clientWidth / canvas.clientHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n    };\n\n    const toggleCamera = () => {\n      if (gameState.camPos === 1) {\n        // Orthographic top view\n        const zoom = 50;\n        const newCamera = new THREE.OrthographicCamera(\n          canvas.clientWidth / -2 / zoom,\n          canvas.clientWidth / 2 / zoom,\n          canvas.clientHeight / 2 / zoom,\n          canvas.clientHeight / -2 / zoom,\n          -10,\n          1000\n        );\n        newCamera.position.set(0, 10, 0);\n        newCamera.lookAt(0, 0, 0);\n        gameState.camera = newCamera;\n        gameState.camPos = 2;\n      } else {\n        // Perspective view\n        const newCamera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 100);\n        newCamera.position.set(0, 0, 5.3);\n        gameState.camera = newCamera;\n        gameState.camPos = 1;\n      }\n    };\n\n    // Collision detection\n    const checkCollision = (obj1: any, obj2: any) => {\n      const distance = obj1.position.distanceTo(obj2.position);\n      return distance < 0.8;\n    };\n\n    // Game loop\n    const gameLoop = (currentTime: number) => {\n      if (!gameState.gameRunning || isPaused) {\n        if (gameState.gameRunning && isPaused) {\n          animationFrameRef.current = requestAnimationFrame(gameLoop);\n        }\n        return;\n      }\n\n      const deltaTime = currentTime - gameState.lastTime;\n      gameState.lastTime = currentTime;\n      const modifier = deltaTime / 1000;\n\n      // Update score\n      gameState.score += Math.floor(modifier * 10);\n      setCurrentScore(gameState.score);\n\n      // Player movement\n      if (gameState.player) {\n        const speed = 3;\n        \n        // Horizontal movement\n        if (gameState.keys['a'] || gameState.keys['arrowleft']) {\n          gameState.player.position.x = Math.max(-2, gameState.player.position.x - speed * modifier);\n        }\n        if (gameState.keys['d'] || gameState.keys['arrowright']) {\n          gameState.player.position.x = Math.min(2, gameState.player.position.x + speed * modifier);\n        }\n\n        // Gravity and jumping\n        if (!gameState.playerOnGround) {\n          gameState.player.userData.velocityY -= gameState.gravForce * modifier * 60;\n          gameState.player.position.y += gameState.player.userData.velocityY * modifier * 10;\n          \n          if (gameState.player.position.y <= -0.8) {\n            gameState.player.position.y = -0.8;\n            gameState.playerOnGround = true;\n            gameState.player.userData.velocityY = 0;\n          }\n        } else {\n          gameState.player.userData.velocityY = 0;\n        }\n      }\n\n      // Move obstacles and check collisions\n      gameState.obstacles.forEach((obstacle, index) => {\n        obstacle.position.z += 8 * modifier;\n        \n        // Rotate balls and tires\n        if (obstacle.geometry instanceof THREE.SphereGeometry || \n            obstacle.geometry instanceof THREE.CylinderGeometry) {\n          obstacle.rotation.x += 5 * modifier;\n        }\n        \n        // Remove obstacles that passed the player\n        if (obstacle.position.z > 10) {\n          scene.remove(obstacle);\n          gameState.obstacles.splice(index, 1);\n          gameState.score += 50;\n        }\n\n        // Check collision\n        if (gameState.player && checkCollision(gameState.player, obstacle)) {\n          endGame(gameState.score);\n          return;\n        }\n      });\n\n      // Move out objects (decorations)\n      gameState.outObjects.forEach((obj, index) => {\n        obj.position.z += 8 * modifier;\n        obj.rotation.y += 2 * modifier;\n        \n        if (obj.position.z > 10) {\n          scene.remove(obj);\n          gameState.outObjects.splice(index, 1);\n        }\n      });\n\n      // Spawn new obstacles\n      if (Math.random() < 0.015) {\n        const types = ['car', 'ball', 'tire'];\n        const obstacle = createObstacle(types[Math.floor(Math.random() * types.length)]);\n        gameState.obstacles.push(obstacle);\n      }\n\n      // Spawn decorative objects\n      if (Math.random() < 0.01) {\n        const outObj = createOutObject();\n        gameState.outObjects.push(outObj);\n      }\n\n      // Day/night cycle simulation\n      gameState.dayNightCycle += modifier * 0.1;\n      const lightIntensity = 0.25 + Math.sin(gameState.dayNightCycle) * 0.15;\n      scene.children.forEach(child => {\n        if (child instanceof THREE.DirectionalLight) {\n          child.intensity = lightIntensity;\n        }\n      });\n\n      renderer.render(scene, gameState.camera);\n      animationFrameRef.current = requestAnimationFrame(gameLoop);\n    };\n\n    const startGameLoop = () => {\n      // Initialize everything\n      setupSkybox();\n      setupScenario();\n      setupLights();\n      gameState.player = createPlayer();\n      gameState.player.userData = { velocityY: 0 };\n      \n      // Start with some obstacles and decorations\n      for (let i = 0; i < 3; i++) {\n        gameState.obstacles.push(createObstacle());\n        gameState.outObjects.push(createOutObject());\n      }\n      \n      // Make sure canvas is properly sized and render first frame\n      renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n      renderer.render(scene, gameState.camera);\n      \n      animationFrameRef.current = requestAnimationFrame(gameLoop);\n    };\n\n    const endGame = (finalScore: number) => {\n      gameState.gameRunning = false;\n      setIsGameRunning(false);\n      const newHighScore = Math.max(gameStats.highScore, finalScore);\n      const newStats = {\n        score: finalScore,\n        highScore: newHighScore,\n        gamesPlayed: gameStats.gamesPlayed + 1\n      };\n      \n      setGameStats(newStats);\n      localStorage.setItem('capirush-stats', JSON.stringify(newStats));\n    };\n\n    // Add event listeners\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    window.addEventListener('resize', handleResize);\n\n    gameRef.current = gameState;\n    simulateLoading();\n  }, [gameStats, isPaused]);\n\n  const startGame = () => {\n    setIsGameRunning(true);\n    setIsPaused(false);\n    setCurrentScore(0);\n    initializeGame();\n  };\n\n  const pauseResumeGame = () => {\n    setIsPaused(prev => !prev);\n  };\n\n  const resetGame = () => {\n    if (gameRef.current?.cleanup) {\n      gameRef.current.cleanup();\n    }\n    setIsGameRunning(false);\n    setIsPaused(false);\n    setCurrentScore(0);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (gameRef.current?.cleanup) {\n        gameRef.current.cleanup();\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"min-h-screen p-4 bg-gradient-to-br from-teal-600 via-teal-700 to-teal-800\">\n      {/* Header */}\n      <div className=\"max-w-6xl mx-auto mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-4\">\n            {onBackToMenu && (\n              <Button onClick={onBackToMenu} variant=\"outline\" size=\"sm\" className=\"bg-white/10 border-white/30\" data-testid=\"button-back-menu\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Menu\n              </Button>\n            )}\n            <h1 className=\"text-3xl font-bold text-white flex items-center gap-2\">\n              ðŸ¹ <span>CapiRush</span>\n            </h1>\n          </div>\n          <div className=\"flex gap-2\">\n            {isGameRunning && (\n              <Button onClick={pauseResumeGame} variant=\"secondary\" size=\"sm\" data-testid=\"button-pause-resume\">\n                {isPaused ? <Play className=\"w-4 h-4 mr-1\" /> : <Pause className=\"w-4 h-4 mr-1\" />}\n                {isPaused ? 'Resume' : 'Pause'}\n              </Button>\n            )}\n            <Button onClick={resetGame} variant=\"destructive\" size=\"sm\" data-testid=\"button-reset\">\n              <RotateCcw className=\"w-4 h-4 mr-1\" />\n              Reset\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-4 mb-6\">\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-yellow-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Current Score</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-current-score\">{currentScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-amber-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">High Score</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-high-score\">{gameStats.highScore}</p>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 bg-white/10 backdrop-blur-sm border-white/20\">\n            <div className=\"flex items-center gap-2\">\n              <Heart className=\"w-5 h-5 text-red-400\" />\n              <div>\n                <p className=\"text-sm text-white/70\">Games Played</p>\n                <p className=\"text-xl font-bold text-white\" data-testid=\"text-games-played\">{gameStats.gamesPlayed}</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n\n      {/* Game Area */}\n      <div className=\"max-w-6xl mx-auto flex flex-col items-center\">\n        <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/30\">\n          {!isGameRunning ? (\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">Ready for the Rush?</h2>\n              <p className=\"text-white/80 mb-6\">\n                Help the capybara navigate through an endless runner adventure! Dodge obstacles and rack up points!\n              </p>\n              <Button onClick={startGame} size=\"lg\" className=\"bg-teal-600 hover:bg-teal-700\" data-testid=\"button-start-capirush\">\n                ðŸ¹ Start CapiRush\n              </Button>\n            </div>\n          ) : (\n            <div className=\"relative\">\n              {isLoading && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/50 z-10 rounded-lg\">\n                  <div className=\"text-white text-center\">\n                    <div className=\"text-4xl mb-2\">ðŸŽ®</div>\n                    <p className=\"mb-4\">Loading CapiRush...</p>\n                    <div className=\"w-64 bg-gray-700 rounded-full h-4\">\n                      <div \n                        className=\"bg-gradient-to-r from-teal-400 to-green-500 h-4 rounded-full transition-all\"\n                        style={{ width: `${loadingProgress}%` }}\n                      ></div>\n                    </div>\n                    <p className=\"mt-2\">{Math.round(loadingProgress)}%</p>\n                  </div>\n                </div>\n              )}\n              {isPaused && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/70 z-10 rounded-lg\">\n                  <div className=\"text-white text-center\">\n                    <div className=\"text-6xl mb-4\">â¸ï¸</div>\n                    <p className=\"text-2xl\">Game Paused</p>\n                    <p className=\"text-sm mt-2\">Press Resume to continue</p>\n                  </div>\n                </div>\n              )}\n              <canvas \n                ref={canvasRef}\n                width={800}\n                height={500}\n                className=\"border-2 border-teal-400/50 rounded-lg\"\n                style={{ width: '800px', height: '500px', background: '#000' }}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Instructions */}\n        <div className=\"mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/30\">\n          <h3 className=\"text-lg font-semibold text-white mb-2\">How to Play:</h3>\n          <div className=\"text-white/80 space-y-1\">\n            <p>â€¢ Use <kbd className=\"bg-white/20 px-2 py-1 rounded\">WASD</kbd> or <kbd className=\"bg-white/20 px-2 py-1 rounded\">Arrow Keys</kbd> to move</p>\n            <p>â€¢ Dodge red cars and green balls</p>\n            <p>â€¢ Score points by surviving and avoiding obstacles</p>\n            <p>â€¢ Press <kbd className=\"bg-white/20 px-2 py-1 rounded\">C</kbd> to change camera view</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":20592},"client/src/utils/imageLoader.ts":{"content":"// Enhanced image loader for Telegram WebView compatibility\nexport const loadGameImage = (src: string, fallbackColor?: string): Promise<HTMLImageElement> => {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n    \n    // Set up loading handlers\n    img.onload = () => {\n      console.log(`Image loaded successfully: ${src}`);\n      resolve(img);\n    };\n    \n    img.onerror = (error) => {\n      console.warn(`Failed to load image: ${src}`, error);\n      \n      // Create fallback colored rectangle\n      if (fallbackColor) {\n        const canvas = document.createElement('canvas');\n        canvas.width = 64;\n        canvas.height = 64;\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n          ctx.fillStyle = fallbackColor;\n          ctx.fillRect(0, 0, 64, 64);\n          \n          const fallbackImg = new Image();\n          fallbackImg.src = canvas.toDataURL();\n          fallbackImg.onload = () => resolve(fallbackImg);\n        }\n      } else {\n        reject(error);\n      }\n    };\n    \n    // Add cache-busting for Telegram WebView\n    const cacheBustingSrc = src.includes('?') \n      ? `${src}&t=${Date.now()}` \n      : `${src}?t=${Date.now()}`;\n    \n    // Load with delay for Telegram WebView\n    setTimeout(() => {\n      img.src = (window as any).TelegramWebApp ? cacheBustingSrc : src;\n    }, 100);\n  });\n};\n\n// Load multiple images with fallback colors\nexport const loadGameImages = async (imageConfig: Array<{name: string, src: string, fallback?: string}>) => {\n  const images: Record<string, HTMLImageElement> = {};\n  \n  const loadPromises = imageConfig.map(async (config) => {\n    try {\n      const img = await loadGameImage(config.src, config.fallback);\n      images[config.name] = img;\n    } catch (error) {\n      console.error(`Failed to load ${config.name}:`, error);\n    }\n  });\n  \n  await Promise.all(loadPromises);\n  return images;\n};","size_bytes":1931}},"version":1}